var LF=Object.defineProperty;var IF=(t,e,r)=>e in t?LF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gt=(t,e,r)=>IF(t,typeof e!="symbol"?e+"":e,r);function PF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function TF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DF(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var k5={exports:{}},np={},Q5={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),OF=Symbol.for("react.portal"),HF=Symbol.for("react.fragment"),MF=Symbol.for("react.strict_mode"),RF=Symbol.for("react.profiler"),KF=Symbol.for("react.provider"),VF=Symbol.for("react.context"),zF=Symbol.for("react.forward_ref"),$F=Symbol.for("react.suspense"),GF=Symbol.for("react.memo"),WF=Symbol.for("react.lazy"),a1=Symbol.iterator;function qF(t){return t===null||typeof t!="object"?null:(t=a1&&t[a1]||t["@@iterator"],typeof t=="function"?t:null)}var L5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I5=Object.assign,P5={};function ic(t,e,r){this.props=t,this.context=e,this.refs=P5,this.updater=r||L5}ic.prototype.isReactComponent={};ic.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ic.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T5(){}T5.prototype=ic.prototype;function hw(t,e,r){this.props=t,this.context=e,this.refs=P5,this.updater=r||L5}var fw=hw.prototype=new T5;fw.constructor=hw;I5(fw,ic.prototype);fw.isPureReactComponent=!0;var A1=Array.isArray,D5=Object.prototype.hasOwnProperty,gw={current:null},O5={key:!0,ref:!0,__self:!0,__source:!0};function H5(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)D5.call(e,n)&&!O5.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Fd,type:t,key:i,ref:a,props:s,_owner:gw.current}}function JF(t,e){return{$$typeof:Fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fd}function XF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var o1=/\/+/g;function T0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XF(""+t.key):e.toString(36)}function Of(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Fd:case OF:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+T0(a,0):n,A1(s)?(r="",t!=null&&(r=t.replace(o1,"$&/")+"/"),Of(s,e,r,"",function(c){return c})):s!=null&&(pw(s)&&(s=JF(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(o1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",A1(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+T0(i,o);a+=Of(i,e,r,l,s)}else if(l=qF(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+T0(i,o++),a+=Of(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Eh(t,e,r){if(t==null)return t;var n=[],s=0;return Of(t,n,"","",function(i){return e.call(r,i,s++)}),n}function YF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},Hf={transition:null},ZF={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:Hf,ReactCurrentOwner:gw};function M5(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:Eh,forEach:function(t,e,r){Eh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Eh(t,function(){e++}),e},toArray:function(t){return Eh(t,function(e){return e})||[]},only:function(t){if(!pw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Component=ic;Nt.Fragment=HF;Nt.Profiler=RF;Nt.PureComponent=hw;Nt.StrictMode=MF;Nt.Suspense=$F;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZF;Nt.act=M5;Nt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=I5({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=gw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)D5.call(e,l)&&!O5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Fd,type:t.type,key:s,ref:i,props:n,_owner:a}};Nt.createContext=function(t){return t={$$typeof:VF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KF,_context:t},t.Consumer=t};Nt.createElement=H5;Nt.createFactory=function(t){var e=H5.bind(null,t);return e.type=t,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:zF,render:t}};Nt.isValidElement=pw;Nt.lazy=function(t){return{$$typeof:WF,_payload:{_status:-1,_result:t},_init:YF}};Nt.memo=function(t,e){return{$$typeof:GF,type:t,compare:e===void 0?null:e}};Nt.startTransition=function(t){var e=Hf.transition;Hf.transition={};try{t()}finally{Hf.transition=e}};Nt.unstable_act=M5;Nt.useCallback=function(t,e){return jn.current.useCallback(t,e)};Nt.useContext=function(t){return jn.current.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};Nt.useEffect=function(t,e){return jn.current.useEffect(t,e)};Nt.useId=function(){return jn.current.useId()};Nt.useImperativeHandle=function(t,e,r){return jn.current.useImperativeHandle(t,e,r)};Nt.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};Nt.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};Nt.useMemo=function(t,e){return jn.current.useMemo(t,e)};Nt.useReducer=function(t,e,r){return jn.current.useReducer(t,e,r)};Nt.useRef=function(t){return jn.current.useRef(t)};Nt.useState=function(t){return jn.current.useState(t)};Nt.useSyncExternalStore=function(t,e,r){return jn.current.useSyncExternalStore(t,e,r)};Nt.useTransition=function(){return jn.current.useTransition()};Nt.version="18.3.1";Q5.exports=Nt;var T=Q5.exports;const sp=TF(T),ej=PF({__proto__:null,default:sp},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=T,rj=Symbol.for("react.element"),nj=Symbol.for("react.fragment"),sj=Object.prototype.hasOwnProperty,ij=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aj={key:!0,ref:!0,__self:!0,__source:!0};function R5(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)sj.call(e,n)&&!aj.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:rj,type:t,key:i,ref:a,props:s,_owner:ij.current}}np.Fragment=nj;np.jsx=R5;np.jsxs=R5;k5.exports=np;var A=k5.exports,ux={},K5={exports:{}},us={},V5={exports:{}},z5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,se){var oe=q.length;q.push(se);e:for(;0<oe;){var Z=oe-1>>>1,_=q[Z];if(0<s(_,se))q[Z]=se,q[oe]=_,oe=Z;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var se=q[0],oe=q.pop();if(oe!==se){q[0]=oe;e:for(var Z=0,_=q.length,L=_>>>1;Z<L;){var M=2*(Z+1)-1,z=q[M],ee=M+1,ie=q[ee];if(0>s(z,oe))ee<_&&0>s(ie,z)?(q[Z]=ie,q[ee]=oe,Z=ee):(q[Z]=z,q[M]=oe,Z=M);else if(ee<_&&0>s(ie,oe))q[Z]=ie,q[ee]=oe,Z=ee;else break e}}return se}function s(q,se){var oe=q.sortIndex-se.sortIndex;return oe!==0?oe:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,g=!1,m=!1,w=!1,B=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(q){for(var se=r(c);se!==null;){if(se.callback===null)n(c);else if(se.startTime<=q)n(c),se.sortIndex=se.expirationTime,e(l,se);else break;se=r(c)}}function S(q){if(w=!1,C(q),!m)if(r(l)!==null)m=!0,te(k);else{var se=r(c);se!==null&&le(S,se.startTime-q)}}function k(q,se){m=!1,w&&(w=!1,x(F),F=-1),g=!0;var oe=f;try{for(C(se),d=r(l);d!==null&&(!(d.expirationTime>se)||q&&!Q());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var _=Z(d.expirationTime<=se);se=t.unstable_now(),typeof _=="function"?d.callback=_:d===r(l)&&n(l),C(se)}else n(l);d=r(l)}if(d!==null)var L=!0;else{var M=r(c);M!==null&&le(S,M.startTime-se),L=!1}return L}finally{d=null,f=oe,g=!1}}var O=!1,I=null,F=-1,R=5,J=-1;function Q(){return!(t.unstable_now()-J<R)}function j(){if(I!==null){var q=t.unstable_now();J=q;var se=!0;try{se=I(!0,q)}finally{se?K():(O=!1,I=null)}}else O=!1}var K;if(typeof y=="function")K=function(){y(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,de=$.port2;$.port1.onmessage=j,K=function(){de.postMessage(null)}}else K=function(){B(j,0)};function te(q){I=q,O||(O=!0,K())}function le(q,se){F=B(function(){q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,te(k))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var se=3;break;default:se=f}var oe=f;f=se;try{return q()}finally{f=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=f;f=q;try{return se()}finally{f=oe}},t.unstable_scheduleCallback=function(q,se,oe){var Z=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Z+oe:Z):oe=Z,q){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=oe+_,q={id:u++,callback:se,priorityLevel:q,startTime:oe,expirationTime:_,sortIndex:-1},oe>Z?(q.sortIndex=oe,e(c,q),r(l)===null&&q===r(c)&&(w?(x(F),F=-1):w=!0,le(S,oe-Z))):(q.sortIndex=_,e(l,q),m||g||(m=!0,te(k))),q},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(q){var se=f;return function(){var oe=f;f=se;try{return q.apply(this,arguments)}finally{f=oe}}}})(z5);V5.exports=z5;var Aj=V5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oj=T,cs=Aj;function $e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $5=new Set,Ju={};function xo(t,e){$l(t,e),$l(t+"Capture",e)}function $l(t,e){for(Ju[t]=e,t=0;t<e.length;t++)$5.add(e[t])}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dx=Object.prototype.hasOwnProperty,lj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l1={},c1={};function cj(t){return dx.call(c1,t)?!0:dx.call(l1,t)?!1:lj.test(t)?c1[t]=!0:(l1[t]=!0,!1)}function uj(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dj(t,e,r,n){if(e===null||typeof e>"u"||uj(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sn[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sn[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sn[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sn[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sn[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sn[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sn[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sn[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sn[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var mw=/[\-:]([a-z])/g;function xw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mw,xw);sn[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mw,xw);sn[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mw,xw);sn[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sn[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});sn.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sn[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function vw(t,e,r,n){var s=sn.hasOwnProperty(e)?sn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dj(e,r,s,n)&&(r=null),n||s===null?cj(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Aa=oj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uh=Symbol.for("react.element"),bl=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),ww=Symbol.for("react.strict_mode"),hx=Symbol.for("react.profiler"),G5=Symbol.for("react.provider"),W5=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),fx=Symbol.for("react.suspense"),gx=Symbol.for("react.suspense_list"),bw=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),q5=Symbol.for("react.offscreen"),u1=Symbol.iterator;function Kc(t){return t===null||typeof t!="object"?null:(t=u1&&t[u1]||t["@@iterator"],typeof t=="function"?t:null)}var cr=Object.assign,D0;function lu(t){if(D0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);D0=e&&e[1]||""}return`
`+D0+t}var O0=!1;function H0(t,e){if(!t||O0)return"";O0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{O0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?lu(t):""}function hj(t){switch(t.tag){case 5:return lu(t.type);case 16:return lu("Lazy");case 13:return lu("Suspense");case 19:return lu("SuspenseList");case 0:case 2:case 15:return t=H0(t.type,!1),t;case 11:return t=H0(t.type.render,!1),t;case 1:return t=H0(t.type,!0),t;default:return""}}function px(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bl:return"Fragment";case bl:return"Portal";case hx:return"Profiler";case ww:return"StrictMode";case fx:return"Suspense";case gx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W5:return(t.displayName||"Context")+".Consumer";case G5:return(t._context.displayName||"Context")+".Provider";case yw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bw:return e=t.displayName||null,e!==null?e:px(t.type)||"Memo";case ka:e=t._payload,t=t._init;try{return px(t(e))}catch{}}return null}function fj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return px(e);case 8:return e===ww?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function uA(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gj(t){var e=J5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kh(t){t._valueTracker||(t._valueTracker=gj(t))}function X5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=J5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function og(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mx(t,e){var r=e.checked;return cr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function d1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=uA(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y5(t,e){e=e.checked,e!=null&&vw(t,"checked",e,!1)}function xx(t,e){Y5(t,e);var r=uA(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vx(t,e.type,r):e.hasOwnProperty("defaultValue")&&vx(t,e.type,uA(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function h1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function vx(t,e,r){(e!=="number"||og(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var cu=Array.isArray;function Il(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+uA(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($e(91));return cr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function f1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error($e(92));if(cu(r)){if(1<r.length)throw Error($e(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:uA(r)}}function Z5(t,e){var r=uA(e.value),n=uA(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function g1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qh,tC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qh=Qh||document.createElement("div"),Qh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pj=["Webkit","ms","Moz","O"];Object.keys(Cu).forEach(function(t){pj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cu[e]=Cu[t]})});function rC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Cu.hasOwnProperty(t)&&Cu[t]?(""+e).trim():e+"px"}function nC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=rC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var mj=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bx(t,e){if(e){if(mj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($e(61))}if(e.style!=null&&typeof e.style!="object")throw Error($e(62))}}function Bx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cx=null;function Bw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _x=null,Pl=null,Tl=null;function p1(t){if(t=Ud(t)){if(typeof _x!="function")throw Error($e(280));var e=t.stateNode;e&&(e=lp(e),_x(t.stateNode,t.type,e))}}function sC(t){Pl?Tl?Tl.push(t):Tl=[t]:Pl=t}function iC(){if(Pl){var t=Pl,e=Tl;if(Tl=Pl=null,p1(t),e)for(t=0;t<e.length;t++)p1(e[t])}}function aC(t,e){return t(e)}function AC(){}var M0=!1;function oC(t,e,r){if(M0)return t(e,r);M0=!0;try{return aC(t,e,r)}finally{M0=!1,(Pl!==null||Tl!==null)&&(AC(),iC())}}function Yu(t,e){var r=t.stateNode;if(r===null)return null;var n=lp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error($e(231,e,typeof r));return r}var Nx=!1;if(ta)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){Nx=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{Nx=!1}function xj(t,e,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var _u=!1,lg=null,cg=!1,Sx=null,vj={onError:function(t){_u=!0,lg=t}};function wj(t,e,r,n,s,i,a,o,l){_u=!1,lg=null,xj.apply(vj,arguments)}function yj(t,e,r,n,s,i,a,o,l){if(wj.apply(this,arguments),_u){if(_u){var c=lg;_u=!1,lg=null}else throw Error($e(198));cg||(cg=!0,Sx=c)}}function vo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function lC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m1(t){if(vo(t)!==t)throw Error($e(188))}function bj(t){var e=t.alternate;if(!e){if(e=vo(t),e===null)throw Error($e(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return m1(s),t;if(i===n)return m1(s),e;i=i.sibling}throw Error($e(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error($e(189))}}if(r.alternate!==n)throw Error($e(190))}if(r.tag!==3)throw Error($e(188));return r.stateNode.current===r?t:e}function cC(t){return t=bj(t),t!==null?uC(t):null}function uC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uC(t);if(e!==null)return e;t=t.sibling}return null}var dC=cs.unstable_scheduleCallback,x1=cs.unstable_cancelCallback,Bj=cs.unstable_shouldYield,Cj=cs.unstable_requestPaint,Br=cs.unstable_now,_j=cs.unstable_getCurrentPriorityLevel,Cw=cs.unstable_ImmediatePriority,hC=cs.unstable_UserBlockingPriority,ug=cs.unstable_NormalPriority,Nj=cs.unstable_LowPriority,fC=cs.unstable_IdlePriority,ip=null,Ci=null;function Sj(t){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(ip,t,void 0,(t.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:Ej,Fj=Math.log,jj=Math.LN2;function Ej(t){return t>>>=0,t===0?32:31-(Fj(t)/jj|0)|0}var Lh=64,Ih=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=uu(o):(i&=a,i!==0&&(n=uu(i)))}else a=r&~s,a!==0?n=uu(a):i!==0&&(n=uu(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zs(e),s=1<<r,n|=t[r],e&=~s;return n}function Uj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kj(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Zs(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Uj(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Fx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gC(){var t=Lh;return Lh<<=1,!(Lh&4194240)&&(Lh=64),t}function R0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function jd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zs(e),t[e]=r}function Qj(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Zs(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function _w(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zs(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Kt=0;function pC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mC,Nw,xC,vC,wC,jx=!1,Ph=[],Ya=null,Za=null,eA=null,Zu=new Map,ed=new Map,Ia=[],Lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v1(t,e){switch(t){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":eA=null;break;case"pointerover":case"pointerout":Zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(e.pointerId)}}function zc(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ud(e),e!==null&&Nw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ij(t,e,r,n,s){switch(e){case"focusin":return Ya=zc(Ya,t,e,r,n,s),!0;case"dragenter":return Za=zc(Za,t,e,r,n,s),!0;case"mouseover":return eA=zc(eA,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Zu.set(i,zc(Zu.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ed.set(i,zc(ed.get(i)||null,t,e,r,n,s)),!0}return!1}function yC(t){var e=WA(t.target);if(e!==null){var r=vo(e);if(r!==null){if(e=r.tag,e===13){if(e=lC(r),e!==null){t.blockedOn=e,wC(t.priority,function(){xC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ex(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Cx=n,r.target.dispatchEvent(n),Cx=null}else return e=Ud(r),e!==null&&Nw(e),t.blockedOn=r,!1;e.shift()}return!0}function w1(t,e,r){Mf(t)&&r.delete(e)}function Pj(){jx=!1,Ya!==null&&Mf(Ya)&&(Ya=null),Za!==null&&Mf(Za)&&(Za=null),eA!==null&&Mf(eA)&&(eA=null),Zu.forEach(w1),ed.forEach(w1)}function $c(t,e){t.blockedOn===e&&(t.blockedOn=null,jx||(jx=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,Pj)))}function td(t){function e(s){return $c(s,t)}if(0<Ph.length){$c(Ph[0],t);for(var r=1;r<Ph.length;r++){var n=Ph[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ya!==null&&$c(Ya,t),Za!==null&&$c(Za,t),eA!==null&&$c(eA,t),Zu.forEach(e),ed.forEach(e),r=0;r<Ia.length;r++)n=Ia[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ia.length&&(r=Ia[0],r.blockedOn===null);)yC(r),r.blockedOn===null&&Ia.shift()}var Dl=Aa.ReactCurrentBatchConfig,hg=!0;function Tj(t,e,r,n){var s=Kt,i=Dl.transition;Dl.transition=null;try{Kt=1,Sw(t,e,r,n)}finally{Kt=s,Dl.transition=i}}function Dj(t,e,r,n){var s=Kt,i=Dl.transition;Dl.transition=null;try{Kt=4,Sw(t,e,r,n)}finally{Kt=s,Dl.transition=i}}function Sw(t,e,r,n){if(hg){var s=Ex(t,e,r,n);if(s===null)Y0(t,e,n,fg,r),v1(t,n);else if(Ij(s,t,e,r,n))n.stopPropagation();else if(v1(t,n),e&4&&-1<Lj.indexOf(t)){for(;s!==null;){var i=Ud(s);if(i!==null&&mC(i),i=Ex(t,e,r,n),i===null&&Y0(t,e,n,fg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Y0(t,e,n,null,r)}}var fg=null;function Ex(t,e,r,n){if(fg=null,t=Bw(n),t=WA(t),t!==null)if(e=vo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=lC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fg=t,null}function bC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_j()){case Cw:return 1;case hC:return 4;case ug:case Nj:return 16;case fC:return 536870912;default:return 16}default:return 16}}var Oa=null,Fw=null,Rf=null;function BC(){if(Rf)return Rf;var t,e=Fw,r=e.length,n,s="value"in Oa?Oa.value:Oa.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Rf=s.slice(t,1<n?1-n:void 0)}function Kf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function y1(){return!1}function ds(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Th:y1,this.isPropagationStopped=y1,this}return cr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jw=ds(ac),Ed=cr({},ac,{view:0,detail:0}),Oj=ds(Ed),K0,V0,Gc,ap=cr({},Ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ew,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gc&&(Gc&&t.type==="mousemove"?(K0=t.screenX-Gc.screenX,V0=t.screenY-Gc.screenY):V0=K0=0,Gc=t),K0)},movementY:function(t){return"movementY"in t?t.movementY:V0}}),b1=ds(ap),Hj=cr({},ap,{dataTransfer:0}),Mj=ds(Hj),Rj=cr({},Ed,{relatedTarget:0}),z0=ds(Rj),Kj=cr({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),Vj=ds(Kj),zj=cr({},ac,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$j=ds(zj),Gj=cr({},ac,{data:0}),B1=ds(Gj),Wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jj[t])?!!e[t]:!1}function Ew(){return Xj}var Yj=cr({},Ed,{key:function(t){if(t.key){var e=Wj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ew,charCode:function(t){return t.type==="keypress"?Kf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zj=ds(Yj),e3=cr({},ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C1=ds(e3),t3=cr({},Ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ew}),r3=ds(t3),n3=cr({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),s3=ds(n3),i3=cr({},ap,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a3=ds(i3),A3=[9,13,27,32],Uw=ta&&"CompositionEvent"in window,Nu=null;ta&&"documentMode"in document&&(Nu=document.documentMode);var o3=ta&&"TextEvent"in window&&!Nu,CC=ta&&(!Uw||Nu&&8<Nu&&11>=Nu),_1=" ",N1=!1;function _C(t,e){switch(t){case"keyup":return A3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cl=!1;function l3(t,e){switch(t){case"compositionend":return NC(e);case"keypress":return e.which!==32?null:(N1=!0,_1);case"textInput":return t=e.data,t===_1&&N1?null:t;default:return null}}function c3(t,e){if(Cl)return t==="compositionend"||!Uw&&_C(t,e)?(t=BC(),Rf=Fw=Oa=null,Cl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CC&&e.locale!=="ko"?null:e.data;default:return null}}var u3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u3[t.type]:e==="textarea"}function SC(t,e,r,n){sC(n),e=gg(e,"onChange"),0<e.length&&(r=new jw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Su=null,rd=null;function d3(t){DC(t,0)}function Ap(t){var e=Sl(t);if(X5(e))return t}function h3(t,e){if(t==="change")return e}var FC=!1;if(ta){var $0;if(ta){var G0="oninput"in document;if(!G0){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),G0=typeof F1.oninput=="function"}$0=G0}else $0=!1;FC=$0&&(!document.documentMode||9<document.documentMode)}function j1(){Su&&(Su.detachEvent("onpropertychange",jC),rd=Su=null)}function jC(t){if(t.propertyName==="value"&&Ap(rd)){var e=[];SC(e,rd,t,Bw(t)),oC(d3,e)}}function f3(t,e,r){t==="focusin"?(j1(),Su=e,rd=r,Su.attachEvent("onpropertychange",jC)):t==="focusout"&&j1()}function g3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ap(rd)}function p3(t,e){if(t==="click")return Ap(e)}function m3(t,e){if(t==="input"||t==="change")return Ap(e)}function x3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ri=typeof Object.is=="function"?Object.is:x3;function nd(t,e){if(ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!dx.call(e,s)||!ri(t[s],e[s]))return!1}return!0}function E1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U1(t,e){var r=E1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=E1(r)}}function EC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UC(){for(var t=window,e=og();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=og(t.document)}return e}function kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v3(t){var e=UC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&EC(r.ownerDocument.documentElement,r)){if(n!==null&&kw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=U1(r,i);var a=U1(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w3=ta&&"documentMode"in document&&11>=document.documentMode,_l=null,Ux=null,Fu=null,kx=!1;function k1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kx||_l==null||_l!==og(n)||(n=_l,"selectionStart"in n&&kw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fu&&nd(Fu,n)||(Fu=n,n=gg(Ux,"onSelect"),0<n.length&&(e=new jw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_l)))}function Dh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Nl={animationend:Dh("Animation","AnimationEnd"),animationiteration:Dh("Animation","AnimationIteration"),animationstart:Dh("Animation","AnimationStart"),transitionend:Dh("Transition","TransitionEnd")},W0={},kC={};ta&&(kC=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function op(t){if(W0[t])return W0[t];if(!Nl[t])return t;var e=Nl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in kC)return W0[t]=e[r];return t}var QC=op("animationend"),LC=op("animationiteration"),IC=op("animationstart"),PC=op("transitionend"),TC=new Map,Q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mA(t,e){TC.set(t,e),xo(e,[t])}for(var q0=0;q0<Q1.length;q0++){var J0=Q1[q0],y3=J0.toLowerCase(),b3=J0[0].toUpperCase()+J0.slice(1);mA(y3,"on"+b3)}mA(QC,"onAnimationEnd");mA(LC,"onAnimationIteration");mA(IC,"onAnimationStart");mA("dblclick","onDoubleClick");mA("focusin","onFocus");mA("focusout","onBlur");mA(PC,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B3=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function L1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,yj(n,e,void 0,t),t.currentTarget=null}function DC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;L1(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;L1(s,o,c),i=l}}}if(cg)throw t=Sx,cg=!1,Sx=null,t}function er(t,e){var r=e[Tx];r===void 0&&(r=e[Tx]=new Set);var n=t+"__bubble";r.has(n)||(OC(e,t,2,!1),r.add(n))}function X0(t,e,r){var n=0;e&&(n|=4),OC(r,t,n,e)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[Oh]){t[Oh]=!0,$5.forEach(function(r){r!=="selectionchange"&&(B3.has(r)||X0(r,!1,t),X0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oh]||(e[Oh]=!0,X0("selectionchange",!1,e))}}function OC(t,e,r,n){switch(bC(e)){case 1:var s=Tj;break;case 4:s=Dj;break;default:s=Sw}r=s.bind(null,e,r,t),s=void 0,!Nx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Y0(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=WA(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}oC(function(){var c=i,u=Bw(r),d=[];e:{var f=TC.get(t);if(f!==void 0){var g=jw,m=t;switch(t){case"keypress":if(Kf(r)===0)break e;case"keydown":case"keyup":g=Zj;break;case"focusin":m="focus",g=z0;break;case"focusout":m="blur",g=z0;break;case"beforeblur":case"afterblur":g=z0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=b1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=r3;break;case QC:case LC:case IC:g=Vj;break;case PC:g=s3;break;case"scroll":g=Oj;break;case"wheel":g=a3;break;case"copy":case"cut":case"paste":g=$j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=C1}var w=(e&4)!==0,B=!w&&t==="scroll",x=w?f!==null?f+"Capture":null:f;w=[];for(var y=c,C;y!==null;){C=y;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,x!==null&&(S=Yu(y,x),S!=null&&w.push(id(y,S,C)))),B)break;y=y.return}0<w.length&&(f=new g(f,m,null,r,u),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Cx&&(m=r.relatedTarget||r.fromElement)&&(WA(m)||m[ra]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=c,m=m?WA(m):null,m!==null&&(B=vo(m),m!==B||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(w=b1,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=C1,S="onPointerLeave",x="onPointerEnter",y="pointer"),B=g==null?f:Sl(g),C=m==null?f:Sl(m),f=new w(S,y+"leave",g,r,u),f.target=B,f.relatedTarget=C,S=null,WA(u)===c&&(w=new w(x,y+"enter",m,r,u),w.target=C,w.relatedTarget=B,S=w),B=S,g&&m)t:{for(w=g,x=m,y=0,C=w;C;C=Zo(C))y++;for(C=0,S=x;S;S=Zo(S))C++;for(;0<y-C;)w=Zo(w),y--;for(;0<C-y;)x=Zo(x),C--;for(;y--;){if(w===x||x!==null&&w===x.alternate)break t;w=Zo(w),x=Zo(x)}w=null}else w=null;g!==null&&I1(d,f,g,w,!1),m!==null&&B!==null&&I1(d,B,m,w,!0)}}e:{if(f=c?Sl(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=h3;else if(S1(f))if(FC)k=m3;else{k=g3;var O=f3}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=p3);if(k&&(k=k(t,c))){SC(d,k,r,u);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&vx(f,"number",f.value)}switch(O=c?Sl(c):window,t){case"focusin":(S1(O)||O.contentEditable==="true")&&(_l=O,Ux=c,Fu=null);break;case"focusout":Fu=Ux=_l=null;break;case"mousedown":kx=!0;break;case"contextmenu":case"mouseup":case"dragend":kx=!1,k1(d,r,u);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":k1(d,r,u)}var I;if(Uw)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Cl?_C(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(CC&&r.locale!=="ko"&&(Cl||F!=="onCompositionStart"?F==="onCompositionEnd"&&Cl&&(I=BC()):(Oa=u,Fw="value"in Oa?Oa.value:Oa.textContent,Cl=!0)),O=gg(c,F),0<O.length&&(F=new B1(F,t,null,r,u),d.push({event:F,listeners:O}),I?F.data=I:(I=NC(r),I!==null&&(F.data=I)))),(I=o3?l3(t,r):c3(t,r))&&(c=gg(c,"onBeforeInput"),0<c.length&&(u=new B1("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=I))}DC(d,e)})}function id(t,e,r){return{instance:t,listener:e,currentTarget:r}}function gg(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yu(t,r),i!=null&&n.unshift(id(t,i,s)),i=Yu(t,e),i!=null&&n.push(id(t,i,s))),t=t.return}return n}function Zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I1(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=Yu(r,i),l!=null&&a.unshift(id(r,l,o))):s||(l=Yu(r,i),l!=null&&a.push(id(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var C3=/\r\n?/g,_3=/\u0000|\uFFFD/g;function P1(t){return(typeof t=="string"?t:""+t).replace(C3,`
`).replace(_3,"")}function Hh(t,e,r){if(e=P1(e),P1(t)!==e&&r)throw Error($e(425))}function pg(){}var Qx=null,Lx=null;function Ix(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Px=typeof setTimeout=="function"?setTimeout:void 0,N3=typeof clearTimeout=="function"?clearTimeout:void 0,T1=typeof Promise=="function"?Promise:void 0,S3=typeof queueMicrotask=="function"?queueMicrotask:typeof T1<"u"?function(t){return T1.resolve(null).then(t).catch(F3)}:Px;function F3(t){setTimeout(function(){throw t})}function Z0(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),td(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);td(e)}function tA(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),bi="__reactFiber$"+Ac,ad="__reactProps$"+Ac,ra="__reactContainer$"+Ac,Tx="__reactEvents$"+Ac,j3="__reactListeners$"+Ac,E3="__reactHandles$"+Ac;function WA(t){var e=t[bi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ra]||r[bi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=D1(t);t!==null;){if(r=t[bi])return r;t=D1(t)}return e}t=r,r=t.parentNode}return null}function Ud(t){return t=t[bi]||t[ra],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($e(33))}function lp(t){return t[ad]||null}var Dx=[],Fl=-1;function xA(t){return{current:t}}function nr(t){0>Fl||(t.current=Dx[Fl],Dx[Fl]=null,Fl--)}function Zt(t,e){Fl++,Dx[Fl]=t.current,t.current=e}var dA={},yn=xA(dA),$n=xA(!1),uo=dA;function Gl(t,e){var r=t.type.contextTypes;if(!r)return dA;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gn(t){return t=t.childContextTypes,t!=null}function mg(){nr($n),nr(yn)}function O1(t,e,r){if(yn.current!==dA)throw Error($e(168));Zt(yn,e),Zt($n,r)}function HC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error($e(108,fj(t)||"Unknown",s));return cr({},r,n)}function xg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dA,uo=yn.current,Zt(yn,t),Zt($n,$n.current),!0}function H1(t,e,r){var n=t.stateNode;if(!n)throw Error($e(169));r?(t=HC(t,e,uo),n.__reactInternalMemoizedMergedChildContext=t,nr($n),nr(yn),Zt(yn,t)):nr($n),Zt($n,r)}var qi=null,cp=!1,em=!1;function MC(t){qi===null?qi=[t]:qi.push(t)}function U3(t){cp=!0,MC(t)}function vA(){if(!em&&qi!==null){em=!0;var t=0,e=Kt;try{var r=qi;for(Kt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qi=null,cp=!1}catch(s){throw qi!==null&&(qi=qi.slice(t+1)),dC(Cw,vA),s}finally{Kt=e,em=!1}}return null}var jl=[],El=0,vg=null,wg=0,Bs=[],Cs=0,ho=null,Xi=1,Yi="";function OA(t,e){jl[El++]=wg,jl[El++]=vg,vg=t,wg=e}function RC(t,e,r){Bs[Cs++]=Xi,Bs[Cs++]=Yi,Bs[Cs++]=ho,ho=t;var n=Xi;t=Yi;var s=32-Zs(n)-1;n&=~(1<<s),r+=1;var i=32-Zs(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Xi=1<<32-Zs(e)+s|r<<s|n,Yi=i+t}else Xi=1<<i|r<<s|n,Yi=t}function Qw(t){t.return!==null&&(OA(t,1),RC(t,1,0))}function Lw(t){for(;t===vg;)vg=jl[--El],jl[El]=null,wg=jl[--El],jl[El]=null;for(;t===ho;)ho=Bs[--Cs],Bs[Cs]=null,Yi=Bs[--Cs],Bs[Cs]=null,Xi=Bs[--Cs],Bs[Cs]=null}var ls=null,as=null,ar=!1,Xs=null;function KC(t,e){var r=Ns(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function M1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ls=t,as=tA(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ls=t,as=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ho!==null?{id:Xi,overflow:Yi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ns(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ls=t,as=null,!0):!1;default:return!1}}function Ox(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hx(t){if(ar){var e=as;if(e){var r=e;if(!M1(t,e)){if(Ox(t))throw Error($e(418));e=tA(r.nextSibling);var n=ls;e&&M1(t,e)?KC(n,r):(t.flags=t.flags&-4097|2,ar=!1,ls=t)}}else{if(Ox(t))throw Error($e(418));t.flags=t.flags&-4097|2,ar=!1,ls=t}}}function R1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ls=t}function Mh(t){if(t!==ls)return!1;if(!ar)return R1(t),ar=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ix(t.type,t.memoizedProps)),e&&(e=as)){if(Ox(t))throw VC(),Error($e(418));for(;e;)KC(t,e),e=tA(e.nextSibling)}if(R1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){as=tA(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}as=null}}else as=ls?tA(t.stateNode.nextSibling):null;return!0}function VC(){for(var t=as;t;)t=tA(t.nextSibling)}function Wl(){as=ls=null,ar=!1}function Iw(t){Xs===null?Xs=[t]:Xs.push(t)}var k3=Aa.ReactCurrentBatchConfig;function Wc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($e(309));var n=r.stateNode}if(!n)throw Error($e(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error($e(284));if(!r._owner)throw Error($e(290,t))}return t}function Rh(t,e){throw t=Object.prototype.toString.call(e),Error($e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K1(t){var e=t._init;return e(t._payload)}function zC(t){function e(x,y){if(t){var C=x.deletions;C===null?(x.deletions=[y],x.flags|=16):C.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=iA(x,y),x.index=0,x.sibling=null,x}function i(x,y,C){return x.index=C,t?(C=x.alternate,C!==null?(C=C.index,C<y?(x.flags|=2,y):C):(x.flags|=2,y)):(x.flags|=1048576,y)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,C,S){return y===null||y.tag!==6?(y=Am(C,x.mode,S),y.return=x,y):(y=s(y,C),y.return=x,y)}function l(x,y,C,S){var k=C.type;return k===Bl?u(x,y,C.props.children,S,C.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ka&&K1(k)===y.type)?(S=s(y,C.props),S.ref=Wc(x,y,C),S.return=x,S):(S=Jf(C.type,C.key,C.props,null,x.mode,S),S.ref=Wc(x,y,C),S.return=x,S)}function c(x,y,C,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=om(C,x.mode,S),y.return=x,y):(y=s(y,C.children||[]),y.return=x,y)}function u(x,y,C,S,k){return y===null||y.tag!==7?(y=no(C,x.mode,S,k),y.return=x,y):(y=s(y,C),y.return=x,y)}function d(x,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Am(""+y,x.mode,C),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Uh:return C=Jf(y.type,y.key,y.props,null,x.mode,C),C.ref=Wc(x,null,y),C.return=x,C;case bl:return y=om(y,x.mode,C),y.return=x,y;case ka:var S=y._init;return d(x,S(y._payload),C)}if(cu(y)||Kc(y))return y=no(y,x.mode,C,null),y.return=x,y;Rh(x,y)}return null}function f(x,y,C,S){var k=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return k!==null?null:o(x,y,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Uh:return C.key===k?l(x,y,C,S):null;case bl:return C.key===k?c(x,y,C,S):null;case ka:return k=C._init,f(x,y,k(C._payload),S)}if(cu(C)||Kc(C))return k!==null?null:u(x,y,C,S,null);Rh(x,C)}return null}function g(x,y,C,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(C)||null,o(y,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Uh:return x=x.get(S.key===null?C:S.key)||null,l(y,x,S,k);case bl:return x=x.get(S.key===null?C:S.key)||null,c(y,x,S,k);case ka:var O=S._init;return g(x,y,C,O(S._payload),k)}if(cu(S)||Kc(S))return x=x.get(C)||null,u(y,x,S,k,null);Rh(y,S)}return null}function m(x,y,C,S){for(var k=null,O=null,I=y,F=y=0,R=null;I!==null&&F<C.length;F++){I.index>F?(R=I,I=null):R=I.sibling;var J=f(x,I,C[F],S);if(J===null){I===null&&(I=R);break}t&&I&&J.alternate===null&&e(x,I),y=i(J,y,F),O===null?k=J:O.sibling=J,O=J,I=R}if(F===C.length)return r(x,I),ar&&OA(x,F),k;if(I===null){for(;F<C.length;F++)I=d(x,C[F],S),I!==null&&(y=i(I,y,F),O===null?k=I:O.sibling=I,O=I);return ar&&OA(x,F),k}for(I=n(x,I);F<C.length;F++)R=g(I,x,F,C[F],S),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?F:R.key),y=i(R,y,F),O===null?k=R:O.sibling=R,O=R);return t&&I.forEach(function(Q){return e(x,Q)}),ar&&OA(x,F),k}function w(x,y,C,S){var k=Kc(C);if(typeof k!="function")throw Error($e(150));if(C=k.call(C),C==null)throw Error($e(151));for(var O=k=null,I=y,F=y=0,R=null,J=C.next();I!==null&&!J.done;F++,J=C.next()){I.index>F?(R=I,I=null):R=I.sibling;var Q=f(x,I,J.value,S);if(Q===null){I===null&&(I=R);break}t&&I&&Q.alternate===null&&e(x,I),y=i(Q,y,F),O===null?k=Q:O.sibling=Q,O=Q,I=R}if(J.done)return r(x,I),ar&&OA(x,F),k;if(I===null){for(;!J.done;F++,J=C.next())J=d(x,J.value,S),J!==null&&(y=i(J,y,F),O===null?k=J:O.sibling=J,O=J);return ar&&OA(x,F),k}for(I=n(x,I);!J.done;F++,J=C.next())J=g(I,x,F,J.value,S),J!==null&&(t&&J.alternate!==null&&I.delete(J.key===null?F:J.key),y=i(J,y,F),O===null?k=J:O.sibling=J,O=J);return t&&I.forEach(function(j){return e(x,j)}),ar&&OA(x,F),k}function B(x,y,C,S){if(typeof C=="object"&&C!==null&&C.type===Bl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Uh:e:{for(var k=C.key,O=y;O!==null;){if(O.key===k){if(k=C.type,k===Bl){if(O.tag===7){r(x,O.sibling),y=s(O,C.props.children),y.return=x,x=y;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ka&&K1(k)===O.type){r(x,O.sibling),y=s(O,C.props),y.ref=Wc(x,O,C),y.return=x,x=y;break e}r(x,O);break}else e(x,O);O=O.sibling}C.type===Bl?(y=no(C.props.children,x.mode,S,C.key),y.return=x,x=y):(S=Jf(C.type,C.key,C.props,null,x.mode,S),S.ref=Wc(x,y,C),S.return=x,x=S)}return a(x);case bl:e:{for(O=C.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){r(x,y.sibling),y=s(y,C.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=om(C,x.mode,S),y.return=x,x=y}return a(x);case ka:return O=C._init,B(x,y,O(C._payload),S)}if(cu(C))return m(x,y,C,S);if(Kc(C))return w(x,y,C,S);Rh(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,C),y.return=x,x=y):(r(x,y),y=Am(C,x.mode,S),y.return=x,x=y),a(x)):r(x,y)}return B}var ql=zC(!0),$C=zC(!1),yg=xA(null),bg=null,Ul=null,Pw=null;function Tw(){Pw=Ul=bg=null}function Dw(t){var e=yg.current;nr(yg),t._currentValue=e}function Mx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ol(t,e){bg=t,Pw=Ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function ks(t){var e=t._currentValue;if(Pw!==t)if(t={context:t,memoizedValue:e,next:null},Ul===null){if(bg===null)throw Error($e(308));Ul=t,bg.dependencies={lanes:0,firstContext:t}}else Ul=Ul.next=t;return e}var qA=null;function Ow(t){qA===null?qA=[t]:qA.push(t)}function GC(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ow(e)):(r.next=s.next,s.next=r),e.interleaved=r,na(t,n)}function na(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Qa=!1;function Hw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rA(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,na(t,r)}return s=n.interleaved,s===null?(e.next=e,Ow(n)):(e.next=s.next,s.next=e),n.interleaved=e,na(t,r)}function Vf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_w(t,r)}}function V1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bg(t,e,r,n){var s=t.updateQueue;Qa=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,u=c=l=null,o=i;do{var f=o.lane,g=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,w=o;switch(f=e,g=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(g,d,f):m,f==null)break e;d=cr({},d,f);break e;case 2:Qa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);go|=a,t.lanes=a,t.memoizedState=d}}function z1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error($e(191,s));s.call(n)}}}var kd={},_i=xA(kd),Ad=xA(kd),od=xA(kd);function JA(t){if(t===kd)throw Error($e(174));return t}function Mw(t,e){switch(Zt(od,e),Zt(Ad,t),Zt(_i,kd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yx(e,t)}nr(_i),Zt(_i,e)}function Jl(){nr(_i),nr(Ad),nr(od)}function qC(t){JA(od.current);var e=JA(_i.current),r=yx(e,t.type);e!==r&&(Zt(Ad,t),Zt(_i,r))}function Rw(t){Ad.current===t&&(nr(_i),nr(Ad))}var or=xA(0);function Cg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tm=[];function Kw(){for(var t=0;t<tm.length;t++)tm[t]._workInProgressVersionPrimary=null;tm.length=0}var zf=Aa.ReactCurrentDispatcher,rm=Aa.ReactCurrentBatchConfig,fo=0,lr=null,Or=null,qr=null,_g=!1,ju=!1,ld=0,Q3=0;function ln(){throw Error($e(321))}function Vw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ri(t[r],e[r]))return!1;return!0}function zw(t,e,r,n,s,i){if(fo=i,lr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=t===null||t.memoizedState===null?T3:D3,t=r(n,s),ju){i=0;do{if(ju=!1,ld=0,25<=i)throw Error($e(301));i+=1,qr=Or=null,e.updateQueue=null,zf.current=O3,t=r(n,s)}while(ju)}if(zf.current=Ng,e=Or!==null&&Or.next!==null,fo=0,qr=Or=lr=null,_g=!1,e)throw Error($e(300));return t}function $w(){var t=ld!==0;return ld=0,t}function xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?lr.memoizedState=qr=t:qr=qr.next=t,qr}function Qs(){if(Or===null){var t=lr.alternate;t=t!==null?t.memoizedState:null}else t=Or.next;var e=qr===null?lr.memoizedState:qr.next;if(e!==null)qr=e,Or=t;else{if(t===null)throw Error($e(310));Or=t,t={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},qr===null?lr.memoizedState=qr=t:qr=qr.next=t}return qr}function cd(t,e){return typeof e=="function"?e(t):e}function nm(t){var e=Qs(),r=e.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=t;var n=Or,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var u=c.lane;if((fo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,lr.lanes|=u,go|=u}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,ri(n,e.memoizedState)||(Vn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,lr.lanes|=i,go|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function sm(t){var e=Qs(),r=e.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ri(i,e.memoizedState)||(Vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function JC(){}function XC(t,e){var r=lr,n=Qs(),s=e(),i=!ri(n.memoizedState,s);if(i&&(n.memoizedState=s,Vn=!0),n=n.queue,Gw(e_.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||qr!==null&&qr.memoizedState.tag&1){if(r.flags|=2048,ud(9,ZC.bind(null,r,n,s,e),void 0,null),Jr===null)throw Error($e(349));fo&30||YC(r,e,s)}return s}function YC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=lr.updateQueue,e===null?(e={lastEffect:null,stores:null},lr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ZC(t,e,r,n){e.value=r,e.getSnapshot=n,t_(e)&&r_(t)}function e_(t,e,r){return r(function(){t_(e)&&r_(t)})}function t_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ri(t,r)}catch{return!0}}function r_(t){var e=na(t,1);e!==null&&ei(e,t,1,-1)}function $1(t){var e=xi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:t},e.queue=t,t=t.dispatch=P3.bind(null,lr,t),[e.memoizedState,t]}function ud(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=lr.updateQueue,e===null?(e={lastEffect:null,stores:null},lr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function n_(){return Qs().memoizedState}function $f(t,e,r,n){var s=xi();lr.flags|=t,s.memoizedState=ud(1|e,r,void 0,n===void 0?null:n)}function up(t,e,r,n){var s=Qs();n=n===void 0?null:n;var i=void 0;if(Or!==null){var a=Or.memoizedState;if(i=a.destroy,n!==null&&Vw(n,a.deps)){s.memoizedState=ud(e,r,i,n);return}}lr.flags|=t,s.memoizedState=ud(1|e,r,i,n)}function G1(t,e){return $f(8390656,8,t,e)}function Gw(t,e){return up(2048,8,t,e)}function s_(t,e){return up(4,2,t,e)}function i_(t,e){return up(4,4,t,e)}function a_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A_(t,e,r){return r=r!=null?r.concat([t]):null,up(4,4,a_.bind(null,e,t),r)}function Ww(){}function o_(t,e){var r=Qs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function l_(t,e){var r=Qs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function c_(t,e,r){return fo&21?(ri(r,e)||(r=gC(),lr.lanes|=r,go|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=r)}function L3(t,e){var r=Kt;Kt=r!==0&&4>r?r:4,t(!0);var n=rm.transition;rm.transition={};try{t(!1),e()}finally{Kt=r,rm.transition=n}}function u_(){return Qs().memoizedState}function I3(t,e,r){var n=sA(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},d_(t))h_(e,r);else if(r=GC(t,e,r,n),r!==null){var s=Fn();ei(r,t,n,s),f_(r,e,n)}}function P3(t,e,r){var n=sA(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(d_(t))h_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,ri(o,a)){var l=e.interleaved;l===null?(s.next=s,Ow(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=GC(t,e,s,n),r!==null&&(s=Fn(),ei(r,t,n,s),f_(r,e,n))}}function d_(t){var e=t.alternate;return t===lr||e!==null&&e===lr}function h_(t,e){ju=_g=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function f_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_w(t,r)}}var Ng={readContext:ks,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},T3={readContext:ks,useCallback:function(t,e){return xi().memoizedState=[t,e===void 0?null:e],t},useContext:ks,useEffect:G1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$f(4194308,4,a_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $f(4194308,4,t,e)},useInsertionEffect:function(t,e){return $f(4,2,t,e)},useMemo:function(t,e){var r=xi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=I3.bind(null,lr,t),[n.memoizedState,t]},useRef:function(t){var e=xi();return t={current:t},e.memoizedState=t},useState:$1,useDebugValue:Ww,useDeferredValue:function(t){return xi().memoizedState=t},useTransition:function(){var t=$1(!1),e=t[0];return t=L3.bind(null,t[1]),xi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=lr,s=xi();if(ar){if(r===void 0)throw Error($e(407));r=r()}else{if(r=e(),Jr===null)throw Error($e(349));fo&30||YC(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,G1(e_.bind(null,n,i,t),[t]),n.flags|=2048,ud(9,ZC.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=xi(),e=Jr.identifierPrefix;if(ar){var r=Yi,n=Xi;r=(n&~(1<<32-Zs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ld++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Q3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D3={readContext:ks,useCallback:o_,useContext:ks,useEffect:Gw,useImperativeHandle:A_,useInsertionEffect:s_,useLayoutEffect:i_,useMemo:l_,useReducer:nm,useRef:n_,useState:function(){return nm(cd)},useDebugValue:Ww,useDeferredValue:function(t){var e=Qs();return c_(e,Or.memoizedState,t)},useTransition:function(){var t=nm(cd)[0],e=Qs().memoizedState;return[t,e]},useMutableSource:JC,useSyncExternalStore:XC,useId:u_,unstable_isNewReconciler:!1},O3={readContext:ks,useCallback:o_,useContext:ks,useEffect:Gw,useImperativeHandle:A_,useInsertionEffect:s_,useLayoutEffect:i_,useMemo:l_,useReducer:sm,useRef:n_,useState:function(){return sm(cd)},useDebugValue:Ww,useDeferredValue:function(t){var e=Qs();return Or===null?e.memoizedState=t:c_(e,Or.memoizedState,t)},useTransition:function(){var t=sm(cd)[0],e=Qs().memoizedState;return[t,e]},useMutableSource:JC,useSyncExternalStore:XC,useId:u_,unstable_isNewReconciler:!1};function Gs(t,e){if(t&&t.defaultProps){e=cr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Rx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:cr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dp={isMounted:function(t){return(t=t._reactInternals)?vo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fn(),s=sA(t),i=Zi(n,s);i.payload=e,r!=null&&(i.callback=r),e=rA(t,i,s),e!==null&&(ei(e,t,s,n),Vf(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fn(),s=sA(t),i=Zi(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=rA(t,i,s),e!==null&&(ei(e,t,s,n),Vf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fn(),n=sA(t),s=Zi(r,n);s.tag=2,e!=null&&(s.callback=e),e=rA(t,s,n),e!==null&&(ei(e,t,n,r),Vf(e,t,n))}};function W1(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!nd(r,n)||!nd(s,i):!0}function g_(t,e,r){var n=!1,s=dA,i=e.contextType;return typeof i=="object"&&i!==null?i=ks(i):(s=Gn(e)?uo:yn.current,n=e.contextTypes,i=(n=n!=null)?Gl(t,s):dA),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function q1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&dp.enqueueReplaceState(e,e.state,null)}function Kx(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Hw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ks(i):(i=Gn(e)?uo:yn.current,s.context=Gl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Rx(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dp.enqueueReplaceState(s,s.state,null),Bg(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xl(t,e){try{var r="",n=e;do r+=hj(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function im(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Vx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var H3=typeof WeakMap=="function"?WeakMap:Map;function p_(t,e,r){r=Zi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Fg||(Fg=!0,ev=n),Vx(t,e)},r}function m_(t,e,r){r=Zi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Vx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Vx(t,e),typeof n!="function"&&(nA===null?nA=new Set([this]):nA.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function J1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new H3;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=eE.bind(null,t,e,r),e.then(t,t))}function X1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y1(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zi(-1,1),e.tag=2,rA(r,e,1))),r.lanes|=1),t)}var M3=Aa.ReactCurrentOwner,Vn=!1;function Sn(t,e,r,n){e.child=t===null?$C(e,null,r,n):ql(e,t.child,r,n)}function Z1(t,e,r,n,s){r=r.render;var i=e.ref;return Ol(e,s),n=zw(t,e,r,n,i,s),r=$w(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,sa(t,e,s)):(ar&&r&&Qw(e),e.flags|=1,Sn(t,e,n,s),e.child)}function e2(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ry(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,x_(t,e,i,n,s)):(t=Jf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:nd,r(a,n)&&t.ref===e.ref)return sa(t,e,s)}return e.flags|=1,t=iA(i,n),t.ref=e.ref,t.return=e,e.child=t}function x_(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(nd(i,n)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,sa(t,e,s)}return zx(t,e,r,n,s)}function v_(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Ql,is),is|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(Ql,is),is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Zt(Ql,is),is|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Zt(Ql,is),is|=n;return Sn(t,e,s,r),e.child}function w_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function zx(t,e,r,n,s){var i=Gn(r)?uo:yn.current;return i=Gl(e,i),Ol(e,s),r=zw(t,e,r,n,i,s),n=$w(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,sa(t,e,s)):(ar&&n&&Qw(e),e.flags|=1,Sn(t,e,r,s),e.child)}function t2(t,e,r,n,s){if(Gn(r)){var i=!0;xg(e)}else i=!1;if(Ol(e,s),e.stateNode===null)Gf(t,e),g_(e,r,n),Kx(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=ks(c):(c=Gn(r)?uo:yn.current,c=Gl(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&q1(e,a,n,c),Qa=!1;var f=e.memoizedState;a.state=f,Bg(e,n,a,s),l=e.memoizedState,o!==n||f!==l||$n.current||Qa?(typeof u=="function"&&(Rx(e,r,u,n),l=e.memoizedState),(o=Qa||W1(e,r,o,n,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,WC(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Gs(e.type,o),a.props=c,d=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ks(l):(l=Gn(r)?uo:yn.current,l=Gl(e,l));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&q1(e,a,n,l),Qa=!1,f=e.memoizedState,a.state=f,Bg(e,n,a,s);var m=e.memoizedState;o!==d||f!==m||$n.current||Qa?(typeof g=="function"&&(Rx(e,r,g,n),m=e.memoizedState),(c=Qa||W1(e,r,c,n,f,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return $x(t,e,r,n,i,s)}function $x(t,e,r,n,s,i){w_(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&H1(e,r,!1),sa(t,e,i);n=e.stateNode,M3.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=ql(e,t.child,null,i),e.child=ql(e,null,o,i)):Sn(t,e,o,i),e.memoizedState=n.state,s&&H1(e,r,!0),e.child}function y_(t){var e=t.stateNode;e.pendingContext?O1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O1(t,e.context,!1),Mw(t,e.containerInfo)}function r2(t,e,r,n,s){return Wl(),Iw(s),e.flags|=256,Sn(t,e,r,n),e.child}var Gx={dehydrated:null,treeContext:null,retryLane:0};function Wx(t){return{baseLanes:t,cachePool:null,transitions:null}}function b_(t,e,r){var n=e.pendingProps,s=or.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Zt(or,s&1),t===null)return Hx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=gp(a,n,0,null),t=no(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wx(r),e.memoizedState=Gx,t):qw(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return R3(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=iA(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=iA(o,i):(i=no(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Wx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Gx,n}return i=t.child,t=i.sibling,n=iA(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function qw(t,e){return e=gp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kh(t,e,r,n){return n!==null&&Iw(n),ql(e,t.child,null,r),t=qw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R3(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=im(Error($e(422))),Kh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=gp({mode:"visible",children:n.children},s,0,null),i=no(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ql(e,t.child,null,a),e.child.memoizedState=Wx(a),e.memoizedState=Gx,i);if(!(e.mode&1))return Kh(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error($e(419)),n=im(i,n,void 0),Kh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Vn||o){if(n=Jr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,na(t,s),ei(n,t,s,-1))}return ty(),n=im(Error($e(421))),Kh(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=tE.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,as=tA(s.nextSibling),ls=e,ar=!0,Xs=null,t!==null&&(Bs[Cs++]=Xi,Bs[Cs++]=Yi,Bs[Cs++]=ho,Xi=t.id,Yi=t.overflow,ho=e),e=qw(e,n.children),e.flags|=4096,e)}function n2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Mx(t.return,e,r)}function am(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function B_(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Sn(t,e,n.children,r),n=or.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n2(t,r,e);else if(t.tag===19)n2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Zt(or,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Cg(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),am(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cg(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}am(e,!0,r,null,i);break;case"together":am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),go|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($e(153));if(e.child!==null){for(t=e.child,r=iA(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=iA(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function K3(t,e,r){switch(e.tag){case 3:y_(e),Wl();break;case 5:qC(e);break;case 1:Gn(e.type)&&xg(e);break;case 4:Mw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Zt(yg,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Zt(or,or.current&1),e.flags|=128,null):r&e.child.childLanes?b_(t,e,r):(Zt(or,or.current&1),t=sa(t,e,r),t!==null?t.sibling:null);Zt(or,or.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return B_(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Zt(or,or.current),n)break;return null;case 22:case 23:return e.lanes=0,v_(t,e,r)}return sa(t,e,r)}var C_,qx,__,N_;C_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qx=function(){};__=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,JA(_i.current);var i=null;switch(r){case"input":s=mx(t,s),n=mx(t,n),i=[];break;case"select":s=cr({},s,{value:void 0}),n=cr({},n,{value:void 0}),i=[];break;case"textarea":s=wx(t,s),n=wx(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=pg)}bx(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ju.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ju.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&er("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};N_=function(t,e,r,n){r!==n&&(e.flags|=4)};function qc(t,e){if(!ar)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function V3(t,e,r){var n=e.pendingProps;switch(Lw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(e),null;case 1:return Gn(e.type)&&mg(),cn(e),null;case 3:return n=e.stateNode,Jl(),nr($n),nr(yn),Kw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xs!==null&&(nv(Xs),Xs=null))),qx(t,e),cn(e),null;case 5:Rw(e);var s=JA(od.current);if(r=e.type,t!==null&&e.stateNode!=null)__(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error($e(166));return cn(e),null}if(t=JA(_i.current),Mh(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[bi]=e,n[ad]=i,t=(e.mode&1)!==0,r){case"dialog":er("cancel",n),er("close",n);break;case"iframe":case"object":case"embed":er("load",n);break;case"video":case"audio":for(s=0;s<du.length;s++)er(du[s],n);break;case"source":er("error",n);break;case"img":case"image":case"link":er("error",n),er("load",n);break;case"details":er("toggle",n);break;case"input":d1(n,i),er("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},er("invalid",n);break;case"textarea":f1(n,i),er("invalid",n)}bx(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Hh(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Hh(n.textContent,o,t),s=["children",""+o]):Ju.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&er("scroll",n)}switch(r){case"input":kh(n),h1(n,i,!0);break;case"textarea":kh(n),g1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pg)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[bi]=e,t[ad]=n,C_(t,e,!1,!1),e.stateNode=t;e:{switch(a=Bx(r,n),r){case"dialog":er("cancel",t),er("close",t),s=n;break;case"iframe":case"object":case"embed":er("load",t),s=n;break;case"video":case"audio":for(s=0;s<du.length;s++)er(du[s],t);s=n;break;case"source":er("error",t),s=n;break;case"img":case"image":case"link":er("error",t),er("load",t),s=n;break;case"details":er("toggle",t),s=n;break;case"input":d1(t,n),s=mx(t,n),er("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=cr({},n,{value:void 0}),er("invalid",t);break;case"textarea":f1(t,n),s=wx(t,n),er("invalid",t);break;default:s=n}bx(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?nC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tC(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Xu(t,l):typeof l=="number"&&Xu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ju.hasOwnProperty(i)?l!=null&&i==="onScroll"&&er("scroll",t):l!=null&&vw(t,i,l,a))}switch(r){case"input":kh(t),h1(t,n,!1);break;case"textarea":kh(t),g1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+uA(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Il(t,!!n.multiple,i,!1):n.defaultValue!=null&&Il(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cn(e),null;case 6:if(t&&e.stateNode!=null)N_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error($e(166));if(r=JA(od.current),JA(_i.current),Mh(e)){if(n=e.stateNode,r=e.memoizedProps,n[bi]=e,(i=n.nodeValue!==r)&&(t=ls,t!==null))switch(t.tag){case 3:Hh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hh(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bi]=e,e.stateNode=n}return cn(e),null;case 13:if(nr(or),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ar&&as!==null&&e.mode&1&&!(e.flags&128))VC(),Wl(),e.flags|=98560,i=!1;else if(i=Mh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error($e(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($e(317));i[bi]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cn(e),i=!1}else Xs!==null&&(nv(Xs),Xs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||or.current&1?Kr===0&&(Kr=3):ty())),e.updateQueue!==null&&(e.flags|=4),cn(e),null);case 4:return Jl(),qx(t,e),t===null&&sd(e.stateNode.containerInfo),cn(e),null;case 10:return Dw(e.type._context),cn(e),null;case 17:return Gn(e.type)&&mg(),cn(e),null;case 19:if(nr(or),i=e.memoizedState,i===null)return cn(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)qc(i,!1);else{if(Kr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Cg(t),a!==null){for(e.flags|=128,qc(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Zt(or,or.current&1|2),e.child}t=t.sibling}i.tail!==null&&Br()>Yl&&(e.flags|=128,n=!0,qc(i,!1),e.lanes=4194304)}else{if(!n)if(t=Cg(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),qc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ar)return cn(e),null}else 2*Br()-i.renderingStartTime>Yl&&r!==1073741824&&(e.flags|=128,n=!0,qc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Br(),e.sibling=null,r=or.current,Zt(or,n?r&1|2:r&1),e):(cn(e),null);case 22:case 23:return ey(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?is&1073741824&&(cn(e),e.subtreeFlags&6&&(e.flags|=8192)):cn(e),null;case 24:return null;case 25:return null}throw Error($e(156,e.tag))}function z3(t,e){switch(Lw(e),e.tag){case 1:return Gn(e.type)&&mg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jl(),nr($n),nr(yn),Kw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rw(e),null;case 13:if(nr(or),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($e(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nr(or),null;case 4:return Jl(),null;case 10:return Dw(e.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var Vh=!1,xn=!1,$3=typeof WeakSet=="function"?WeakSet:Set,st=null;function kl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gr(t,e,n)}else r.current=null}function Jx(t,e,r){try{r()}catch(n){gr(t,e,n)}}var s2=!1;function G3(t,e){if(Qx=hg,t=UC(),kw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++c===s&&(o=a),f===i&&++u===n&&(l=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lx={focusedElem:t,selectionRange:r},hg=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){e=st;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,B=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Gs(e.type,w),B);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(S){gr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}return m=s2,s2=!1,m}function Eu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jx(e,r,i)}s=s.next}while(s!==n)}}function hp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Xx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function S_(t){var e=t.alternate;e!==null&&(t.alternate=null,S_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bi],delete e[ad],delete e[Tx],delete e[j3],delete e[E3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F_(t){return t.tag===5||t.tag===3||t.tag===4}function i2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=pg));else if(n!==4&&(t=t.child,t!==null))for(Yx(t,e,r),t=t.sibling;t!==null;)Yx(t,e,r),t=t.sibling}function Zx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Zx(t,e,r),t=t.sibling;t!==null;)Zx(t,e,r),t=t.sibling}var en=null,qs=!1;function ba(t,e,r){for(r=r.child;r!==null;)j_(t,e,r),r=r.sibling}function j_(t,e,r){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(ip,r)}catch{}switch(r.tag){case 5:xn||kl(r,e);case 6:var n=en,s=qs;en=null,ba(t,e,r),en=n,qs=s,en!==null&&(qs?(t=en,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):en.removeChild(r.stateNode));break;case 18:en!==null&&(qs?(t=en,r=r.stateNode,t.nodeType===8?Z0(t.parentNode,r):t.nodeType===1&&Z0(t,r),td(t)):Z0(en,r.stateNode));break;case 4:n=en,s=qs,en=r.stateNode.containerInfo,qs=!0,ba(t,e,r),en=n,qs=s;break;case 0:case 11:case 14:case 15:if(!xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Jx(r,e,a),s=s.next}while(s!==n)}ba(t,e,r);break;case 1:if(!xn&&(kl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){gr(r,e,o)}ba(t,e,r);break;case 21:ba(t,e,r);break;case 22:r.mode&1?(xn=(n=xn)||r.memoizedState!==null,ba(t,e,r),xn=n):ba(t,e,r);break;default:ba(t,e,r)}}function a2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $3),e.forEach(function(n){var s=rE.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:en=o.stateNode,qs=!1;break e;case 3:en=o.stateNode.containerInfo,qs=!0;break e;case 4:en=o.stateNode.containerInfo,qs=!0;break e}o=o.return}if(en===null)throw Error($e(160));j_(i,a,s),en=null,qs=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){gr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)E_(e,t),e=e.sibling}function E_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rs(e,t),hi(t),n&4){try{Eu(3,t,t.return),hp(3,t)}catch(w){gr(t,t.return,w)}try{Eu(5,t,t.return)}catch(w){gr(t,t.return,w)}}break;case 1:Rs(e,t),hi(t),n&512&&r!==null&&kl(r,r.return);break;case 5:if(Rs(e,t),hi(t),n&512&&r!==null&&kl(r,r.return),t.flags&32){var s=t.stateNode;try{Xu(s,"")}catch(w){gr(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Y5(s,i),Bx(o,a);var c=Bx(o,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?nC(s,d):u==="dangerouslySetInnerHTML"?tC(s,d):u==="children"?Xu(s,d):vw(s,u,d,c)}switch(o){case"input":xx(s,i);break;case"textarea":Z5(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Il(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Il(s,!!i.multiple,i.defaultValue,!0):Il(s,!!i.multiple,i.multiple?[]:"",!1))}s[ad]=i}catch(w){gr(t,t.return,w)}}break;case 6:if(Rs(e,t),hi(t),n&4){if(t.stateNode===null)throw Error($e(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){gr(t,t.return,w)}}break;case 3:if(Rs(e,t),hi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{td(e.containerInfo)}catch(w){gr(t,t.return,w)}break;case 4:Rs(e,t),hi(t);break;case 13:Rs(e,t),hi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yw=Br())),n&4&&a2(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(xn=(c=xn)||u,Rs(e,t),xn=c):Rs(e,t),hi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(st=t,u=t.child;u!==null;){for(d=st=u;st!==null;){switch(f=st,g=f.child,f.tag){case 0:case 11:case 14:case 15:Eu(4,f,f.return);break;case 1:kl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){gr(n,r,w)}}break;case 5:kl(f,f.return);break;case 22:if(f.memoizedState!==null){o2(d);continue}}g!==null?(g.return=f,st=g):o2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=rC("display",a))}catch(w){gr(t,t.return,w)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){gr(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rs(e,t),hi(t),n&4&&a2(t);break;case 21:break;default:Rs(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(F_(r)){var n=r;break e}r=r.return}throw Error($e(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xu(s,""),n.flags&=-33);var i=i2(t);Zx(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=i2(t);Yx(t,o,a);break;default:throw Error($e(161))}}catch(l){gr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W3(t,e,r){st=t,U_(t)}function U_(t,e,r){for(var n=(t.mode&1)!==0;st!==null;){var s=st,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Vh;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||xn;o=Vh;var c=xn;if(Vh=a,(xn=l)&&!c)for(st=s;st!==null;)a=st,l=a.child,a.tag===22&&a.memoizedState!==null?l2(s):l!==null?(l.return=a,st=l):l2(s);for(;i!==null;)st=i,U_(i),i=i.sibling;st=s,Vh=o,xn=c}A2(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,st=i):A2(t)}}function A2(t){for(;st!==null;){var e=st;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||hp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!xn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Gs(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&z1(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}z1(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&td(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}xn||e.flags&512&&Xx(e)}catch(f){gr(e,e.return,f)}}if(e===t){st=null;break}if(r=e.sibling,r!==null){r.return=e.return,st=r;break}st=e.return}}function o2(t){for(;st!==null;){var e=st;if(e===t){st=null;break}var r=e.sibling;if(r!==null){r.return=e.return,st=r;break}st=e.return}}function l2(t){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hp(4,e)}catch(l){gr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){gr(e,s,l)}}var i=e.return;try{Xx(e)}catch(l){gr(e,i,l)}break;case 5:var a=e.return;try{Xx(e)}catch(l){gr(e,a,l)}}}catch(l){gr(e,e.return,l)}if(e===t){st=null;break}var o=e.sibling;if(o!==null){o.return=e.return,st=o;break}st=e.return}}var q3=Math.ceil,Sg=Aa.ReactCurrentDispatcher,Jw=Aa.ReactCurrentOwner,Es=Aa.ReactCurrentBatchConfig,Qt=0,Jr=null,Pr=null,nn=0,is=0,Ql=xA(0),Kr=0,dd=null,go=0,fp=0,Xw=0,Uu=null,Mn=null,Yw=0,Yl=1/0,Gi=null,Fg=!1,ev=null,nA=null,zh=!1,Ha=null,jg=0,ku=0,tv=null,Wf=-1,qf=0;function Fn(){return Qt&6?Br():Wf!==-1?Wf:Wf=Br()}function sA(t){return t.mode&1?Qt&2&&nn!==0?nn&-nn:k3.transition!==null?(qf===0&&(qf=gC()),qf):(t=Kt,t!==0||(t=window.event,t=t===void 0?16:bC(t.type)),t):1}function ei(t,e,r,n){if(50<ku)throw ku=0,tv=null,Error($e(185));jd(t,r,n),(!(Qt&2)||t!==Jr)&&(t===Jr&&(!(Qt&2)&&(fp|=r),Kr===4&&Pa(t,nn)),Wn(t,n),r===1&&Qt===0&&!(e.mode&1)&&(Yl=Br()+500,cp&&vA()))}function Wn(t,e){var r=t.callbackNode;kj(t,e);var n=dg(t,t===Jr?nn:0);if(n===0)r!==null&&x1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&x1(r),e===1)t.tag===0?U3(c2.bind(null,t)):MC(c2.bind(null,t)),S3(function(){!(Qt&6)&&vA()}),r=null;else{switch(pC(n)){case 1:r=Cw;break;case 4:r=hC;break;case 16:r=ug;break;case 536870912:r=fC;break;default:r=ug}r=O_(r,k_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function k_(t,e){if(Wf=-1,qf=0,Qt&6)throw Error($e(327));var r=t.callbackNode;if(Hl()&&t.callbackNode!==r)return null;var n=dg(t,t===Jr?nn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Eg(t,n);else{e=n;var s=Qt;Qt|=2;var i=L_();(Jr!==t||nn!==e)&&(Gi=null,Yl=Br()+500,ro(t,e));do try{Y3();break}catch(o){Q_(t,o)}while(!0);Tw(),Sg.current=i,Qt=s,Pr!==null?e=0:(Jr=null,nn=0,e=Kr)}if(e!==0){if(e===2&&(s=Fx(t),s!==0&&(n=s,e=rv(t,s))),e===1)throw r=dd,ro(t,0),Pa(t,n),Wn(t,Br()),r;if(e===6)Pa(t,n);else{if(s=t.current.alternate,!(n&30)&&!J3(s)&&(e=Eg(t,n),e===2&&(i=Fx(t),i!==0&&(n=i,e=rv(t,i))),e===1))throw r=dd,ro(t,0),Pa(t,n),Wn(t,Br()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error($e(345));case 2:HA(t,Mn,Gi);break;case 3:if(Pa(t,n),(n&130023424)===n&&(e=Yw+500-Br(),10<e)){if(dg(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Px(HA.bind(null,t,Mn,Gi),e);break}HA(t,Mn,Gi);break;case 4:if(Pa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Zs(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*q3(n/1960))-n,10<n){t.timeoutHandle=Px(HA.bind(null,t,Mn,Gi),n);break}HA(t,Mn,Gi);break;case 5:HA(t,Mn,Gi);break;default:throw Error($e(329))}}}return Wn(t,Br()),t.callbackNode===r?k_.bind(null,t):null}function rv(t,e){var r=Uu;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=Eg(t,e),t!==2&&(e=Mn,Mn=r,e!==null&&nv(e)),t}function nv(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function J3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ri(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pa(t,e){for(e&=~Xw,e&=~fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zs(e),n=1<<r;t[r]=-1,e&=~n}}function c2(t){if(Qt&6)throw Error($e(327));Hl();var e=dg(t,0);if(!(e&1))return Wn(t,Br()),null;var r=Eg(t,e);if(t.tag!==0&&r===2){var n=Fx(t);n!==0&&(e=n,r=rv(t,n))}if(r===1)throw r=dd,ro(t,0),Pa(t,e),Wn(t,Br()),r;if(r===6)throw Error($e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,HA(t,Mn,Gi),Wn(t,Br()),null}function Zw(t,e){var r=Qt;Qt|=1;try{return t(e)}finally{Qt=r,Qt===0&&(Yl=Br()+500,cp&&vA())}}function po(t){Ha!==null&&Ha.tag===0&&!(Qt&6)&&Hl();var e=Qt;Qt|=1;var r=Es.transition,n=Kt;try{if(Es.transition=null,Kt=1,t)return t()}finally{Kt=n,Es.transition=r,Qt=e,!(Qt&6)&&vA()}}function ey(){is=Ql.current,nr(Ql)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,N3(r)),Pr!==null)for(r=Pr.return;r!==null;){var n=r;switch(Lw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mg();break;case 3:Jl(),nr($n),nr(yn),Kw();break;case 5:Rw(n);break;case 4:Jl();break;case 13:nr(or);break;case 19:nr(or);break;case 10:Dw(n.type._context);break;case 22:case 23:ey()}r=r.return}if(Jr=t,Pr=t=iA(t.current,null),nn=is=e,Kr=0,dd=null,Xw=fp=go=0,Mn=Uu=null,qA!==null){for(e=0;e<qA.length;e++)if(r=qA[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}qA=null}return t}function Q_(t,e){do{var r=Pr;try{if(Tw(),zf.current=Ng,_g){for(var n=lr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_g=!1}if(fo=0,qr=Or=lr=null,ju=!1,ld=0,Jw.current=null,r===null||r.return===null){Kr=1,dd=e,Pr=null;break}e:{var i=t,a=r.return,o=r,l=e;if(e=nn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=X1(a);if(g!==null){g.flags&=-257,Y1(g,a,o,i,e),g.mode&1&&J1(i,c,e),e=g,l=c;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){J1(i,c,e),ty();break e}l=Error($e(426))}}else if(ar&&o.mode&1){var B=X1(a);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Y1(B,a,o,i,e),Iw(Xl(l,o));break e}}i=l=Xl(l,o),Kr!==4&&(Kr=2),Uu===null?Uu=[i]:Uu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=p_(i,l,e);V1(i,x);break e;case 1:o=l;var y=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(nA===null||!nA.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=m_(i,o,e);V1(i,S);break e}}i=i.return}while(i!==null)}P_(r)}catch(k){e=k,Pr===r&&r!==null&&(Pr=r=r.return);continue}break}while(!0)}function L_(){var t=Sg.current;return Sg.current=Ng,t===null?Ng:t}function ty(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),Jr===null||!(go&268435455)&&!(fp&268435455)||Pa(Jr,nn)}function Eg(t,e){var r=Qt;Qt|=2;var n=L_();(Jr!==t||nn!==e)&&(Gi=null,ro(t,e));do try{X3();break}catch(s){Q_(t,s)}while(!0);if(Tw(),Qt=r,Sg.current=n,Pr!==null)throw Error($e(261));return Jr=null,nn=0,Kr}function X3(){for(;Pr!==null;)I_(Pr)}function Y3(){for(;Pr!==null&&!Bj();)I_(Pr)}function I_(t){var e=D_(t.alternate,t,is);t.memoizedProps=t.pendingProps,e===null?P_(t):Pr=e,Jw.current=null}function P_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=z3(r,e),r!==null){r.flags&=32767,Pr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kr=6,Pr=null;return}}else if(r=V3(r,e,is),r!==null){Pr=r;return}if(e=e.sibling,e!==null){Pr=e;return}Pr=e=t}while(e!==null);Kr===0&&(Kr=5)}function HA(t,e,r){var n=Kt,s=Es.transition;try{Es.transition=null,Kt=1,Z3(t,e,r,n)}finally{Es.transition=s,Kt=n}return null}function Z3(t,e,r,n){do Hl();while(Ha!==null);if(Qt&6)throw Error($e(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error($e(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Qj(t,i),t===Jr&&(Pr=Jr=null,nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zh||(zh=!0,O_(ug,function(){return Hl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Es.transition,Es.transition=null;var a=Kt;Kt=1;var o=Qt;Qt|=4,Jw.current=null,G3(t,r),E_(r,t),v3(Lx),hg=!!Qx,Lx=Qx=null,t.current=r,W3(r),Cj(),Qt=o,Kt=a,Es.transition=i}else t.current=r;if(zh&&(zh=!1,Ha=t,jg=s),i=t.pendingLanes,i===0&&(nA=null),Sj(r.stateNode),Wn(t,Br()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fg)throw Fg=!1,t=ev,ev=null,t;return jg&1&&t.tag!==0&&Hl(),i=t.pendingLanes,i&1?t===tv?ku++:(ku=0,tv=t):ku=0,vA(),null}function Hl(){if(Ha!==null){var t=pC(jg),e=Es.transition,r=Kt;try{if(Es.transition=null,Kt=16>t?16:t,Ha===null)var n=!1;else{if(t=Ha,Ha=null,jg=0,Qt&6)throw Error($e(331));var s=Qt;for(Qt|=4,st=t.current;st!==null;){var i=st,a=i.child;if(st.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(st=c;st!==null;){var u=st;switch(u.tag){case 0:case 11:case 15:Eu(8,u,i)}var d=u.child;if(d!==null)d.return=u,st=d;else for(;st!==null;){u=st;var f=u.sibling,g=u.return;if(S_(u),u===c){st=null;break}if(f!==null){f.return=g,st=f;break}st=g}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var B=w.sibling;w.sibling=null,w=B}while(w!==null)}}st=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,st=a;else e:for(;st!==null;){if(i=st,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,st=x;break e}st=i.return}}var y=t.current;for(st=y;st!==null;){a=st;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,st=C;else e:for(a=y;st!==null;){if(o=st,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hp(9,o)}}catch(k){gr(o,o.return,k)}if(o===a){st=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,st=S;break e}st=o.return}}if(Qt=s,vA(),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(ip,t)}catch{}n=!0}return n}finally{Kt=r,Es.transition=e}}return!1}function u2(t,e,r){e=Xl(r,e),e=p_(t,e,1),t=rA(t,e,1),e=Fn(),t!==null&&(jd(t,1,e),Wn(t,e))}function gr(t,e,r){if(t.tag===3)u2(t,t,r);else for(;e!==null;){if(e.tag===3){u2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nA===null||!nA.has(n))){t=Xl(r,t),t=m_(e,t,1),e=rA(e,t,1),t=Fn(),e!==null&&(jd(e,1,t),Wn(e,t));break}}e=e.return}}function eE(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&r,Jr===t&&(nn&r)===r&&(Kr===4||Kr===3&&(nn&130023424)===nn&&500>Br()-Yw?ro(t,0):Xw|=r),Wn(t,e)}function T_(t,e){e===0&&(t.mode&1?(e=Ih,Ih<<=1,!(Ih&130023424)&&(Ih=4194304)):e=1);var r=Fn();t=na(t,e),t!==null&&(jd(t,e,r),Wn(t,r))}function tE(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),T_(t,r)}function rE(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error($e(314))}n!==null&&n.delete(e),T_(t,r)}var D_;D_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)Vn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Vn=!1,K3(t,e,r);Vn=!!(t.flags&131072)}else Vn=!1,ar&&e.flags&1048576&&RC(e,wg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gf(t,e),t=e.pendingProps;var s=Gl(e,yn.current);Ol(e,r),s=zw(null,e,n,t,s,r);var i=$w();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(n)?(i=!0,xg(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hw(e),s.updater=dp,e.stateNode=s,s._reactInternals=e,Kx(e,n,t,r),e=$x(null,e,n,!0,i,r)):(e.tag=0,ar&&i&&Qw(e),Sn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Gf(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=sE(n),t=Gs(n,t),s){case 0:e=zx(null,e,n,t,r);break e;case 1:e=t2(null,e,n,t,r);break e;case 11:e=Z1(null,e,n,t,r);break e;case 14:e=e2(null,e,n,Gs(n.type,t),r);break e}throw Error($e(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gs(n,s),zx(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gs(n,s),t2(t,e,n,s,r);case 3:e:{if(y_(e),t===null)throw Error($e(387));n=e.pendingProps,i=e.memoizedState,s=i.element,WC(t,e),Bg(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xl(Error($e(423)),e),e=r2(t,e,n,r,s);break e}else if(n!==s){s=Xl(Error($e(424)),e),e=r2(t,e,n,r,s);break e}else for(as=tA(e.stateNode.containerInfo.firstChild),ls=e,ar=!0,Xs=null,r=$C(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wl(),n===s){e=sa(t,e,r);break e}Sn(t,e,n,r)}e=e.child}return e;case 5:return qC(e),t===null&&Hx(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ix(n,s)?a=null:i!==null&&Ix(n,i)&&(e.flags|=32),w_(t,e),Sn(t,e,a,r),e.child;case 6:return t===null&&Hx(e),null;case 13:return b_(t,e,r);case 4:return Mw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ql(e,null,n,r):Sn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gs(n,s),Z1(t,e,n,s,r);case 7:return Sn(t,e,e.pendingProps,r),e.child;case 8:return Sn(t,e,e.pendingProps.children,r),e.child;case 12:return Sn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Zt(yg,n._currentValue),n._currentValue=a,i!==null)if(ri(i.value,a)){if(i.children===s.children&&!$n.current){e=sa(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Zi(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Mx(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error($e(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Mx(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Sn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ol(e,r),s=ks(s),n=n(s),e.flags|=1,Sn(t,e,n,r),e.child;case 14:return n=e.type,s=Gs(n,e.pendingProps),s=Gs(n.type,s),e2(t,e,n,s,r);case 15:return x_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gs(n,s),Gf(t,e),e.tag=1,Gn(n)?(t=!0,xg(e)):t=!1,Ol(e,r),g_(e,n,s),Kx(e,n,s,r),$x(null,e,n,!0,t,r);case 19:return B_(t,e,r);case 22:return v_(t,e,r)}throw Error($e(156,e.tag))};function O_(t,e){return dC(t,e)}function nE(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(t,e,r,n){return new nE(t,e,r,n)}function ry(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sE(t){if(typeof t=="function")return ry(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yw)return 11;if(t===bw)return 14}return 2}function iA(t,e){var r=t.alternate;return r===null?(r=Ns(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Jf(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")ry(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Bl:return no(r.children,s,i,e);case ww:a=8,s|=8;break;case hx:return t=Ns(12,r,e,s|2),t.elementType=hx,t.lanes=i,t;case fx:return t=Ns(13,r,e,s),t.elementType=fx,t.lanes=i,t;case gx:return t=Ns(19,r,e,s),t.elementType=gx,t.lanes=i,t;case q5:return gp(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G5:a=10;break e;case W5:a=9;break e;case yw:a=11;break e;case bw:a=14;break e;case ka:a=16,n=null;break e}throw Error($e(130,t==null?t:typeof t,""))}return e=Ns(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function no(t,e,r,n){return t=Ns(7,t,n,e),t.lanes=r,t}function gp(t,e,r,n){return t=Ns(22,t,n,e),t.elementType=q5,t.lanes=r,t.stateNode={isHidden:!1},t}function Am(t,e,r){return t=Ns(6,t,null,e),t.lanes=r,t}function om(t,e,r){return e=Ns(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iE(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ny(t,e,r,n,s,i,a,o,l){return t=new iE(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ns(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hw(i),t}function aE(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function H_(t){if(!t)return dA;t=t._reactInternals;e:{if(vo(t)!==t||t.tag!==1)throw Error($e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($e(171))}if(t.tag===1){var r=t.type;if(Gn(r))return HC(t,r,e)}return e}function M_(t,e,r,n,s,i,a,o,l){return t=ny(r,n,!0,t,s,i,a,o,l),t.context=H_(null),r=t.current,n=Fn(),s=sA(r),i=Zi(n,s),i.callback=e??null,rA(r,i,s),t.current.lanes=s,jd(t,s,n),Wn(t,n),t}function pp(t,e,r,n){var s=e.current,i=Fn(),a=sA(s);return r=H_(r),e.context===null?e.context=r:e.pendingContext=r,e=Zi(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=rA(s,e,a),t!==null&&(ei(t,s,a,i),Vf(t,s,a)),a}function Ug(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function sy(t,e){d2(t,e),(t=t.alternate)&&d2(t,e)}function AE(){return null}var R_=typeof reportError=="function"?reportError:function(t){console.error(t)};function iy(t){this._internalRoot=t}mp.prototype.render=iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($e(409));pp(t,e,null,null)};mp.prototype.unmount=iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;po(function(){pp(null,t,null,null)}),e[ra]=null}};function mp(t){this._internalRoot=t}mp.prototype.unstable_scheduleHydration=function(t){if(t){var e=vC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ia.length&&e!==0&&e<Ia[r].priority;r++);Ia.splice(r,0,t),r===0&&yC(t)}};function ay(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h2(){}function oE(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ug(a);i.call(c)}}var a=M_(e,n,t,0,null,!1,!1,"",h2);return t._reactRootContainer=a,t[ra]=a.current,sd(t.nodeType===8?t.parentNode:t),po(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Ug(l);o.call(c)}}var l=ny(t,0,!1,null,null,!1,!1,"",h2);return t._reactRootContainer=l,t[ra]=l.current,sd(t.nodeType===8?t.parentNode:t),po(function(){pp(e,l,r,n)}),l}function vp(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Ug(a);o.call(l)}}pp(e,a,t,s)}else a=oE(r,e,t,s,n);return Ug(a)}mC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=uu(e.pendingLanes);r!==0&&(_w(e,r|1),Wn(e,Br()),!(Qt&6)&&(Yl=Br()+500,vA()))}break;case 13:po(function(){var n=na(t,1);if(n!==null){var s=Fn();ei(n,t,1,s)}}),sy(t,1)}};Nw=function(t){if(t.tag===13){var e=na(t,134217728);if(e!==null){var r=Fn();ei(e,t,134217728,r)}sy(t,134217728)}};xC=function(t){if(t.tag===13){var e=sA(t),r=na(t,e);if(r!==null){var n=Fn();ei(r,t,e,n)}sy(t,e)}};vC=function(){return Kt};wC=function(t,e){var r=Kt;try{return Kt=t,e()}finally{Kt=r}};_x=function(t,e,r){switch(e){case"input":if(xx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=lp(n);if(!s)throw Error($e(90));X5(n),xx(n,s)}}}break;case"textarea":Z5(t,r);break;case"select":e=r.value,e!=null&&Il(t,!!r.multiple,e,!1)}};aC=Zw;AC=po;var lE={usingClientEntryPoint:!1,Events:[Ud,Sl,lp,sC,iC,Zw]},Jc={findFiberByHostInstance:WA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cE={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cC(t),t===null?null:t.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||AE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ip=$h.inject(cE),Ci=$h}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lE;us.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ay(e))throw Error($e(200));return aE(t,e,null,r)};us.createRoot=function(t,e){if(!ay(t))throw Error($e(299));var r=!1,n="",s=R_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ny(t,1,!1,null,null,r,!1,n,s),t[ra]=e.current,sd(t.nodeType===8?t.parentNode:t),new iy(e)};us.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($e(188)):(t=Object.keys(t).join(","),Error($e(268,t)));return t=cC(e),t=t===null?null:t.stateNode,t};us.flushSync=function(t){return po(t)};us.hydrate=function(t,e,r){if(!xp(e))throw Error($e(200));return vp(null,t,e,!0,r)};us.hydrateRoot=function(t,e,r){if(!ay(t))throw Error($e(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=R_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=M_(e,null,t,1,r??null,s,!1,i,a),t[ra]=e.current,sd(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new mp(e)};us.render=function(t,e,r){if(!xp(e))throw Error($e(200));return vp(null,t,e,!1,r)};us.unmountComponentAtNode=function(t){if(!xp(t))throw Error($e(40));return t._reactRootContainer?(po(function(){vp(null,null,t,!1,function(){t._reactRootContainer=null,t[ra]=null})}),!0):!1};us.unstable_batchedUpdates=Zw;us.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!xp(r))throw Error($e(200));if(t==null||t._reactInternals===void 0)throw Error($e(38));return vp(t,e,r,!1,n)};us.version="18.3.1-next-f1338f8080-20240426";function K_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K_)}catch(t){console.error(t)}}K_(),K5.exports=us;var uE=K5.exports,f2=uE;ux.createRoot=f2.createRoot,ux.hydrateRoot=f2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hd.apply(this,arguments)}var Ma;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ma||(Ma={}));const g2="popstate";function dE(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return sv("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:kg(s)}return fE(e,r,null,t)}function pr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function V_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hE(){return Math.random().toString(36).substr(2,8)}function p2(t,e){return{usr:t.state,key:t.key,idx:e}}function sv(t,e,r,n){return r===void 0&&(r=null),hd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oc(e):e,{state:r,key:e&&e.key||n||hE()})}function kg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function oc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fE(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Ma.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(hd({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Ma.Pop;let B=u(),x=B==null?null:B-c;c=B,l&&l({action:o,location:w.location,delta:x})}function f(B,x){o=Ma.Push;let y=sv(w.location,B,x);c=u()+1;let C=p2(y,c),S=w.createHref(y);try{a.pushState(C,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:o,location:w.location,delta:1})}function g(B,x){o=Ma.Replace;let y=sv(w.location,B,x);c=u();let C=p2(y,c),S=w.createHref(y);a.replaceState(C,"",S),i&&l&&l({action:o,location:w.location,delta:0})}function m(B){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof B=="string"?B:kg(B);return y=y.replace(/ $/,"%20"),pr(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let w={get action(){return o},get location(){return t(s,a)},listen(B){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(g2,d),l=B,()=>{s.removeEventListener(g2,d),l=null}},createHref(B){return e(s,B)},createURL:m,encodeLocation(B){let x=m(B);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(B){return a.go(B)}};return w}var m2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(m2||(m2={}));function gE(t,e,r){return r===void 0&&(r="/"),pE(t,e,r)}function pE(t,e,r,n){let s=typeof e=="string"?oc(e):e,i=Zl(s.pathname||"/",r);if(i==null)return null;let a=z_(t);mE(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=FE(i);o=NE(a[l],c)}return o}function z_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(pr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=aA([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),z_(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:CE(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of $_(i.path))s(i,a,l)}),e}function $_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=$_(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function mE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:_E(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xE=/^:[\w-]+$/,vE=3,wE=2,yE=1,bE=10,BE=-2,x2=t=>t==="*";function CE(t,e){let r=t.split("/"),n=r.length;return r.some(x2)&&(n+=BE),e&&(n+=wE),r.filter(s=>!x2(s)).reduce((s,i)=>s+(xE.test(i)?vE:i===""?yE:bE),n)}function _E(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function NE(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=iv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:aA([i,d.pathname]),pathnameBase:kE(aA([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=aA([i,d.pathnameBase]))}return a}function iv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=SE(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let w=o[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=o[d];return g&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function SE(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),V_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function FE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function jE(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?oc(t):t;return{pathname:r?r.startsWith("/")?r:EE(r,e):e,search:QE(n),hash:LE(s)}}function EE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UE(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function G_(t,e){let r=UE(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function W_(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=oc(t):(s=hd({},t),pr(!s.pathname||!s.pathname.includes("?"),lm("?","pathname","search",s)),pr(!s.pathname||!s.pathname.includes("#"),lm("#","pathname","hash",s)),pr(!s.search||!s.search.includes("#"),lm("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=jE(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const aA=t=>t.join("/").replace(/\/\/+/g,"/"),kE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const q_=["post","put","patch","delete"];new Set(q_);const PE=["get",...q_];new Set(PE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fd.apply(this,arguments)}const wp=T.createContext(null),J_=T.createContext(null),wA=T.createContext(null),yp=T.createContext(null),wo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),X_=T.createContext(null);function TE(t,e){let{relative:r}=e===void 0?{}:e;Qd()||pr(!1);let{basename:n,navigator:s}=T.useContext(wA),{hash:i,pathname:a,search:o}=bp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:aA([n,a])),s.createHref({pathname:l,search:o,hash:i})}function Qd(){return T.useContext(yp)!=null}function Ld(){return Qd()||pr(!1),T.useContext(yp).location}function Y_(t){T.useContext(wA).static||T.useLayoutEffect(t)}function Z_(){let{isDataRoute:t}=T.useContext(wo);return t?JE():DE()}function DE(){Qd()||pr(!1);let t=T.useContext(wp),{basename:e,future:r,navigator:n}=T.useContext(wA),{matches:s}=T.useContext(wo),{pathname:i}=Ld(),a=JSON.stringify(G_(s,r.v7_relativeSplatPath)),o=T.useRef(!1);return Y_(()=>{o.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=W_(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:aA([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}function bp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(wA),{matches:s}=T.useContext(wo),{pathname:i}=Ld(),a=JSON.stringify(G_(s,n.v7_relativeSplatPath));return T.useMemo(()=>W_(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function OE(t,e){return HE(t,e)}function HE(t,e,r,n){Qd()||pr(!1);let{navigator:s}=T.useContext(wA),{matches:i}=T.useContext(wo),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Ld(),u;if(e){var d;let B=typeof e=="string"?oc(e):e;l==="/"||(d=B.pathname)!=null&&d.startsWith(l)||pr(!1),u=B}else u=c;let f=u.pathname||"/",g=f;if(l!=="/"){let B=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(B.length).join("/")}let m=gE(t,{pathname:g}),w=zE(m&&m.map(B=>Object.assign({},B,{params:Object.assign({},o,B.params),pathname:aA([l,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?l:aA([l,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),i,r,n);return e&&w?T.createElement(yp.Provider,{value:{location:fd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ma.Pop}},w):w}function ME(){let t=qE(),e=IE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:s},r):null,null)}const RE=T.createElement(ME,null);class KE extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(wo.Provider,{value:this.props.routeContext},T.createElement(X_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VE(t){let{routeContext:e,match:r,children:n}=t,s=T.useContext(wp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(wo.Provider,{value:e},n)}function zE(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||pr(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let g,m=!1,w=null,B=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||RE,l&&(c<0&&f===0?(XE("route-fallback"),m=!0,B=null):c===f&&(m=!0,B=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,f+1)),y=()=>{let C;return g?C=w:m?C=B:d.route.Component?C=T.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,T.createElement(VE,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:C})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement(KE,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var e4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(e4||{}),t4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(t4||{});function $E(t){let e=T.useContext(wp);return e||pr(!1),e}function GE(t){let e=T.useContext(J_);return e||pr(!1),e}function WE(t){let e=T.useContext(wo);return e||pr(!1),e}function r4(t){let e=WE(),r=e.matches[e.matches.length-1];return r.route.id||pr(!1),r.route.id}function qE(){var t;let e=T.useContext(X_),r=GE(),n=r4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function JE(){let{router:t}=$E(e4.UseNavigateStable),e=r4(t4.UseNavigateStable),r=T.useRef(!1);return Y_(()=>{r.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fd({fromRouteId:e},i)))},[t,e])}const v2={};function XE(t,e,r){v2[t]||(v2[t]=!0)}function YE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gn(t){pr(!1)}function ZE(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ma.Pop,navigator:i,static:a=!1,future:o}=t;Qd()&&pr(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:a,future:fd({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=oc(n));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:m="default"}=n,w=T.useMemo(()=>{let B=Zl(u,l);return B==null?null:{location:{pathname:B,search:d,hash:f,state:g,key:m},navigationType:s}},[l,u,d,f,g,m,s]);return w==null?null:T.createElement(wA.Provider,{value:c},T.createElement(yp.Provider,{children:r,value:w}))}function eU(t){let{children:e,location:r}=t;return OE(av(e),r)}new Promise(()=>{});function av(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,s)=>{if(!T.isValidElement(n))return;let i=[...e,s];if(n.type===T.Fragment){r.push.apply(r,av(n.props.children,i));return}n.type!==gn&&pr(!1),!n.props.index||!n.props.children||pr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=av(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qg.apply(this,arguments)}function n4(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function tU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rU(t,e){return t.button===0&&(!e||e==="_self")&&!tU(t)}const nU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iU="6";try{window.__reactRouterVersion=iU}catch{}const aU=T.createContext({isTransitioning:!1}),AU="startTransition",w2=ej[AU];function oU(t){let{basename:e,children:r,future:n,window:s}=t,i=T.useRef();i.current==null&&(i.current=dE({window:s,v5Compat:!0}));let a=i.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=T.useCallback(d=>{c&&w2?w2(()=>l(d)):l(d)},[l,c]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.useEffect(()=>YE(n),[n]),T.createElement(ZE,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const lU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xf=T.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=n4(e,nU),{basename:g}=T.useContext(wA),m,w=!1;if(typeof c=="string"&&cU.test(c)&&(m=c,lU))try{let C=new URL(window.location.href),S=c.startsWith("//")?new URL(C.protocol+c):new URL(c),k=Zl(S.pathname,g);S.origin===C.origin&&k!=null?c=k+S.search+S.hash:w=!0}catch{}let B=TE(c,{relative:s}),x=dU(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});function y(C){n&&n(C),C.defaultPrevented||x(C)}return T.createElement("a",Qg({},f,{href:m||B,onClick:w||i?n:y,ref:r,target:l}))}),zt=T.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,d=n4(e,sU),f=bp(l,{relative:d.relative}),g=Ld(),m=T.useContext(J_),{navigator:w,basename:B}=T.useContext(wA),x=m!=null&&hU(f)&&c===!0,y=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,C=g.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(C=C.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&B&&(S=Zl(S,B)||S);const k=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=C===y||!a&&C.startsWith(y)&&C.charAt(k)==="/",I=S!=null&&(S===y||!a&&S.startsWith(y)&&S.charAt(y.length)==="/"),F={isActive:O,isPending:I,isTransitioning:x},R=O?n:void 0,J;typeof i=="function"?J=i(F):J=[i,O?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(F):o;return T.createElement(Xf,Qg({},d,{"aria-current":R,className:J,ref:r,style:Q,to:l,viewTransition:c}),typeof u=="function"?u(F):u)});var Av;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Av||(Av={}));var y2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y2||(y2={}));function uU(t){let e=T.useContext(wp);return e||pr(!1),e}function dU(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=Z_(),c=Ld(),u=bp(t,{relative:a});return T.useCallback(d=>{if(rU(d,r)){d.preventDefault();let f=n!==void 0?n:kg(c)===kg(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,u,n,s,r,t,i,a,o])}function hU(t,e){e===void 0&&(e={});let r=T.useContext(aU);r==null&&pr(!1);let{basename:n}=uU(Av.useViewTransitionState),s=bp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Zl(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Zl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return iv(s.pathname,a)!=null||iv(s.pathname,i)!=null}const fU="modulepreload",gU=function(t){return"/"+t},b2={},Ss=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=gU(l),l in b2)return;b2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":fU,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},pU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>lc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ay extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class B2 extends Ay{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class C2 extends Ay{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _2 extends Ay{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ov;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ov||(ov={}));var mU=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class xU{constructor(e,{headers:r={},customFetch:n,region:s=ov.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=pU(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mU(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:a,body:o,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(c["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(c["Content-Type"]="application/json",f=JSON.stringify(o)));const g=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:l}).catch(x=>{throw x.name==="AbortError"?x:new B2(x)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new C2(g);if(!g.ok)throw new _2(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),B;return w==="application/json"?B=yield g.json():w==="application/octet-stream"?B=yield g.blob():w==="text/event-stream"?B=g:w==="multipart/form-data"?B=yield g.formData():B=yield g.text(),{data:B,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new B2(i)}:{data:null,error:i,response:i instanceof _2||i instanceof C2?i.context:void 0}}})}}var Rn={},oy={},Bp={},Id={},Cp={},_p={},vU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ec=vU();const wU=ec.fetch,s4=ec.fetch.bind(ec),i4=ec.Headers,yU=ec.Request,bU=ec.Response,lc=Object.freeze(Object.defineProperty({__proto__:null,Headers:i4,Request:yU,Response:bU,default:s4,fetch:wU},Symbol.toStringTag,{value:"Module"})),BU=DF(lc);var Np={};Object.defineProperty(Np,"__esModule",{value:!0});let CU=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Np.default=CU;var a4=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_p,"__esModule",{value:!0});const _U=a4(BU),NU=a4(Np);let SU=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_U.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l,c;let u=null,d=null,f=null,g=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?d=y:d=JSON.parse(y))}const B=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");B&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,g=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const B=await i.text();try{u=JSON.parse(B),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,m="OK")}catch{i.status===404&&B===""?(g=204,m="No Content"):u={message:B}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,g=200,m="OK"),u&&this.shouldThrowOnError)throw new NU.default(u)}return{error:u,data:d,count:f,status:g,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};_p.default=SU;var FU=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cp,"__esModule",{value:!0});const jU=FU(_p);let EU=class extends jU.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Cp.default=EU;var UU=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Id,"__esModule",{value:!0});const kU=UU(Cp);let QU=class extends kU.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Id.default=QU;var LU=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bp,"__esModule",{value:!0});const Xc=LU(Id);let IU=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,r){const{head:n=!1,count:s}=r??{},i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Xc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Xc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Xc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Xc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Xc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Bp.default=IU;var A4=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oy,"__esModule",{value:!0});const PU=A4(Bp),TU=A4(Id);let DU=class o4{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new PU.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new TU.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};oy.default=DU;var cc=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.PostgrestError=Rn.PostgrestBuilder=Rn.PostgrestTransformBuilder=Rn.PostgrestFilterBuilder=Rn.PostgrestQueryBuilder=Rn.PostgrestClient=void 0;const l4=cc(oy);Rn.PostgrestClient=l4.default;const c4=cc(Bp);Rn.PostgrestQueryBuilder=c4.default;const u4=cc(Id);Rn.PostgrestFilterBuilder=u4.default;const d4=cc(Cp);Rn.PostgrestTransformBuilder=d4.default;const h4=cc(_p);Rn.PostgrestBuilder=h4.default;const f4=cc(Np);Rn.PostgrestError=f4.default;var OU=Rn.default={PostgrestClient:l4.default,PostgrestQueryBuilder:c4.default,PostgrestFilterBuilder:u4.default,PostgrestTransformBuilder:d4.default,PostgrestBuilder:h4.default,PostgrestError:f4.default};const{PostgrestClient:HU,PostgrestQueryBuilder:CR,PostgrestFilterBuilder:_R,PostgrestTransformBuilder:NR,PostgrestBuilder:SR,PostgrestError:FR}=OU;class MU{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const RU="2.75.0",KU=`realtime-js/${RU}`,VU="1.0.0",lv=1e4,zU=1e3,$U=100;var Qu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qu||(Qu={}));var Dr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dr||(Dr={}));var Js;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Js||(Js={}));var cv;(function(t){t.websocket="websocket"})(cv||(cv={}));var zA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zA||(zA={}));class GU{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class g4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xt||(Xt={}));const N2=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=WU(a,t,e,s),i),{}):{}},WU=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?p4(i,a):uv(a)},p4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return YU(e,r)}switch(t){case Xt.bool:return qU(e);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return JU(e);case Xt.json:case Xt.jsonb:return XU(e);case Xt.timestamp:return ZU(e);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return uv(e);default:return uv(e)}},uv=t=>t,qU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},JU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},YU=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>p4(e,o))}return t},ZU=t=>typeof t=="string"?t.replace(" ","T"):t,m4=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class cm{constructor(e,r,n={},s=lv){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var S2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(S2||(S2={}));class Lu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lu.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Lu.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Lu.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const f=u.map(B=>B.presence_ref),g=d.map(B=>B.presence_ref),m=u.filter(B=>g.indexOf(B.presence_ref)<0),w=d.filter(B=>f.indexOf(B.presence_ref)<0);m.length>0&&(o[c]=m),w.length>0&&(l[c]=w)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(g=>g.presence_ref),f=u.filter(g=>d.indexOf(g.presence_ref)<0);e[o].unshift(...f)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var F2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(F2||(F2={}));var Iu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Iu||(Iu={}));var Wi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wi||(Wi={}));class ly{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cm(this,Js.join,this.params,this.timeout),this.rejoinTimer=new g4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Js.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Lu(this),this.broadcastEndpointURL=m4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Iu.PRESENCE]&&this.bindings[Iu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Wi.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Wi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket.setAuth(),g===void 0){e==null||e(Wi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,B=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,x=[];for(let y=0;y<B;y++){const C=w[y],{filter:{event:S,schema:k,table:O,filter:I}}=C,F=g&&g[y];if(F&&F.event===S&&F.schema===k&&F.table===O&&F.filter===I)x.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),this.state=Dr.errored,e==null||e(Wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Wi.SUBSCRIBED);return}}).receive("error",g=>{this.state=Dr.errored,e==null||e(Wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Dr.joined&&e===Iu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Js.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new cm(this,Js.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cm(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$U){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Js;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var m,w,B;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((B=(w=g.filter)===null||w===void 0?void 0:w.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===a}).map(g=>g.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var m,w,B,x,y,C;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const S=g.id,k=(m=g.filter)===null||m===void 0?void 0:m.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((B=r.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const S=(y=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((C=r==null?void 0:r.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:w,table:B,commit_timestamp:x,type:y,errors:C}=m;f=Object.assign(Object.assign({},{schema:w,table:B,commit_timestamp:x,eventType:y,new:{},old:{},errors:C}),this._getPayloadRecords(m))}g.callback(f,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ly.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Js.close,{},e)}_onError(e){this._on(Js.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=N2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=N2(e.columns,e.old_record)),r}}const um=()=>{},Gh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ek=[1e3,2e3,5e3,1e4],tk=1e4,rk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nk{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lv,this.transport=null,this.heartbeatIntervalMs=Gh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=um,this.ref=0,this.reconnectTimer=null,this.logger=um,this.conn=null,this.sendBuffer=[],this.serializer=new GU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Ss(async()=>{const{default:o}=await Promise.resolve().then(()=>lc);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${cv.websocket}`,this.httpEndpoint=m4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VU}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qu.connecting:return zA.Connecting;case Qu.open:return zA.Open;case Qu.closing:return zA.Closing;default:return zA.Closed}}isConnected(){return this.connectionState()===zA.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ly(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Js.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([rk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:KU};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Js.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new g4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,o,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:lv,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Gh.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:um,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>ek[d-1]||tk,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class cy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Lr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sk extends cy{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dv extends cy{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var ik=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const x4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>lc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ak=()=>ik(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>lc),void 0)).Response:Response}),hv=t=>{if(Array.isArray(t))return t.map(r=>hv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=hv(n)}),e},Ak=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var yo=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const dm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ok=(t,e,r)=>yo(void 0,void 0,void 0,function*(){const n=yield ak();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new sk(dm(s),i,a))}).catch(s=>{e(new dv(dm(s),s))}):e(new dv(dm(t),t))}),lk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Ak(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Pd(t,e,r,n,s,i){return yo(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,lk(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ok(l,o,n))})})}function Lg(t,e,r,n){return yo(this,void 0,void 0,function*(){return Pd(t,"GET",e,r,n)})}function vi(t,e,r,n,s){return yo(this,void 0,void 0,function*(){return Pd(t,"POST",e,n,s,r)})}function fv(t,e,r,n,s){return yo(this,void 0,void 0,function*(){return Pd(t,"PUT",e,n,s,r)})}function ck(t,e,r,n){return yo(this,void 0,void 0,function*(){return Pd(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function v4(t,e,r,n,s){return yo(this,void 0,void 0,function*(){return Pd(t,"DELETE",e,n,s,r)})}var uk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class dk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return uk(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Lr(e))return{data:null,error:e};throw e}})}}var hk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class fk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new dk(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return hk(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Lr(e))return{data:null,error:e};throw e}})}}var Dn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const gk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pk{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=x4(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Dn(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},j2),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(e=="PUT"?fv:vi)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Dn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:j2.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield fv(this.fetch,o.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Lr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Dn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield vi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new cy("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Dn(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lr(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Dn(this,void 0,void 0,function*(){try{return{data:{path:(yield vi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Dn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield vi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Dn(this,void 0,void 0,function*(){try{const s=yield vi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lr(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(e),l=()=>Lg(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new fk(l,this.shouldThrowOnError)}info(e){return Dn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Lg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}exists(e){return Dn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ck(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n)&&n instanceof dv){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Dn(this,void 0,void 0,function*(){try{return{data:yield v4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Dn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gk),r),{prefix:e||""});return{data:yield vi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lr(s))return{data:null,error:s};throw s}})}listV2(e,r){return Dn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield vi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const mk="2.75.0",xk={"X-Client-Info":`storage-js/${mk}`};var el=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class vk{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xk),r),this.fetch=x4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return el(this,void 0,void 0,function*(){try{return{data:yield Lg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Lr(e))return{data:null,error:e};throw e}})}getBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield Lg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}createBucket(e){return el(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lr(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return el(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return el(this,void 0,void 0,function*(){try{return{data:yield v4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}}class wk extends vk{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new pk(this.url,this.headers,e,this.fetch)}}const yk="2.75.0";let hu="";typeof Deno<"u"?hu="deno":typeof document<"u"?hu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hu="react-native":hu="node";const bk={"X-Client-Info":`supabase-js-${hu}/${yk}`},Bk={headers:bk},Ck={schema:"public"},_k={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nk={};var Sk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Fk=t=>{let e;return t?e=t:typeof fetch>"u"?e=s4:e=fetch,(...r)=>e(...r)},jk=()=>typeof Headers>"u"?i4:Headers,Ek=(t,e,r)=>{const n=Fk(r),s=jk();return(i,a)=>Sk(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Uk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function kk(t){return t.endsWith("/")?t:t+"/"}function Qk(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Uk(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Lk(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const w4="2.75.0",pl=30*1e3,gv=3,hm=gv*pl,Ik="http://localhost:9999",Pk="supabase.auth.token",Tk={"X-Client-Info":`gotrue-js/${w4}`},pv="X-Supabase-Api-Version",y4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ok=10*60*1e3;class gd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hk extends gd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Mk(t){return dt(t)&&t.name==="AuthApiError"}class $A extends gd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yA extends gd{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ja extends yA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rk(t){return dt(t)&&t.name==="AuthSessionMissingError"}class tl extends yA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wh extends yA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qh extends yA{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Kk(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class E2 extends yA{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mv extends yA{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fm(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class U2 extends yA{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xv extends yA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ig="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k2=` 	
\r=`.split(""),Vk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<k2.length;e+=1)t[k2[e].charCodeAt(0)]=-2;for(let e=0;e<Ig.length;e+=1)t[Ig[e].charCodeAt(0)]=e;return t})();function Q2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ig[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ig[n]),e.queuedBits-=6}}function b4(t,e,r){const n=Vk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function L2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Gk(a,n,r)};for(let a=0;a<t.length;a+=1)b4(t.charCodeAt(a),s,i);return e.join("")}function zk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $k(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}zk(n,e)}}function Gk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ml(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)b4(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Wk(t){const e=[];return $k(t,r=>e.push(r)),new Uint8Array(e)}function XA(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Q2(s,r,n)),Q2(null,r,n),e.join("")}function qk(t){return Math.round(Date.now()/1e3)+t}function Jk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ns=()=>typeof window<"u"&&typeof document<"u",QA={tested:!1,writable:!1},B4=()=>{if(!ns())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(QA.tested)return QA.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),QA.tested=!0,QA.writable=!0}catch{QA.tested=!0,QA.writable=!1}return QA.writable};function Xk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const C4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>lc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Yk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ml=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},LA=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ba=async(t,e)=>{await t.removeItem(e)};class Sp{constructor(){this.promise=new Sp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Sp.promiseConstructor=Promise;function gm(t){const e=t.split(".");if(e.length!==3)throw new xv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Dk.test(e[n]))throw new xv("JWT not in base64url format");return{header:JSON.parse(L2(e[0])),payload:JSON.parse(L2(e[1])),signature:Ml(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function eQ(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function tQ(t){return("0"+t.toString(16)).substr(-2)}function rQ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,tQ).join("")}async function nQ(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function sQ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await nQ(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rl(t,e,r=!1){const n=rQ();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ml(t,`${e}-code-verifier`,s);const i=await sQ(n);return[i,n===i?"plain":"s256"]}const iQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aQ(t){const e=t.headers.get(pv);if(!e||!e.match(iQ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AQ(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oQ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nl(t){if(!lQ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function I2(t){return JSON.parse(JSON.stringify(t))}var cQ=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const MA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uQ=[502,503,504];async function P2(t){var e;if(!Yk(t))throw new mv(MA(t),0);if(uQ.includes(t.status))throw new mv(MA(t),t.status);let r;try{r=await t.json()}catch(i){throw new $A(MA(i),i)}let n;const s=aQ(t);if(s&&s.getTime()>=y4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new U2(MA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ja}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new U2(MA(r),t.status,r.weak_password.reasons);throw new Hk(MA(r),t.status||500,n)}const dQ=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function vt(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[pv]||(i[pv]=y4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await hQ(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function hQ(t,e,r,n,s,i){const a=dQ(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new mv(MA(l),0)}if(o.ok||await P2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await P2(l)}}function zs(t){var e;let r=null;pQ(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=qk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function T2(t){const e=zs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ta(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fQ(t){return{data:t,error:null}}function gQ(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=cQ(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function D2(t){return t}function pQ(t){return t.access_token&&t.refresh_token&&t.expires_in}const mm=["global","local","others"];var mQ=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class xQ{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=C4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=mm[0]){if(mm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mm.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ta})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=mQ(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gQ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ta})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:D2});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(m.split(";")[1].split("=")[1]);c[`${B}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(dt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){nl(e);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ta})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){nl(e);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ta})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){nl(e);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ta})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){nl(e.userId);try{const{data:r,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){nl(e.userId),nl(e.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:D2});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(m.split(";")[1].split("=")[1]);c[`${B}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(dt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function O2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const sl={debug:!!(globalThis&&B4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vQ extends _4{}async function wQ(t,e,r){sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),sl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vQ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function yQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function N4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function bQ(t){return parseInt(t,16)}function BQ(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function CQ(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=N4(t.address),m=u?`${u}://${n}`:n,w=t.statement?`${t.statement}
`:"",B=`${m} wants you to sign in with your Ethereum account:
${g}

${w}`;let x=`URI: ${d}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const C of c){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);y+=`
- ${C}`}x+=y}return`${B}
${x}`}class Qr extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Pg extends Qr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function _Q({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Qr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Qr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Qr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Qr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Qr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(F4(a)){if(i.rp.id!==a)return new Qr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Qr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function NQ({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Qr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(F4(n)){if(r.rpId!==n)return new Qr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var S4=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class SQ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const FQ=new SQ;function jQ(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=S4(t,["challenge","user","excludeCredentials"]),i=Ml(e).buffer,a=Object.assign(Object.assign({},r),{id:Ml(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ml(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function EQ(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=S4(t,["challenge","allowCredentials"]),s=Ml(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Ml(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function UQ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:XA(new Uint8Array(t.response.attestationObject)),clientDataJSON:XA(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kQ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:XA(new Uint8Array(s.authenticatorData)),clientDataJSON:XA(new Uint8Array(s.clientDataJSON)),signature:XA(new Uint8Array(s.signature)),userHandle:s.userHandle?XA(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function F4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function H2(){var t,e;return!!(ns()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QQ(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pg("Browser returned unexpected credential type",e)}:{data:null,error:new Pg("Empty credential response",e)}}catch(e){return{data:null,error:_Q({error:e,options:t})}}}async function LQ(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pg("Browser returned unexpected credential type",e)}:{data:null,error:new Pg("Empty credential response",e)}}catch(e){return{data:null,error:NQ({error:e,options:t})}}}const IQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},PQ={userVerification:"preferred",hints:["security-key"]};function Tg(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const o=n[i];e(o)?n[i]=Tg(o,a):n[i]=Tg(a)}else n[i]=a}return n}function TQ(t,e){return Tg(IQ,t,e||{})}function DQ(t,e){return Tg(PQ,t,e||{})}class OQ{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=s??FQ.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=TQ(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await QQ({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=DQ(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await LQ(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(a){return dt(a)?{data:null,error:a}:{data:null,error:new $A("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new gd("rpId is required for WebAuthn authentication")};try{if(!H2())return{data:null,error:new $A("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return dt(a)?{data:null,error:a}:{data:null,error:new $A("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new gd("rpId is required for WebAuthn registration")};try{if(!H2())return{data:null,error:new $A("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return dt(a)?{data:null,error:a}:{data:null,error:new $A("Unexpected error in register",a)}}}}yQ();const HQ={url:Ik,storageKey:Pk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function M2(t,e,r){return await r()}const il={};class pd{get jwks(){var e,r;return(r=(e=il[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){il[this.storageKey]=Object.assign(Object.assign({},il[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=il[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){il[this.storageKey]=Object.assign(Object.assign({},il[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&ns()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},HQ),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xQ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=C4(s.fetch),this.lock=s.lock||M2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ns()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=wQ:this.lock=M2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OQ(this)},this.persistSession?(s.storage?this.storage=s.storage:B4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=O2(this.memoryStorage)),ns()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${w4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Xk(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ns()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Kk(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?{error:r}:{error:new $A("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:zs}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await rl(this.storage,this.storageKey)),i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:m},xform:zs})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zs})}else throw new Wh("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:T2})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:T2})}else throw new Wh("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new tl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,o,l,c,u,d,f;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:w,wallet:B,statement:x,options:y}=e;let C;if(ns())if(typeof B=="object")C=B;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")C=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=B}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),k=await C.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=N4(k[0]);let I=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!I){const R=await C.request({method:"eth_chainId"});I=bQ(R)}const F={domain:S.host,address:O,statement:x,uri:S.href,version:"1",chainId:I,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=CQ(F),m=await C.request({method:"personal_sign",params:[BQ(g),O]})}try{const{data:w,error:B}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:zs});if(B)throw B;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new tl}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:B})}catch(w){if(dt(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var r,n,s,i,a,o,l,c,u,d,f,g;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:B,wallet:x,statement:y,options:C}=e;let S;if(ns())if(typeof x=="object")S=x;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))S=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const k=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const O=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let I;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")I=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)I=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)m=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=C==null?void 0:C.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=C==null?void 0:C.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((d=(u=C==null?void 0:C.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...C.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const O=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=O}}try{const{data:B,error:x}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:XA(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:zs});if(x)throw x;return!B||!B.session||!B.user?{data:{user:null,session:null},error:new tl}:(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),{data:Object.assign({},B),error:x})}catch(B){if(dt(B))return{data:{user:null,session:null},error:B};throw B}}async _exchangeCodeForSession(e){const r=await LA(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:zs});if(await Ba(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new tl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(dt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zs}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new tl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await rl(this.storage,this.storageKey));const{error:d}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Wh("You must provide either an email or phone number.")}catch(o){if(dt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:zs});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await rl(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:fQ})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ja;const{error:s}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Wh("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await LA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await LA(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=pm()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ta}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ja}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ta})})}catch(r){if(dt(r))return Rk(r)&&(await this._removeSession(),await Ba(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ja;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await rl(this.storage,this.storageKey));const{data:c,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ta});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ja;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=gm(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ja;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ns())throw new qh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new E2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new E2("No code detected.");const{data:y,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new qh("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const g=f-u;g*1e3<=pl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:w,error:B}=await this._getUser(i);if(B)throw B;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await LA(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Mk(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ba(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Jk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await rl(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,u;const{data:d,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ns()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(dt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:c,nonce:u}=e,d=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zs}),{data:f,error:g}=d;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new tl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eQ(async s=>(s>0&&await Zk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zs})),(s,i)=>{const a=200*Math.pow(2,s);return i&&fm(i)&&Date.now()+a-n<pl})}catch(n){if(this._debug(r,"error",n),dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ns()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await LA(this.storage,this.storageKey);if(s&&this.userStorage){let a=await LA(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ml(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:pm()}else if(s&&!s.user&&!s.user){const a=await LA(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ba(this.storage,this.storageKey+"-user"),await ml(this.storage,this.storageKey,s)):s.user=pm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${hm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),fm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sp;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new ja;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),dt(i)){const a={data:null,error:i};return fm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ml(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=I2(s);await ml(this.storage,this.storageKey,i)}else{const s=I2(r);await ml(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ba(this.storage,this.storageKey),await Ba(this.storage,this.storageKey+"-code-verifier"),await Ba(this.storage,this.storageKey+"-user"),this.userStorage&&await Ba(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ns()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/pl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pl}ms, refresh threshold is ${gv} ticks`),s<=gv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ns()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await rl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?UQ(e.webauthn.credential_response):kQ(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:jQ(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:EQ(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=gm(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Ok>s)return n;const{data:i,error:a}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=gm(n);r!=null&&r.allowExpired||AQ(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const u=oQ(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,Wk(`${o}.${l}`)))throw new xv("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}}pd.nextInstanceID=0;const MQ=pd;class RQ extends MQ{constructor(e){super(e)}}var KQ=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class VQ{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const o=Lk(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Ck,realtime:Nk,auth:Object.assign(Object.assign({},_k),{storageKey:l}),global:Bk},u=Qk(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=Ek(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new HU(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new wk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new xU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return KQ(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new nk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zQ=(t,e,r)=>new VQ(t,e,r);function $Q(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$Q()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vv="https://blgvfnhpnieqzcyfgtnn.supabase.co",j4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJsZ3ZmbmhwbmllcXpjeWZndG5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1MTI3OTMsImV4cCI6MjA3NjA4ODc5M30.O5HIskUBqArBQNPMeQ8inEu6RzSAzCVaGo0pkCQ4xu4";if(!vv.startsWith("https://")||!vv.includes(".supabase.co"))throw new Error("Missing or invalid VITE_SUPABASE_URL. Set it to your project URL, e.g. https://YOUR_PROJECT.supabase.co");if(j4.length<20)throw new Error("Missing or invalid VITE_SUPABASE_ANON_KEY. Copy the anon public key from your Supabase project settings.");const Je=zQ(vv,j4);function E4({onClose:t}){const[e,r]=T.useState([]),[n,s]=T.useState(!0),[i,a]=T.useState(!1),o=m=>{const w=new Date,B=new Date(m);B.getFullYear()!==w.getFullYear()&&(B.setFullYear(w.getFullYear()),B<w&&B.setFullYear(w.getFullYear()+1));const x=B.getTime()-w.getTime();return Math.ceil(x/(1e3*60*60*24))},l=m=>{const w=[],B=new Date;return m.forEach(x=>{if(x.birthdate){const y=o(x.birthdate);y>=0&&y<=30&&w.push({id:`birthday-${x.id}`,type:"birthday",employee:x,date:x.birthdate,daysUntil:y,message:y===0?` Today is ${x.name}'s birthday!`:y===1?` ${x.name}'s birthday is tomorrow`:` ${x.name}'s birthday is in ${y} days`})}if(x.employment_status==="probationary"&&x.date_hired){const y=new Date(x.date_hired),C=new Date(y);C.setMonth(C.getMonth()+6);const S=Math.ceil((C.getTime()-B.getTime())/(1e3*60*60*24));S>=0&&S<=30&&w.push({id:`regularization-${x.id}`,type:"regularization",employee:x,date:C.toISOString().split("T")[0],daysUntil:S,message:S===0?` ${x.name} is eligible for regularization today!`:S===1?` ${x.name} is eligible for regularization tomorrow`:` ${x.name} is eligible for regularization in ${S} days`})}if(x.date_hired){const y=new Date(x.date_hired),C=new Date(B.getFullYear(),y.getMonth(),y.getDate());C<B&&C.setFullYear(B.getFullYear()+1);const S=Math.ceil((C.getTime()-B.getTime())/(1e3*60*60*24)),k=B.getFullYear()-y.getFullYear();if(k>=1&&S>=0&&S<=30){const O=k+(C.getFullYear()>B.getFullYear()?0:1);w.push({id:`anniversary-${x.id}`,type:"anniversary",employee:x,date:C.toISOString().split("T")[0],daysUntil:S,message:S===0?` Today is ${x.name}'s ${O} year work anniversary!`:S===1?` ${x.name}'s ${O} year work anniversary is tomorrow`:` ${x.name}'s ${O} year work anniversary is in ${S} days`})}}}),w.sort((x,y)=>x.daysUntil-y.daysUntil)},c=async()=>{s(!0);try{const{data:m,error:w}=await Je.from("employees").select("*").order("name");if(w)throw w;const B=l(m||[]);r(B)}catch(m){console.error("Error fetching notifications:",m)}finally{s(!1)}};T.useEffect(()=>{c()},[]);const u=e.filter(m=>m.daysUntil<=7),d=e.filter(m=>m.daysUntil>7),f=(m,w)=>{if(w===0)return"bg-red-50 border-red-200 text-red-800";if(w<=3)return"bg-orange-50 border-orange-200 text-orange-800";if(w<=7)return"bg-yellow-50 border-yellow-200 text-yellow-800";switch(m){case"birthday":return"bg-pink-50 border-pink-200 text-pink-800";case"regularization":return"bg-blue-50 border-blue-200 text-blue-800";case"anniversary":return"bg-purple-50 border-purple-200 text-purple-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},g=m=>{const w=new Date(m);return w.toLocaleDateString("en-US",{month:"short",day:"numeric",year:w.getFullYear()!==new Date().getFullYear()?"numeric":void 0})};return n?A.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:A.jsxs("div",{className:"animate-pulse",children:[A.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-3"}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("div",{className:"h-3 bg-slate-200 rounded"}),A.jsx("div",{className:"h-3 bg-slate-200 rounded w-5/6"})]})]})}):e.length===0?A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("h3",{className:"text-base font-semibold text-slate-900",children:" Notifications"}),t&&A.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:""})]}),A.jsx("p",{className:"text-sm text-slate-600",children:"No upcoming birthdays, regularizations, or anniversaries."})]}):A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsxs("h3",{className:"text-base font-semibold text-slate-900",children:[" Notifications (",e.length,")"]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>a(!i),className:"text-sm text-blue-600 hover:text-blue-800",children:i?"Show Less":"Show All"}),t&&A.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:""})]})]}),A.jsxs("div",{className:"space-y-3",children:[u.length>0&&A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:" Urgent (Within 7 days)"}),A.jsx("div",{className:"space-y-2",children:u.map(m=>A.jsx("div",{className:`p-3 rounded-lg border ${f(m.type,m.daysUntil)}`,children:A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-sm font-medium",children:m.message}),A.jsxs("p",{className:"text-xs mt-1 opacity-75",children:[m.employee.position&&`${m.employee.position}  `,g(m.date)]})]}),A.jsx("span",{className:"text-xs font-medium ml-2",children:m.daysUntil===0?"Today":`${m.daysUntil}d`})]})},m.id))})]}),i&&d.length>0&&A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:" Upcoming (8-30 days)"}),A.jsx("div",{className:"space-y-2",children:d.map(m=>A.jsx("div",{className:`p-3 rounded-lg border ${f(m.type,m.daysUntil)}`,children:A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-sm font-medium",children:m.message}),A.jsxs("p",{className:"text-xs mt-1 opacity-75",children:[m.employee.position&&`${m.employee.position}  `,g(m.date)]})]}),A.jsxs("span",{className:"text-xs font-medium ml-2",children:[m.daysUntil,"d"]})]})},m.id))})]}),!i&&d.length>0&&A.jsxs("p",{className:"text-xs text-slate-500 text-center",children:["+",d.length," more upcoming notifications"]})]})]})}function R2(){const[t,e]=T.useState([]),[r,n]=T.useState(!1),[s,i]=T.useState(!0),a=d=>{const f=new Date,g=new Date(d);g.getFullYear()!==f.getFullYear()&&(g.setFullYear(f.getFullYear()),g<f&&g.setFullYear(f.getFullYear()+1));const m=g.getTime()-f.getTime();return Math.ceil(m/(1e3*60*60*24))},o=d=>{const f=[],g=new Date;return d.forEach(m=>{if(m.birthdate){const w=a(m.birthdate);w>=0&&w<=30&&f.push({id:`birthday-${m.id}`,type:"birthday",employee:m,date:m.birthdate,daysUntil:w,message:w===0?` Today is ${m.name}'s birthday!`:w===1?` ${m.name}'s birthday is tomorrow`:` ${m.name}'s birthday is in ${w} days`})}if(m.employment_status==="probationary"&&m.date_hired){const w=new Date(m.date_hired),B=new Date(w);B.setMonth(B.getMonth()+6);const x=Math.ceil((B.getTime()-g.getTime())/(1e3*60*60*24));x>=0&&x<=30&&f.push({id:`regularization-${m.id}`,type:"regularization",employee:m,date:B.toISOString().split("T")[0],daysUntil:x,message:x===0?` ${m.name} is eligible for regularization today!`:x===1?` ${m.name} is eligible for regularization tomorrow`:` ${m.name} is eligible for regularization in ${x} days`})}if(m.date_hired){const w=new Date(m.date_hired),B=new Date(g.getFullYear(),w.getMonth(),w.getDate());B<g&&B.setFullYear(g.getFullYear()+1);const x=Math.ceil((B.getTime()-g.getTime())/(1e3*60*60*24)),y=g.getFullYear()-w.getFullYear();if(y>=1&&x>=0&&x<=30){const C=y+(B.getFullYear()>g.getFullYear()?0:1);f.push({id:`anniversary-${m.id}`,type:"anniversary",employee:m,date:B.toISOString().split("T")[0],daysUntil:x,message:x===0?` Today is ${m.name}'s ${C} year work anniversary!`:x===1?` ${m.name}'s ${C} year work anniversary is tomorrow`:` ${m.name}'s ${C} year work anniversary is in ${x} days`})}}}),f.sort((m,w)=>m.daysUntil-w.daysUntil)},l=async()=>{i(!0);try{const{data:d,error:f}=await Je.from("employees").select("*").order("name");if(f)throw f;const g=o(d||[]);e(g)}catch(d){console.error("Error fetching notifications:",d)}finally{i(!1)}};T.useEffect(()=>{l()},[]);const c=t.filter(d=>d.daysUntil<=7).length,u=t.length>0;return A.jsxs("div",{className:"relative",children:[A.jsxs("button",{onClick:()=>n(!r),className:`relative rounded-lg p-2 transition-all ${u?"bg-red-100 text-red-600 hover:bg-red-200":"bg-white text-gray-600 hover:bg-gray-100"} shadow-sm hover:shadow-md`,children:[A.jsxs("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM11 19H6.5A2.5 2.5 0 014 16.5v-9A2.5 2.5 0 016.5 5h11A2.5 2.5 0 0120 7.5v3.5"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7v6l4 4"})]}),u&&A.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white",children:t.length>9?"9+":t.length}),c>0&&A.jsx("span",{className:"absolute -top-1 -left-1 h-3 w-3 rounded-full bg-orange-500 animate-pulse"})]}),r&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),A.jsx("div",{className:"absolute right-0 top-full z-20 mt-2 w-80 max-h-96 overflow-y-auto",children:A.jsx(E4,{onClose:()=>n(!1)})})]})]})}function GQ({transactions:t}){const e=t.reduce((i,a)=>(a.type==="in"&&(i.in+=a.amount),a.type==="out"&&(i.out+=a.amount),a.type==="expense"&&(i.expense+=a.amount),i),{in:0,out:0,expense:0}),r=e.in-(e.out+e.expense),n=i=>i.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),s=(i,a,o,l,c,u)=>A.jsxs("div",{className:`group relative overflow-hidden rounded-xl border bg-white p-6 shadow-sm transition-all hover:shadow-md ${l}`,children:[A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:i}),A.jsxs("div",{className:`mt-3 text-3xl font-bold ${c}`,children:["",n(a)]})]}),A.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${u} transition-transform group-hover:scale-110`,children:o})]}),A.jsx("div",{className:"mt-4 flex items-center gap-1 text-xs text-gray-500",children:A.jsxs("span",{children:[t.filter(d=>i==="Cash In"&&d.type==="in"||i==="Cash Out"&&d.type==="out"||i==="Expenses"&&d.type==="expense").length," transactions"]})})]});return A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s("Cash In",e.in,A.jsx("svg",{className:"h-6 w-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),"border-emerald-100 hover:border-emerald-200","text-emerald-700","bg-emerald-100"),s("Cash Out",e.out,A.jsx("svg",{className:"h-6 w-6 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),"border-amber-100 hover:border-amber-200","text-amber-700","bg-amber-100"),s("Expenses",e.expense,A.jsx("svg",{className:"h-6 w-6 text-rose-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"border-rose-100 hover:border-rose-200","text-rose-700","bg-rose-100"),s("Balance",r,A.jsx("svg",{className:`h-6 w-6 ${r>=0?"text-emerald-600":"text-rose-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r>=0?"border-emerald-200 hover:border-emerald-300":"border-rose-200 hover:border-rose-300",r>=0?"text-emerald-700":"text-rose-700",r>=0?"bg-emerald-100":"bg-rose-100")]})}function WQ({onCreated:t}){const[e,r]=T.useState(()=>new Date().toISOString().slice(0,10)),[n,s]=T.useState("in"),[i,a]=T.useState(""),[o,l]=T.useState(""),[c,u]=T.useState(""),[d,f]=T.useState(null),[g,m]=T.useState(!1),[w,B]=T.useState(null),x=async y=>{y.preventDefault(),B(null);const C=Number(i);if(!C||C<=0){B("Amount must be a positive number");return}m(!0);let S=null;if(d)try{const O=d;if(!""){const{error:F}=await Je.storage.from("receipts").list("",{limit:1});if(F){B("Storage bucket 'receipts' not found. Create it in Supabase Storage (Storage  Create bucket  name: receipts)."),m(!1);return}const R=O.name.includes(".")?O.name.split(".").pop():"bin",J=`receipt-${Date.now()}.${R}`,{data:Q,error:j}=await Je.storage.from("receipts").upload(J,O,{cacheControl:"3600",upsert:!1,contentType:O.type||"application/octet-stream"});if(j){B(j!=null&&j.message?`Upload failed: ${j.message}`:`Upload failed: ${String(j)}`),m(!1);return}if(!Q||!Q.path){B("Unexpected upload result"),m(!1);return}const{data:K}=Je.storage.from("receipts").getPublicUrl(Q.path);S=(K==null?void 0:K.publicUrl)??null}}catch(O){B((O==null?void 0:O.message)||String(O)),m(!1);return}const{error:k}=await Je.from("transactions").insert({date:e,type:n,amount:C,category:o||null,note:c||null,receipt_url:S});if(m(!1),k){B(k.message);return}a(""),l(""),u(""),f(null),t()};return A.jsxs("form",{onSubmit:x,className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Add Transaction"}),A.jsx("span",{className:"text-xs text-slate-500",children:"Quick entry"})]}),A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-5",children:[A.jsxs("div",{className:"sm:col-span-1",children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Date"}),A.jsx("input",{type:"date",value:e,onChange:y=>r(y.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),A.jsxs("div",{className:"sm:col-span-1",children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Type"}),A.jsxs("select",{value:n,onChange:y=>s(y.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"in",children:"Cash In"}),A.jsx("option",{value:"out",children:"Cash Out"}),A.jsx("option",{value:"expense",children:"Expense"})]})]}),A.jsxs("div",{className:"sm:col-span-1",children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Amount"}),A.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[A.jsx("span",{className:"inline-flex items-center rounded-l-md border border-r-0 border-slate-300 bg-slate-50 px-3 text-slate-500",children:""}),A.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:i,onChange:y=>a(y.target.value),className:"w-full rounded-r-md border border-slate-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),A.jsxs("div",{className:"sm:col-span-1",children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Category"}),A.jsx("input",{type:"text",placeholder:"e.g. Salary, Supplies",value:o,onChange:y=>l(y.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),A.jsxs("div",{className:"sm:col-span-1",children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Note"}),A.jsx("input",{type:"text",placeholder:"Optional",value:c,onChange:y=>u(y.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),A.jsxs("div",{className:"sm:col-span-1",children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Receipt (photo)"}),A.jsx("input",{type:"file",accept:"image/*",onChange:y=>{var C;return f(((C=y.target.files)==null?void 0:C[0])??null)},className:"mt-1 w-full"})]})]}),w&&A.jsx("p",{className:"mt-3 text-sm text-rose-600",children:w}),A.jsx("div",{className:"mt-4",children:A.jsx("button",{disabled:g,type:"submit",className:"inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-60",children:g?"Saving...":"Add Transaction"})})]})}const qQ=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function JQ({refreshKey:t,onChanged:e}){const[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,o]=T.useState(null);T.useEffect(()=>{let B=!1;return(async()=>{i(!0),o(null);const{data:y,error:C}=await Je.from("transactions").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});B||(C?o(C.message):n(y??[]),i(!1))})(),()=>{B=!0}},[t]);const l=async B=>{if(!confirm("Delete this transaction?"))return;const{error:x}=await Je.from("transactions").delete().eq("id",B);x?alert(x.message):e()},[c,u]=T.useState(null),[d,f]=T.useState({date:"",type:"in",amount:"",category:"",note:"",receipt:"",receiptFile:null}),g=B=>{u(B.id),f({date:B.date,type:B.type,amount:B.amount,category:B.category??"",note:B.note??"",receipt:B.receipt_url??"",receiptFile:null})},m=()=>{u(null),f({date:"",type:"in",amount:"",category:"",note:"",receipt:"",receiptFile:null})},w=async()=>{if(!d.amount||Number(d.amount)<=0)return alert("Enter a positive amount");let B;if(d.receiptFile)try{const C=d.receiptFile.name.split(".").pop(),S=`receipt-${Date.now()}.${C}`,{data:k,error:O}=await Je.storage.from("receipts").upload(S,d.receiptFile,{cacheControl:"3600",upsert:!1});if(O)throw O;const{data:I}=Je.storage.from("receipts").getPublicUrl(k.path);B=I.publicUrl}catch(C){return alert(C.message||String(C))}else d.receipt===""&&(B=null);const x={date:d.date,type:d.type,amount:Number(d.amount),category:d.category||null,note:d.note||null};B!==void 0&&(x.receipt_url=B);const{error:y}=await Je.from("transactions").update(x).eq("id",c);if(y)return alert(y.message);m(),e()};return s?A.jsx("div",{className:"mt-4 text-sm text-slate-600",children:"Loading..."}):a?A.jsx("div",{className:"mt-4 text-sm text-rose-600",children:a}):A.jsx("div",{className:"mt-4 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[A.jsx("thead",{className:"bg-slate-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Date"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Type"}),A.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Amount"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Category"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Note"}),A.jsx("th",{className:"px-4 py-2"})]})}),A.jsxs("tbody",{className:"divide-y divide-slate-200",children:[r.map((B,x)=>A.jsx("tr",{className:x%2===0?"bg-white":"bg-slate-50 hover:bg-slate-100",children:c===B.id?A.jsxs(A.Fragment,{children:[A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsx("input",{type:"date",value:d.date,onChange:y=>f(C=>({...C,date:y.target.value})),className:"w-full rounded border px-2 py-1"})}),A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsxs("select",{value:d.type,onChange:y=>f(C=>({...C,type:y.target.value})),className:"w-full rounded border px-2 py-1",children:[A.jsx("option",{value:"in",children:"in"}),A.jsx("option",{value:"out",children:"out"}),A.jsx("option",{value:"expense",children:"expense"})]})}),A.jsx("td",{className:"px-4 py-2 text-right text-sm",children:A.jsx("input",{type:"number",step:"0.01",value:d.amount,onChange:y=>f(C=>({...C,amount:y.target.value===""?"":Number(y.target.value)})),className:"w-full rounded border px-2 py-1 text-right"})}),A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsx("input",{type:"text",value:d.category,onChange:y=>f(C=>({...C,category:y.target.value})),className:"w-full rounded border px-2 py-1"})}),A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsxs("div",{children:[A.jsx("input",{type:"text",value:d.note,onChange:y=>f(C=>({...C,note:y.target.value})),className:"w-full rounded border px-2 py-1"}),A.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[d.receipt?A.jsx("img",{src:d.receipt,alt:"receipt",className:"h-12 w-12 rounded object-cover border"}):null,A.jsx("input",{type:"file",accept:"image/*",onChange:y=>f(C=>{var S;return{...C,receiptFile:((S=y.target.files)==null?void 0:S[0])??null}})}),d.receipt&&A.jsx("button",{type:"button",className:"rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>f(y=>({...y,receipt:"",receiptFile:null})),children:"Remove"})]})]})}),A.jsxs("td",{className:"px-4 py-2 text-right flex gap-2",children:[A.jsx("button",{type:"button",className:"rounded bg-blue-600 px-2 py-1 text-white",onClick:w,children:"Save"}),A.jsx("button",{type:"button",className:"rounded bg-gray-400 px-2 py-1 text-white",onClick:m,children:"Cancel"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("td",{className:"px-4 py-2 text-sm text-slate-800",children:qQ(B.date)}),A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsx("span",{className:B.type==="in"?"rounded bg-emerald-100 px-2 py-1 text-emerald-800":B.type==="out"?"rounded bg-amber-100 px-2 py-1 text-amber-800":"rounded bg-rose-100 px-2 py-1 text-rose-800",children:B.type})}),A.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-slate-900",children:[""," ",B.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),A.jsx("td",{className:"px-4 py-2 text-sm text-slate-700",children:B.category??""}),A.jsx("td",{className:"px-4 py-2 text-sm text-slate-700",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{children:B.note??""}),B.receipt_url?A.jsx("a",{href:B.receipt_url,target:"_blank",rel:"noreferrer",children:A.jsx("img",{src:B.receipt_url,alt:"receipt",className:"h-8 w-8 rounded object-cover border"})}):null]})}),A.jsxs("td",{className:"px-4 py-2 text-right flex gap-2",children:[A.jsx("button",{type:"button",className:"rounded bg-yellow-500 px-2 py-1 text-white",onClick:()=>g(B),children:"Edit"}),A.jsx("button",{onClick:()=>l(B.id),className:"rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",children:"Delete"})]})]})},B.id)),r.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-slate-500",children:"No transactions yet."})})]})]})})}const XQ=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function K2(){const[t,e]=T.useState(0),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,o]=T.useState(null),[l,c]=T.useState(!1);T.useEffect(()=>{let f=!1;return(async()=>{i(!0),o(null);const{data:m,error:w}=await Je.from("transactions").select("*");f||(w?o(w.message):n(m??[]),i(!1))})(),()=>{f=!0}},[t]);const u=()=>e(f=>f+1),d=r.sort((f,g)=>new Date(g.date).getTime()-new Date(f.date).getTime()).slice(0,5);return A.jsxs("div",{className:"space-y-8",children:[A.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700 p-8 text-white shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-bold",children:"Welcome Back!"}),A.jsx("p",{className:"mt-2 text-blue-100",children:"Track your finances and manage your business accounting with ease"})]}),A.jsx("div",{className:"hidden md:block",children:A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-sm text-blue-100",children:"Today"}),A.jsx("div",{className:"text-2xl font-semibold",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})})]})}),A.jsx(E4,{}),A.jsx("div",{children:s?A.jsx("div",{className:"flex items-center justify-center rounded-xl border border-gray-200 bg-white p-12",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),A.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Loading your financial summary..."})]})}):a?A.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-6",children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-red-900",children:"Connection Error"}),A.jsx("p",{className:"mt-1 text-sm text-red-700",children:a}),A.jsx("p",{className:"mt-2 text-xs text-red-600",children:"Please check your Supabase configuration in .env.local"})]})]})}):A.jsx(GQ,{transactions:r})}),A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[A.jsxs("button",{onClick:()=>c(!l),className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-blue-500 hover:bg-blue-50",children:[A.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),A.jsxs("div",{className:"text-left",children:[A.jsx("div",{className:"font-semibold text-gray-900",children:"Add Transaction"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Record income or expense"})]})]}),A.jsxs(Xf,{to:"/invoice",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-emerald-500 hover:bg-emerald-50",children:[A.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-emerald-100 text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),A.jsxs("div",{className:"text-left",children:[A.jsx("div",{className:"font-semibold text-gray-900",children:"Create Invoice"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Generate client invoice"})]})]}),A.jsxs(Xf,{to:"/reports",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-purple-500 hover:bg-purple-50",children:[A.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600 group-hover:bg-purple-600 group-hover:text-white",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),A.jsxs("div",{className:"text-left",children:[A.jsx("div",{className:"font-semibold text-gray-900",children:"View Reports"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Financial insights"})]})]}),A.jsxs(Xf,{to:"/payroll",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-amber-500 hover:bg-amber-50",children:[A.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 text-amber-600 group-hover:bg-amber-600 group-hover:text-white",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),A.jsxs("div",{className:"text-left",children:[A.jsx("div",{className:"font-semibold text-gray-900",children:"Manage Payroll"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Employee payments"})]})]})]}),l&&A.jsx("div",{className:"animate-fadeIn",children:A.jsx(WQ,{onCreated:()=>{u(),c(!1)}})}),!s&&!a&&d.length>0&&A.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),A.jsxs("span",{className:"text-xs text-gray-500",children:[d.length," recent transactions"]})]}),A.jsx("div",{className:"space-y-3",children:d.map(f=>A.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 p-4 hover:bg-gray-50",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${f.type==="in"?"bg-emerald-100 text-emerald-600":f.type==="out"?"bg-amber-100 text-amber-600":"bg-rose-100 text-rose-600"}`,children:f.type==="in"?"":""}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:f.category||"Uncategorized"}),A.jsxs("div",{className:"text-xs text-gray-500",children:[XQ(f.date)," ",f.note&&` ${f.note}`]})]})]}),A.jsxs("div",{className:`text-lg font-semibold ${f.type==="in"?"text-emerald-600":"text-gray-900"}`,children:[f.type==="in"?"+":"-","",f.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]},f.id))})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Transactions"}),A.jsx("button",{onClick:()=>c(!l),className:"text-sm text-blue-600 hover:text-blue-700",children:l?"Hide Form":"Add New"})]}),A.jsx(JQ,{refreshKey:t,onChanged:u})]})]})}function YQ(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${e}-${r}`}function V2(t){const[e,r]=t.split("-").map(Number),n=new Date(e,r-1,1),s=new Date(e,r,0),i=a=>a.toISOString().slice(0,10);return{first:i(n),last:i(s)}}function ZQ(){const[t,e]=T.useState(()=>YQ(new Date)),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,o]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState([]),[f,g]=T.useState(!1),[m,w]=T.useState(!1),[B,x]=T.useState("");T.useEffect(()=>{let F=!1;return(async()=>{i(!0),o(null);const{first:J,last:Q}=V2(t),{data:j,error:K}=await Je.from("transactions").select("*").gte("date",J).lte("date",Q).order("date",{ascending:!1}).order("created_at",{ascending:!1});F||(K?o(K.message):n(j??[]),i(!1))})(),()=>{F=!0}},[t]);const{credit:y,debit:C,remaining:S}=T.useMemo(()=>{const F=r.reduce((R,J)=>(J.type==="in"?R.credit+=J.amount:R.debit+=J.amount,R),{credit:0,debit:0});return{...F,remaining:F.credit-F.debit}},[r]),k=()=>{if(!B.trim()){o("Please paste some text first");return}c(!0),o(null);try{const F=O(B);F.length===0?o("No transactions found. Please check the format."):(d(F),g(!0),w(!1),x(""))}catch(F){o("Failed to parse text. Please check the format."),console.error(F)}finally{c(!1)}},O=F=>{const R=F.split(`
`).filter(j=>j.trim()),J=[],Q=/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/;for(let j=0;j<R.length;j++){const K=R[j].trim();if(K.match(/^(DATE|DESCRIPTION|DEBIT|CREDIT|TOTAL|CASH ON HAND)/i))continue;const $=K.match(Q);if($){const de=$[1],te=K.substring($.index+de.length).trim(),le=te.match(/[\d,]+\.?\d*/g),q=(le==null?void 0:le.map(_=>parseFloat(_.replace(/,/g,""))))||[];let se=te;if(q.length>0&&le){const _=te.indexOf(le[0]);_>0&&(se=te.substring(0,_).trim())}const oe=de.split(/[\/\-]/);let Z="";if(oe.length===3){const[_,L,M]=oe;Z=`${M.length===2?`20${M}`:M}-${_.padStart(2,"0")}-${L.padStart(2,"0")}`}if(Z&&se&&q.length>0){let _=0,L=0;q.length>=2?(_=q[0],L=q[1]):q.length===1&&(L=q[0]),J.push({date:Z,description:se,debit:_,credit:L})}}}return J},I=async()=>{if(u.length!==0){c(!0),o(null);try{const F=u.map(K=>({date:K.date,type:K.credit>0&&K.debit===0?"in":K.debit>0?"expense":"out",amount:K.credit>0&&K.debit===0?K.credit:K.debit,category:"Imported",note:K.description})),{error:R}=await Je.from("transactions").insert(F);if(R)throw R;const{first:J,last:Q}=V2(t),{data:j}=await Je.from("transactions").select("*").gte("date",J).lte("date",Q).order("date",{ascending:!1}).order("created_at",{ascending:!1});n(j??[]),g(!1),d([])}catch(F){o(F.message||"Failed to import transactions")}finally{c(!1)}}};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Summary"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Credit, debit, and remaining for selected month."})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-gray-600",children:"Month"}),A.jsx("input",{type:"month",value:t,onChange:F=>e(F.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-gray-600",children:"Import Data"}),A.jsxs("button",{onClick:()=>w(!m),className:"mt-1 flex items-center gap-2 rounded border bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:[A.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Paste Text"]})]})]})]}),l&&A.jsx("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-center text-blue-800",children:"Processing data..."}),m&&A.jsxs("div",{className:"rounded-lg border border-blue-200 bg-white p-6 shadow-sm",children:[A.jsx("h3",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Paste Transaction Data"}),A.jsx("p",{className:"mb-3 text-sm text-gray-600",children:"Copy text from your PDF (Date | Description | Debit | Credit format) and paste below:"}),A.jsx("textarea",{value:B,onChange:F=>x(F.target.value),placeholder:`Example:
01/15/2024 Cash on hand 5000.00
01/16/2024 Payroll 2000.00 1500.00`,className:"mb-3 h-48 w-full rounded border p-3 font-mono text-sm"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>{w(!1),x("")},className:"rounded border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"}),A.jsx("button",{onClick:k,disabled:l||!B.trim(),className:"rounded bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700 disabled:opacity-50",children:"Parse Data"})]})]}),f&&u.length>0&&A.jsxs("div",{className:"rounded-lg border border-green-200 bg-white p-6 shadow-sm",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Preview Imported Data (",u.length," transactions)"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>{g(!1),d([])},className:"rounded border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"}),A.jsx("button",{onClick:I,disabled:l,className:"rounded bg-green-600 px-4 py-2 text-sm text-white hover:bg-green-700 disabled:opacity-50",children:"Import All"})]})]}),A.jsx("div",{className:"max-h-96 overflow-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-600",children:"Date"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-600",children:"Description"}),A.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase text-gray-600",children:"Debit"}),A.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase text-gray-600",children:"Credit"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map((F,R)=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:F.date}),A.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:F.description}),A.jsx("td",{className:"px-4 py-2 text-right text-sm text-gray-900",children:F.debit>0?` ${F.debit.toLocaleString(void 0,{maximumFractionDigits:2})}`:"-"}),A.jsx("td",{className:"px-4 py-2 text-right text-sm text-gray-900",children:F.credit>0?` ${F.credit.toLocaleString(void 0,{maximumFractionDigits:2})}`:"-"})]},R))})]})})]}),A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[A.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"text-sm text-gray-500",children:"Credit (Cash In)"}),A.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",y.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),A.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"text-sm text-gray-500",children:"Debit (Cash Out + Expenses)"}),A.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",C.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),A.jsxs("div",{className:`rounded-lg border p-4 shadow-sm ${S>=0?"border-green-200 bg-white":"border-red-200 bg-white"}`,children:[A.jsx("div",{className:"text-sm text-gray-500",children:"Remaining"}),A.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",S.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),A.jsx("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Type"}),A.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Category"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Note"})]})}),A.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-600",children:"Loading..."})}),a&&!s&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-red-600",children:a})}),!s&&!a&&r.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No transactions for this month."})}),!s&&!a&&r.map(F=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:F.date}),A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsx("span",{className:F.type==="in"?"rounded bg-green-100 px-2 py-1 text-green-800":F.type==="out"?"rounded bg-yellow-100 px-2 py-1 text-yellow-800":"rounded bg-red-100 px-2 py-1 text-red-800",children:F.type})}),A.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:[" ",F.amount.toLocaleString(void 0,{maximumFractionDigits:2})]}),A.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:F.category??""}),A.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:F.note??""})]},F.id))]})]})})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wv=function(t,e){return wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},wv(t,e)};function si(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yv=function(){return yv=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yv.apply(this,arguments)};function Nn(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(t,[])).next())})}function pn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Jh(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var ia=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Fp=function(t,e){return ia.fromClientRect(t,e.getBoundingClientRect())},eL=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new ia(0,0,n,s)},jp=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},br=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},z2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xh=0;Xh<z2.length;Xh++)tL[z2.charCodeAt(Xh)]=Xh;var $2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yh=0;Yh<$2.length;Yh++)fu[$2.charCodeAt(Yh)]=Yh;var rL=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=fu[t.charCodeAt(n)],a=fu[t.charCodeAt(n+1)],o=fu[t.charCodeAt(n+2)],l=fu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|o>>2,u[s++]=(o&3)<<6|l&63;return c},nL=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},sL=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},so=5,uy=11,xm=2,iL=uy-so,U4=65536>>so,aL=1<<so,vm=aL-1,AL=1024>>so,oL=U4+AL,lL=oL,cL=32,uL=lL+cL,dL=65536>>uy,hL=1<<iL,fL=hL-1,G2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},gL=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},pL=function(t,e){var r=rL(t),n=Array.isArray(r)?sL(r):new Uint32Array(r),s=Array.isArray(r)?nL(r):new Uint16Array(r),i=24,a=G2(s,i/2,n[4]/2),o=n[5]===2?G2(s,(i+n[4])/2):gL(n,Math.ceil((i+n[4])/4));return new mL(n[0],n[1],n[2],n[3],a,o)},mL=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>so],r=(r<<xm)+(e&vm),this.data[r];if(e<=65535)return r=this.index[U4+(e-55296>>so)],r=(r<<xm)+(e&vm),this.data[r];if(e<this.highStart)return r=uL-dL+(e>>uy),r=this.index[r],r+=e>>so&fL,r=this.index[r],r=(r<<xm)+(e&vm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),W2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zh=0;Zh<W2.length;Zh++)xL[W2.charCodeAt(Zh)]=Zh;var vL="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",q2=50,wL=1,k4=2,Q4=3,yL=4,bL=5,J2=7,L4=8,X2=9,Ra=10,bv=11,Y2=12,Bv=13,BL=14,gu=15,Cv=16,ef=17,Yc=18,CL=19,Z2=20,_v=21,Zc=22,wm=23,al=24,rs=25,pu=26,mu=27,Al=28,_L=29,GA=30,NL=31,tf=32,rf=33,Nv=34,Sv=35,Fv=36,md=37,jv=38,Yf=39,Zf=40,ym=41,I4=42,SL=43,FL=[9001,65288],P4="!",Ft="",nf="",Ev=pL(vL),Mi=[GA,Fv],Uv=[wL,k4,Q4,bL],T4=[Ra,L4],eb=[mu,pu],jL=Uv.concat(T4),tb=[jv,Yf,Zf,Nv,Sv],EL=[gu,Bv],UL=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,a){var o=Ev.get(i);if(o>q2?(s.push(!0),o-=q2):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),r.push(Cv);if(o===yL||o===bv){if(a===0)return n.push(a),r.push(GA);var l=r[a-1];return jL.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(GA))}if(n.push(a),o===NL)return r.push(e==="strict"?_v:md);if(o===I4||o===_L)return r.push(GA);if(o===SL)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(md):r.push(GA);r.push(o)}),[n,r,s]},bm=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var a=n[i];if(a===e)return!0;if(a!==Ra)break}if(s===Ra)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==Ra)break}if(o!==Ra)break}return!1},rb=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Ra)r--;else return n}return 0},kL=function(t,e,r,n,s){if(r[n]===0)return Ft;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Ft;var a=i-1,o=i+1,l=e[i],c=a>=0?e[a]:0,u=e[o];if(l===k4&&u===Q4)return Ft;if(Uv.indexOf(l)!==-1)return P4;if(Uv.indexOf(u)!==-1||T4.indexOf(u)!==-1)return Ft;if(rb(i,e)===L4)return nf;if(Ev.get(t[i])===bv||(l===tf||l===rf)&&Ev.get(t[o])===bv||l===J2||u===J2||l===X2||[Ra,Bv,gu].indexOf(l)===-1&&u===X2||[ef,Yc,CL,al,Al].indexOf(u)!==-1||rb(i,e)===Zc||bm(wm,Zc,i,e)||bm([ef,Yc],_v,i,e)||bm(Y2,Y2,i,e))return Ft;if(l===Ra)return nf;if(l===wm||u===wm)return Ft;if(u===Cv||l===Cv)return nf;if([Bv,gu,_v].indexOf(u)!==-1||l===BL||c===Fv&&EL.indexOf(l)!==-1||l===Al&&u===Fv||u===Z2||Mi.indexOf(u)!==-1&&l===rs||Mi.indexOf(l)!==-1&&u===rs||l===mu&&[md,tf,rf].indexOf(u)!==-1||[md,tf,rf].indexOf(l)!==-1&&u===pu||Mi.indexOf(l)!==-1&&eb.indexOf(u)!==-1||eb.indexOf(l)!==-1&&Mi.indexOf(u)!==-1||[mu,pu].indexOf(l)!==-1&&(u===rs||[Zc,gu].indexOf(u)!==-1&&e[o+1]===rs)||[Zc,gu].indexOf(l)!==-1&&u===rs||l===rs&&[rs,Al,al].indexOf(u)!==-1)return Ft;if([rs,Al,al,ef,Yc].indexOf(u)!==-1)for(var d=i;d>=0;){var f=e[d];if(f===rs)return Ft;if([Al,al].indexOf(f)!==-1)d--;else break}if([mu,pu].indexOf(u)!==-1)for(var d=[ef,Yc].indexOf(l)!==-1?a:i;d>=0;){var f=e[d];if(f===rs)return Ft;if([Al,al].indexOf(f)!==-1)d--;else break}if(jv===l&&[jv,Yf,Nv,Sv].indexOf(u)!==-1||[Yf,Nv].indexOf(l)!==-1&&[Yf,Zf].indexOf(u)!==-1||[Zf,Sv].indexOf(l)!==-1&&u===Zf||tb.indexOf(l)!==-1&&[Z2,pu].indexOf(u)!==-1||tb.indexOf(u)!==-1&&l===mu||Mi.indexOf(l)!==-1&&Mi.indexOf(u)!==-1||l===al&&Mi.indexOf(u)!==-1||Mi.concat(rs).indexOf(l)!==-1&&u===Zc&&FL.indexOf(t[o])===-1||Mi.concat(rs).indexOf(u)!==-1&&l===Yc)return Ft;if(l===ym&&u===ym){for(var g=r[i],m=1;g>0&&(g--,e[g]===ym);)m++;if(m%2!==0)return Ft}return l===tf&&u===rf?Ft:nf},QL=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=UL(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(o){return[rs,GA,I4].indexOf(o)!==-1?md:o}));var a=e.wordBreak==="keep-all"?i.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,a]},LL=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===P4,this.start=n,this.end=s}return t.prototype.slice=function(){return br.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),IL=function(t,e){var r=jp(t),n=QL(r,e),s=n[0],i=n[1],a=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=Ft;c<o&&(u=kL(r,i,s,++c,a))===Ft;);if(u!==Ft||c===o){var d=new LL(r,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},PL=1,TL=2,Td=4,nb=8,Dg=10,sb=47,Pu=92,DL=9,OL=32,sf=34,eu=61,HL=35,ML=36,RL=37,af=39,Af=40,tu=41,KL=95,Hn=45,VL=33,zL=60,$L=62,GL=64,WL=91,qL=93,JL=61,XL=123,of=63,YL=125,ib=124,ZL=126,e6=128,ab=65533,Bm=42,YA=43,t6=44,r6=58,n6=59,xd=46,s6=0,i6=8,a6=11,A6=14,o6=31,l6=127,fi=-1,D4=48,O4=97,H4=101,c6=102,u6=117,d6=122,M4=65,R4=69,K4=70,h6=85,f6=90,mn=function(t){return t>=D4&&t<=57},g6=function(t){return t>=55296&&t<=57343},ol=function(t){return mn(t)||t>=M4&&t<=K4||t>=O4&&t<=c6},p6=function(t){return t>=O4&&t<=d6},m6=function(t){return t>=M4&&t<=f6},x6=function(t){return p6(t)||m6(t)},v6=function(t){return t>=e6},lf=function(t){return t===Dg||t===DL||t===OL},Og=function(t){return x6(t)||v6(t)||t===KL},Ab=function(t){return Og(t)||mn(t)||t===Hn},w6=function(t){return t>=s6&&t<=i6||t===a6||t>=A6&&t<=o6||t===l6},La=function(t,e){return t!==Pu?!1:e!==Dg},cf=function(t,e,r){return t===Hn?Og(e)||La(e,r):Og(t)?!0:!!(t===Pu&&La(t,e))},Cm=function(t,e,r){return t===YA||t===Hn?mn(e)?!0:e===xd&&mn(r):mn(t===xd?e:t)},y6=function(t){var e=0,r=1;(t[e]===YA||t[e]===Hn)&&(t[e]===Hn&&(r=-1),e++);for(var n=[];mn(t[e]);)n.push(t[e++]);var s=n.length?parseInt(br.apply(void 0,n),10):0;t[e]===xd&&e++;for(var i=[];mn(t[e]);)i.push(t[e++]);var a=i.length,o=a?parseInt(br.apply(void 0,i),10):0;(t[e]===R4||t[e]===H4)&&e++;var l=1;(t[e]===YA||t[e]===Hn)&&(t[e]===Hn&&(l=-1),e++);for(var c=[];mn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(br.apply(void 0,c),10):0;return r*(s+o*Math.pow(10,-a))*Math.pow(10,l*u)},b6={type:2},B6={type:3},C6={type:4},_6={type:13},N6={type:8},S6={type:21},F6={type:9},j6={type:10},E6={type:11},U6={type:12},k6={type:14},uf={type:23},Q6={type:1},L6={type:25},I6={type:24},P6={type:26},T6={type:27},D6={type:28},O6={type:29},H6={type:31},kv={type:32},V4=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(jp(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==kv;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case sf:return this.consumeStringToken(sf);case HL:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Ab(r)||La(n,s)){var i=cf(r,n,s)?TL:PL,a=this.consumeName();return{type:5,value:a,flags:i}}break;case ML:if(this.peekCodePoint(0)===eu)return this.consumeCodePoint(),_6;break;case af:return this.consumeStringToken(af);case Af:return b6;case tu:return B6;case Bm:if(this.peekCodePoint(0)===eu)return this.consumeCodePoint(),k6;break;case YA:if(Cm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case t6:return C6;case Hn:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Cm(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(cf(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Hn&&c===$L)return this.consumeCodePoint(),this.consumeCodePoint(),I6;break;case xd:if(Cm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case sb:if(this.peekCodePoint(0)===Bm)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Bm&&(u=this.consumeCodePoint(),u===sb))return this.consumeToken();if(u===fi)return this.consumeToken()}break;case r6:return P6;case n6:return T6;case zL:if(this.peekCodePoint(0)===VL&&this.peekCodePoint(1)===Hn&&this.peekCodePoint(2)===Hn)return this.consumeCodePoint(),this.consumeCodePoint(),L6;break;case GL:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(cf(d,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case WL:return D6;case Pu:if(La(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case qL:return O6;case JL:if(this.peekCodePoint(0)===eu)return this.consumeCodePoint(),N6;break;case XL:return E6;case YL:return U6;case u6:case h6:var m=this.peekCodePoint(0),w=this.peekCodePoint(1);return m===YA&&(ol(w)||w===of)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case ib:if(this.peekCodePoint(0)===eu)return this.consumeCodePoint(),F6;if(this.peekCodePoint(0)===ib)return this.consumeCodePoint(),S6;break;case ZL:if(this.peekCodePoint(0)===eu)return this.consumeCodePoint(),j6;break;case fi:return kv}return lf(e)?(this.consumeWhiteSpace(),H6):mn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Og(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:br(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();ol(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===of&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(br.apply(void 0,e.map(function(l){return l===of?D4:l})),16),i=parseInt(br.apply(void 0,e.map(function(l){return l===of?K4:l})),16);return{type:30,start:s,end:i}}var a=parseInt(br.apply(void 0,e),16);if(this.peekCodePoint(0)===Hn&&ol(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];ol(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(br.apply(void 0,o),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Af?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Af?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===fi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===af||r===sf){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===fi||this.peekCodePoint(0)===tu)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),uf)}for(;;){var s=this.consumeCodePoint();if(s===fi||s===tu)return{type:22,value:br.apply(void 0,e)};if(lf(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===fi||this.peekCodePoint(0)===tu?(this.consumeCodePoint(),{type:22,value:br.apply(void 0,e)}):(this.consumeBadUrlRemnants(),uf);if(s===sf||s===af||s===Af||w6(s))return this.consumeBadUrlRemnants(),uf;if(s===Pu)if(La(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),uf;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;lf(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===tu||e===fi)return;La(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=br.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===fi||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Dg)return this._value.splice(0,n),Q6;if(s===Pu){var i=this._value[n+1];i!==fi&&i!==void 0&&(i===Dg?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):La(s,i)&&(r+=this.consumeStringSlice(n),r+=br(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Td,n=this.peekCodePoint(0);for((n===YA||n===Hn)&&e.push(this.consumeCodePoint());mn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===xd&&mn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=nb;mn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===R4||n===H4)&&((s===YA||s===Hn)&&mn(i)||mn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=nb;mn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[y6(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(cf(s,i,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return s===RL?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ol(e)){for(var r=br(e);ol(this.peekCodePoint(0))&&r.length<6;)r+=br(this.consumeCodePoint());lf(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||g6(n)||n>1114111?ab:n}return e===fi?ab:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(Ab(r))e+=br(r);else if(La(r,this.peekCodePoint(0)))e+=br(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),z4=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new V4;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||R6(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?kv:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Dd=function(t){return t.type===15},uc=function(t){return t.type===17},$t=function(t){return t.type===20},M6=function(t){return t.type===0},Qv=function(t,e){return $t(t)&&t.value===e},$4=function(t){return t.type!==31},tc=function(t){return t.type!==31&&t.type!==4},Fi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},R6=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},hA=function(t){return t.type===17||t.type===15},Ir=function(t){return t.type===16||hA(t)},G4=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},rn={type:17,number:0,flags:Td},dy={type:16,number:50,flags:Td},Ka={type:16,number:100,flags:Td},xu=function(t,e,r){var n=t[0],s=t[1];return[Yt(n,e),Yt(typeof s<"u"?s:n,r)]},Yt=function(t,e){if(t.type===16)return t.number/100*e;if(Dd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},W4="deg",q4="grad",J4="rad",X4="turn",Ep={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case W4:return Math.PI*e.number/180;case q4:return Math.PI/200*e.number;case J4:return e.number;case X4:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Y4=function(t){return t.type===15&&(t.unit===W4||t.unit===q4||t.unit===J4||t.unit===X4)},Z4=function(t){var e=t.filter($t).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[rn,rn];case"to top":case"bottom":return Fs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[rn,Ka];case"to right":case"left":return Fs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ka,Ka];case"to bottom":case"top":return Fs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ka,rn];case"to left":case"right":return Fs(270)}return 0},Fs=function(t){return Math.PI*t/180},AA={name:"color",parse:function(t,e){if(e.type===18){var r=K6[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Va(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return Va(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Va(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return Va(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var o=ea[e.value.toUpperCase()];if(typeof o<"u")return o}return ea.TRANSPARENT}},oA=function(t){return(255&t)===0},Wr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},Va=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},ob=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},lb=function(t,e){var r=e.filter(tc);if(r.length===3){var n=r.map(ob),s=n[0],i=n[1],a=n[2];return Va(s,i,a,1)}if(r.length===4){var o=r.map(ob),s=o[0],i=o[1],a=o[2],l=o[3];return Va(s,i,a,l)}return 0};function _m(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var cb=function(t,e){var r=e.filter(tc),n=r[0],s=r[1],i=r[2],a=r[3],o=(n.type===17?Fs(n.number):Ep.parse(t,n))/(Math.PI*2),l=Ir(s)?s.number/100:0,c=Ir(i)?i.number/100:0,u=typeof a<"u"&&Ir(a)?Yt(a,1):1;if(l===0)return Va(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,f=c*2-d,g=_m(f,d,o+1/3),m=_m(f,d,o),w=_m(f,d,o-1/3);return Va(g*255,m*255,w*255,u)},K6={hsl:cb,hsla:cb,rgb:lb,rgba:lb},Tu=function(t,e){return AA.parse(t,z4.create(e).parseComponentValue())},ea={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},V6={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if($t(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},z6={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Up=function(t,e){var r=AA.parse(t,e[0]),n=e[1];return n&&Ir(n)?{color:r,stop:n}:{color:r,stop:null}},ub=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=rn),n.stop===null&&(n.stop=Ka);for(var s=[],i=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var l=Yt(o,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,a=0;a<s.length;a++){var u=s[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var d=a-c,f=s[c-1],g=(u-f)/(d+1),m=1;m<=d;m++)s[c+m-1]=g*m;c=null}}return t.map(function(w,B){var x=w.color;return{color:x,stop:Math.max(Math.min(1,s[B]/e),0)}})},$6=function(t,e,r){var n=e/2,s=r/2,i=Yt(t[0],e)-n,a=s-Yt(t[1],r);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},G6=function(t,e,r){var n=typeof t=="number"?t:$6(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,a=r/2,o=s/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[s,i-c,i+c,a-l,a+l]},$s=function(t,e){return Math.sqrt(t*t+e*e)},db=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(a,o){var l=o[0],c=o[1],u=$s(r-l,n-c);return(s?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},W6=function(t,e,r,n,s){var i=0,a=0;switch(t.size){case 0:t.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=a=Math.min($s(e,r),$s(e,r-s),$s(e-n,r),$s(e-n,r-s));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=db(n,s,e,r,!0),c=l[0],u=l[1];i=$s(c-e,(u-r)/o),a=o*i}break;case 1:t.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=a=Math.max($s(e,r),$s(e,r-s),$s(e-n,r),$s(e-n,r-s));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),d=db(n,s,e,r,!1),c=d[0],u=d[1];i=$s(c-e,(u-r)/o),a=o*i}break}return Array.isArray(t.size)&&(i=Yt(t.size[0],n),a=t.size.length===2?Yt(t.size[1],s):i),[i,a]},q6=function(t,e){var r=Fs(180),n=[];return Fi(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){r=Z4(s);return}else if(Y4(a)){r=Ep.parse(t,a);return}}var o=Up(t,s);n.push(o)}),{angle:r,stops:n,type:1}},df=function(t,e){var r=Fs(180),n=[];return Fi(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=Z4(s);return}else if(Y4(a)){r=(Ep.parse(t,a)+Fs(270))%Fs(360);return}}var o=Up(t,s);n.push(o)}),{angle:r,stops:n,type:1}},J6=function(t,e){var r=Fs(180),n=[],s=1,i=0,a=3,o=[];return Fi(e).forEach(function(l,c){var u=l[0];if(c===0){if($t(u)&&u.value==="linear"){s=1;return}else if($t(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var d=AA.parse(t,u.values[0]);n.push({stop:rn,color:d})}else if(u.name==="to"){var d=AA.parse(t,u.values[0]);n.push({stop:Ka,color:d})}else if(u.name==="color-stop"){var f=u.values.filter(tc);if(f.length===2){var d=AA.parse(t,f[1]),g=f[0];uc(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),s===1?{angle:(r+Fs(180))%Fs(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:o,type:s}},eN="closest-side",tN="farthest-side",rN="closest-corner",nN="farthest-corner",sN="circle",iN="ellipse",aN="cover",AN="contain",X6=function(t,e){var r=0,n=3,s=[],i=[];return Fi(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(d,f){if(c)if($t(f))switch(f.value){case"center":return i.push(dy),d;case"top":case"left":return i.push(rn),d;case"right":case"bottom":return i.push(Ka),d}else(Ir(f)||hA(f))&&i.push(f);else if($t(f))switch(f.value){case sN:return r=0,!1;case iN:return r=1,!1;case"at":return c=!0,!1;case eN:return n=0,!1;case aN:case tN:return n=1,!1;case AN:case rN:return n=2,!1;case nN:return n=3,!1}else if(hA(f)||Ir(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},l)}if(l){var u=Up(t,a);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},hf=function(t,e){var r=0,n=3,s=[],i=[];return Fi(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(u,d){if($t(d))switch(d.value){case"center":return i.push(dy),!1;case"top":case"left":return i.push(rn),!1;case"right":case"bottom":return i.push(Ka),!1}else if(Ir(d)||hA(d))return i.push(d),!1;return u},l):o===1&&(l=a.reduce(function(u,d){if($t(d))switch(d.value){case sN:return r=0,!1;case iN:return r=1,!1;case AN:case eN:return n=0,!1;case tN:return n=1,!1;case rN:return n=2,!1;case aN:case nN:return n=3,!1}else if(hA(d)||Ir(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},l)),l){var c=Up(t,a);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},Y6=function(t){return t.type===1},Z6=function(t){return t.type===2},hy={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=oN[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function eI(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!oN[t.name])}var oN={"linear-gradient":q6,"-moz-linear-gradient":df,"-ms-linear-gradient":df,"-o-linear-gradient":df,"-webkit-linear-gradient":df,"radial-gradient":X6,"-moz-radial-gradient":hf,"-ms-radial-gradient":hf,"-o-radial-gradient":hf,"-webkit-radial-gradient":hf,"-webkit-gradient":J6},tI={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return tc(n)&&eI(n)}).map(function(n){return hy.parse(t,n)})}},rI={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if($t(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nI={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Fi(e).map(function(r){return r.filter(Ir)}).map(G4)}},sI={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Fi(e).map(function(r){return r.filter($t).map(function(n){return n.value}).join(" ")}).map(iI)}},iI=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Rl;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Rl||(Rl={}));var aI={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Fi(e).map(function(r){return r.filter(AI)})}},AI=function(t){return $t(t)||Ir(t)},kp=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},oI=kp("top"),lI=kp("right"),cI=kp("bottom"),uI=kp("left"),Qp=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return G4(r.filter(Ir))}}},dI=Qp("top-left"),hI=Qp("top-right"),fI=Qp("bottom-right"),gI=Qp("bottom-left"),Lp=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},pI=Lp("top"),mI=Lp("right"),xI=Lp("bottom"),vI=Lp("left"),Ip=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Dd(r)?r.number:0}}},wI=Ip("top"),yI=Ip("right"),bI=Ip("bottom"),BI=Ip("left"),CI={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_I={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},NI={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter($t).reduce(function(r,n){return r|SI(n.value)},0)}},SI=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},FI={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},jI={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Hg;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Hg||(Hg={}));var EI={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Hg.STRICT;case"normal":default:return Hg.NORMAL}}},UI={name:"line-height",initialValue:"normal",prefix:!1,type:4},hb=function(t,e){return $t(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ir(t)?Yt(t,e):e},kI={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:hy.parse(t,e)}},QI={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Lv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Pp=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},LI=Pp("top"),II=Pp("right"),PI=Pp("bottom"),TI=Pp("left"),DI={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter($t).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},OI={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Tp=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},HI=Tp("top"),MI=Tp("right"),RI=Tp("bottom"),KI=Tp("left"),VI={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},zI={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},$I={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Qv(e[0],"none")?[]:Fi(e).map(function(r){for(var n={color:ea.TRANSPARENT,offsetX:rn,offsetY:rn,blur:rn},s=0,i=0;i<r.length;i++){var a=r[i];hA(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=AA.parse(t,a)}return n})}},GI={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},WI={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=XI[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},qI=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},JI=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,s,i,a,o]:null},XI={matrix:qI,matrix3d:JI},fb={type:16,number:50,flags:Td},YI=[fb,fb],ZI={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Ir);return r.length!==2?YI:[r[0],r[1]]}},eP={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Du;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Du||(Du={}));var tP={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Du.BREAK_ALL;case"keep-all":return Du.KEEP_ALL;case"normal":default:return Du.NORMAL}}},rP={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(uc(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},lN={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},nP={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return uc(e)?e.number:1}},sP={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},iP={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter($t).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},aP={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},AP={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},oP={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(uc(e))return e.number;if($t(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},lP={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter($t).map(function(r){return r.value})}},cP={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Mr=function(t,e){return(t&e)!==0},uP={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},dP={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter($4),i=0;i<s.length;i++){var a=s[i],o=s[i+1];if(a.type===20){var l=o&&uc(o)?o.number:1;n.push({counter:a.value,increment:l})}}return n}},hP={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter($4),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if($t(i)&&i.value!=="none"){var o=a&&uc(a)?a.number:0;r.push({counter:i.value,reset:o})}}return r}},fP={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Dd).map(function(r){return lN.parse(t,r)})}},gP={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(M6);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,o=s[i+1].value;n.push({open:a,close:o})}return n}},gb=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},pP={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Qv(e[0],"none")?[]:Fi(e).map(function(r){for(var n={color:255,offsetX:rn,offsetY:rn,blur:rn,spread:rn,inset:!1},s=0,i=0;i<r.length;i++){var a=r[i];Qv(a,"inset")?n.inset=!0:hA(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=AA.parse(t,a)}return n})}},mP={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter($t).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},xP={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},vP={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Dd(e)?e.number:0}},wP=function(){function t(e,r){var n,s;this.animationDuration=nt(e,fP,r.animationDuration),this.backgroundClip=nt(e,V6,r.backgroundClip),this.backgroundColor=nt(e,z6,r.backgroundColor),this.backgroundImage=nt(e,tI,r.backgroundImage),this.backgroundOrigin=nt(e,rI,r.backgroundOrigin),this.backgroundPosition=nt(e,nI,r.backgroundPosition),this.backgroundRepeat=nt(e,sI,r.backgroundRepeat),this.backgroundSize=nt(e,aI,r.backgroundSize),this.borderTopColor=nt(e,oI,r.borderTopColor),this.borderRightColor=nt(e,lI,r.borderRightColor),this.borderBottomColor=nt(e,cI,r.borderBottomColor),this.borderLeftColor=nt(e,uI,r.borderLeftColor),this.borderTopLeftRadius=nt(e,dI,r.borderTopLeftRadius),this.borderTopRightRadius=nt(e,hI,r.borderTopRightRadius),this.borderBottomRightRadius=nt(e,fI,r.borderBottomRightRadius),this.borderBottomLeftRadius=nt(e,gI,r.borderBottomLeftRadius),this.borderTopStyle=nt(e,pI,r.borderTopStyle),this.borderRightStyle=nt(e,mI,r.borderRightStyle),this.borderBottomStyle=nt(e,xI,r.borderBottomStyle),this.borderLeftStyle=nt(e,vI,r.borderLeftStyle),this.borderTopWidth=nt(e,wI,r.borderTopWidth),this.borderRightWidth=nt(e,yI,r.borderRightWidth),this.borderBottomWidth=nt(e,bI,r.borderBottomWidth),this.borderLeftWidth=nt(e,BI,r.borderLeftWidth),this.boxShadow=nt(e,pP,r.boxShadow),this.color=nt(e,CI,r.color),this.direction=nt(e,_I,r.direction),this.display=nt(e,NI,r.display),this.float=nt(e,FI,r.cssFloat),this.fontFamily=nt(e,aP,r.fontFamily),this.fontSize=nt(e,AP,r.fontSize),this.fontStyle=nt(e,cP,r.fontStyle),this.fontVariant=nt(e,lP,r.fontVariant),this.fontWeight=nt(e,oP,r.fontWeight),this.letterSpacing=nt(e,jI,r.letterSpacing),this.lineBreak=nt(e,EI,r.lineBreak),this.lineHeight=nt(e,UI,r.lineHeight),this.listStyleImage=nt(e,kI,r.listStyleImage),this.listStylePosition=nt(e,QI,r.listStylePosition),this.listStyleType=nt(e,Lv,r.listStyleType),this.marginTop=nt(e,LI,r.marginTop),this.marginRight=nt(e,II,r.marginRight),this.marginBottom=nt(e,PI,r.marginBottom),this.marginLeft=nt(e,TI,r.marginLeft),this.opacity=nt(e,nP,r.opacity);var i=nt(e,DI,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=nt(e,OI,r.overflowWrap),this.paddingTop=nt(e,HI,r.paddingTop),this.paddingRight=nt(e,MI,r.paddingRight),this.paddingBottom=nt(e,RI,r.paddingBottom),this.paddingLeft=nt(e,KI,r.paddingLeft),this.paintOrder=nt(e,mP,r.paintOrder),this.position=nt(e,zI,r.position),this.textAlign=nt(e,VI,r.textAlign),this.textDecorationColor=nt(e,sP,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=nt(e,iP,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=nt(e,$I,r.textShadow),this.textTransform=nt(e,GI,r.textTransform),this.transform=nt(e,WI,r.transform),this.transformOrigin=nt(e,ZI,r.transformOrigin),this.visibility=nt(e,eP,r.visibility),this.webkitTextStrokeColor=nt(e,xP,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=nt(e,vP,r.webkitTextStrokeWidth),this.wordBreak=nt(e,tP,r.wordBreak),this.zIndex=nt(e,rP,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return oA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Mr(this.display,4)||Mr(this.display,33554432)||Mr(this.display,268435456)||Mr(this.display,536870912)||Mr(this.display,67108864)||Mr(this.display,134217728)},t}(),yP=function(){function t(e,r){this.content=nt(e,uP,r.content),this.quotes=nt(e,gP,r.quotes)}return t}(),pb=function(){function t(e,r){this.counterIncrement=nt(e,dP,r.counterIncrement),this.counterReset=nt(e,hP,r.counterReset)}return t}(),nt=function(t,e,r){var n=new V4,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new z4(n.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(t,$t(a)?a.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return Ep.parse(t,i.parseComponentValue());case"color":return AA.parse(t,i.parseComponentValue());case"image":return hy.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return hA(o)?o:rn;case"length-percentage":var l=i.parseComponentValue();return Ir(l)?l:rn;case"time":return lN.parse(t,i.parseComponentValue())}break}},bP="data-html2canvas-debug",BP=function(t){var e=t.getAttribute(bP);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Iv=function(t,e){var r=BP(t);return r===1||e===r},ji=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Iv(r,3))debugger;this.styles=new wP(e,window.getComputedStyle(r,null)),Dv(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Fp(this.context,r),Iv(r,4)&&(this.flags|=16)}return t}(),CP="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ff=0;ff<mb.length;ff++)vu[mb.charCodeAt(ff)]=ff;var _P=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=vu[t.charCodeAt(n)],a=vu[t.charCodeAt(n+1)],o=vu[t.charCodeAt(n+2)],l=vu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|o>>2,u[s++]=(o&3)<<6|l&63;return c},NP=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},SP=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},io=5,fy=11,Nm=2,FP=fy-io,cN=65536>>io,jP=1<<io,Sm=jP-1,EP=1024>>io,UP=cN+EP,kP=UP,QP=32,LP=kP+QP,IP=65536>>fy,PP=1<<FP,TP=PP-1,xb=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},DP=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},OP=function(t,e){var r=_P(t),n=Array.isArray(r)?SP(r):new Uint32Array(r),s=Array.isArray(r)?NP(r):new Uint16Array(r),i=24,a=xb(s,i/2,n[4]/2),o=n[5]===2?xb(s,(i+n[4])/2):DP(n,Math.ceil((i+n[4])/4));return new HP(n[0],n[1],n[2],n[3],a,o)},HP=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>io],r=(r<<Nm)+(e&Sm),this.data[r];if(e<=65535)return r=this.index[cN+(e-55296>>io)],r=(r<<Nm)+(e&Sm),this.data[r];if(e<this.highStart)return r=LP-IP+(e>>fy),r=this.index[r],r+=e>>io&TP,r=this.index[r],r=(r<<Nm)+(e&Sm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),vb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gf=0;gf<vb.length;gf++)MP[vb.charCodeAt(gf)]=gf;var RP=1,Fm=2,jm=3,wb=4,yb=5,KP=7,bb=8,Em=9,Um=10,Bb=11,Cb=12,_b=13,Nb=14,km=15,VP=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},zP=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},$P=OP(CP),bs="",Qm="",GP=function(t){return $P.get(t)},WP=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],a=e[r];if(i===Fm&&a===jm)return bs;if(i===Fm||i===jm||i===wb||a===Fm||a===jm||a===wb)return Qm;if(i===bb&&[bb,Em,Bb,Cb].indexOf(a)!==-1||(i===Bb||i===Em)&&(a===Em||a===Um)||(i===Cb||i===Um)&&a===Um||a===_b||a===yb||a===KP||i===RP)return bs;if(i===_b&&a===Nb){for(;s===yb;)s=e[--n];if(s===Nb)return bs}if(i===km&&a===km){for(var o=0;s===km;)o++,s=e[--n];if(o%2===0)return bs}return Qm},qP=function(t){var e=VP(t),r=e.length,n=0,s=0,i=e.map(GP);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=bs;n<r&&(a=WP(e,i,++n))===bs;);if(a!==bs||n===r){var o=zP.apply(null,e.slice(s,n));return s=n,{value:o,done:!1}}return{done:!0,value:null}}}},JP=function(t){for(var e=qP(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},XP=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},YP=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=jp(n.data).map(function(l){return br(l)}),i=0,a={},o=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var u=r.getBoundingClientRect();i+=l.length;var d=u.x>a.x||u.y>a.y;return a=u,c===0?!0:d});return t.body.removeChild(e),o},ZP=function(){return typeof new Image().crossOrigin<"u"},eT=function(){return typeof new XMLHttpRequest().responseType=="string"},tT=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Sb=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},rT=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var a=Pv(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),Fb(a).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",Sb(l)?Fb(Pv(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),Sb(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Pv=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(s),a},Fb=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},tn={get SUPPORT_RANGE_BOUNDS(){var t=XP(document);return Object.defineProperty(tn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=tn.SUPPORT_RANGE_BOUNDS&&YP(document);return Object.defineProperty(tn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=tT(document);return Object.defineProperty(tn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?rT(document):Promise.resolve(!1);return Object.defineProperty(tn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=ZP();return Object.defineProperty(tn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=eT();return Object.defineProperty(tn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(tn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(tn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ou=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),nT=function(t,e,r,n){var s=aT(e,r),i=[],a=0;return s.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(tn.SUPPORT_RANGE_BOUNDS){var l=jb(n,a,o.length).getClientRects();if(l.length>1){var c=gy(o),u=0;c.forEach(function(f){i.push(new Ou(f,ia.fromDOMRectList(t,jb(n,u+a,f.length).getClientRects()))),u+=f.length})}else i.push(new Ou(o,ia.fromDOMRectList(t,l)))}else{var d=n.splitText(o.length);i.push(new Ou(o,sT(t,n))),n=d}else tn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),i},sT=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=Fp(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return ia.EMPTY},jb=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},gy=function(t){if(tn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return JP(t)},iT=function(t,e){if(tn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return oT(t,e)},aT=function(t,e){return e.letterSpacing!==0?gy(t):iT(t,e)},AT=[32,160,4961,65792,65793,4153,4241],oT=function(t,e){for(var r=IL(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),o=jp(a),l="";o.forEach(function(c){AT.indexOf(c)===-1?l+=br(c):(l.length&&n.push(l),n.push(br(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},lT=function(){function t(e,r,n){this.text=cT(r.data,n.textTransform),this.textBounds=nT(e,this.text,n,r)}return t}(),cT=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(uT,dT);case 2:return t.toUpperCase();default:return t}},uT=/(^|\s|:|-|\(|\))([a-z])/g,dT=function(t,e,r){return t.length>0?e+r.toUpperCase():t},uN=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(ji),dN=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(ji),hN=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,a=Fp(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(ji),fN=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(ji),Tv=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(ji),hT=[{type:15,flags:0,unit:"px",number:3}],fT=[{type:16,flags:0,number:50}],gT=function(t){return t.width>t.height?new ia(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ia(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},pT=function(t){var e=t.type===mT?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Mg="checkbox",Rg="radio",mT="password",Eb=707406591,py=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=pT(n),(s.type===Mg||s.type===Rg)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=gT(s.bounds)),s.type){case Mg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=hT;break;case Rg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=fT;break}return s}return e}(ji),gN=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(ji),pN=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(ji),mN=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=vN(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Tu(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ea.TRANSPARENT,a=n.contentWindow.document.body?Tu(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ea.TRANSPARENT;s.backgroundColor=oA(i)?oA(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e}(ji),xT=["OL","UL","MENU"],eg=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,wN(s)&&s.data.trim().length>0)r.textNodes.push(new lT(t,s,r.styles));else if(Ll(s))if(CN(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return eg(t,o,r,n)});else{var a=xN(t,s);a.styles.isVisible()&&(vT(s,a,n)?a.flags|=4:wT(a.styles)&&(a.flags|=2),xT.indexOf(s.tagName)!==-1&&(a.flags|=8),r.elements.push(a),s.slot,s.shadowRoot?eg(t,s.shadowRoot,a,n):!Kg(s)&&!yN(s)&&!Vg(s)&&eg(t,s,a,n))}},xN=function(t,e){return Ov(e)?new uN(t,e):bN(e)?new dN(t,e):yN(e)?new hN(t,e):yT(e)?new fN(t,e):bT(e)?new Tv(t,e):BT(e)?new py(t,e):Vg(e)?new gN(t,e):Kg(e)?new pN(t,e):BN(e)?new mN(t,e):new ji(t,e)},vN=function(t,e){var r=xN(t,e);return r.flags|=4,eg(t,e,r,r),r},vT=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||my(t)&&r.styles.isTransparent()},wT=function(t){return t.isPositioned()||t.isFloating()},wN=function(t){return t.nodeType===Node.TEXT_NODE},Ll=function(t){return t.nodeType===Node.ELEMENT_NODE},Dv=function(t){return Ll(t)&&typeof t.style<"u"&&!tg(t)},tg=function(t){return typeof t.className=="object"},yT=function(t){return t.tagName==="LI"},bT=function(t){return t.tagName==="OL"},BT=function(t){return t.tagName==="INPUT"},CT=function(t){return t.tagName==="HTML"},yN=function(t){return t.tagName==="svg"},my=function(t){return t.tagName==="BODY"},bN=function(t){return t.tagName==="CANVAS"},Ub=function(t){return t.tagName==="VIDEO"},Ov=function(t){return t.tagName==="IMG"},BN=function(t){return t.tagName==="IFRAME"},kb=function(t){return t.tagName==="STYLE"},_T=function(t){return t.tagName==="SCRIPT"},Kg=function(t){return t.tagName==="TEXTAREA"},Vg=function(t){return t.tagName==="SELECT"},CN=function(t){return t.tagName==="SLOT"},Qb=function(t){return t.tagName.indexOf("-")>0},NT=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return i&&s.forEach(function(o){var l=r.counters[o.counter];a.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),a},t}(),Lb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ib={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ST={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},FT={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ll=function(t,e,r,n,s,i){return t<e||t>r?vd(t,s,i.length>0):n.integers.reduce(function(a,o,l){for(;t>=o;)t-=o,a+=n.values[l];return a},"")+i},_N=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},yr=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(_N(Math.abs(t),i,n,function(a){return br(Math.floor(a%i)+e)})+s)},IA=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return _N(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},xl=1,Ea=2,Ua=4,wu=8,Ri=function(t,e,r,n,s,i){if(t<-9999||t>9999)return vd(t,4,s.length>0);var a=Math.abs(t),o=s;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&Mr(i,xl)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&Mr(i,Ea)||c===1&&l===1&&Mr(i,Ua)&&t>100||c===1&&l>1&&Mr(i,wu)?o=e[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},Pb="",Tb="",Db="",Lm="",vd=function(t,e,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=yr(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return IA(t,"",s);case 6:return ll(t,1,3999,Lb,3,n).toLowerCase();case 7:return ll(t,1,3999,Lb,3,n);case 8:return yr(t,945,969,!1,n);case 9:return yr(t,97,122,!1,n);case 10:return yr(t,65,90,!1,n);case 11:return yr(t,1632,1641,!0,n);case 12:case 49:return ll(t,1,9999,Ib,3,n);case 35:return ll(t,1,9999,Ib,3,n).toLowerCase();case 13:return yr(t,2534,2543,!0,n);case 14:case 30:return yr(t,6112,6121,!0,n);case 15:return IA(t,"",s);case 16:return IA(t,"",s);case 17:case 48:return Ri(t,"",Pb,"",s,Ea|Ua|wu);case 47:return Ri(t,"",Tb,"",s,xl|Ea|Ua|wu);case 42:return Ri(t,"",Pb,"",s,Ea|Ua|wu);case 41:return Ri(t,"",Tb,"",s,xl|Ea|Ua|wu);case 26:return Ri(t,"","",Db,s,0);case 25:return Ri(t,"","",Db,s,xl|Ea|Ua);case 31:return Ri(t,"","",Lm,i,xl|Ea|Ua);case 33:return Ri(t,"","",Lm,i,0);case 32:return Ri(t,"","",Lm,i,xl|Ea|Ua);case 18:return yr(t,2406,2415,!0,n);case 20:return ll(t,1,19999,FT,3,n);case 21:return yr(t,2790,2799,!0,n);case 22:return yr(t,2662,2671,!0,n);case 22:return ll(t,1,10999,ST,3,n);case 23:return IA(t,"");case 24:return IA(t,"");case 27:return yr(t,3302,3311,!0,n);case 28:return IA(t,"",s);case 29:return IA(t,"",s);case 34:return yr(t,3792,3801,!0,n);case 37:return yr(t,6160,6169,!0,n);case 38:return yr(t,4160,4169,!0,n);case 39:return yr(t,2918,2927,!0,n);case 40:return yr(t,1776,1785,!0,n);case 43:return yr(t,3046,3055,!0,n);case 44:return yr(t,3174,3183,!0,n);case 45:return yr(t,3664,3673,!0,n);case 46:return yr(t,3872,3881,!0,n);case 3:default:return yr(t,48,57,!0,n)}},NN="data-html2canvas-ignore",Ob=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new NT,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=jT(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=s.contentWindow,l=o.document,c=kT(s).then(function(){return Nn(n,void 0,void 0,function(){var u,d;return pn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(PT),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,UT(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(LT(document.doctype)+"<html></html>"),IT(this.referenceElement.ownerDocument,i,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(Iv(e,2))debugger;if(bN(e))return this.createCanvasClone(e);if(Ub(e))return this.createVideoClone(e);if(kb(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Ov(r)&&(Ov(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Qb(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Im(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!Ll(r)||!_T(r)&&!r.hasAttribute(NN)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ll(r)||!kb(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Ll(i)&&CN(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(o){return s.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(wN(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ll(e)&&(Dv(e)||tg(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Dv(s)&&(this.clonedReferenceElement=s),my(s)&&OT(s);var l=this.counters.parse(new pb(this.context,i)),c=this.resolvePseudoContent(e,s,a,Hu.BEFORE);Qb(e)&&(r=!0),Ub(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,o,Hu.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||tg(e))&&!BN(e)||r)&&Im(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(Kg(e)||Vg(e))&&(Kg(s)||Vg(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new pb(this.context,n));var l=new yP(this.context,n),c=o.createElement("html2canvaspseudoelement");Im(n,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",c.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter($t);g.length&&c.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(tc),w=m[0],B=m[1];if(w&&$t(w)){var x=i.counters.getCounterValue(w.value),y=B&&$t(B)?Lv.parse(i.context,B.value):3;c.appendChild(o.createTextNode(vd(x,y,!1)))}}else if(d.name==="counters"){var C=d.values.filter(tc),w=C[0],S=C[1],B=C[2];if(w&&$t(w)){var k=i.counters.getCounterValues(w.value),O=B&&$t(B)?Lv.parse(i.context,B.value):3,I=S&&S.type===0?S.value:"",F=k.map(function(Q){return vd(Q,O,!1)}).join(I);c.appendChild(o.createTextNode(F))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(o.createTextNode(gb(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(gb(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(d.value))}}),c.className=Hv+" "+Mv;var u=s===Hu.BEFORE?" "+Hv:" "+Mv;return tg(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Hu;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Hu||(Hu={}));var jT=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(NN,"true"),t.body.appendChild(r),r},ET=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},UT=function(t){return Promise.all([].slice.call(t.images,0).map(ET))},kT=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},QT=["all","d","content"],Im=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);QT.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},LT=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},IT=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},PT=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},TT=":before",DT=":after",Hv="___html2canvas___pseudoelement_before",Mv="___html2canvas___pseudoelement_after",Hb=`{
    content: "" !important;
    display: none !important;
}`,OT=function(t){HT(t,"."+Hv+TT+Hb+`
         .`+Mv+DT+Hb)},HT=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},SN=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),MT=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Tm(e)||zT(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Nn(this,void 0,void 0,function(){var r,n,s,i,a=this;return pn(this,function(o){switch(o.label){case 0:return r=SN.isSameOrigin(e),n=!Pm(e)&&this._options.useCORS===!0&&tn.SUPPORT_CORS_IMAGES&&!r,s=!Pm(e)&&!r&&!Tm(e)&&typeof this._options.proxy=="string"&&tn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Pm(e)&&!Tm(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,($T(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var o=tn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")i(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+s)}}l.send()})},t}(),RT=/^data:image\/svg\+xml/i,KT=/^data:image\/.*;base64,/i,VT=/^data:image\/.*/i,zT=function(t){return tn.SUPPORT_SVG_DRAWING||!GT(t)},Pm=function(t){return VT.test(t)},$T=function(t){return KT.test(t)},Tm=function(t){return t.substr(0,4)==="blob"},GT=function(t){return t.substr(-3).toLowerCase()==="svg"||RT.test(t)},et=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),cl=function(t,e,r){return new et(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},pf=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=cl(this.start,this.startControl,e),s=cl(this.startControl,this.endControl,e),i=cl(this.endControl,this.end,e),a=cl(n,s,e),o=cl(s,i,e),l=cl(a,o,e);return r?new t(this.start,n,a,l):new t(l,o,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),_s=function(t){return t.type===1},WT=function(){function t(e){var r=e.styles,n=e.bounds,s=xu(r.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],o=xu(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],u=xu(r.borderBottomRightRadius,n.width,n.height),d=u[0],f=u[1],g=xu(r.borderBottomLeftRadius,n.width,n.height),m=g[0],w=g[1],B=[];B.push((i+l)/n.width),B.push((m+d)/n.width),B.push((a+w)/n.height),B.push((c+f)/n.height);var x=Math.max.apply(Math,B);x>1&&(i/=x,a/=x,l/=x,c/=x,d/=x,f/=x,m/=x,w/=x);var y=n.width-l,C=n.height-f,S=n.width-d,k=n.height-w,O=r.borderTopWidth,I=r.borderRightWidth,F=r.borderBottomWidth,R=r.borderLeftWidth,J=Yt(r.paddingTop,e.bounds.width),Q=Yt(r.paddingRight,e.bounds.width),j=Yt(r.paddingBottom,e.bounds.width),K=Yt(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?ir(n.left+R/3,n.top+O/3,i-R/3,a-O/3,Tt.TOP_LEFT):new et(n.left+R/3,n.top+O/3),this.topRightBorderDoubleOuterBox=i>0||a>0?ir(n.left+y,n.top+O/3,l-I/3,c-O/3,Tt.TOP_RIGHT):new et(n.left+n.width-I/3,n.top+O/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?ir(n.left+S,n.top+C,d-I/3,f-F/3,Tt.BOTTOM_RIGHT):new et(n.left+n.width-I/3,n.top+n.height-F/3),this.bottomLeftBorderDoubleOuterBox=m>0||w>0?ir(n.left+R/3,n.top+k,m-R/3,w-F/3,Tt.BOTTOM_LEFT):new et(n.left+R/3,n.top+n.height-F/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?ir(n.left+R*2/3,n.top+O*2/3,i-R*2/3,a-O*2/3,Tt.TOP_LEFT):new et(n.left+R*2/3,n.top+O*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?ir(n.left+y,n.top+O*2/3,l-I*2/3,c-O*2/3,Tt.TOP_RIGHT):new et(n.left+n.width-I*2/3,n.top+O*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?ir(n.left+S,n.top+C,d-I*2/3,f-F*2/3,Tt.BOTTOM_RIGHT):new et(n.left+n.width-I*2/3,n.top+n.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||w>0?ir(n.left+R*2/3,n.top+k,m-R*2/3,w-F*2/3,Tt.BOTTOM_LEFT):new et(n.left+R*2/3,n.top+n.height-F*2/3),this.topLeftBorderStroke=i>0||a>0?ir(n.left+R/2,n.top+O/2,i-R/2,a-O/2,Tt.TOP_LEFT):new et(n.left+R/2,n.top+O/2),this.topRightBorderStroke=i>0||a>0?ir(n.left+y,n.top+O/2,l-I/2,c-O/2,Tt.TOP_RIGHT):new et(n.left+n.width-I/2,n.top+O/2),this.bottomRightBorderStroke=d>0||f>0?ir(n.left+S,n.top+C,d-I/2,f-F/2,Tt.BOTTOM_RIGHT):new et(n.left+n.width-I/2,n.top+n.height-F/2),this.bottomLeftBorderStroke=m>0||w>0?ir(n.left+R/2,n.top+k,m-R/2,w-F/2,Tt.BOTTOM_LEFT):new et(n.left+R/2,n.top+n.height-F/2),this.topLeftBorderBox=i>0||a>0?ir(n.left,n.top,i,a,Tt.TOP_LEFT):new et(n.left,n.top),this.topRightBorderBox=l>0||c>0?ir(n.left+y,n.top,l,c,Tt.TOP_RIGHT):new et(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?ir(n.left+S,n.top+C,d,f,Tt.BOTTOM_RIGHT):new et(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||w>0?ir(n.left,n.top+k,m,w,Tt.BOTTOM_LEFT):new et(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?ir(n.left+R,n.top+O,Math.max(0,i-R),Math.max(0,a-O),Tt.TOP_LEFT):new et(n.left+R,n.top+O),this.topRightPaddingBox=l>0||c>0?ir(n.left+Math.min(y,n.width-I),n.top+O,y>n.width+I?0:Math.max(0,l-I),Math.max(0,c-O),Tt.TOP_RIGHT):new et(n.left+n.width-I,n.top+O),this.bottomRightPaddingBox=d>0||f>0?ir(n.left+Math.min(S,n.width-R),n.top+Math.min(C,n.height-F),Math.max(0,d-I),Math.max(0,f-F),Tt.BOTTOM_RIGHT):new et(n.left+n.width-I,n.top+n.height-F),this.bottomLeftPaddingBox=m>0||w>0?ir(n.left+R,n.top+Math.min(k,n.height-F),Math.max(0,m-R),Math.max(0,w-F),Tt.BOTTOM_LEFT):new et(n.left+R,n.top+n.height-F),this.topLeftContentBox=i>0||a>0?ir(n.left+R+K,n.top+O+J,Math.max(0,i-(R+K)),Math.max(0,a-(O+J)),Tt.TOP_LEFT):new et(n.left+R+K,n.top+O+J),this.topRightContentBox=l>0||c>0?ir(n.left+Math.min(y,n.width+R+K),n.top+O+J,y>n.width+R+K?0:l-R+K,c-(O+J),Tt.TOP_RIGHT):new et(n.left+n.width-(I+Q),n.top+O+J),this.bottomRightContentBox=d>0||f>0?ir(n.left+Math.min(S,n.width-(R+K)),n.top+Math.min(C,n.height+O+J),Math.max(0,d-(I+Q)),f-(F+j),Tt.BOTTOM_RIGHT):new et(n.left+n.width-(I+Q),n.top+n.height-(F+j)),this.bottomLeftContentBox=m>0||w>0?ir(n.left+R+K,n.top+k,Math.max(0,m-(R+K)),w-(F+j),Tt.BOTTOM_LEFT):new et(n.left+R+K,n.top+n.height-(F+j))}return t}(),Tt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Tt||(Tt={}));var ir=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),a=r*i,o=n*i,l=t+r,c=e+n;switch(s){case Tt.TOP_LEFT:return new pf(new et(t,c),new et(t,c-o),new et(l-a,e),new et(l,e));case Tt.TOP_RIGHT:return new pf(new et(t,e),new et(t+a,e),new et(l,c-o),new et(l,c));case Tt.BOTTOM_RIGHT:return new pf(new et(l,e),new et(l,e+o),new et(t+a,c),new et(t,c));case Tt.BOTTOM_LEFT:default:return new pf(new et(l,c),new et(l-a,c),new et(t,e+o),new et(t,e))}},zg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},qT=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},$g=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},JT=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),mf=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),XT=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),YT=function(t){return t.type===0},FN=function(t){return t.type===1},ZT=function(t){return t.type===2},Mb=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},eD=function(t,e,r,n,s){return t.map(function(i,a){switch(a){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},jN=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),EN=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new WT(this.container),this.container.styles.opacity<1&&this.effects.push(new XT(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new JT(n,s,i))}if(this.container.styles.overflowX!==0){var a=zg(this.curves),o=$g(this.curves);Mb(a,o)?this.effects.push(new mf(a,6)):(this.effects.push(new mf(a,2)),this.effects.push(new mf(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!FN(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=zg(n.curves),o=$g(n.curves);Mb(a,o)||s.unshift(new mf(o,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return Mr(l.target,e)})},t}(),Rv=function(t,e,r,n){t.container.elements.forEach(function(s){var i=Mr(s.flags,4),a=Mr(s.flags,2),o=new EN(s,t);Mr(s.styles.display,2048)&&n.push(o);var l=Mr(s.flags,8)?[]:n;if(i||a){var c=i||s.styles.isPositioned()?r:e,u=new jN(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var f=0;c.negativeZIndex.some(function(m,w){return d>m.element.container.styles.zIndex.order?(f=w,!1):f>0}),c.negativeZIndex.splice(f,0,u)}else if(d>0){var g=0;c.positiveZIndex.some(function(m,w){return d>=m.element.container.styles.zIndex.order?(g=w+1,!1):g>0}),c.positiveZIndex.splice(g,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Rv(o,u,i?u:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Rv(o,e,r,l);Mr(s.flags,8)&&UN(s,l)})},UN=function(t,e){for(var r=t instanceof Tv?t.start:1,n=t instanceof Tv?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof fN&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=vd(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},tD=function(t){var e=new EN(t,null),r=new jN(e),n=[];return Rv(e,r,r,n),UN(e.container,n),r},Rb=function(t,e){switch(e){case 0:return js(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return js(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return js(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return js(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},rD=function(t,e){switch(e){case 0:return js(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return js(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return js(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return js(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},nD=function(t,e){switch(e){case 0:return js(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return js(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return js(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return js(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},sD=function(t,e){switch(e){case 0:return xf(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return xf(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return xf(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return xf(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},xf=function(t,e){var r=[];return _s(t)?r.push(t.subdivide(.5,!1)):r.push(t),_s(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},js=function(t,e,r,n){var s=[];return _s(t)?s.push(t.subdivide(.5,!1)):s.push(t),_s(r)?s.push(r.subdivide(.5,!0)):s.push(r),_s(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),_s(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},kN=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Gg=function(t){var e=t.styles,r=t.bounds,n=Yt(e.paddingLeft,r.width),s=Yt(e.paddingRight,r.width),i=Yt(e.paddingTop,r.width),a=Yt(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},iD=function(t,e){return t===0?e.bounds:t===2?Gg(e):kN(e)},aD=function(t,e){return t===0?e.bounds:t===2?Gg(e):kN(e)},Dm=function(t,e,r){var n=iD(vl(t.styles.backgroundOrigin,e),t),s=aD(vl(t.styles.backgroundClip,e),t),i=AD(vl(t.styles.backgroundSize,e),r,n),a=i[0],o=i[1],l=xu(vl(t.styles.backgroundPosition,e),n.width-a,n.height-o),c=oD(vl(t.styles.backgroundRepeat,e),l,i,n,s),u=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[c,u,d,a,o]},ul=function(t){return $t(t)&&t.value===Rl.AUTO},vf=function(t){return typeof t=="number"},AD=function(t,e,r){var n=e[0],s=e[1],i=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Ir(a)&&o&&Ir(o))return[Yt(a,r.width),Yt(o,r.height)];var l=vf(i);if($t(a)&&(a.value===Rl.CONTAIN||a.value===Rl.COVER)){if(vf(i)){var c=r.width/r.height;return c<i!=(a.value===Rl.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=vf(n),d=vf(s),f=u||d;if(ul(a)&&(!o||ul(o))){if(u&&d)return[n,s];if(!l&&!f)return[r.width,r.height];if(f&&l){var g=u?n:s*i,m=d?s:n/i;return[g,m]}var w=u?n:r.width,B=d?s:r.height;return[w,B]}if(l){var x=0,y=0;return Ir(a)?x=Yt(a,r.width):Ir(o)&&(y=Yt(o,r.height)),ul(a)?x=y*i:(!o||ul(o))&&(y=x/i),[x,y]}var C=null,S=null;if(Ir(a)?C=Yt(a,r.width):o&&Ir(o)&&(S=Yt(o,r.height)),C!==null&&(!o||ul(o))&&(S=u&&d?C/n*s:r.height),S!==null&&ul(a)&&(C=u&&d?S/s*n:r.width),C!==null&&S!==null)return[C,S];throw new Error("Unable to calculate background-size for element")},vl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},oD=function(t,e,r,n,s){var i=e[0],a=e[1],o=r[0],l=r[1];switch(t){case 2:return[new et(Math.round(n.left),Math.round(n.top+a)),new et(Math.round(n.left+n.width),Math.round(n.top+a)),new et(Math.round(n.left+n.width),Math.round(l+n.top+a)),new et(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new et(Math.round(n.left+i),Math.round(n.top)),new et(Math.round(n.left+i+o),Math.round(n.top)),new et(Math.round(n.left+i+o),Math.round(n.height+n.top)),new et(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new et(Math.round(n.left+i),Math.round(n.top+a)),new et(Math.round(n.left+i+o),Math.round(n.top+a)),new et(Math.round(n.left+i+o),Math.round(n.top+a+l)),new et(Math.round(n.left+i),Math.round(n.top+a+l))];default:return[new et(Math.round(s.left),Math.round(s.top)),new et(Math.round(s.left+s.width),Math.round(s.top)),new et(Math.round(s.left+s.width),Math.round(s.height+s.top)),new et(Math.round(s.left),Math.round(s.height+s.top))]}},lD="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Kb="Hidden Text",cD=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=lD,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Kb)),n.appendChild(i),n.appendChild(s);var o=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(Kb)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),QN=function(){function t(e,r){this.context=e,this.options=r}return t}(),uD=1e4,dD=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new cD(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),ZT(r)&&(this.ctx.globalAlpha=r.opacity),YT(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),FN(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Nn(this,void 0,void 0,function(){var n;return pn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Nn(this,void 0,void 0,function(){return pn(this,function(n){switch(n.label){case 0:if(Mr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var a=gy(r.text);a.reduce(function(o,l){return i.ctx.fillText(l,o,r.bounds.top+s),o+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=mD(r.fontFamily).join(", "),i=Dd(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return Nn(this,void 0,void 0,function(){var s,i,a,o,l,c,u,d,f=this;return pn(this,function(g){return s=this.createFontStyle(n),i=s[0],a=s[1],o=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,u=l.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(w){switch(w){case 0:f.ctx.fillStyle=Wr(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,c);var B=n.textShadow;B.length&&m.text.trim().length&&(B.slice(0).reverse().forEach(function(x){f.ctx.shadowColor=Wr(x.color),f.ctx.shadowOffsetX=x.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=x.offsetY.number*f.options.scale,f.ctx.shadowBlur=x.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=Wr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=Wr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Gg(r),a=$g(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Nn(this,void 0,void 0,function(){var n,s,i,a,o,l,y,y,c,u,d,f,S,g,m,k,w,B,x,y,C,S,k;return pn(this,function(O){switch(O.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,a=0,o=n.textNodes,O.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,i)]):[3,4];case 2:O.sent(),O.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof uN))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=O.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof dN&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof hN))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=O.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof mN&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=O.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),O.label=14;case 14:if(n instanceof py&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===Mg?n.checked&&(this.ctx.save(),this.path([new et(n.bounds.left+d*.39363,n.bounds.top+d*.79),new et(n.bounds.left+d*.16,n.bounds.top+d*.5549),new et(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new et(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new et(n.bounds.left+d*.72983,n.bounds.top+d*.23),new et(n.bounds.left+d*.84,n.bounds.top+d*.34085),new et(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=Wr(Eb),this.ctx.fill(),this.ctx.restore()):n.type===Rg&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Wr(Eb),this.ctx.fill(),this.ctx.restore())),hD(n)&&n.value.length){switch(f=this.createFontStyle(i),S=f[0],g=f[1],m=this.fontMetrics.getMetrics(S,g).baseline,this.ctx.font=S,this.ctx.fillStyle=Wr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=gD(n.styles.textAlign),k=Gg(n),w=0,n.styles.textAlign){case 1:w+=k.width/2;break;case 2:w+=k.width;break}B=k.add(w,0,0,-k.height/2+1),this.ctx.save(),this.path([new et(k.left,k.top),new et(k.left+k.width,k.top),new et(k.left+k.width,k.top+k.height),new et(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ou(n.value,B),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Mr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];y=void 0,C=x.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return y=O.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(i)[0],this.ctx.font=S,this.ctx.fillStyle=Wr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new ia(n.bounds.left,n.bounds.top+Yt(n.styles.paddingTop,n.bounds.width),n.bounds.width,hb(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ou(r.listValue,k),i.letterSpacing,hb(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Nn(this,void 0,void 0,function(){var n,s,x,i,a,x,o,l,x,c,u,x,d,f,x,g,m,x,w,B,x;return pn(this,function(y){switch(y.label){case 0:if(Mr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(x=s[n],[4,this.renderStack(x)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,a=r.nonInlineLevel,y.label=7;case 7:return i<a.length?(x=a[i],[4,this.renderNode(x)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:o=0,l=r.nonPositionedFloats,y.label=11;case 11:return o<l.length?(x=l[o],[4,this.renderStack(x)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return c<u.length?(x=u[c],[4,this.renderStack(x)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:d=0,f=r.inlineLevel,y.label=19;case 19:return d<f.length?(x=f[d],[4,this.renderNode(x)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return g<m.length?(x=m[g],[4,this.renderStack(x)]):[3,26];case 24:y.sent(),y.label=25;case 25:return g++,[3,23];case 26:w=0,B=r.positiveZIndex,y.label=27;case 27:return w<B.length?(x=B[w],[4,this.renderStack(x)]):[3,30];case 28:y.sent(),y.label=29;case 29:return w++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var a=_s(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),_s(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,s);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),o},e.prototype.renderBackgroundImage=function(r){return Nn(this,void 0,void 0,function(){var n,s,i,a,o,l;return pn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(u){var d,f,g,J,te,le,K,$,F,m,J,te,le,K,$,w,B,x,y,C,S,k,O,I,F,R,J,Q,j,K,$,de,te,le,q,se,oe,Z,_,L,M,z;return pn(this,function(ee){switch(ee.label){case 0:if(u.type!==0)return[3,5];d=void 0,f=u.url,ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return d=ee.sent(),[3,4];case 3:return ee.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(g=Dm(r,n,[d.width,d.height,d.width/d.height]),J=g[0],te=g[1],le=g[2],K=g[3],$=g[4],F=i.ctx.createPattern(i.resizeImage(d,K,$),"repeat"),i.renderRepeat(J,F,te,le)),[3,6];case 5:Y6(u)?(m=Dm(r,n,[null,null,null]),J=m[0],te=m[1],le=m[2],K=m[3],$=m[4],w=G6(u.angle,K,$),B=w[0],x=w[1],y=w[2],C=w[3],S=w[4],k=document.createElement("canvas"),k.width=K,k.height=$,O=k.getContext("2d"),I=O.createLinearGradient(x,C,y,S),ub(u.stops,B).forEach(function(ie){return I.addColorStop(ie.stop,Wr(ie.color))}),O.fillStyle=I,O.fillRect(0,0,K,$),K>0&&$>0&&(F=i.ctx.createPattern(k,"repeat"),i.renderRepeat(J,F,te,le))):Z6(u)&&(R=Dm(r,n,[null,null,null]),J=R[0],Q=R[1],j=R[2],K=R[3],$=R[4],de=u.position.length===0?[dy]:u.position,te=Yt(de[0],K),le=Yt(de[de.length-1],$),q=W6(u,te,le,K,$),se=q[0],oe=q[1],se>0&&oe>0&&(Z=i.ctx.createRadialGradient(Q+te,j+le,0,Q+te,j+le,se),ub(u.stops,se*2).forEach(function(ie){return Z.addColorStop(ie.stop,Wr(ie.color))}),i.path(J),i.ctx.fillStyle=Z,se!==oe?(_=r.bounds.left+.5*r.bounds.width,L=r.bounds.top+.5*r.bounds.height,M=oe/se,z=1/M,i.ctx.save(),i.ctx.translate(_,L),i.ctx.transform(1,0,0,M,0,0),i.ctx.translate(-_,-L),i.ctx.fillRect(Q,z*(j-L)+L,K,$*z),i.ctx.restore()):i.ctx.fill())),ee.label=6;case 6:return n--,[2]}})},i=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return Nn(this,void 0,void 0,function(){return pn(this,function(i){return this.path(Rb(s,n)),this.ctx.fillStyle=Wr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return Nn(this,void 0,void 0,function(){var a,o;return pn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return a=rD(i,s),this.path(a),this.ctx.fillStyle=Wr(r),this.ctx.fill(),o=nD(i,s),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Nn(this,void 0,void 0,function(){var n,s,i,a,o,l,c,u,d=this;return pn(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!oA(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=fD(vl(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),oA(n.backgroundColor)||(this.ctx.fillStyle=Wr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var m=zg(r.curves),w=g.inset?0:uD,B=eD(m,-w+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(m),d.ctx.clip(),d.mask(B)):(d.mask(m),d.ctx.clip(),d.path(B)),d.ctx.shadowOffsetX=g.offsetX.number+w,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=Wr(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?Wr(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,l=0,c=i,f.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!oA(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,a){return Nn(this,void 0,void 0,function(){var o,l,c,u,d,f,g,m,w,B,x,y,C,S,k,O,k,O;return pn(this,function(I){return this.ctx.save(),o=sD(i,s),l=Rb(i,s),a===2&&(this.path(l),this.ctx.clip()),_s(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),_s(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),s===0||s===2?g=Math.abs(c-d):g=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),m=n<3?n*3:n*2,w=n<3?n*2:n,a===3&&(m=n,w=n),B=!0,g<=m*2?B=!1:g<=m*2+w?(x=g/(2*m+w),m*=x,w*=x):(y=Math.floor((g+w)/(m+w)),C=(g-y*m)/(y-1),S=(g-(y+1)*m)/y,w=S<=0||Math.abs(w-C)<Math.abs(w-S)?C:S),B&&(a===3?this.ctx.setLineDash([0,m+w]):this.ctx.setLineDash([m,w])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Wr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(_s(l[0])&&(k=l[3],O=l[0],this.ctx.beginPath(),this.formatPath([new et(k.end.x,k.end.y),new et(O.start.x,O.start.y)]),this.ctx.stroke()),_s(l[1])&&(k=l[1],O=l[2],this.ctx.beginPath(),this.formatPath([new et(k.end.x,k.end.y),new et(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Nn(this,void 0,void 0,function(){var n;return pn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Wr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=tD(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(QN),hD=function(t){return t instanceof pN||t instanceof gN?!0:t instanceof py&&t.type!==Rg&&t.type!==Mg},fD=function(t,e){switch(t){case 0:return zg(e);case 2:return qT(e);case 1:default:return $g(e)}},gD=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},pD=["-apple-system","system-ui"],mD=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return pD.indexOf(e)===-1}):t},xD=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return Nn(this,void 0,void 0,function(){var n,s;return pn(this,function(i){switch(i.label){case 0:return n=Pv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,vD(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Wr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(QN),vD=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},wD=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Jh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Jh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Jh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Jh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),yD=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new wD({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new MT(this,e)}return t.instanceCount=1,t}(),Dp=function(t,e){return e===void 0&&(e={}),bD(t,e)};typeof window<"u"&&SN.setContext(window);var bD=function(t,e){return Nn(void 0,void 0,void 0,function(){var r,n,s,i,a,o,l,c,u,d,f,g,m,w,B,x,y,C,S,k,I,O,I,F,R,J,Q,j,K,$,de,te,le,q,se,oe,Z,_,L,M;return pn(this,function(z){switch(z.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(F=e.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(R=e.imageTimeout)!==null&&R!==void 0?R:15e3,proxy:e.proxy,useCORS:(J=e.useCORS)!==null&&J!==void 0?J:!1},i=yv({logging:(Q=e.logging)!==null&&Q!==void 0?Q:!0,cache:e.cache},s),a={windowWidth:(j=e.windowWidth)!==null&&j!==void 0?j:n.innerWidth,windowHeight:(K=e.windowHeight)!==null&&K!==void 0?K:n.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:n.pageXOffset,scrollY:(de=e.scrollY)!==null&&de!==void 0?de:n.pageYOffset},o=new ia(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new yD(i,o),c=(te=e.foreignObjectRendering)!==null&&te!==void 0?te:!1,u={allowTaint:(le=e.allowTaint)!==null&&le!==void 0?le:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new Ob(l,t,u),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=z.sent(),m=my(f)||CT(f)?eL(f.ownerDocument):Fp(l,f),w=m.width,B=m.height,x=m.left,y=m.top,C=BD(l,f,e.backgroundColor),S={canvas:e.canvas,backgroundColor:C,scale:(se=(q=e.scale)!==null&&q!==void 0?q:n.devicePixelRatio)!==null&&se!==void 0?se:1,x:((oe=e.x)!==null&&oe!==void 0?oe:0)+x,y:((Z=e.y)!==null&&Z!==void 0?Z:0)+y,width:(_=e.width)!==null&&_!==void 0?_:Math.ceil(w),height:(L=e.height)!==null&&L!==void 0?L:Math.ceil(B)},c?(l.logger.debug("Document cloned, using foreign object rendering"),I=new xD(l,S),[4,I.render(f)]):[3,3];case 2:return k=z.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+y+" with size "+w+"x"+B+" using computed rendering"),l.logger.debug("Starting DOM parsing"),O=vN(l,f),C===O.styles.backgroundColor&&(O.styles.backgroundColor=ea.TRANSPARENT),l.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),I=new dD(l,S),[4,I.render(O)];case 4:k=z.sent(),z.label=5;case 5:return(!((M=e.removeContainer)!==null&&M!==void 0)||M)&&(Ob.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,k]}})})},BD=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?Tu(t,getComputedStyle(n.documentElement).backgroundColor):ea.TRANSPARENT,i=n.body?Tu(t,getComputedStyle(n.body).backgroundColor):ea.TRANSPARENT,a=typeof r=="string"?Tu(t,r):r===null?ea.TRANSPARENT:4294967295;return e===n.documentElement?oA(s)?oA(i)?a:i:s:a};const Kv=Object.freeze(Object.defineProperty({__proto__:null,default:Dp},Symbol.toStringTag,{value:"Module"}));function Rt(t){"@babel/helpers - typeof";return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(t)}var vn=Uint8Array,As=Uint16Array,xy=Int32Array,Op=new vn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hp=new vn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vv=new vn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LN=function(t,e){for(var r=new As(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new xy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},IN=LN(Op,2),PN=IN.b,zv=IN.r;PN[28]=258,zv[258]=28;var TN=LN(Hp,0),CD=TN.b,Vb=TN.r,$v=new As(32768);for(var rr=0;rr<32768;++rr){var Ca=(rr&43690)>>1|(rr&21845)<<1;Ca=(Ca&52428)>>2|(Ca&13107)<<2,Ca=(Ca&61680)>>4|(Ca&3855)<<4,$v[rr]=((Ca&65280)>>8|(Ca&255)<<8)>>1}var Ni=function(t,e,r){for(var n=t.length,s=0,i=new As(e);s<n;++s)t[s]&&++i[t[s]-1];var a=new As(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(r){o=new As(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],d=a[t[s]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)o[$v[d]>>l]=c}else for(o=new As(n),s=0;s<n;++s)t[s]&&(o[s]=$v[a[t[s]-1]++]>>15-t[s]);return o},fA=new vn(288);for(var rr=0;rr<144;++rr)fA[rr]=8;for(var rr=144;rr<256;++rr)fA[rr]=9;for(var rr=256;rr<280;++rr)fA[rr]=7;for(var rr=280;rr<288;++rr)fA[rr]=8;var wd=new vn(32);for(var rr=0;rr<32;++rr)wd[rr]=5;var _D=Ni(fA,9,0),ND=Ni(fA,9,1),SD=Ni(wd,5,0),FD=Ni(wd,5,1),Om=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Ks=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Hm=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},vy=function(t){return(t+7)/8|0},DN=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new vn(t.subarray(e,r))},jD=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ws=function(t,e,r){var n=new Error(e||jD[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ws),!r)throw n;return n},ED=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new vn(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new vn(s*3));var c=function(Ce){var Ue=r.length;if(Ce>Ue){var Ie=new vn(Math.max(Ue*2,Ce));Ie.set(r),r=Ie}},u=e.f||0,d=e.p||0,f=e.b||0,g=e.l,m=e.d,w=e.m,B=e.n,x=s*8;do{if(!g){u=Ks(t,d,1);var y=Ks(t,d+1,3);if(d+=3,y)if(y==1)g=ND,m=FD,w=9,B=5;else if(y==2){var O=Ks(t,d,31)+257,I=Ks(t,d+10,15)+4,F=O+Ks(t,d+5,31)+1;d+=14;for(var R=new vn(F),J=new vn(19),Q=0;Q<I;++Q)J[Vv[Q]]=Ks(t,d+Q*3,7);d+=I*3;for(var j=Om(J),K=(1<<j)-1,$=Ni(J,j,1),Q=0;Q<F;){var de=$[Ks(t,d,K)];d+=de&15;var C=de>>4;if(C<16)R[Q++]=C;else{var te=0,le=0;for(C==16?(le=3+Ks(t,d,3),d+=2,te=R[Q-1]):C==17?(le=3+Ks(t,d,7),d+=3):C==18&&(le=11+Ks(t,d,127),d+=7);le--;)R[Q++]=te}}var q=R.subarray(0,O),se=R.subarray(O);w=Om(q),B=Om(se),g=Ni(q,w,1),m=Ni(se,B,1)}else Ws(1);else{var C=vy(d)+4,S=t[C-4]|t[C-3]<<8,k=C+S;if(k>s){l&&Ws(0);break}o&&c(f+S),r.set(t.subarray(C,k),f),e.b=f+=S,e.p=d=k*8,e.f=u;continue}if(d>x){l&&Ws(0);break}}o&&c(f+131072);for(var oe=(1<<w)-1,Z=(1<<B)-1,_=d;;_=d){var te=g[Hm(t,d)&oe],L=te>>4;if(d+=te&15,d>x){l&&Ws(0);break}if(te||Ws(2),L<256)r[f++]=L;else if(L==256){_=d,g=null;break}else{var M=L-254;if(L>264){var Q=L-257,z=Op[Q];M=Ks(t,d,(1<<z)-1)+PN[Q],d+=z}var ee=m[Hm(t,d)&Z],ie=ee>>4;ee||Ws(3),d+=ee&15;var se=CD[ie];if(ie>3){var z=Hp[ie];se+=Hm(t,d)&(1<<z)-1,d+=z}if(d>x){l&&Ws(0);break}o&&c(f+131072);var ae=f+M;if(f<se){var re=i-se,we=Math.min(se,ae);for(re+f<0&&Ws(3);f<we;++f)r[f]=n[re+f]}for(;f<ae;++f)r[f]=r[f-se]}}e.l=g,e.p=_,e.b=f,e.f=u,g&&(u=1,e.m=w,e.d=m,e.n=B)}while(!u);return f!=r.length&&a?DN(r,0,f):r.subarray(0,f)},Ki=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ru=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Mm=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:HN,l:0};if(s==1){var a=new vn(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(k,O){return k.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=s-1;)o=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=i[0].s,n=1;n<s;++n)i[n].s>f&&(f=i[n].s);var g=new As(f+1),m=Gv(r[u-1],g,0);if(m>e){var n=0,w=0,B=m-e,x=1<<B;for(i.sort(function(O,I){return g[I.s]-g[O.s]||O.f-I.f});n<s;++n){var y=i[n].s;if(g[y]>e)w+=x-(1<<m-g[y]),g[y]=e;else break}for(w>>=B;w>0;){var C=i[n].s;g[C]<e?w-=1<<e-g[C]++-1:++n}for(;n>=0&&w;--n){var S=i[n].s;g[S]==e&&(--g[S],++w)}m=e}return{t:new vn(g),l:m}},Gv=function(t,e,r){return t.s==-1?Math.max(Gv(t.l,e,r+1),Gv(t.r,e,r+1)):e[t.s]=r},zb=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new As(++e),n=0,s=t[0],i=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[o]}return{c:r.subarray(0,n),n:e}},nu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},ON=function(t,e,r){var n=r.length,s=vy(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},$b=function(t,e,r,n,s,i,a,o,l,c,u){Ki(e,u++,r),++s[256];for(var d=Mm(s,15),f=d.t,g=d.l,m=Mm(i,15),w=m.t,B=m.l,x=zb(f),y=x.c,C=x.n,S=zb(w),k=S.c,O=S.n,I=new As(19),F=0;F<y.length;++F)++I[y[F]&31];for(var F=0;F<k.length;++F)++I[k[F]&31];for(var R=Mm(I,7),J=R.t,Q=R.l,j=19;j>4&&!J[Vv[j-1]];--j);var K=c+5<<3,$=nu(s,fA)+nu(i,wd)+a,de=nu(s,f)+nu(i,w)+a+14+3*j+nu(I,J)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&K<=$&&K<=de)return ON(e,u,t.subarray(l,l+c));var te,le,q,se;if(Ki(e,u,1+(de<$)),u+=2,de<$){te=Ni(f,g,0),le=f,q=Ni(w,B,0),se=w;var oe=Ni(J,Q,0);Ki(e,u,C-257),Ki(e,u+5,O-1),Ki(e,u+10,j-4),u+=14;for(var F=0;F<j;++F)Ki(e,u+3*F,J[Vv[F]]);u+=3*j;for(var Z=[y,k],_=0;_<2;++_)for(var L=Z[_],F=0;F<L.length;++F){var M=L[F]&31;Ki(e,u,oe[M]),u+=J[M],M>15&&(Ki(e,u,L[F]>>5&127),u+=L[F]>>12)}}else te=_D,le=fA,q=SD,se=wd;for(var F=0;F<o;++F){var z=n[F];if(z>255){var M=z>>18&31;ru(e,u,te[M+257]),u+=le[M+257],M>7&&(Ki(e,u,z>>23&31),u+=Op[M]);var ee=z&31;ru(e,u,q[ee]),u+=se[ee],ee>3&&(ru(e,u,z>>5&8191),u+=Hp[ee])}else ru(e,u,te[z]),u+=le[z]}return ru(e,u,te[256]),u+le[256]},UD=new xy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),HN=new vn(0),kD=function(t,e,r,n,s,i){var a=i.z||t.length,o=new vn(n+a+5*(1+Math.ceil(a/7e3))+s),l=o.subarray(n,o.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var d=UD[e-1],f=d>>13,g=d&8191,m=(1<<r)-1,w=i.p||new As(32768),B=i.h||new As(m+1),x=Math.ceil(r/3),y=2*x,C=function(ze){return(t[ze]^t[ze+1]<<x^t[ze+2]<<y)&m},S=new xy(25e3),k=new As(288),O=new As(32),I=0,F=0,R=i.i||0,J=0,Q=i.w||0,j=0;R+2<a;++R){var K=C(R),$=R&32767,de=B[K];if(w[$]=de,B[K]=$,Q<=R){var te=a-R;if((I>7e3||J>24576)&&(te>423||!c)){u=$b(t,l,0,S,k,O,F,J,j,R-j,u),J=I=F=0,j=R;for(var le=0;le<286;++le)k[le]=0;for(var le=0;le<30;++le)O[le]=0}var q=2,se=0,oe=g,Z=$-de&32767;if(te>2&&K==C(R-Z))for(var _=Math.min(f,te)-1,L=Math.min(32767,R),M=Math.min(258,te);Z<=L&&--oe&&$!=de;){if(t[R+q]==t[R+q-Z]){for(var z=0;z<M&&t[R+z]==t[R+z-Z];++z);if(z>q){if(q=z,se=Z,z>_)break;for(var ee=Math.min(Z,z-2),ie=0,le=0;le<ee;++le){var ae=R-Z+le&32767,re=w[ae],we=ae-re&32767;we>ie&&(ie=we,de=ae)}}}$=de,de=w[$],Z+=$-de&32767}if(se){S[J++]=268435456|zv[q]<<18|Vb[se];var Ce=zv[q]&31,Ue=Vb[se]&31;F+=Op[Ce]+Hp[Ue],++k[257+Ce],++O[Ue],Q=R+q,++I}else S[J++]=t[R],++k[t[R]]}}for(R=Math.max(R,Q);R<a;++R)S[J++]=t[R],++k[t[R]];u=$b(t,l,c,S,k,O,F,J,j,R-j,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=B,i.p=w,i.i=R,i.w=Q)}else{for(var R=i.w||0;R<a+c;R+=65535){var Ie=R+65535;Ie>=a&&(l[u/8|0]=c,Ie=a),u=ON(l,u+1,t.subarray(R,Ie))}i.i=a}return DN(o,0,n+vy(u)+s)},MN=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},QD=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new vn(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return kD(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},RN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},LD=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=MN();s.p(e.dictionary),RN(t,2,s.d())}},ID=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ws(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ws(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Wv(t,e){e||(e={});var r=MN();r.p(t);var n=QD(t,e,e.dictionary?6:2,4);return LD(n,e),RN(n,n.length-4,r.d()),n}function PD(t,e){return ED(t.subarray(ID(t),-4),{i:2},e,e)}var TD=typeof TextDecoder<"u"&&new TextDecoder,DD=0;try{TD.decode(HN,{stream:!0}),DD=1}catch{}var ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Rm(){ht.console&&typeof ht.console.log=="function"&&ht.console.log.apply(ht.console,arguments)}var Wt={log:Rm,warn:function(t){ht.console&&(typeof ht.console.warn=="function"?ht.console.warn.apply(ht.console,arguments):Rm.call(null,arguments))},error:function(t){ht.console&&(typeof ht.console.error=="function"?ht.console.error.apply(ht.console,arguments):Rm(t))}};function Km(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){RA(n.response,e,r)},n.onerror=function(){Wt.error("could not download file")},n.send()}function Gb(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function wf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Mu,qv,RA=ht.saveAs||((typeof window>"u"?"undefined":Rt(window))!=="object"||window!==ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ht.URL||ht.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?Gb(s.href)?Km(t,e,r):wf(s,s.target="_blank"):wf(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){wf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Gb(t))Km(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){wf(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Rt(i)!=="object"&&(Wt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Km(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(ht.HTMLElement)||ht.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Rt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=ht.URL||ht.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function KN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Vm(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=un(r,n,s,i,e[0],7,-680876936),i=un(i,r,n,s,e[1],12,-389564586),s=un(s,i,r,n,e[2],17,606105819),n=un(n,s,i,r,e[3],22,-1044525330),r=un(r,n,s,i,e[4],7,-176418897),i=un(i,r,n,s,e[5],12,1200080426),s=un(s,i,r,n,e[6],17,-1473231341),n=un(n,s,i,r,e[7],22,-45705983),r=un(r,n,s,i,e[8],7,1770035416),i=un(i,r,n,s,e[9],12,-1958414417),s=un(s,i,r,n,e[10],17,-42063),n=un(n,s,i,r,e[11],22,-1990404162),r=un(r,n,s,i,e[12],7,1804603682),i=un(i,r,n,s,e[13],12,-40341101),s=un(s,i,r,n,e[14],17,-1502002290),r=dn(r,n=un(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=dn(i,r,n,s,e[6],9,-1069501632),s=dn(s,i,r,n,e[11],14,643717713),n=dn(n,s,i,r,e[0],20,-373897302),r=dn(r,n,s,i,e[5],5,-701558691),i=dn(i,r,n,s,e[10],9,38016083),s=dn(s,i,r,n,e[15],14,-660478335),n=dn(n,s,i,r,e[4],20,-405537848),r=dn(r,n,s,i,e[9],5,568446438),i=dn(i,r,n,s,e[14],9,-1019803690),s=dn(s,i,r,n,e[3],14,-187363961),n=dn(n,s,i,r,e[8],20,1163531501),r=dn(r,n,s,i,e[13],5,-1444681467),i=dn(i,r,n,s,e[2],9,-51403784),s=dn(s,i,r,n,e[7],14,1735328473),r=hn(r,n=dn(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=hn(i,r,n,s,e[8],11,-2022574463),s=hn(s,i,r,n,e[11],16,1839030562),n=hn(n,s,i,r,e[14],23,-35309556),r=hn(r,n,s,i,e[1],4,-1530992060),i=hn(i,r,n,s,e[4],11,1272893353),s=hn(s,i,r,n,e[7],16,-155497632),n=hn(n,s,i,r,e[10],23,-1094730640),r=hn(r,n,s,i,e[13],4,681279174),i=hn(i,r,n,s,e[0],11,-358537222),s=hn(s,i,r,n,e[3],16,-722521979),n=hn(n,s,i,r,e[6],23,76029189),r=hn(r,n,s,i,e[9],4,-640364487),i=hn(i,r,n,s,e[12],11,-421815835),s=hn(s,i,r,n,e[15],16,530742520),r=fn(r,n=hn(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=fn(i,r,n,s,e[7],10,1126891415),s=fn(s,i,r,n,e[14],15,-1416354905),n=fn(n,s,i,r,e[5],21,-57434055),r=fn(r,n,s,i,e[12],6,1700485571),i=fn(i,r,n,s,e[3],10,-1894986606),s=fn(s,i,r,n,e[10],15,-1051523),n=fn(n,s,i,r,e[1],21,-2054922799),r=fn(r,n,s,i,e[8],6,1873313359),i=fn(i,r,n,s,e[15],10,-30611744),s=fn(s,i,r,n,e[6],15,-1560198380),n=fn(n,s,i,r,e[13],21,1309151649),r=fn(r,n,s,i,e[4],6,-145523070),i=fn(i,r,n,s,e[11],10,-1120210379),s=fn(s,i,r,n,e[2],15,718787259),n=fn(n,s,i,r,e[9],21,-343485551),t[0]=za(r,t[0]),t[1]=za(n,t[1]),t[2]=za(s,t[2]),t[3]=za(i,t[3])}function Mp(t,e,r,n,s,i){return e=za(za(e,t),za(n,i)),za(e<<s|e>>>32-s,r)}function un(t,e,r,n,s,i,a){return Mp(e&r|~e&n,t,e,s,i,a)}function dn(t,e,r,n,s,i,a){return Mp(e&n|r&~n,t,e,s,i,a)}function hn(t,e,r,n,s,i,a){return Mp(e^r^n,t,e,s,i,a)}function fn(t,e,r,n,s,i,a){return Mp(r^(e|~n),t,e,s,i,a)}function VN(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Vm(n,OD(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Vm(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,Vm(n,s),n}function OD(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Mu=ht.atob.bind(ht),qv=ht.btoa.bind(ht);var Wb="0123456789abcdef".split("");function HD(t){for(var e="",r=0;r<4;r++)e+=Wb[t>>8*r+4&15]+Wb[t>>8*r&15];return e}function MD(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Jv(t){return VN(t).map(MD).join("")}var RD=function(t){for(var e=0;e<t.length;e++)t[e]=HD(t[e]);return t.join("")}(VN("hello"))!="5d41402abc4b2a76b9719d911017c592";function za(t,e){if(RD){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Xv(t,e){var r,n,s,i;if(t!==r){for(var a=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var d=e.length,f=0,g=0,m="";for(l=0;l<d;l++)g=(g+(u=o[f=(f+1)%256]))%256,o[f]=o[g],o[g]=u,a=o[(o[f]+o[g])%256],m+=String.fromCharCode(e.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qb={print:4,modify:8,copy:16,"annot-forms":32};function wl(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(qb.perm!==void 0)throw new Error("Invalid permission: "+o);s+=qb[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Jv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Xv(this.encryptionKey,this.padding)}function yl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function Jb(t){if(Rt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var a=e[r][i];try{a[0].apply(t,n)}catch(o){ht.console&&Wt.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yd(t){if(!(this instanceof yd))return new yd(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function zN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Da(t,e,r,n,s){if(!(this instanceof Da))return new Da(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,zN.call(this,n,s)}function ZA(t,e,r,n,s){if(!(this instanceof ZA))return new ZA(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,zN.call(this,n,s)}function ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,l=16,c="S",u=null;Rt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},g={internal:{},__private__:{}};g.__private__.PubSub=Jb;var m="1.3",w=g.__private__.getPdfVersion=function(){return m};g.__private__.setPdfVersion=function(v){m=v};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return B};var x=g.__private__.getPageFormat=function(v){return B[v]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},C=y.COMPAT;function S(){this.saveGraphicsState(),X(new lt(Ne,0,0,-Ne,0,ca()*Ne).toString()+" cm"),this.setFontSize(this.getFontSize()/Ne),c="n",C=y.ADVANCED}function k(){this.restoreGraphicsState(),c="S",C=y.COMPAT}var O=g.__private__.combineFontStyleAndFontWeight=function(v,U){if(v=="bold"&&U=="normal"||v=="bold"&&U==400||v=="normal"&&U=="italic"||v=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(v=U==400||U==="normal"?v==="italic"?"italic":"normal":U!=700&&U!=="bold"||v!=="normal"?(U==700?"bold":U)+""+v:"bold"),v};g.advancedAPI=function(v){var U=C===y.COMPAT;return U&&S.call(this),typeof v!="function"||(v(this),U&&k.call(this)),this},g.compatAPI=function(v){var U=C===y.ADVANCED;return U&&k.call(this),typeof v!="function"||(v(this),U&&S.call(this)),this},g.isAdvancedAPI=function(){return C===y.ADVANCED};var I,F=function(v){if(C!==y.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=g.roundToPrecision=g.__private__.roundToPrecision=function(v,U){var Y=e||U;if(isNaN(v)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Y).replace(/0+$/,"")};I=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,16)};var J=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return R(v,2)},Q=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return R(v,3)},j=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return C===y.COMPAT?v*Ne:C===y.ADVANCED?v:void 0},K=function(v){return C===y.COMPAT?ca()-v:C===y.ADVANCED?v:void 0},$=function(v){return j(K(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var de,te="00000000000000000000000000000000",le=g.__private__.getFileId=function(){return te},q=g.__private__.setFileId=function(v){return te=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(An=new wl(u.userPermissions,u.userPassword,u.ownerPassword,te)),te};g.setFileId=function(v){return q(v),this},g.getFileId=function(){return le()};var se=g.__private__.convertDateToPDFDate=function(v){var U=v.getTimezoneOffset(),Y=U<0?"+":"-",Ae=Math.floor(Math.abs(U/60)),ve=Math.abs(U%60),ke=[Y,M(Ae),"'",M(ve),"'"].join("");return["D:",v.getFullYear(),M(v.getMonth()+1),M(v.getDate()),M(v.getHours()),M(v.getMinutes()),M(v.getSeconds()),ke].join("")},oe=g.__private__.convertPDFDateToDate=function(v){var U=parseInt(v.substr(2,4),10),Y=parseInt(v.substr(6,2),10)-1,Ae=parseInt(v.substr(8,2),10),ve=parseInt(v.substr(10,2),10),ke=parseInt(v.substr(12,2),10),Ve=parseInt(v.substr(14,2),10);return new Date(U,Y,Ae,ve,ke,Ve,0)},Z=g.__private__.setCreationDate=function(v){var U;if(v===void 0&&(v=new Date),v instanceof Date)U=se(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=v}return de=U},_=g.__private__.getCreationDate=function(v){var U=de;return v==="jsDate"&&(U=oe(de)),U};g.setCreationDate=function(v){return Z(v),this},g.getCreationDate=function(v){return _(v)};var L,M=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},z=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ee=0,ie=[],ae=[],re=0,we=[],Ce=[],Ue=!1,Ie=ae,ze=function(){ee=0,re=0,ae=[],ie=[],we=[],Ui=Fr(),Ls=Fr()};g.__private__.setCustomOutputDestination=function(v){Ue=!0,Ie=v};var pe=function(v){Ue||(Ie=v)};g.__private__.resetCustomOutputDestination=function(){Ue=!1,Ie=ae};var X=g.__private__.out=function(v){return v=v.toString(),re+=v.length+1,Ie.push(v),Ie},at=g.__private__.write=function(v){return X(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},xe=g.__private__.getArrayBuffer=function(v){for(var U=v.length,Y=new ArrayBuffer(U),Ae=new Uint8Array(Y);U--;)Ae[U]=v.charCodeAt(U);return Y},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ee};var Re=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Re=C===y.ADVANCED?v/Ne:v,this};var We,He=g.__private__.getFontSize=g.getFontSize=function(){return C===y.COMPAT?Re:Re*Ne},Ze=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return Ze=v,this},g.__private__.getR2L=g.getR2L=function(){return Ze};var _e,Oe=g.__private__.setZoomMode=function(v){var U=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))We=v;else if(isNaN(v)){if(U.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');We=v}else We=parseInt(v,10)};g.__private__.getZoomMode=function(){return We};var W,Be=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');_e=v};g.__private__.getPageMode=function(){return _e};var me=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');W=v};g.__private__.getLayoutMode=function(){return W},g.__private__.setDisplayMode=g.setDisplayMode=function(v,U,Y){return Oe(v),me(U),Be(Y),this};var Fe={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(Fe).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Fe[v]},g.__private__.getDocumentProperties=function(){return Fe},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var U in Fe)Fe.hasOwnProperty(U)&&v[U]&&(Fe[U]=v[U]);return this},g.__private__.setDocumentProperty=function(v,U){if(Object.keys(Fe).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Fe[v]=U};var Ke,Ne,ne,Se,qe,Ge={},Te={},wt=[],fe={},ft={},_t={},mr={},an=null,Bt=0,ot=[],jt=new Jb(g),Qe=t.hotfixes||[],Lt={},It={},sr=[],lt=function v(U,Y,Ae,ve,ke,Ve){if(!(this instanceof v))return new v(U,Y,Ae,ve,ke,Ve);isNaN(U)&&(U=1),isNaN(Y)&&(Y=0),isNaN(Ae)&&(Ae=0),isNaN(ve)&&(ve=1),isNaN(ke)&&(ke=0),isNaN(Ve)&&(Ve=0),this._matrix=[U,Y,Ae,ve,ke,Ve]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(v)},lt.prototype.multiply=function(v){var U=v.sx*this.sx+v.shy*this.shx,Y=v.sx*this.shy+v.shy*this.sy,Ae=v.shx*this.sx+v.sy*this.shx,ve=v.shx*this.shy+v.sy*this.sy,ke=v.tx*this.sx+v.ty*this.shx+this.tx,Ve=v.tx*this.shy+v.ty*this.sy+this.ty;return new lt(U,Y,Ae,ve,ke,Ve)},lt.prototype.decompose=function(){var v=this.sx,U=this.shy,Y=this.shx,Ae=this.sy,ve=this.tx,ke=this.ty,Ve=Math.sqrt(v*v+U*U),tt=(v/=Ve)*Y+(U/=Ve)*Ae;Y-=v*tt,Ae-=U*tt;var At=Math.sqrt(Y*Y+Ae*Ae);return tt/=At,v*(Ae/=At)<U*(Y/=At)&&(v=-v,U=-U,tt=-tt,Ve=-Ve),{scale:new lt(Ve,0,0,At,0,0),translate:new lt(1,0,0,1,ve,ke),rotate:new lt(v,U,-U,v,0,0),skew:new lt(1,0,tt,1,0,0)}},lt.prototype.toString=function(v){return this.join(" ")},lt.prototype.inversed=function(){var v=this.sx,U=this.shy,Y=this.shx,Ae=this.sy,ve=this.tx,ke=this.ty,Ve=1/(v*Ae-U*Y),tt=Ae*Ve,At=-U*Ve,yt=-Y*Ve,mt=v*Ve;return new lt(tt,At,yt,mt,-tt*ve-yt*ke,-At*ve-mt*ke)},lt.prototype.applyToPoint=function(v){var U=v.x*this.sx+v.y*this.shx+this.tx,Y=v.x*this.shy+v.y*this.sy+this.ty;return new To(U,Y)},lt.prototype.applyToRectangle=function(v){var U=this.applyToPoint(v),Y=this.applyToPoint(new To(v.x+v.w,v.y+v.h));return new Bc(U.x,U.y,Y.x-U.x,Y.y-U.y)},lt.prototype.clone=function(){var v=this.sx,U=this.shy,Y=this.shx,Ae=this.sy,ve=this.tx,ke=this.ty;return new lt(v,U,Y,Ae,ve,ke)},g.Matrix=lt;var Un=g.matrixMult=function(v,U){return U.multiply(v)},kn=new lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=kn;var Xr=function(v,U){if(!ft[v]){var Y=(U instanceof Da?"Sh":"P")+(Object.keys(fe).length+1).toString(10);U.id=Y,ft[v]=Y,fe[Y]=U,jt.publish("addPattern",U)}};g.ShadingPattern=Da,g.TilingPattern=ZA,g.addShadingPattern=function(v,U){return F("addShadingPattern()"),Xr(v,U),this},g.beginTilingPattern=function(v){F("beginTilingPattern()"),sh(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,U){F("endTilingPattern()"),U.stream=Ce[L].join(`
`),Xr(v,U),jt.publish("endTilingPattern",U),sr.pop().restore()};var ur=g.__private__.newObject=function(){var v=Fr();return Jn(v,!0),v},Fr=g.__private__.newObjectDeferred=function(){return ee++,ie[ee]=function(){return re},ee},Jn=function(v,U){return U=typeof U=="boolean"&&U,ie[v]=re,U&&X(v+" 0 obj"),v},Co=g.__private__.newAdditionalObject=function(){var v={objId:Fr(),content:""};return we.push(v),v},Ui=Fr(),Ls=Fr(),Is=g.__private__.decodeColorString=function(v){var U=v.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length===5&&(U[4]==="k"||U[4]==="K")&&(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var Y=parseFloat(U[0]);U=[Y,Y,Y,"r"]}for(var Ae="#",ve=0;ve<3;ve++)Ae+=("0"+Math.floor(255*parseFloat(U[ve])).toString(16)).slice(-2);return Ae},Ps=g.__private__.encodeColorString=function(v){var U;typeof v=="string"&&(v={ch1:v});var Y=v.ch1,Ae=v.ch2,ve=v.ch3,ke=v.ch4,Ve=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var tt=new KN(Y);if(tt.ok)Y=tt.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var At=parseInt(Y.substr(1),16);Y=At>>16&255,Ae=At>>8&255,ve=255&At}if(Ae===void 0||ke===void 0&&Y===Ae&&Ae===ve)if(typeof Y=="string")U=Y+" "+Ve[0];else switch(v.precision){case 2:U=J(Y/255)+" "+Ve[0];break;case 3:default:U=Q(Y/255)+" "+Ve[0]}else if(ke===void 0||Rt(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return U=["1.","1.","1.",Ve[1]].join(" ");if(typeof Y=="string")U=[Y,Ae,ve,Ve[1]].join(" ");else switch(v.precision){case 2:U=[J(Y/255),J(Ae/255),J(ve/255),Ve[1]].join(" ");break;default:case 3:U=[Q(Y/255),Q(Ae/255),Q(ve/255),Ve[1]].join(" ")}}else if(typeof Y=="string")U=[Y,Ae,ve,ke,Ve[2]].join(" ");else switch(v.precision){case 2:U=[J(Y),J(Ae),J(ve),J(ke),Ve[2]].join(" ");break;case 3:default:U=[Q(Y),Q(Ae),Q(ve),Q(ke),Ve[2]].join(" ")}return U},Ai=g.__private__.getFilters=function(){return a},hs=g.__private__.putStream=function(v){var U=(v=v||{}).data||"",Y=v.filters||Ai(),Ae=v.alreadyAppliedFilters||[],ve=v.addLength1||!1,ke=U.length,Ve=v.objectId,tt=function(on){return on};if(u!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(tt=An.encryptor(Ve,0));var At={};Y===!0&&(Y=["FlateEncode"]);var yt=v.additionalKeyValues||[],mt=(At=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(U,Y):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(At.data.length!==0&&(yt.push({key:"Length",value:At.data.length}),ve===!0&&yt.push({key:"Length1",value:ke})),mt.length!=0)if(mt.split("/").length-1==1)yt.push({key:"Filter",value:mt});else{yt.push({key:"Filter",value:"["+mt+"]"});for(var Ut=0;Ut<yt.length;Ut+=1)if(yt[Ut].key==="DecodeParms"){for(var Ar=[],dr=0;dr<At.reverseChain.split("/").length-1;dr+=1)Ar.push("null");Ar.push(yt[Ut].value),yt[Ut].value="["+Ar.join(" ")+"]"}}X("<<");for(var jr=0;jr<yt.length;jr++)X("/"+yt[jr].key+" "+yt[jr].value);X(">>"),At.data.length!==0&&(X("stream"),X(tt(At.data)),X("endstream"))},oi=g.__private__.putPage=function(v){var U=v.number,Y=v.data,Ae=v.objId,ve=v.contentsObjId;Jn(Ae,!0),X("<</Type /Page"),X("/Parent "+v.rootDictionaryObjId+" 0 R"),X("/Resources "+v.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(I(v.mediaBox.bottomLeftX))+" "+parseFloat(I(v.mediaBox.bottomLeftY))+" "+I(v.mediaBox.topRightX)+" "+I(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&X("/CropBox ["+I(v.cropBox.bottomLeftX)+" "+I(v.cropBox.bottomLeftY)+" "+I(v.cropBox.topRightX)+" "+I(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&X("/BleedBox ["+I(v.bleedBox.bottomLeftX)+" "+I(v.bleedBox.bottomLeftY)+" "+I(v.bleedBox.topRightX)+" "+I(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&X("/TrimBox ["+I(v.trimBox.bottomLeftX)+" "+I(v.trimBox.bottomLeftY)+" "+I(v.trimBox.topRightX)+" "+I(v.trimBox.topRightY)+"]"),v.artBox!==null&&X("/ArtBox ["+I(v.artBox.bottomLeftX)+" "+I(v.artBox.bottomLeftY)+" "+I(v.artBox.topRightX)+" "+I(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&X("/UserUnit "+v.userUnit),jt.publish("putPage",{objId:Ae,pageContext:ot[U],pageNumber:U,page:Y}),X("/Contents "+ve+" 0 R"),X(">>"),X("endobj");var ke=Y.join(`
`);return C===y.ADVANCED&&(ke+=`
Q`),Jn(ve,!0),hs({data:ke,filters:Ai(),objectId:ve}),X("endobj"),Ae},bA=g.__private__.putPages=function(){var v,U,Y=[];for(v=1;v<=Bt;v++)ot[v].objId=Fr(),ot[v].contentsObjId=Fr();for(v=1;v<=Bt;v++)Y.push(oi({number:v,data:Ce[v],objId:ot[v].objId,contentsObjId:ot[v].contentsObjId,mediaBox:ot[v].mediaBox,cropBox:ot[v].cropBox,bleedBox:ot[v].bleedBox,trimBox:ot[v].trimBox,artBox:ot[v].artBox,userUnit:ot[v].userUnit,rootDictionaryObjId:Ui,resourceDictionaryObjId:Ls}));Jn(Ui,!0),X("<</Type /Pages");var Ae="/Kids [";for(U=0;U<Bt;U++)Ae+=Y[U]+" 0 R ";X(Ae+"]"),X("/Count "+Bt),X(">>"),X("endobj"),jt.publish("postPutPages")},_o=function(v){jt.publish("putFont",{font:v,out:X,newObject:ur,putStream:hs}),v.isAlreadyPutted!==!0&&(v.objectNumber=ur(),X("<<"),X("/Type /Font"),X("/BaseFont /"+yl(v.postScriptName)),X("/Subtype /Type1"),typeof v.encoding=="string"&&X("/Encoding /"+v.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},No=function(){for(var v in Ge)Ge.hasOwnProperty(v)&&(d===!1||d===!0&&f.hasOwnProperty(v))&&_o(Ge[v])},So=function(v){v.objectNumber=ur();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[I(v.x),I(v.y),I(v.x+v.width),I(v.y+v.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Y=v.pages[1].join(`
`);hs({data:Y,additionalKeyValues:U,objectId:v.objectNumber}),X("endobj")},Fo=function(){for(var v in Lt)Lt.hasOwnProperty(v)&&So(Lt[v])},Hd=function(v,U){var Y,Ae=[],ve=1/(U-1);for(Y=0;Y<1;Y+=ve)Ae.push(Y);if(Ae.push(1),v[0].offset!=0){var ke={offset:0,color:v[0].color};v.unshift(ke)}if(v[v.length-1].offset!=1){var Ve={offset:1,color:v[v.length-1].color};v.push(Ve)}for(var tt="",At=0,yt=0;yt<Ae.length;yt++){for(Y=Ae[yt];Y>v[At+1].offset;)At++;var mt=v[At].offset,Ut=(Y-mt)/(v[At+1].offset-mt),Ar=v[At].color,dr=v[At+1].color;tt+=z(Math.round((1-Ut)*Ar[0]+Ut*dr[0]).toString(16))+z(Math.round((1-Ut)*Ar[1]+Ut*dr[1]).toString(16))+z(Math.round((1-Ut)*Ar[2]+Ut*dr[2]).toString(16))}return tt.trim()},qp=function(v,U){U||(U=21);var Y=ur(),Ae=Hd(v.colors,U),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+U+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hs({data:Ae,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),X("endobj"),v.objectNumber=ur(),X("<< /ShadingType "+v.type),X("/ColorSpace /DeviceRGB");var ke="/Coords ["+I(parseFloat(v.coords[0]))+" "+I(parseFloat(v.coords[1]))+" ";v.type===2?ke+=I(parseFloat(v.coords[2]))+" "+I(parseFloat(v.coords[3])):ke+=I(parseFloat(v.coords[2]))+" "+I(parseFloat(v.coords[3]))+" "+I(parseFloat(v.coords[4]))+" "+I(parseFloat(v.coords[5])),X(ke+="]"),v.matrix&&X("/Matrix ["+v.matrix.toString()+"]"),X("/Function "+Y+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Jp=function(v,U){var Y=Fr(),Ae=ur();U.push({resourcesOid:Y,objectOid:Ae}),v.objectNumber=Ae;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+v.boundingBox.map(I).join(" ")+"]"}),ve.push({key:"XStep",value:I(v.xStep)}),ve.push({key:"YStep",value:I(v.yStep)}),ve.push({key:"Resources",value:Y+" 0 R"}),v.matrix&&ve.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),hs({data:v.stream,additionalKeyValues:ve,objectId:v.objectNumber}),X("endobj")},jo=function(v){var U;for(U in fe)fe.hasOwnProperty(U)&&(fe[U]instanceof Da?qp(fe[U]):fe[U]instanceof ZA&&Jp(fe[U],v))},Md=function(v){for(var U in v.objectNumber=ur(),X("<<"),v)switch(U){case"opacity":X("/ca "+J(v[U]));break;case"stroke-opacity":X("/CA "+J(v[U]))}X(">>"),X("endobj")},Xp=function(){var v;for(v in _t)_t.hasOwnProperty(v)&&Md(_t[v])},hc=function(){for(var v in X("/XObject <<"),Lt)Lt.hasOwnProperty(v)&&Lt[v].objectNumber>=0&&X("/"+v+" "+Lt[v].objectNumber+" 0 R");jt.publish("putXobjectDict"),X(">>")},Yp=function(){An.oid=ur(),X("<<"),X("/Filter /Standard"),X("/V "+An.v),X("/R "+An.r),X("/U <"+An.toHexString(An.U)+">"),X("/O <"+An.toHexString(An.O)+">"),X("/P "+An.P),X(">>"),X("endobj")},Rd=function(){for(var v in X("/Font <<"),Ge)Ge.hasOwnProperty(v)&&(d===!1||d===!0&&f.hasOwnProperty(v))&&X("/"+v+" "+Ge[v].objectNumber+" 0 R");X(">>")},Zp=function(){if(Object.keys(fe).length>0){for(var v in X("/Shading <<"),fe)fe.hasOwnProperty(v)&&fe[v]instanceof Da&&fe[v].objectNumber>=0&&X("/"+v+" "+fe[v].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),X(">>")}},Eo=function(v){if(Object.keys(fe).length>0){for(var U in X("/Pattern <<"),fe)fe.hasOwnProperty(U)&&fe[U]instanceof g.TilingPattern&&fe[U].objectNumber>=0&&fe[U].objectNumber<v&&X("/"+U+" "+fe[U].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),X(">>")}},e0=function(){if(Object.keys(_t).length>0){var v;for(v in X("/ExtGState <<"),_t)_t.hasOwnProperty(v)&&_t[v].objectNumber>=0&&X("/"+v+" "+_t[v].objectNumber+" 0 R");jt.publish("putGStateDict"),X(">>")}},xr=function(v){Jn(v.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Rd(),Zp(),Eo(v.objectOid),e0(),hc(),X(">>"),X("endobj")},Kd=function(){var v=[];No(),Xp(),Fo(),jo(v),jt.publish("putResources"),v.forEach(xr),xr({resourcesOid:Ls,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},Vd=function(){jt.publish("putAdditionalObjects");for(var v=0;v<we.length;v++){var U=we[v];Jn(U.objId,!0),X(U.content),X("endobj")}jt.publish("postPutAdditionalObjects")},zd=function(v){Te[v.fontName]=Te[v.fontName]||{},Te[v.fontName][v.fontStyle]=v.id},fc=function(v,U,Y,Ae,ve){var ke={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:v,fontName:U,fontStyle:Y,encoding:Ae,isStandardFont:ve||!1,metadata:{}};return jt.publish("addFont",{font:ke,instance:this}),Ge[ke.id]=ke,zd(ke),ke.id},t0=function(v){for(var U=0,Y=Ee.length;U<Y;U++){var Ae=fc.call(this,v[U][0],v[U][1],v[U][2],Ee[U][3],!0);d===!1&&(f[Ae]=!0);var ve=v[U][0].split("-");zd({id:Ae,fontName:ve[0],fontStyle:ve[1]||""})}jt.publish("addFonts",{fonts:Ge,dictionary:Te})},Ts=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(Ae){var U=Ae.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var Y="Error in function "+U.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!ht.console)throw new Error(Y);ht.console.error(Y,Ae),ht.alert&&alert(Y)}},v.foo.bar=v,v.foo},Uo=function(v,U){var Y,Ae,ve,ke,Ve,tt,At,yt,mt;if(ve=(U=U||{}).sourceEncoding||"Unicode",Ve=U.outputEncoding,(U.autoencode||Ve)&&Ge[Ke].metadata&&Ge[Ke].metadata[ve]&&Ge[Ke].metadata[ve].encoding&&(ke=Ge[Ke].metadata[ve].encoding,!Ve&&Ge[Ke].encoding&&(Ve=Ge[Ke].encoding),!Ve&&ke.codePages&&(Ve=ke.codePages[0]),typeof Ve=="string"&&(Ve=ke[Ve]),Ve)){for(At=!1,tt=[],Y=0,Ae=v.length;Y<Ae;Y++)(yt=Ve[v.charCodeAt(Y)])?tt.push(String.fromCharCode(yt)):tt.push(v[Y]),tt[Y].charCodeAt(0)>>8&&(At=!0);v=tt.join("")}for(Y=v.length;At===void 0&&Y!==0;)v.charCodeAt(Y-1)>>8&&(At=!0),Y--;if(!At)return v;for(tt=U.noBOM?[]:[254,255],Y=0,Ae=v.length;Y<Ae;Y++){if((mt=(yt=v.charCodeAt(Y))>>8)>>8)throw new Error("Character at position "+Y+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tt.push(mt),tt.push(yt-(mt<<8))}return String.fromCharCode.apply(void 0,tt)},Qn=g.__private__.pdfEscape=g.pdfEscape=function(v,U){return Uo(v,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gc=g.__private__.beginPage=function(v){Ce[++Bt]=[],ot[Bt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Gd(Bt),pe(Ce[L])},$d=function(v,U){var Y,Ae,ve;switch(r=U||r,typeof v=="string"&&(Y=x(v.toLowerCase()),Array.isArray(Y)&&(Ae=Y[0],ve=Y[1])),Array.isArray(v)&&(Ae=v[0]*Ne,ve=v[1]*Ne),isNaN(Ae)&&(Ae=s[0],ve=s[1]),(Ae>14400||ve>14400)&&(Wt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),ve=Math.min(14400,ve)),s=[Ae,ve],r.substr(0,1)){case"l":ve>Ae&&(s=[ve,Ae]);break;case"p":Ae>ve&&(s=[ve,Ae])}gc(s),Zd(vc),X(Ds),yc!==0&&X(yc+" J"),bc!==0&&X(bc+" j"),jt.publish("addPage",{pageNumber:Bt})},r0=function(v){v>0&&v<=Bt&&(Ce.splice(v,1),ot.splice(v,1),Bt--,L>Bt&&(L=Bt),this.setPage(L))},Gd=function(v){v>0&&v<=Bt&&(L=v)},n0=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ce.length-1},Wd=function(v,U,Y){var Ae,ve=void 0;return Y=Y||{},v=v!==void 0?v:Ge[Ke].fontName,U=U!==void 0?U:Ge[Ke].fontStyle,Ae=v.toLowerCase(),Te[Ae]!==void 0&&Te[Ae][U]!==void 0?ve=Te[Ae][U]:Te[v]!==void 0&&Te[v][U]!==void 0?ve=Te[v][U]:Y.disableWarning===!1&&Wt.warn("Unable to look up font label for font '"+v+"', '"+U+"'. Refer to getFontList() for available fonts."),ve||Y.noFallback||(ve=Te.times[U])==null&&(ve=Te.times.normal),ve},s0=g.__private__.putInfo=function(){var v=ur(),U=function(Ae){return Ae};for(var Y in u!==null&&(U=An.encryptor(v,0)),X("<<"),X("/Producer ("+Qn(U("jsPDF "+ct.version))+")"),Fe)Fe.hasOwnProperty(Y)&&Fe[Y]&&X("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+Qn(U(Fe[Y]))+")");X("/CreationDate ("+Qn(U(de))+")"),X(">>"),X("endobj")},pc=g.__private__.putCatalog=function(v){var U=(v=v||{}).rootDictionaryObjId||Ui;switch(ur(),X("<<"),X("/Type /Catalog"),X("/Pages "+U+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+We;Y.substr(Y.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&X("/OpenAction [3 0 R /XYZ null null "+J(We)+"]")}switch(W||(W="continuous"),W){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}_e&&X("/PageMode /"+_e),jt.publish("putCatalog"),X(">>"),X("endobj")},i0=g.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(ee+1)),X("/Root "+ee+" 0 R"),X("/Info "+(ee-1)+" 0 R"),u!==null&&X("/Encrypt "+An.oid+" 0 R"),X("/ID [ <"+te+"> <"+te+"> ]"),X(">>")},a0=g.__private__.putHeader=function(){X("%PDF-"+m),X("%")},A0=g.__private__.putXRef=function(){var v="0000000000";X("xref"),X("0 "+(ee+1)),X("0000000000 65535 f ");for(var U=1;U<=ee;U++)typeof ie[U]=="function"?X((v+ie[U]()).slice(-10)+" 00000 n "):ie[U]!==void 0?X((v+ie[U]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},ki=g.__private__.buildDocument=function(){ze(),pe(ae),jt.publish("buildDocument"),a0(),bA(),Vd(),Kd(),u!==null&&Yp(),s0(),pc();var v=re;return A0(),i0(),X("startxref"),X(""+v),X("%%EOF"),pe(Ce[L]),ae.join(`
`)},ko=g.__private__.getBlob=function(v){return new Blob([xe(v)],{type:"application/pdf"})},Qo=g.output=g.__private__.output=Ts(function(v,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",v){case void 0:return ki();case"save":g.save(U.filename);break;case"arraybuffer":return xe(ki());case"blob":return ko(ki());case"bloburi":case"bloburl":if(ht.URL!==void 0&&typeof ht.URL.createObjectURL=="function")return ht.URL&&ht.URL.createObjectURL(ko(ki()))||void 0;Wt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",Ae=ki();try{Y=qv(Ae)}catch{Y=qv(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+U.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(ve=U.pdfObjectUrl,ke="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",tt=ht.open();return tt!==null&&tt.document.write(Ve),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',yt=ht.open();if(yt!==null){yt.document.write(At);var mt=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=U.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',Ar=ht.open();if(Ar!==null&&(Ar.document.write(Ut),Ar.document.title=U.filename),Ar||typeof safari>"u")return Ar;break;case"datauri":case"dataurl":return ht.document.location.href=this.output("datauristring",U);default:return null}}),qd=function(v){return Array.isArray(Qe)===!0&&Qe.indexOf(v)>-1};switch(n){case"pt":Ne=1;break;case"mm":Ne=72/25.4;break;case"cm":Ne=72/2.54;break;case"in":Ne=72;break;case"px":Ne=qd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ne=12;break;case"ex":Ne=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ne=n}var An=null;Z(),q();var o0=function(v){return u!==null?An.encryptor(v,0):function(U){return U}},Jd=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[v].objId,pageNumber:v,pageContext:ot[v]}},pt=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in ot)if(ot[U].objId===v)break;return Jd(U)},l0=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ot[L].objId,pageNumber:L,pageContext:ot[L]}};g.addPage=function(){return $d.apply(this,arguments),this},g.setPage=function(){return Gd.apply(this,arguments),pe.call(this,Ce[L]),this},g.insertPage=function(v){return this.addPage(),this.movePage(L,v),this},g.movePage=function(v,U){var Y,Ae;if(v>U){Y=Ce[v],Ae=ot[v];for(var ve=v;ve>U;ve--)Ce[ve]=Ce[ve-1],ot[ve]=ot[ve-1];Ce[U]=Y,ot[U]=Ae,this.setPage(U)}else if(v<U){Y=Ce[v],Ae=ot[v];for(var ke=v;ke<U;ke++)Ce[ke]=Ce[ke+1],ot[ke]=ot[ke+1];Ce[U]=Y,ot[U]=Ae,this.setPage(U)}return this},g.deletePage=function(){return r0.apply(this,arguments),this},g.__private__.text=g.text=function(v,U,Y,Ae,ve){var ke,Ve,tt,At,yt,mt,Ut,Ar,dr,jr=(Ae=Ae||{}).scope||this;if(typeof v=="number"&&typeof U=="number"&&(typeof Y=="string"||Array.isArray(Y))){var on=Y;Y=U,U=v,v=on}if(arguments[3]instanceof lt?(F("The transform parameter of text() with a Matrix value"),dr=ve):(tt=arguments[4],At=arguments[5],Rt(Ut=arguments[3])==="object"&&Ut!==null||(typeof tt=="string"&&(At=tt,tt=null),typeof Ut=="string"&&(At=Ut,Ut=null),typeof Ut=="number"&&(tt=Ut,Ut=null),Ae={flags:Ut,angle:tt,align:At})),isNaN(U)||isNaN(Y)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return jr;var Vr="",Os=!1,Xn=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:CA,ui=jr.internal.scaleFactor;function ih(qt){return qt=qt.split("	").join(Array(Ae.TabLen||9).join(" ")),Qn(qt,Ut)}function Sc(qt){for(var Jt,wr=qt.concat(),Tr=[],Ti=wr.length;Ti--;)typeof(Jt=wr.shift())=="string"?Tr.push(Jt):Array.isArray(qt)&&(Jt.length===1||Jt[1]===void 0&&Jt[2]===void 0)?Tr.push(Jt[0]):Tr.push([Jt[0],Jt[1],Jt[2]]);return Tr}function Fc(qt,Jt){var wr;if(typeof qt=="string")wr=Jt(qt)[0];else if(Array.isArray(qt)){for(var Tr,Ti,Pc=qt.concat(),Wo=[],ch=Pc.length;ch--;)typeof(Tr=Pc.shift())=="string"?Wo.push(Jt(Tr)[0]):Array.isArray(Tr)&&typeof Tr[0]=="string"&&(Ti=Jt(Tr[0],Tr[1],Tr[2]),Wo.push([Ti[0],Ti[1],Ti[2]]));wr=Wo}return wr}var Oo=!1,jc=!0;if(typeof v=="string")Oo=!0;else if(Array.isArray(v)){var Ec=v.concat();Ve=[];for(var Ho,Yr=Ec.length;Yr--;)(typeof(Ho=Ec.shift())!="string"||Array.isArray(Ho)&&typeof Ho[0]!="string")&&(jc=!1);Oo=jc}if(Oo===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Mo=Re/jr.internal.scaleFactor,Ro=Mo*(Xn-1);switch(Ae.baseline){case"bottom":Y-=Ro;break;case"top":Y+=Mo-Ro;break;case"hanging":Y+=Mo-2*Ro;break;case"middle":Y+=Mo/2-Ro}if((mt=Ae.maxWidth||0)>0&&(typeof v=="string"?v=jr.splitTextToSize(v,mt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(qt,Jt){return qt.concat(jr.splitTextToSize(Jt,mt))},[]))),ke={text:v,x:U,y:Y,options:Ae,mutex:{pdfEscape:Qn,activeFontKey:Ke,fonts:Ge,activeFontSize:Re}},jt.publish("preProcessText",ke),v=ke.text,tt=(Ae=ke.options).angle,!(dr instanceof lt)&&tt&&typeof tt=="number"){tt*=Math.PI/180,Ae.rotationDirection===0&&(tt=-tt),C===y.ADVANCED&&(tt=-tt);var Ko=Math.cos(tt),Uc=Math.sin(tt);dr=new lt(Ko,Uc,-Uc,Ko,0,0)}else tt&&tt instanceof lt&&(dr=tt);C!==y.ADVANCED||dr||(dr=kn),(yt=Ae.charSpace||Po)!==void 0&&(Vr+=I(j(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ar=Ae.horizontalScale)!==void 0&&(Vr+=I(100*Ar)+` Tz
`),Ae.lang;var Ln=-1,v0=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,kc=jr.internal.getCurrentPageInfo().pageContext;switch(v0){case 0:case!1:case"fill":Ln=0;break;case 1:case!0:case"stroke":Ln=1;break;case 2:case"fillThenStroke":Ln=2;break;case 3:case"invisible":Ln=3;break;case 4:case"fillAndAddForClipping":Ln=4;break;case 5:case"strokeAndAddPathForClipping":Ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ln=6;break;case 7:case"addToPathForClipping":Ln=7}var ah=kc.usedRenderingMode!==void 0?kc.usedRenderingMode:-1;Ln!==-1?Vr+=Ln+` Tr
`:ah!==-1&&(Vr+=`0 Tr
`),Ln!==-1&&(kc.usedRenderingMode=Ln),At=Ae.align||"left";var fs,Vo=Re*Xn,Ah=jr.internal.pageSize.getWidth(),oh=Ge[Ke];yt=Ae.charSpace||Po,mt=Ae.maxWidth||0,Ut=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var ua=[],SA=function(qt){return jr.getStringUnitWidth(qt,{font:oh,charSpace:yt,fontSize:Re,doKerning:!1})*Re/ui};if(Object.prototype.toString.call(v)==="[object Array]"){var In;Ve=Sc(v),At!=="left"&&(fs=Ve.map(SA));var Bn,da=0;if(At==="right"){U-=fs[0],v=[],Yr=Ve.length;for(var Li=0;Li<Yr;Li++)Li===0?(Bn=ci(U),In=Qi(Y)):(Bn=j(da-fs[Li]),In=-Vo),v.push([Ve[Li],Bn,In]),da=fs[Li]}else if(At==="center"){U-=fs[0]/2,v=[],Yr=Ve.length;for(var Ii=0;Ii<Yr;Ii++)Ii===0?(Bn=ci(U),In=Qi(Y)):(Bn=j((da-fs[Ii])/2),In=-Vo),v.push([Ve[Ii],Bn,In]),da=fs[Ii]}else if(At==="left"){v=[],Yr=Ve.length;for(var zo=0;zo<Yr;zo++)v.push(Ve[zo])}else if(At==="justify"&&oh.encoding==="Identity-H"){v=[],Yr=Ve.length,mt=mt!==0?mt:Ah;for(var Pi=0,vr=0;vr<Yr;vr++)if(In=vr===0?Qi(Y):-Vo,Bn=vr===0?ci(U):Pi,vr<Yr-1){var Qc=j((mt-fs[vr])/(Ve[vr].split(" ").length-1)),Cn=Ve[vr].split(" ");v.push([Cn[0]+" ",Bn,In]),Pi=0;for(var gs=1;gs<Cn.length;gs++){var $o=(SA(Cn[gs-1]+" "+Cn[gs])-SA(Cn[gs]))*ui+Qc;gs==Cn.length-1?v.push([Cn[gs],$o,0]):v.push([Cn[gs]+" ",$o,0]),Pi-=$o}}else v.push([Ve[vr],Bn,In]);v.push(["",Pi,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Yr=Ve.length,mt=mt!==0?mt:Ah,vr=0;vr<Yr;vr++)In=vr===0?Qi(Y):-Vo,Bn=vr===0?ci(U):0,vr<Yr-1?ua.push(I(j((mt-fs[vr])/(Ve[vr].split(" ").length-1)))):ua.push(0),v.push([Ve[vr],Bn,In])}}var lh=typeof Ae.R2L=="boolean"?Ae.R2L:Ze;lh===!0&&(v=Fc(v,function(qt,Jt,wr){return[qt.split("").reverse().join(""),Jt,wr]})),ke={text:v,x:U,y:Y,options:Ae,mutex:{pdfEscape:Qn,activeFontKey:Ke,fonts:Ge,activeFontSize:Re}},jt.publish("postProcessText",ke),v=ke.text,Os=ke.mutex.isHex||!1;var Lc=Ge[Ke].encoding;Lc!=="WinAnsiEncoding"&&Lc!=="StandardEncoding"||(v=Fc(v,function(qt,Jt,wr){return[ih(qt),Jt,wr]})),Ve=Sc(v),v=[];for(var FA,jA,ha,EA=0,Go=1,UA=Array.isArray(Ve[0])?Go:EA,fa="",Ic=function(qt,Jt,wr){var Tr="";return wr instanceof lt?(wr=typeof Ae.angle=="number"?Un(wr,new lt(1,0,0,1,qt,Jt)):Un(new lt(1,0,0,1,qt,Jt),wr),C===y.ADVANCED&&(wr=Un(new lt(1,0,0,-1,0,0),wr)),Tr=wr.join(" ")+` Tm
`):Tr=I(qt)+" "+I(Jt)+` Td
`,Tr},ps=0;ps<Ve.length;ps++){switch(fa="",UA){case Go:ha=(Os?"<":"(")+Ve[ps][0]+(Os?">":")"),FA=parseFloat(Ve[ps][1]),jA=parseFloat(Ve[ps][2]);break;case EA:ha=(Os?"<":"(")+Ve[ps]+(Os?">":")"),FA=ci(U),jA=Qi(Y)}ua!==void 0&&ua[ps]!==void 0&&(fa=ua[ps]+` Tw
`),ps===0?v.push(fa+Ic(FA,jA,dr)+ha):UA===EA?v.push(fa+ha):UA===Go&&v.push(fa+Ic(FA,jA,dr)+ha)}v=UA===EA?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var ms=`BT
/`;return ms+=Ke+" "+Re+` Tf
`,ms+=I(Re*Xn)+` TL
`,ms+=_A+`
`,ms+=Vr,ms+=v,X(ms+="ET"),f[Ke]=!0,jr};var c0=g.__private__.clip=g.clip=function(v){return X(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return c0("evenodd")},g.__private__.discardPath=g.discardPath=function(){return X("n"),this};var li=g.__private__.isValidStyle=function(v){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(U=!0),U};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return li(v)&&(c=v),this};var Xd=g.__private__.getStyle=g.getStyle=function(v){var U=c;switch(v){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=v}return U},Yd=g.close=function(){return X("h"),this};g.stroke=function(){return X("S"),this},g.fill=function(v){return Lo("f",v),this},g.fillEvenOdd=function(v){return Lo("f*",v),this},g.fillStroke=function(v){return Lo("B",v),this},g.fillStrokeEvenOdd=function(v){return Lo("B*",v),this};var Lo=function(v,U){Rt(U)==="object"?d0(U,v):X(v)},mc=function(v){v===null||C===y.ADVANCED&&v===void 0||(v=Xd(v),X(v))};function u0(v,U,Y,Ae,ve){var ke=new ZA(U||this.boundingBox,Y||this.xStep,Ae||this.yStep,this.gState,ve||this.matrix);ke.stream=this.stream;var Ve=v+"$$"+this.cloneIndex+++"$$";return Xr(Ve,ke),ke}var d0=function(v,U){var Y=ft[v.key],Ae=fe[Y];if(Ae instanceof Da)X("q"),X(h0(U)),Ae.gState&&g.setGState(Ae.gState),X(v.matrix.toString()+" cm"),X("/"+Y+" sh"),X("Q");else if(Ae instanceof ZA){var ve=new lt(1,0,0,-1,0,ca());v.matrix&&(ve=ve.multiply(v.matrix||kn),Y=u0.call(Ae,v.key,v.boundingBox,v.xStep,v.yStep,ve).id),X("q"),X("/Pattern cs"),X("/"+Y+" scn"),Ae.gState&&g.setGState(Ae.gState),X(U),X("Q")}},h0=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xc=g.moveTo=function(v,U){return X(I(j(v))+" "+I($(U))+" m"),this},BA=g.lineTo=function(v,U){return X(I(j(v))+" "+I($(U))+" l"),this},oa=g.curveTo=function(v,U,Y,Ae,ve,ke){return X([I(j(v)),I($(U)),I(j(Y)),I($(Ae)),I(j(ve)),I($(ke)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,U,Y,Ae,ve){if(isNaN(v)||isNaN(U)||isNaN(Y)||isNaN(Ae)||!li(ve))throw new Error("Invalid arguments passed to jsPDF.line");return C===y.COMPAT?this.lines([[Y-v,Ae-U]],v,U,[1,1],ve||"S"):this.lines([[Y-v,Ae-U]],v,U,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,U,Y,Ae,ve,ke){var Ve,tt,At,yt,mt,Ut,Ar,dr,jr,on,Vr,Os;if(typeof v=="number"&&(Os=Y,Y=U,U=v,v=Os),Ae=Ae||[1,1],ke=ke||!1,isNaN(U)||isNaN(Y)||!Array.isArray(v)||!Array.isArray(Ae)||!li(ve)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xc(U,Y),Ve=Ae[0],tt=Ae[1],yt=v.length,on=U,Vr=Y,At=0;At<yt;At++)(mt=v[At]).length===2?(on=mt[0]*Ve+on,Vr=mt[1]*tt+Vr,BA(on,Vr)):(Ut=mt[0]*Ve+on,Ar=mt[1]*tt+Vr,dr=mt[2]*Ve+on,jr=mt[3]*tt+Vr,on=mt[4]*Ve+on,Vr=mt[5]*tt+Vr,oa(Ut,Ar,dr,jr,on,Vr));return ke&&Yd(),mc(ve),this},g.path=function(v){for(var U=0;U<v.length;U++){var Y=v[U],Ae=Y.c;switch(Y.op){case"m":xc(Ae[0],Ae[1]);break;case"l":BA(Ae[0],Ae[1]);break;case"c":oa.apply(this,Ae);break;case"h":Yd()}}return this},g.__private__.rect=g.rect=function(v,U,Y,Ae,ve){if(isNaN(v)||isNaN(U)||isNaN(Y)||isNaN(Ae)||!li(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return C===y.COMPAT&&(Ae=-Ae),X([I(j(v)),I($(U)),I(j(Y)),I(j(Ae)),"re"].join(" ")),mc(ve),this},g.__private__.triangle=g.triangle=function(v,U,Y,Ae,ve,ke,Ve){if(isNaN(v)||isNaN(U)||isNaN(Y)||isNaN(Ae)||isNaN(ve)||isNaN(ke)||!li(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-v,Ae-U],[ve-Y,ke-Ae],[v-ve,U-ke]],v,U,[1,1],Ve,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,U,Y,Ae,ve,ke,Ve){if(isNaN(v)||isNaN(U)||isNaN(Y)||isNaN(Ae)||isNaN(ve)||isNaN(ke)||!li(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*Y),ke=Math.min(ke,.5*Ae),this.lines([[Y-2*ve,0],[ve*tt,0,ve,ke-ke*tt,ve,ke],[0,Ae-2*ke],[0,ke*tt,-ve*tt,ke,-ve,ke],[2*ve-Y,0],[-ve*tt,0,-ve,-ke*tt,-ve,-ke],[0,2*ke-Ae],[0,-ke*tt,ve*tt,-ke,ve,-ke]],v+ve,U,[1,1],Ve,!0),this},g.__private__.ellipse=g.ellipse=function(v,U,Y,Ae,ve){if(isNaN(v)||isNaN(U)||isNaN(Y)||isNaN(Ae)||!li(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*Y,Ve=4/3*(Math.SQRT2-1)*Ae;return xc(v+Y,U),oa(v+Y,U-Ve,v+ke,U-Ae,v,U-Ae),oa(v-ke,U-Ae,v-Y,U-Ve,v-Y,U),oa(v-Y,U+Ve,v-ke,U+Ae,v,U+Ae),oa(v+ke,U+Ae,v+Y,U+Ve,v+Y,U),mc(ve),this},g.__private__.circle=g.circle=function(v,U,Y,Ae){if(isNaN(v)||isNaN(U)||isNaN(Y)||!li(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,U,Y,Y,Ae)},g.setFont=function(v,U,Y){return Y&&(U=O(U,Y)),Ke=Wd(v,U,{disableWarning:!1}),this};var f0=g.__private__.getFont=g.getFont=function(){return Ge[Wd.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,U,Y={};for(v in Te)if(Te.hasOwnProperty(v))for(U in Y[v]=[],Te[v])Te[v].hasOwnProperty(U)&&Y[v].push(U);return Y},g.addFont=function(v,U,Y,Ae,ve){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(Y=O(Y,Ae)),ve=ve||"Identity-H",fc.call(this,v,U,Y,ve)};var CA,vc=t.lineWidth||.200025,Io=g.__private__.getLineWidth=g.getLineWidth=function(){return vc},Zd=g.__private__.setLineWidth=g.setLineWidth=function(v){return vc=v,X(I(j(v))+" w"),this};g.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(v,U){if(v=v||[],U=U||0,isNaN(U)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Y){return I(j(Y))}).join(" "),U=I(j(U)),X("["+v+"] "+U+" d"),this};var eh=g.__private__.getLineHeight=g.getLineHeight=function(){return Re*CA};g.__private__.getLineHeight=g.getLineHeight=function(){return Re*CA};var th=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(CA=v),this},rh=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return CA};th(t.lineHeight);var ci=g.__private__.getHorizontalCoordinate=function(v){return j(v)},Qi=g.__private__.getVerticalCoordinate=function(v){return C===y.ADVANCED?v:ot[L].mediaBox.topRightY-ot[L].mediaBox.bottomLeftY-j(v)},g0=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return I(ci(v))},la=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return I(Qi(v))},Ds=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Is(Ds)},g.__private__.setStrokeColor=g.setDrawColor=function(v,U,Y,Ae){return Ds=Ps({ch1:v,ch2:U,ch3:Y,ch4:Ae,pdfColorType:"draw",precision:2}),X(Ds),this};var wc=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Is(wc)},g.__private__.setFillColor=g.setFillColor=function(v,U,Y,Ae){return wc=Ps({ch1:v,ch2:U,ch3:Y,ch4:Ae,pdfColorType:"fill",precision:2}),X(wc),this};var _A=t.textColor||"0 g",p0=g.__private__.getTextColor=g.getTextColor=function(){return Is(_A)};g.__private__.setTextColor=g.setTextColor=function(v,U,Y,Ae){return _A=Ps({ch1:v,ch2:U,ch3:Y,ch4:Ae,pdfColorType:"text",precision:3}),this};var Po=t.charSpace,m0=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Po||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Po=v,this};var yc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var U=g.CapJoinStyles[v];if(U===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yc=U,X(U+" J"),this};var bc=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var U=g.CapJoinStyles[v];if(U===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bc=U,X(U+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(I(j(v))+" M"),this},g.GState=yd,g.setGState=function(v){(v=typeof v=="string"?_t[mr[v]]:nh(null,v)).equals(an)||(X("/"+v.id+" gs"),an=v)};var nh=function(v,U){if(!v||!mr[v]){var Y=!1;for(var Ae in _t)if(_t.hasOwnProperty(Ae)&&_t[Ae].equals(U)){Y=!0;break}if(Y)U=_t[Ae];else{var ve="GS"+(Object.keys(_t).length+1).toString(10);_t[ve]=U,U.id=ve}return v&&(mr[v]=U.id),jt.publish("addGState",U),U}};g.addGState=function(v,U){return nh(v,U),this},g.saveGraphicsState=function(){return X("q"),wt.push({key:Ke,size:Re,color:_A}),this},g.restoreGraphicsState=function(){X("Q");var v=wt.pop();return Ke=v.key,Re=v.size,_A=v.color,an=null,this},g.setCurrentTransformationMatrix=function(v){return X(v.toString()+" cm"),this},g.comment=function(v){return X("#"+v),this};var To=function(v,U){var Y=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(ke){isNaN(ke)||(Y=parseFloat(ke))}});var Ae=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(ke){isNaN(ke)||(Ae=parseFloat(ke))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(ke){ve=ke.toString()}}),this},Bc=function(v,U,Y,Ae){To.call(this,v,U),this.type="rect";var ve=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Ve){isNaN(Ve)||(ve=parseFloat(Ve))}});var ke=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Ve){isNaN(Ve)||(ke=parseFloat(Ve))}}),this},Cc=function(){this.page=Bt,this.currentPage=L,this.pages=Ce.slice(0),this.pagesContext=ot.slice(0),this.x=ne,this.y=Se,this.matrix=qe,this.width=NA(L),this.height=ca(L),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Cc.prototype.restore=function(){Bt=this.page,L=this.currentPage,ot=this.pagesContext,Ce=this.pages,ne=this.x,Se=this.y,qe=this.matrix,_c(L,this.width),Nc(L,this.height),Ie=this.outputDestination};var sh=function(v,U,Y,Ae,ve){sr.push(new Cc),Bt=L=0,Ce=[],ne=v,Se=U,qe=ve,gc([Y,Ae])},x0=function(v){if(It[v])sr.pop().restore();else{var U=new Cc,Y="Xo"+(Object.keys(Lt).length+1).toString(10);U.id=Y,It[v]=Y,Lt[Y]=U,jt.publish("addFormObject",U),sr.pop().restore()}};for(var Do in g.beginFormObject=function(v,U,Y,Ae,ve){return sh(v,U,Y,Ae,ve),this},g.endFormObject=function(v){return x0(v),this},g.doFormObject=function(v,U){var Y=Lt[It[v]];return X("q"),X(U.toString()+" cm"),X("/"+Y.id+" Do"),X("Q"),this},g.getFormObject=function(v){var U=Lt[It[v]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},g.save=function(v,U){return v=v||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(RA(ko(ki()),v),typeof RA.unload=="function"&&ht.setTimeout&&setTimeout(RA.unload,911),this):new Promise(function(Y,Ae){try{var ve=RA(ko(ki()),v);typeof RA.unload=="function"&&ht.setTimeout&&setTimeout(RA.unload,911),Y(ve)}catch(ke){Ae(ke.message)}})},ct.API)ct.API.hasOwnProperty(Do)&&(Do==="events"&&ct.API.events.length?function(v,U){var Y,Ae,ve;for(ve=U.length-1;ve!==-1;ve--)Y=U[ve][0],Ae=U[ve][1],v.subscribe.apply(v,[Y].concat(typeof Ae=="function"?[Ae]:Ae))}(jt,ct.API.events):g[Do]=ct.API[Do]);var NA=g.getPageWidth=function(v){return(ot[v=v||L].mediaBox.topRightX-ot[v].mediaBox.bottomLeftX)/Ne},_c=g.setPageWidth=function(v,U){ot[v].mediaBox.topRightX=U*Ne+ot[v].mediaBox.bottomLeftX},ca=g.getPageHeight=function(v){return(ot[v=v||L].mediaBox.topRightY-ot[v].mediaBox.bottomLeftY)/Ne},Nc=g.setPageHeight=function(v,U){ot[v].mediaBox.topRightY=U*Ne+ot[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:Qn,getStyle:Xd,getFont:f0,getFontSize:He,getCharSpace:m0,getTextColor:p0,getLineHeight:eh,getLineHeightFactor:rh,getLineWidth:Io,write:at,getHorizontalCoordinate:ci,getVerticalCoordinate:Qi,getCoordinateString:g0,getVerticalCoordinateString:la,collections:{},newObject:ur,newAdditionalObject:Co,newObjectDeferred:Fr,newObjectDeferredBegin:Jn,getFilters:Ai,putStream:hs,events:jt,scaleFactor:Ne,pageSize:{getWidth:function(){return NA(L)},setWidth:function(v){_c(L,v)},getHeight:function(){return ca(L)},setHeight:function(v){Nc(L,v)}},encryptionOptions:u,encryption:An,getEncryptor:o0,output:Qo,getNumberOfPages:n0,pages:Ce,out:X,f2:J,f3:Q,getPageInfo:Jd,getPageInfoByObjId:pt,getCurrentPageInfo:l0,getPDFVersion:w,Point:To,Rectangle:Bc,Matrix:lt,hasHotfix:qd},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return NA(L)},set:function(v){_c(L,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ca(L)},set:function(v){Nc(L,v)},enumerable:!0,configurable:!0}),t0.call(g,Ee),Ke="F1",$d(s,r),jt.publish("initialized"),g}wl.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},wl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wl.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},wl.prototype.processOwnerPassword=function(t,e){return Xv(Jv(e).substr(0,5),t)},wl.prototype.encryptor=function(t,e){var r=Jv(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Xv(r,n)}},yd.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Rt(t)!==Rt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ct.API={events:[]},ct.version="2.5.2";var fr=ct.API,wy=1,bo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xt=function(t){return t.toFixed(2)},_a=function(t){return t.toFixed(5)};fr.__acroform__={};var qn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Xb=function(t){return t*wy},pi=function(t){var e=new GN,r=it.internal.getHeight(t)||0,n=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(xt(n)),Number(xt(r))],e},KD=fr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},VD=fr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},zD=fr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Cr=fr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zD(t,e-1)},_r=fr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KD(t,e-1)},Nr=fr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return VD(t,e-1)},$D=fr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(s+a)||0,l.upperRight_Y=n(i)||0,[Number(xt(l.lowerLeft_X)),Number(xt(l.lowerLeft_Y)),Number(xt(l.upperRight_X)),Number(xt(l.upperRight_Y))]},GD=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Yv(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+xt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=pi(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Yv=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(Q){return Q.split(`
`)}):s.map(function(Q){return[Q]});var i=r,a=it.internal.getHeight(t)||0;a=a<0?-a:a;var o=it.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(Q,j,K){if(Q+1<s.length){var $=j+" "+s[Q+1][0];return yf($,t,K).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,d=yf("3",t,i).height,f=t.multiline?a-i:(a-d)/2,g=f+=2,m=0,w=0,B=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+yf(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",y=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var S=!1;if(s[C].length!==1&&B!==s[C].length-1){if((d+2)*(y+2)+2>a)continue e;x+=s[C][B],S=!0,w=C,C--}else{x=(x+=s[C][B]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var k=parseInt(C),O=l(k,x,i),I=C>=s.length-1;if(O&&!I){x+=" ",B=0;continue}if(O||I){if(I)w=k;else if(t.multiline&&(d+2)*(y+2)+2>a)continue e}else{if(!t.multiline||(d+2)*(y+2)+2>a)continue e;w=k}}for(var F="",R=m;R<=w;R++){var J=s[R];if(t.multiline){if(R===w){F+=J[B]+" ",B=(B+1)%J.length;continue}if(R===m){F+=J[J.length-1]+" ";continue}}F+=J[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,u=yf(F,t,i).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=xt(c)+" "+xt(g)+` Td
`,e+="("+bo(F)+`) Tj
`,e+=-xt(c)+` 0 Td
`,g=-(i+2),u=0,m=S?w:w+1,y++,x=""}break}return n.text=e,n.fontSize=i,n},yf=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},WD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qD=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},JD=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Rt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},XD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ii.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(WD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wy=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new WN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&qD(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=$D(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=it.createDefaultAppearanceStream(o),Rt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=GD(o);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var g=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var m=g[a];typeof m=="function"&&(m=m.call(s,o)),d+="/"+a+" "+m+" ",s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m)}}else typeof(m=g)=="function"&&(m=m.call(s,o)),d+="/"+a+" "+m,s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}i&&JD(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},$N=fr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Rt(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+bo(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zm=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+bo(n(t))+")"},Bi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bi.prototype.toString=function(){return this.objId+" 0 R"},Bi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Bi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:$N(s,this.objId,this.scope)}):s instanceof Bi?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var GN=function(){Bi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};qn(GN,Bi);var WN=function(){Bi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+bo(r(t))+")"}},set:function(r){t=r}})};qn(WN,Bi);var ii=function t(){Bi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Cr(e,3)},set:function(x){x?this.F=_r(e,3):this.F=Nr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Wg)return;i="FieldObject"+t.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+bo(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/wy:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Wg||this instanceof lA))return zm(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Hr?f:zm(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Hr?x:x.substr(0,1)==="("?dl(x.substr(1,x.length-2)):dl(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hr?dl(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Hr?"/"+x:x}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Hr?g:zm(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Hr?x:x.substr(0,1)==="("?dl(x.substr(1,x.length-2)):dl(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hr?dl(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Hr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(x){x=!!x,w=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,1)},set:function(x){x?this.Ff=_r(this.Ff,1):this.Ff=Nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,2)},set:function(x){x?this.Ff=_r(this.Ff,2):this.Ff=Nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,3)},set:function(x){x?this.Ff=_r(this.Ff,3):this.Ff=Nr(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');B=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(B){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:B=2;break;case"center":case 1:B=1;break;case"left":case 0:default:B=0}}})};qn(ii,Bi);var ao=function(){ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $N(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,o){o||(o=1);for(var l,c=[];l=a.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,18)},set:function(r){r?this.Ff=_r(this.Ff,18):this.Ff=Nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=_r(this.Ff,19):this.Ff=Nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,20)},set:function(r){r?(this.Ff=_r(this.Ff,20),e.sort()):this.Ff=Nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,22)},set:function(r){r?this.Ff=_r(this.Ff,22):this.Ff=Nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(r){r?this.Ff=_r(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,27)},set:function(r){r?this.Ff=_r(this.Ff,27):this.Ff=Nr(this.Ff,27)}}),this.hasAppearanceStream=!1};qn(ao,ii);var Ao=function(){ao.call(this),this.fontName="helvetica",this.combo=!1};qn(Ao,ao);var oo=function(){Ao.call(this),this.combo=!0};qn(oo,Ao);var Ru=function(){oo.call(this),this.edit=!0};qn(Ru,oo);var Hr=function(){ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,15)},set:function(r){r?this.Ff=_r(this.Ff,15):this.Ff=Nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,16)},set:function(r){r?this.Ff=_r(this.Ff,16):this.Ff=Nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,17)},set:function(r){r?this.Ff=_r(this.Ff,17):this.Ff=Nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(r){r?this.Ff=_r(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+bo(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Rt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};qn(Hr,ii);var Ku=function(){Hr.call(this),this.pushButton=!0};qn(Ku,Hr);var lo=function(){Hr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qn(lo,Hr);var Wg=function(){var t,e;ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+bo(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Rt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qn(Wg,ii),lo.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},lo.prototype.createOption=function(t){var e=new Wg;return e.Parent=this,e.optionName=t,this.Kids.push(e),YD.call(this.scope,e),e};var Vu=function(){Hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};qn(Vu,Hr);var lA=function(){ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,13)},set:function(e){e?this.Ff=_r(this.Ff,13):this.Ff=Nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,21)},set:function(e){e?this.Ff=_r(this.Ff,21):this.Ff=Nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(e){e?this.Ff=_r(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,24)},set:function(e){e?this.Ff=_r(this.Ff,24):this.Ff=Nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,25)},set:function(e){e?this.Ff=_r(this.Ff,25):this.Ff=Nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(e){e?this.Ff=_r(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qn(lA,ii);var zu=function(){lA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,14)},set:function(t){t?this.Ff=_r(this.Ff,14):this.Ff=Nr(this.Ff,14)}}),this.password=!0};qn(zu,lA);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=pi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Yv(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+xt(it.internal.getWidth(t))+" "+xt(it.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+xt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=pi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=it.internal.getHeight(t),a=it.internal.getWidth(t),o=Yv(t,t.caption);return s.push("1 g"),s.push("0 0 "+xt(a)+" "+xt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+xt(a-1)+" "+xt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+xt(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=pi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xt(it.internal.getWidth(t))+" "+xt(it.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=pi(t);e.scope=t.scope;var r=[],n=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=it.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+_a(it.internal.getWidth(t)/2)+" "+_a(it.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=pi(t);e.scope=t.scope;var r=[],n=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*it.internal.Bezier_C).toFixed(5)),a=Number((n*it.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_a(it.internal.getWidth(t)/2)+" "+_a(it.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+_a(it.internal.getWidth(t)/2)+" "+_a(it.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=pi(t);e.scope=t.scope;var r=[],n=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*it.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_a(it.internal.getWidth(t)/2)+" "+_a(it.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=pi(t);e.scope=t.scope;var r=[],n=it.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+xt(it.internal.getWidth(t)-2)+" "+xt(it.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(xt(n.x1.x)+" "+xt(n.x1.y)+" m"),r.push(xt(n.x2.x)+" "+xt(n.x2.y)+" l"),r.push(xt(n.x4.x)+" "+xt(n.x4.y)+" m"),r.push(xt(n.x3.x)+" "+xt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=pi(t);e.scope=t.scope;var r=it.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(it.internal.getWidth(t))+" "+xt(it.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+xt(it.internal.getWidth(t)-2)+" "+xt(it.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(xt(r.x1.x)+" "+xt(r.x1.y)+" m"),n.push(xt(r.x2.x)+" "+xt(r.x2.y)+" l"),n.push(xt(r.x4.x)+" "+xt(r.x4.y)+" m"),n.push(xt(r.x3.x)+" "+xt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=pi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xt(it.internal.getWidth(t))+" "+xt(it.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),r=it.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},it.internal.getWidth=function(t){var e=0;return Rt(t)==="object"&&(e=Xb(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return Rt(t)==="object"&&(e=Xb(t.Rect[3])),e};var YD=fr.addField=function(t){if(XD(this,t),!(t instanceof ii))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};fr.AcroFormChoiceField=ao,fr.AcroFormListBox=Ao,fr.AcroFormComboBox=oo,fr.AcroFormEditBox=Ru,fr.AcroFormButton=Hr,fr.AcroFormPushButton=Ku,fr.AcroFormRadioButton=lo,fr.AcroFormCheckBox=Vu,fr.AcroFormTextField=lA,fr.AcroFormPasswordField=zu,fr.AcroFormAppearance=it,fr.AcroForm={ChoiceField:ao,ListBox:Ao,ComboBox:oo,EditBox:Ru,Button:Hr,PushButton:Ku,RadioButton:lo,CheckBox:Vu,TextField:lA,PasswordField:zu,Appearance:it},ct.AcroForm={ChoiceField:ao,ListBox:Ao,ComboBox:oo,EditBox:Ru,Button:Hr,PushButton:Ku,RadioButton:lo,CheckBox:Vu,TextField:lA,PasswordField:zu,Appearance:it};var ZD=ct.AcroForm;function qN(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(Q,j){var K,$,de,te,le,q=e;if((j=j||e)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(O(Q))for(le in r)for(de=r[le],K=0;K<de.length;K+=1){for(te=!0,$=0;$<de[K].length;$+=1)if(de[K][$]!==void 0&&de[K][$]!==Q[$]){te=!1;break}if(te===!0){q=le;break}}else for(le in r)for(de=r[le],K=0;K<de.length;K+=1){for(te=!0,$=0;$<de[K].length;$+=1)if(de[K][$]!==void 0&&de[K][$]!==Q.charCodeAt($)){te=!1;break}if(te===!0){q=le;break}}return q===e&&j!==e&&(q=j),q},s=function Q(j){for(var K=this.internal.write,$=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:j.width}),te.push({key:"Height",value:j.height}),j.colorSpace===B.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===B.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var le="",q=0,se=j.transparency.length;q<se;q++)le+=j.transparency[q]+" "+j.transparency[q]+" ";te.push({key:"Mask",value:"["+le+"]"})}j.sMask!==void 0&&te.push({key:"SMask",value:j.objectId+1+" 0 R"});var oe=j.filter!==void 0?["/"+j.filter]:void 0;if($({data:j.data,additionalKeyValues:te,alreadyAppliedFilters:oe,objectId:j.objectId}),K("endobj"),"sMask"in j&&j.sMask!==void 0){var Z="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,_={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:Z,data:j.sMask};"filter"in j&&(_.filter=j.filter),Q.call(this,_)}if(j.colorSpace===B.INDEXED){var L=this.internal.newObject();$({data:F(new Uint8Array(j.palette)),objectId:L}),K("endobj")}},i=function(){var Q=this.internal.collections.addImage_images;for(var j in Q)s.call(this,Q[j])},a=function(){var Q,j=this.internal.collections.addImage_images,K=this.internal.write;for(var $ in j)K("/I"+(Q=j[$]).index,Q.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var Q=this.internal.collections.addImage_images;return o.call(this),Q},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(Q){return typeof t["process"+Q.toUpperCase()]=="function"},d=function(Q){return Rt(Q)==="object"&&Q.nodeType===1},f=function(Q,j){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var K=""+Q.getAttribute("src");if(K.indexOf("data:image/")===0)return Mu(unescape(K).split("base64,").pop());var $=t.loadFile(K,!0);if($!==void 0)return $}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var de;switch(j){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return Mu(Q.toDataURL(de,1).split("base64,").pop())}},g=function(Q){var j=this.internal.collections.addImage_images;if(j){for(var K in j)if(Q===j[K].alias)return j[K]}},m=function(Q,j,K){return Q||j||(Q=-96,j=-96),Q<0&&(Q=-1*K.width*72/Q/this.internal.scaleFactor),j<0&&(j=-1*K.height*72/j/this.internal.scaleFactor),Q===0&&(Q=j*K.width/K.height),j===0&&(j=Q*K.height/K.width),[Q,j]},w=function(Q,j,K,$,de,te){var le=m.call(this,K,$,de),q=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,oe=l.call(this);if(K=le[0],$=le[1],oe[de.index]=de,te){te*=Math.PI/180;var Z=Math.cos(te),_=Math.sin(te),L=function(z){return z.toFixed(4)},M=[L(Z),L(_),L(-1*_),L(Z),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,q(Q),se(j+$),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([q(K),"0","0",q($),"0","0","cm"].join(" "))):this.internal.write([q(K),"0","0",q($),q(Q),se(j+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},B=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(Q){var j,K,$=0;if(typeof Q=="string")for(K=Q.length,j=0;j<K;j++)$=($<<5)-$+Q.charCodeAt(j),$|=0;else if(O(Q))for(K=Q.byteLength/2,j=0;j<K;j++)$=($<<5)-$+Q[j],$|=0;return $},C=t.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var j=!0;return Q.length===0&&(j=!1),Q.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&(j=!1),j},S=t.__addimage__.extractImageFromDataUrl=function(Q){var j=(Q=Q||"").split("base64,"),K=null;if(j.length===2){var $=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray($)&&(K={mimeType:$[1],charset:$[2],data:j[1]})}return K},k=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(Q){return k()&&Q instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(Q){return k()&&typeof Uint32Array<"u"&&(Q instanceof Int8Array||Q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(Q){for(var j=Q.length,K=new Uint8Array(j),$=0;$<j;$++)K[$]=Q.charCodeAt($);return K},F=t.__addimage__.arrayBufferToBinaryString=function(Q){for(var j="",K=O(Q)?Q:new Uint8Array(Q),$=0;$<K.length;$+=8192)j+=String.fromCharCode.apply(null,K.subarray($,$+8192));return j};t.addImage=function(){var Q,j,K,$,de,te,le,q,se;if(typeof arguments[1]=="number"?(j=e,K=arguments[1],$=arguments[2],de=arguments[3],te=arguments[4],le=arguments[5],q=arguments[6],se=arguments[7]):(j=arguments[1],K=arguments[2],$=arguments[3],de=arguments[4],te=arguments[5],le=arguments[6],q=arguments[7],se=arguments[8]),Rt(Q=arguments[0])==="object"&&!d(Q)&&"imageData"in Q){var oe=Q;Q=oe.imageData,j=oe.format||j||e,K=oe.x||K||0,$=oe.y||$||0,de=oe.w||oe.width||de,te=oe.h||oe.height||te,le=oe.alias||le,q=oe.compression||q,se=oe.rotation||oe.angle||se}var Z=this.internal.getFilters();if(q===void 0&&Z.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(K)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var _=R.call(this,Q,j,le,q);return w.call(this,K,$,de,te,_,se),this};var R=function(Q,j,K,$){var de,te,le;if(typeof Q=="string"&&n(Q)===e){Q=unescape(Q);var q=J(Q,!1);(q!==""||(q=t.loadFile(Q,!0))!==void 0)&&(Q=q)}if(d(Q)&&(Q=f(Q,j)),j=n(Q,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((le=K)==null||le.length===0)&&(K=function(se){return typeof se=="string"||O(se)?y(se):O(se.data)?y(se.data):null}(Q)),(de=g.call(this,K))||(k()&&(Q instanceof Uint8Array||j==="RGBA"||(te=Q,Q=I(Q))),de=this["process"+j.toUpperCase()](Q,c.call(this),K,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:x.NONE}($),te)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},J=t.__addimage__.convertBase64ToBinaryString=function(Q,j){var K;j=typeof j!="boolean"||j;var $,de="";if(typeof Q=="string"){$=(K=S(Q))!==null?K.data:Q;try{de=Mu($)}catch(te){if(j)throw C($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};t.getImageProperties=function(Q){var j,K,$="";if(d(Q)&&(Q=f(Q)),typeof Q=="string"&&n(Q)===e&&(($=J(Q,!1))===""&&($=t.loadFile(Q)||""),Q=$),K=n(Q),!u(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!k()||Q instanceof Uint8Array||(Q=I(Q)),!(j=this["process"+K.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=K,j}})(ct.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){n=c[f];var g=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(w.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(x(n.contents))+")",i+=" /Popup "+B.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+g(x(y))+") >>",w.content=i;var C=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(i+=" /Open true"),i+=" >>",B.content=i,this.internal.write(w.objId,"0 R",B.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:a,type:"link"})},t.textWithLink=function(r,n,s,i){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,o,a,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=t.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&s.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(w){var B=0,x=r,y="",C=0;for(B=0;B<w.length;B+=1)x[w.charCodeAt(B)]!==void 0?(C++,typeof(x=x[w.charCodeAt(B)])=="number"&&(y+=String.fromCharCode(x),x=r,C=0),B===w.length-1&&(x=r,y+=w.charAt(B-(C-1)),B-=C-1,C=0)):(x=r,y+=w.charAt(B-C),B-=C,C=0);return y};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(w,B,x){return a(w)?i(w)===!1?-1:!c(w)||!a(B)&&!a(x)||!a(x)&&o(B)||o(w)&&!a(B)||o(w)&&l(B)||o(w)&&o(B)?0:u(w)&&a(B)&&!o(B)&&a(x)&&c(x)?3:o(w)||!a(x)?1:2:-1},g=function(w){var B=0,x=0,y=0,C="",S="",k="",O=(w=w||"").split("\\s+"),I=[];for(B=0;B<O.length;B+=1){for(I.push(""),x=0;x<O[B].length;x+=1)C=O[B][x],S=O[B][x-1],k=O[B][x+1],a(C)?(y=f(C,S,k),I[B]+=y!==-1?String.fromCharCode(e[C.charCodeAt(0)][y]):C):I[B]+=C;I[B]=d(I[B])}return I.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var w,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(B)){var y=0;for(x=[],y=0;y<B.length;y+=1)Array.isArray(B[y])?x.push([g(B[y][0]),B[y][1],B[y][2]]):x.push([g(B[y])]);w=x}else w=g(B);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",m])}(ct.API),ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(w){m=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,g=0,m=0,w=0,B=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,S){return C.concat(B.splitTextToSize(S,x))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)g<(w=this.getStringUnitWidth(l[y],{font:d})*u)&&(g=w);return g!==0&&(m=l.length),{w:g/=f,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,g&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var g,m,w,B,x=[],y=[],C=[],S={},k={},O=[],I=[],F=(f=f||{}).autoSize||!1,R=f.printHeaders!==!1,J=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,Q=f.margins||Object.assign({width:this.getPageWidth()},e),j=typeof f.padding=="number"?f.padding:3,K=f.headerBackgroundColor||"#c8c8c8",$=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=$,this.setFontSize(J),d==null)y=x=Object.keys(u[0]),C=x.map(function(){return"left"});else if(Array.isArray(d)&&Rt(d[0])==="object")for(x=d.map(function(oe){return oe.name}),y=d.map(function(oe){return oe.prompt||oe.name||""}),C=d.map(function(oe){return oe.align||"left"}),g=0;g<d.length;g+=1)k[d[g].name]=d[g].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(y=x=d,C=x.map(function(){return"left"}));if(F||Array.isArray(d)&&typeof d[0]=="string")for(g=0;g<x.length;g+=1){for(S[B=x[g]]=u.map(function(oe){return oe[B]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=S[B],this.setFont(void 0,"normal"),w=0;w<m.length;w+=1)O.push(this.getTextDimensions(m[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[B]=Math.max.apply(null,O)+j+j,O=[]}if(R){var de={};for(g=0;g<x.length;g+=1)de[x[g]]={},de[x[g]].text=y[g],de[x[g]].align=C[g];var te=o.call(this,de,k);I=x.map(function(oe){return new i(l,c,k[oe],te,de[oe].text,void 0,de[oe].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var le=d.reduce(function(oe,Z){return oe[Z.name]=Z.align,oe},{});for(g=0;g<u.length;g+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:g,data:u[g]},this);var q=o.call(this,u[g],k);for(w=0;w<x.length;w+=1){var se=u[g][x[w]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:g,col:w,data:se},this),a.call(this,new i(l,c,k[x[w]],q,se,g+2,le[x[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(g){var m=l[g];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*d/f+u+u},this).reduce(function(g,m){return Math.max(g,m)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(ct.API);var JN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Zv=qN(XN),YN=[100,200,300,400,500,600,700,800,900],e8=qN(YN);function ew(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return JN[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Zv[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function Yb(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var t8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function r8(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},t8,r.genericFontFamilies||{}),i=null,a=null,o=0;o<e.length;++o)if(s[(i=ew(e[o])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){a=t[i.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+eB(i)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var u=Zv[l],d=u<=Zv.normal?-1:1,f=Yb(c,XN,u,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(i.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=JN[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=e8[l],d=Yb(c,YN,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+eB(i)+"'.");return a}function tB(t){return t.trimLeft()}function n8(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function s8(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var bf,rB,nB,$m=["times"];(function(t){var e,r,n,s,i,a,o,l,c,u=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new l,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new a,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new a,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=_;Object.defineProperty(this,"pdf",{get:function(){return L}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(pe){M=!!pe}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(pe){z=!!pe}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(pe){isNaN(pe)||(ee=pe)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(pe){isNaN(pe)||(ie=pe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(pe){var X;typeof pe=="number"?X=[pe,pe,pe,pe]:((X=new Array(4))[0]=pe[0],X[1]=pe.length>=2?pe[1]:X[0],X[2]=pe.length>=3?pe[2]:X[0],X[3]=pe.length>=4?pe[3]:X[1]),c.margin=X}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(pe){ae=pe}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(pe){re=pe}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(pe){we=pe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(pe){pe instanceof u&&(c=pe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(pe){c.path=pe}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(pe){Ce=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var X;X=f(pe),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var X=f(pe);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var Ue=null;function Ie(pe,X){if(Ue===null){var at=function(xe){var Ee=[];return Object.keys(xe).forEach(function(Re){xe[Re].forEach(function(We){var He=null;switch(We){case"bold":He={family:Re,weight:"bold"};break;case"italic":He={family:Re,style:"italic"};break;case"bolditalic":He={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":He={family:Re}}He!==null&&(He.ref={name:Re,style:We},Ee.push(He))})}),Ee}(pe.getFontList());Ue=function(xe){for(var Ee={},Re=0;Re<xe.length;++Re){var We=ew(xe[Re]),He=We.family,Ze=We.stretch,_e=We.style,Oe=We.weight;Ee[He]=Ee[He]||{},Ee[He][Ze]=Ee[He][Ze]||{},Ee[He][Ze][_e]=Ee[He][Ze][_e]||{},Ee[He][Ze][_e][Oe]=We}return Ee}(at.concat(X))}return Ue}var ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(pe){Ue=null,ze=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var X;if(this.ctx.font=pe,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var at=X[1],xe=(X[2],X[3]),Ee=X[4],Re=(X[5],X[6]),We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(We==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var He=function(Fe){var Ke,Ne,ne=[],Se=Fe.trim();if(Se==="")return $m;if(Se in Zb)return[Zb[Se]];for(;Se!=="";){switch(Ne=null,Ke=(Se=tB(Se)).charAt(0)){case'"':case"'":Ne=n8(Se.substring(1),Ke);break;default:Ne=s8(Se)}if(Ne===null||(ne.push(Ne[0]),(Se=tB(Ne[1]))!==""&&Se.charAt(0)!==","))return $m;Se=Se.replace(/^,/,"")}return ne}(Re);if(this.fontFaces){var Ze=r8(Ie(this.pdf,this.fontFaces),He.map(function(Fe){return{family:Fe,stretch:"normal",weight:xe,style:at}}));this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var _e="";(xe==="bold"||parseInt(xe,10)>=700||at==="bold")&&(_e="bold"),at==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var Oe="",W={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Be=0;Be<He.length;Be++){if(this.pdf.internal.getFont(He[Be],_e,{noFallback:!0,disableWarning:!0})!==void 0){Oe=He[Be];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(He[Be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=He[Be],_e="bold";else if(this.pdf.internal.getFont(He[Be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=He[Be],_e="normal";break}}if(Oe===""){for(var me=0;me<He.length;me++)if(W[He[me]]){Oe=W[He[me]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};d.prototype.setLineDash=function(_){this.lineDash=_},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){S.call(this,"fill",!1)},d.prototype.stroke=function(){S.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(_,L){if(isNaN(_)||isNaN(L))throw Wt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new a(_,L));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new a(_,L)},d.prototype.closePath=function(){var _=new a(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&Rt(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){_=new a(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(_.x,_.y)},d.prototype.lineTo=function(_,L){if(isNaN(_)||isNaN(L))throw Wt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new a(_,L));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new a(M.x,M.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},d.prototype.quadraticCurveTo=function(_,L,M,z){if(isNaN(M)||isNaN(z)||isNaN(_)||isNaN(L))throw Wt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(M,z)),ie=this.ctx.transform.applyToPoint(new a(_,L));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},d.prototype.bezierCurveTo=function(_,L,M,z,ee,ie){if(isNaN(ee)||isNaN(ie)||isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw Wt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new a(ee,ie)),re=this.ctx.transform.applyToPoint(new a(_,L)),we=this.ctx.transform.applyToPoint(new a(M,z));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:we.x,y2:we.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new a(ae.x,ae.y)},d.prototype.arc=function(_,L,M,z,ee,ie){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z)||isNaN(ee))throw Wt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new a(_,L));_=ae.x,L=ae.y;var re=this.ctx.transform.applyToPoint(new a(0,M)),we=this.ctx.transform.applyToPoint(new a(0,0));M=Math.sqrt(Math.pow(re.x-we.x,2)+Math.pow(re.y-we.y,2))}Math.abs(ee-z)>=2*Math.PI&&(z=0,ee=2*Math.PI),this.path.push({type:"arc",x:_,y:L,radius:M,startAngle:z,endAngle:ee,counterclockwise:ie})},d.prototype.arcTo=function(_,L,M,z,ee){throw new Error("arcTo not implemented.")},d.prototype.rect=function(_,L,M,z){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw Wt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,L),this.lineTo(_+M,L),this.lineTo(_+M,L+z),this.lineTo(_,L+z),this.lineTo(_,L),this.lineTo(_+M,L),this.lineTo(_,L)},d.prototype.fillRect=function(_,L,M,z){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw Wt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,L,M,z),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},d.prototype.strokeRect=function(_,L,M,z){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw Wt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(_,L,M,z),this.stroke())},d.prototype.clearRect=function(_,L,M,z){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw Wt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,L,M,z))},d.prototype.save=function(_){_=typeof _!="boolean"||_;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},d.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(L),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(_){var L,M,z,ee;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))L=0,M=0,z=0,ee=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(ie!==null)L=parseInt(ie[1]),M=parseInt(ie[2]),z=parseInt(ie[3]),ee=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)L=parseInt(ie[1]),M=parseInt(ie[2]),z=parseInt(ie[3]),ee=parseFloat(ie[4]);else{if(ee=1,typeof _=="string"&&_.charAt(0)!=="#"){var ae=new KN(_);_=ae.ok?ae.toHex():"#000000"}_.length===4?(L=_.substring(1,2),L+=L,M=_.substring(2,3),M+=M,z=_.substring(3,4),z+=z):(L=_.substring(1,3),M=_.substring(3,5),z=_.substring(5,7)),L=parseInt(L,16),M=parseInt(M,16),z=parseInt(z,16)}}return{r:L,g:M,b:z,a:ee,style:_}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(_,L,M,z){if(isNaN(L)||isNaN(M)||typeof _!="string")throw Wt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!g.call(this)){var ee=q(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;j.call(this,{text:_,x:L,y:M,scale:ie,angle:ee,align:this.textAlign,maxWidth:z})}},d.prototype.strokeText=function(_,L,M,z){if(isNaN(L)||isNaN(M)||typeof _!="string")throw Wt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){z=isNaN(z)?void 0:z;var ee=q(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;j.call(this,{text:_,x:L,y:M,scale:ie,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:z})}},d.prototype.measureText=function(_){if(typeof _!="string")throw Wt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,M=this.pdf.internal.scaleFactor,z=L.internal.getFontSize(),ee=L.getStringUnitWidth(_)*z/L.internal.scaleFactor,ie=function(ae){var re=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return re}}),this};return new ie({width:ee*=Math.round(96*M/72*1e4)/1e4})},d.prototype.scale=function(_,L){if(isNaN(_)||isNaN(L))throw Wt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new l(_,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.rotate=function(_){if(isNaN(_))throw Wt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},d.prototype.translate=function(_,L){if(isNaN(_)||isNaN(L))throw Wt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new l(1,0,0,1,_,L);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.transform=function(_,L,M,z,ee,ie){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z)||isNaN(ee)||isNaN(ie))throw Wt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new l(_,L,M,z,ee,ie);this.ctx.transform=this.ctx.transform.multiply(ae)},d.prototype.setTransform=function(_,L,M,z,ee,ie){_=isNaN(_)?1:_,L=isNaN(L)?0:L,M=isNaN(M)?0:M,z=isNaN(z)?1:z,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(_,L,M,z,ee,ie)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(_,L,M,z,ee,ie,ae,re,we){var Ce=this.pdf.getImageProperties(_),Ue=1,Ie=1,ze=1,pe=1;z!==void 0&&re!==void 0&&(ze=re/z,pe=we/ee,Ue=Ce.width/z*re/z,Ie=Ce.height/ee*we/ee),ie===void 0&&(ie=L,ae=M,L=0,M=0),z!==void 0&&re===void 0&&(re=z,we=ee),z===void 0&&re===void 0&&(re=Ce.width,we=Ce.height);for(var X,at=this.ctx.transform.decompose(),xe=q(at.rotate.shx),Ee=new l,Re=(Ee=(Ee=(Ee=Ee.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new o(ie-L*ze,ae-M*pe,z*Ue,ee*Ie)),We=B.call(this,Re),He=[],Ze=0;Ze<We.length;Ze+=1)He.indexOf(We[Ze])===-1&&He.push(We[Ze]);if(C(He),this.autoPaging)for(var _e=He[0],Oe=He[He.length-1],W=_e;W<Oe+1;W++){this.pdf.setPage(W);var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=W===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=W===1?0:Fe+(W-2)*Ke;if(this.ctx.clip_path.length!==0){var ne=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(X,this.posX+this.margin[3],-Ne+me+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=ne}var Se=JSON.parse(JSON.stringify(Re));Se=y([Se],this.posX+this.margin[3],-Ne+me+this.ctx.prevPageLastElemOffset)[0];var qe=(W>_e||W<Oe)&&w.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,Ke,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,xe),qe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,xe)};var B=function(_,L,M){var z=[];L=L||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":z.push(Math.floor((_.y+ee)/M)+1);break;case"arc":z.push(Math.floor((_.y+ee-_.radius)/M)+1),z.push(Math.floor((_.y+ee+_.radius)/M)+1);break;case"qct":var ie=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);z.push(Math.floor((ie.y+ee)/M)+1),z.push(Math.floor((ie.y+ie.h+ee)/M)+1);break;case"bct":var ae=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);z.push(Math.floor((ae.y+ee)/M)+1),z.push(Math.floor((ae.y+ae.h+ee)/M)+1);break;case"rect":z.push(Math.floor((_.y+ee)/M)+1),z.push(Math.floor((_.y+_.h+ee)/M)+1)}for(var re=0;re<z.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<z[re];)x.call(this);return z},x=function(){var _=this.fillStyle,L=this.strokeStyle,M=this.font,z=this.lineCap,ee=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=L,this.font=M,this.lineCap=z,this.lineWidth=ee,this.lineJoin=ie},y=function(_,L,M){for(var z=0;z<_.length;z++)switch(_[z].type){case"bct":_[z].x2+=L,_[z].y2+=M;case"qct":_[z].x1+=L,_[z].y1+=M;case"mt":case"lt":case"arc":default:_[z].x+=L,_[z].y+=M}return _},C=function(_){return _.sort(function(L,M){return L-M})},S=function(_,L){for(var M,z,ee=this.fillStyle,ie=this.strokeStyle,ae=this.lineCap,re=this.lineWidth,we=Math.abs(re*this.ctx.transform.scaleX),Ce=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),ze=[],pe=0;pe<Ie.length;pe++)if(Ie[pe].x!==void 0)for(var X=B.call(this,Ie[pe]),at=0;at<X.length;at+=1)ze.indexOf(X[at])===-1&&ze.push(X[at]);for(var xe=0;xe<ze.length;xe++)for(;this.pdf.internal.getNumberOfPages()<ze[xe];)x.call(this);if(C(ze),this.autoPaging)for(var Ee=ze[0],Re=ze[ze.length-1],We=Ee;We<Re+1;We++){this.pdf.setPage(We),this.fillStyle=ee,this.strokeStyle=ie,this.lineCap=ae,this.lineWidth=we,this.lineJoin=Ce;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=We===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],W=We===1?0:_e+(We-2)*Oe;if(this.ctx.clip_path.length!==0){var Be=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(M,this.posX+this.margin[3],-W+Ze+this.ctx.prevPageLastElemOffset),k.call(this,_,!0),this.path=Be}if(z=JSON.parse(JSON.stringify(Ue)),this.path=y(z,this.posX+this.margin[3],-W+Ze+this.ctx.prevPageLastElemOffset),L===!1||We===0){var me=(We>Ee||We<Re)&&w.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Oe,null).clip().discardPath()),k.call(this,_,L),me&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=we,k.call(this,_,L),this.lineWidth=re;this.path=Ue},k=function(_,L){if((_!=="stroke"||L||!m.call(this))&&(_==="stroke"||L||!g.call(this))){for(var M,z,ee=[],ie=this.path,ae=0;ae<ie.length;ae++){var re=ie[ae];switch(re.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:re,deltas:[],abs:[]});break;case"lt":var we=ee.length;if(ie[ae-1]&&!isNaN(ie[ae-1].x)&&(M=[re.x-ie[ae-1].x,re.y-ie[ae-1].y],we>0)){for(;we>=0;we--)if(ee[we-1].close!==!0&&ee[we-1].begin!==!0){ee[we-1].deltas.push(M),ee[we-1].abs.push(re);break}}break;case"bct":M=[re.x1-ie[ae-1].x,re.y1-ie[ae-1].y,re.x2-ie[ae-1].x,re.y2-ie[ae-1].y,re.x-ie[ae-1].x,re.y-ie[ae-1].y],ee[ee.length-1].deltas.push(M);break;case"qct":var Ce=ie[ae-1].x+2/3*(re.x1-ie[ae-1].x),Ue=ie[ae-1].y+2/3*(re.y1-ie[ae-1].y),Ie=re.x+2/3*(re.x1-re.x),ze=re.y+2/3*(re.y1-re.y),pe=re.x,X=re.y;M=[Ce-ie[ae-1].x,Ue-ie[ae-1].y,Ie-ie[ae-1].x,ze-ie[ae-1].y,pe-ie[ae-1].x,X-ie[ae-1].y],ee[ee.length-1].deltas.push(M);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(re)}}z=L?null:_==="stroke"?"stroke":"fill";for(var at=!1,xe=0;xe<ee.length;xe++)if(ee[xe].arc)for(var Ee=ee[xe].abs,Re=0;Re<Ee.length;Re++){var We=Ee[Re];We.type==="arc"?F.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,L,!at):K.call(this,We.x,We.y),at=!0}else if(ee[xe].close===!0)this.pdf.internal.out("h"),at=!1;else if(ee[xe].begin!==!0){var He=ee[xe].start.x,Ze=ee[xe].start.y;$.call(this,ee[xe].deltas,He,Ze),at=!0}z&&R.call(this,z),L&&J.call(this)}},O=function(_){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-M;case"top":return _+L-M;case"hanging":return _+L-2*M;case"middle":return _+L/2-M;case"ideographic":return _;case"alphabetic":default:return _}},I=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(L,M){this.colorStops.push([L,M])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(_,L,M,z,ee,ie,ae,re,we){for(var Ce=te.call(this,M,z,ee,ie),Ue=0;Ue<Ce.length;Ue++){var Ie=Ce[Ue];Ue===0&&(we?Q.call(this,Ie.x1+_,Ie.y1+L):K.call(this,Ie.x1+_,Ie.y1+L)),de.call(this,_,L,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}re?J.call(this):R.call(this,ae)},R=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(_,L){this.pdf.internal.out(r(_)+" "+n(L)+" m")},j=function(_){var L;switch(_.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var M=this.pdf.getTextDimensions(_.text),z=O.call(this,_.y),ee=I.call(this,z)-M.h,ie=this.ctx.transform.applyToPoint(new a(_.x,z)),ae=this.ctx.transform.decompose(),re=new l;re=(re=(re=re.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var we,Ce,Ue,Ie=this.ctx.transform.applyToRectangle(new o(_.x,z,M.w,M.h)),ze=re.applyToRectangle(new o(_.x,ee,M.w,M.h)),pe=B.call(this,ze),X=[],at=0;at<pe.length;at+=1)X.indexOf(pe[at])===-1&&X.push(pe[at]);if(C(X),this.autoPaging)for(var xe=X[0],Ee=X[X.length-1],Re=xe;Re<Ee+1;Re++){this.pdf.setPage(Re);var We=Re===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],_e=Ze-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],W=Oe-this.margin[3],Be=Re===1?0:He+(Re-2)*_e;if(this.ctx.clip_path.length!==0){var me=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(we,this.posX+this.margin[3],-1*Be+We),k.call(this,"fill",!0),this.path=me}var Fe=y([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Be+We+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*_.scale),Ue=this.lineWidth,this.lineWidth=Ue*_.scale);var Ke=this.autoPaging!=="text";if(Ke||Fe.y+Fe.h<=Ze){if(Ke||Fe.y>=We&&Fe.x<=Oe){var Ne=Ke?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||Oe-Fe.x)[0],ne=y([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Be+We+this.ctx.prevPageLastElemOffset)[0],Se=Ke&&(Re>xe||Re<Ee)&&w.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],W,_e,null).clip().discardPath()),this.pdf.text(Ne,ne.x,ne.y,{angle:_.angle,align:L,renderingMode:_.renderingMode}),Se&&this.pdf.restoreGraphicsState()}}else Fe.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-Fe.y);_.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Ue)}else _.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*_.scale),Ue=this.lineWidth,this.lineWidth=Ue*_.scale),this.pdf.text(_.text,ie.x+this.posX,ie.y+this.posY,{angle:_.angle,align:L,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Ue)},K=function(_,L,M,z){M=M||0,z=z||0,this.pdf.internal.out(r(_+M)+" "+n(L+z)+" l")},$=function(_,L,M){return this.pdf.lines(_,L,M,null,null)},de=function(_,L,M,z,ee,ie,ae,re){this.pdf.internal.out([e(s(M+_)),e(i(z+L)),e(s(ee+_)),e(i(ie+L)),e(s(ae+_)),e(i(re+L)),"c"].join(" "))},te=function(_,L,M,z){for(var ee=2*Math.PI,ie=Math.PI/2;L>M;)L-=ee;var ae=Math.abs(M-L);ae<ee&&z&&(ae=ee-ae);for(var re=[],we=z?-1:1,Ce=L;ae>1e-5;){var Ue=Ce+we*Math.min(ae,ie);re.push(le.call(this,_,Ce,Ue)),ae-=Math.abs(Ue-Ce),Ce=Ue}return re},le=function(_,L,M){var z=(M-L)/2,ee=_*Math.cos(z),ie=_*Math.sin(z),ae=ee,re=-ie,we=ae*ae+re*re,Ce=we+ae*ee+re*ie,Ue=4/3*(Math.sqrt(2*we*Ce)-Ce)/(ae*ie-re*ee),Ie=ae-Ue*re,ze=re+Ue*ae,pe=Ie,X=-ze,at=z+L,xe=Math.cos(at),Ee=Math.sin(at);return{x1:_*Math.cos(L),y1:_*Math.sin(L),x2:Ie*xe-ze*Ee,y2:Ie*Ee+ze*xe,x3:pe*xe-X*Ee,y3:pe*Ee+X*xe,x4:_*Math.cos(M),y4:_*Math.sin(M)}},q=function(_){return 180*_/Math.PI},se=function(_,L,M,z,ee,ie){var ae=_+.5*(M-_),re=L+.5*(z-L),we=ee+.5*(M-ee),Ce=ie+.5*(z-ie),Ue=Math.min(_,ee,ae,we),Ie=Math.max(_,ee,ae,we),ze=Math.min(L,ie,re,Ce),pe=Math.max(L,ie,re,Ce);return new o(Ue,ze,Ie-Ue,pe-ze)},oe=function(_,L,M,z,ee,ie,ae,re){var we,Ce,Ue,Ie,ze,pe,X,at,xe,Ee,Re,We,He,Ze,_e=M-_,Oe=z-L,W=ee-M,Be=ie-z,me=ae-ee,Fe=re-ie;for(Ce=0;Ce<41;Ce++)xe=(X=(Ue=_+(we=Ce/40)*_e)+we*((ze=M+we*W)-Ue))+we*(ze+we*(ee+we*me-ze)-X),Ee=(at=(Ie=L+we*Oe)+we*((pe=z+we*Be)-Ie))+we*(pe+we*(ie+we*Fe-pe)-at),Ce==0?(Re=xe,We=Ee,He=xe,Ze=Ee):(Re=Math.min(Re,xe),We=Math.min(We,Ee),He=Math.max(He,xe),Ze=Math.max(Ze,Ee));return new o(Math.round(Re),Math.round(We),Math.round(He-Re),Math.round(Ze-We))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,L,M=(_=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:L}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(ct.API),function(t){var e=function(i){var a,o,l,c,u,d,f,g,m,w;for(o=[],l=0,c=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(w=u%85))/85)-(m=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)%85,o.push(d+33,f+33,g+33,m+33,w+33)):o.push(122);return function(B,x){for(var y=x;y>0;y--)B.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var a,o,l,c,u,d=String,f="length",g=255,m="charCodeAt",w="slice",B="replace";for(i[w](-2),i=i[w](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),l=[],c=0,u=(i+=a="uuuuu"[w](i[f]%5||5))[f];u>c;c+=5)o=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(x,y){for(var C=y;C>0;C--)x.pop()}(l,a[f]),d.fromCharCode.apply(d,l)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},s=function(i){for(var a=new Uint8Array(i.length),o=i.length;o--;)a[o]=i.charCodeAt(o);return i=(a=Wv(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,a){var o=0,l=i||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ct.API),function(t){t.loadFile=function(e,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,f=0,g=function(m){var w=m.length,B=[],x=String.fromCharCode;for(f=0;f<w;f+=1)B.push(x(255&m.charCodeAt(f)));return B.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(g(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return g(d.responseText)}(s,i,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(ct.API),function(t){function e(){return(ht.html2canvas?Promise.resolve(ht.html2canvas):Ss(()=>Promise.resolve().then(()=>Kv),void 0)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(ht.DOMPurify?Promise.resolve(ht.DOMPurify):Ss(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=Rt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,o){return a.__proto__=o||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var g=c[f],m=g.src.find(function(w){return w.format==="truetype"});m&&l.addFont(m.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},i.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(a,o){return this.then(function(){var l=a in i.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},i.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return i.convert(o,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ct.getPageSize=function(a,o,l){if(Rt(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var g,m=0,w=0;if(f.hasOwnProperty(d))m=f[d][1]/u,w=f[d][0]/u;else try{m=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",w>m&&(g=w,w=m,m=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>w&&(g=w,w=m,m=g)}return{width:w,height:m,unit:o,k:u,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(ew):null;var l=new i(o);return o.worker?l:l.from(a).doCallback()}}(ct.API),ct.API.addJS=function(t){return nB=t,this.internal.events.subscribe("postPutResources",function(){bf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bf!==void 0&&rB!==void 0&&this.internal.out("/Names <</JavaScript "+bf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=r.internal.newObject();u.push(d);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var f,g=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,w={width:0,height:0,numcomponents:1},B=4;B<m;B+=2){if(B+=g,e.indexOf(d.charCodeAt(B+1))!==-1){f=256*d.charCodeAt(B+5)+d.charCodeAt(B+6),w={width:256*d.charCodeAt(B+7)+d.charCodeAt(B+8),height:f,numcomponents:d.charCodeAt(B+9)};break}g=256*d.charCodeAt(B+2)+d.charCodeAt(B+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(ct.API);var hl,Bf,sB,iB,aB,i8=function(){var t,e,r;function n(i){var a,o,l,c,u,d,f,g,m,w,B,x,y,C;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),m=(function(){var S,k;for(k=[],S=0;S<4;++S)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,a-=4),i=(d!=null?d.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(y=0;0<=w?y<w:y>w;0<=w?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(B=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,B.slice(0,f)),this.text[g]=String.fromCharCode.apply(String,B.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,o;for(o=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,f,g,m){var w,B,x,y,C,S,k,O,I,F,R,J,Q,j,K,$,de,te,le,q,se,oe=Math.ceil((c.width-d)/g),Z=Math.ceil((c.height-f)/m),_=c.width==oe&&c.height==Z;for(j=a*oe,J=_?o:new Uint8Array(j*Z),S=i.length,Q=0,B=0;Q<Z&&l<S;){switch(i[l++]){case 0:for(y=de=0;de<j;y=de+=1)J[B++]=i[l++];break;case 1:for(y=te=0;te<j;y=te+=1)w=i[l++],C=y<a?0:J[B-a],J[B++]=(w+C)%256;break;case 2:for(y=le=0;le<j;y=le+=1)w=i[l++],x=(y-y%a)/a,K=Q&&J[(Q-1)*j+x*a+y%a],J[B++]=(K+w)%256;break;case 3:for(y=q=0;q<j;y=q+=1)w=i[l++],x=(y-y%a)/a,C=y<a?0:J[B-a],K=Q&&J[(Q-1)*j+x*a+y%a],J[B++]=(w+Math.floor((C+K)/2))%256;break;case 4:for(y=se=0;se<j;y=se+=1)w=i[l++],x=(y-y%a)/a,C=y<a?0:J[B-a],Q===0?K=$=0:(K=J[(Q-1)*j+x*a+y%a],$=x&&J[(Q-1)*j+(x-1)*a+y%a]),k=C+K-$,O=Math.abs(k-C),F=Math.abs(k-K),R=Math.abs(k-$),I=O<=F&&O<=R?C:F<=R?K:$,J[B++]=(w+I)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!_){var L=((f+Q*m)*c.width+d)*a,M=Q*j;for(y=0;y<oe;y+=1){for(var z=0;z<a;z+=1)o[L++]=J[M++];L+=(g-1)*a}}Q++}}return i=PD(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,a,o,l,c,u,d,f,g;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,a=d=0,f=o.length;d<f;a=d+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(g=u[i++])!=null?g:255;return c},n.prototype.copyToImageData=function(i,a){var o,l,c,u,d,f,g,m,w,B,x;if(l=this.colors,w=null,o=this.hasAlphaChannel,this.palette.length&&(w=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,o=!0),m=(c=i.data||i).length,d=w||a,u=f=0,l===1)for(;u<m;)g=w?4*a[u/4]:f,B=d[g++],c[u++]=B,c[u++]=B,c[u++]=B,c[u++]=o?d[g++]:255,f=g;else for(;u<m;)g=w?4*a[u/4]:f,c[u++]=d[g++],c[u++]=d[g++],c[u++]=d[g++],c[u++]=o?d[g++]:255,f=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(ht)==="[object Window]"){try{e=ht.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,o,l,c,u,d,f,g;if(this.animation){for(g=[],o=u=0,d=(f=this.animation.frames).length;u<d;o=++u)a=f[o],l=i.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,g.push(a.image=t(l));return g}},n.prototype.renderFrame=function(i,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var a,o,l,c,u,d,f=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(a=function(){var g,m;if(g=o++%c,m=l[g],f.renderFrame(i,g),c>1&&o/c<u)return f.animation._timeout=setTimeout(a,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function a8(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<(7&s)+1;t[e++],t[e++];var o=null,l=null;i&&(o=e,l=a,e+=3*a);var c=!0,u=[],d=0,f=null,g=0,m=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],!(1&w)&&(f=null),g=w>>2&7,e++;break;case 254:for(;;){if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var B=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,S=t[e++],k=S>>6&1,O=1<<(7&S)+1,I=o,F=l,R=!1;S>>7&&(R=!0,I=e,F=O,e+=3*O);var J=e;for(e++;;){var Q;if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}u.push({x:B,y:x,width:y,height:C,has_local_palette:R,palette_offset:I,palette_size:F,data_offset:J,data_length:e-J,transparent_index:f,interlaced:!!k,delay:d,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,K){var $=this.frameInfo(j),de=$.width*$.height,te=new Uint8Array(de);AB(t,$.data_offset,te,de);var le=$.palette_offset,q=$.transparent_index;q===null&&(q=256);var se=$.width,oe=r-se,Z=se,_=4*($.y*r+$.x),L=4*(($.y+$.height)*r+$.x),M=_,z=4*oe;$.interlaced===!0&&(z+=4*r*7);for(var ee=8,ie=0,ae=te.length;ie<ae;++ie){var re=te[ie];if(Z===0&&(Z=se,(M+=z)>=L&&(z=4*oe+4*r*(ee-1),M=_+(se+oe)*(ee<<1),ee>>=1)),re===q)M+=4;else{var we=t[le+3*re],Ce=t[le+3*re+1],Ue=t[le+3*re+2];K[M++]=Ue,K[M++]=Ce,K[M++]=we,K[M++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(j,K){var $=this.frameInfo(j),de=$.width*$.height,te=new Uint8Array(de);AB(t,$.data_offset,te,de);var le=$.palette_offset,q=$.transparent_index;q===null&&(q=256);var se=$.width,oe=r-se,Z=se,_=4*($.y*r+$.x),L=4*(($.y+$.height)*r+$.x),M=_,z=4*oe;$.interlaced===!0&&(z+=4*r*7);for(var ee=8,ie=0,ae=te.length;ie<ae;++ie){var re=te[ie];if(Z===0&&(Z=se,(M+=z)>=L&&(z=4*oe+4*r*(ee-1),M=_+(se+oe)*(ee<<1),ee>>=1)),re===q)M+=4;else{var we=t[le+3*re],Ce=t[le+3*re+1],Ue=t[le+3*re+2];K[M++]=we,K[M++]=Ce,K[M++]=Ue,K[M++]=255}--Z}}}function AB(t,e,r,n){for(var s=t[e++],i=1<<s,a=i+1,o=a+1,l=s+1,c=(1<<l)-1,u=0,d=0,f=0,g=t[e++],m=new Int32Array(4096),w=null;;){for(;u<16&&g!==0;)d|=t[e++]<<u,u+=8,g===1?g=t[e++]:--g;if(u<l)break;var B=d&c;if(d>>=l,u-=l,B!==i){if(B===a)break;for(var x=B<o?B:w,y=0,C=x;C>i;)C=m[C]>>8,++y;var S=C;if(f+y+(x!==B?1:0)>n)return void Wt.log("Warning, gif stream longer than expected.");r[f++]=S;var k=f+=y;for(x!==B&&(r[f++]=S),C=x;y--;)C=m[C],r[--k]=255&C,C>>=8;w!==null&&o<4096&&(m[o++]=w<<8|S,o>=c+1&&l<12&&(++l,c=c<<1|1)),w=B}else o=a+1,c=(1<<(l=s+1))-1,w=null}return f!==n&&Wt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gm(t){var e,r,n,s,i,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),g=new Array(64),m=new Array(64),w=[],B=0,x=7,y=new Array(64),C=new Array(64),S=new Array(64),k=new Array(256),O=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(_,L){for(var M=0,z=0,ee=new Array,ie=1;ie<=16;ie++){for(var ae=1;ae<=_[ie];ae++)ee[L[z]]=[],ee[L[z]][0]=M,ee[L[z]][1]=ie,z++,M++;M*=2}return ee}function le(_){for(var L=_[0],M=_[1]-1;M>=0;)L&1<<M&&(B|=1<<x),M--,--x<0&&(B==255?(q(255),q(0)):q(B),x=7,B=0)}function q(_){w.push(_)}function se(_){q(_>>8&255),q(255&_)}function oe(_,L,M,z,ee){for(var ie,ae=ee[0],re=ee[240],we=function(Ee,Re){var We,He,Ze,_e,Oe,W,Be,me,Fe,Ke,Ne=0;for(Fe=0;Fe<8;++Fe){We=Ee[Ne],He=Ee[Ne+1],Ze=Ee[Ne+2],_e=Ee[Ne+3],Oe=Ee[Ne+4],W=Ee[Ne+5],Be=Ee[Ne+6];var ne=We+(me=Ee[Ne+7]),Se=We-me,qe=He+Be,Ge=He-Be,Te=Ze+W,wt=Ze-W,fe=_e+Oe,ft=_e-Oe,_t=ne+fe,mr=ne-fe,an=qe+Te,Bt=qe-Te;Ee[Ne]=_t+an,Ee[Ne+4]=_t-an;var ot=.707106781*(Bt+mr);Ee[Ne+2]=mr+ot,Ee[Ne+6]=mr-ot;var jt=.382683433*((_t=ft+wt)-(Bt=Ge+Se)),Qe=.5411961*_t+jt,Lt=1.306562965*Bt+jt,It=.707106781*(an=wt+Ge),sr=Se+It,lt=Se-It;Ee[Ne+5]=lt+Qe,Ee[Ne+3]=lt-Qe,Ee[Ne+1]=sr+Lt,Ee[Ne+7]=sr-Lt,Ne+=8}for(Ne=0,Fe=0;Fe<8;++Fe){We=Ee[Ne],He=Ee[Ne+8],Ze=Ee[Ne+16],_e=Ee[Ne+24],Oe=Ee[Ne+32],W=Ee[Ne+40],Be=Ee[Ne+48];var Un=We+(me=Ee[Ne+56]),kn=We-me,Xr=He+Be,ur=He-Be,Fr=Ze+W,Jn=Ze-W,Co=_e+Oe,Ui=_e-Oe,Ls=Un+Co,Is=Un-Co,Ps=Xr+Fr,Ai=Xr-Fr;Ee[Ne]=Ls+Ps,Ee[Ne+32]=Ls-Ps;var hs=.707106781*(Ai+Is);Ee[Ne+16]=Is+hs,Ee[Ne+48]=Is-hs;var oi=.382683433*((Ls=Ui+Jn)-(Ai=ur+kn)),bA=.5411961*Ls+oi,_o=1.306562965*Ai+oi,No=.707106781*(Ps=Jn+ur),So=kn+No,Fo=kn-No;Ee[Ne+40]=Fo+bA,Ee[Ne+24]=Fo-bA,Ee[Ne+8]=So+_o,Ee[Ne+56]=So-_o,Ne++}for(Fe=0;Fe<64;++Fe)Ke=Ee[Fe]*Re[Fe],g[Fe]=Ke>0?Ke+.5|0:Ke-.5|0;return g}(_,L),Ce=0;Ce<64;++Ce)m[I[Ce]]=we[Ce];var Ue=m[0]-M;M=m[0],Ue==0?le(z[0]):(le(z[f[ie=32767+Ue]]),le(d[ie]));for(var Ie=63;Ie>0&&m[Ie]==0;)Ie--;if(Ie==0)return le(ae),M;for(var ze,pe=1;pe<=Ie;){for(var X=pe;m[pe]==0&&pe<=Ie;)++pe;var at=pe-X;if(at>=16){ze=at>>4;for(var xe=1;xe<=ze;++xe)le(re);at&=15}ie=32767+m[pe],le(ee[(at<<4)+f[ie]]),le(d[ie]),pe++}return Ie!=63&&le(ae),M}function Z(_){_=Math.min(Math.max(_,1),100),i!=_&&(function(L){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var ee=a((M[z]*L+50)/100);ee=Math.min(Math.max(ee,1),255),o[I[z]]=ee}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var re=a((ie[ae]*L+50)/100);re=Math.min(Math.max(re,1),255),l[I[ae]]=re}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Ue=0;Ue<8;Ue++)for(var Ie=0;Ie<8;Ie++)c[Ce]=1/(o[I[Ce]]*we[Ue]*we[Ie]*8),u[Ce]=1/(l[I[Ce]]*we[Ue]*we[Ie]*8),Ce++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),i=_)}this.encode=function(_,L){L&&Z(L),w=new Array,B=0,x=7,se(65496),se(65504),se(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),se(1),se(1),q(0),q(0),function(){se(65499),se(132),q(0);for(var He=0;He<64;He++)q(o[He]);q(1);for(var Ze=0;Ze<64;Ze++)q(l[Ze])}(),function(He,Ze){se(65472),se(17),q(8),se(Ze),se(He),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(_.width,_.height),function(){se(65476),se(418),q(0);for(var He=0;He<16;He++)q(F[He+1]);for(var Ze=0;Ze<=11;Ze++)q(R[Ze]);q(16);for(var _e=0;_e<16;_e++)q(J[_e+1]);for(var Oe=0;Oe<=161;Oe++)q(Q[Oe]);q(1);for(var W=0;W<16;W++)q(j[W+1]);for(var Be=0;Be<=11;Be++)q(K[Be]);q(17);for(var me=0;me<16;me++)q($[me+1]);for(var Fe=0;Fe<=161;Fe++)q(de[Fe])}(),se(65498),se(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var M=0,z=0,ee=0;B=0,x=7,this.encode.displayName="_encode_";for(var ie,ae,re,we,Ce,Ue,Ie,ze,pe,X=_.data,at=_.width,xe=_.height,Ee=4*at,Re=0;Re<xe;){for(ie=0;ie<Ee;){for(Ce=Ee*Re+ie,Ie=-1,ze=0,pe=0;pe<64;pe++)Ue=Ce+(ze=pe>>3)*Ee+(Ie=4*(7&pe)),Re+ze>=xe&&(Ue-=Ee*(Re+1+ze-xe)),ie+Ie>=Ee&&(Ue-=ie+Ie-Ee+4),ae=X[Ue++],re=X[Ue++],we=X[Ue++],y[pe]=(O[ae]+O[re+256>>0]+O[we+512>>0]>>16)-128,C[pe]=(O[ae+768>>0]+O[re+1024>>0]+O[we+1280>>0]>>16)-128,S[pe]=(O[ae+1280>>0]+O[re+1536>>0]+O[we+1792>>0]>>16)-128;M=oe(y,c,M,e,n),z=oe(C,u,z,r,s),ee=oe(S,u,ee,r,s),ie+=32}Re+=8}if(x>=0){var We=[];We[1]=x+1,We[0]=(1<<x+1)-1,le(We)}return se(65497),new Uint8Array(w)},t=t||50,function(){for(var _=String.fromCharCode,L=0;L<256;L++)k[L]=_(L)}(),e=te(F,R),r=te(j,K),n=te(J,Q),s=te($,de),function(){for(var _=1,L=2,M=1;M<=15;M++){for(var z=_;z<L;z++)f[32767+z]=M,d[32767+z]=[],d[32767+z][1]=M,d[32767+z][0]=z;for(var ee=-(L-1);ee<=-_;ee++)f[32767+ee]=M,d[32767+ee]=[],d[32767+ee][1]=M,d[32767+ee][0]=L-1+ee;_<<=1,L<<=1}}(),function(){for(var _=0;_<256;_++)O[_]=19595*_,O[_+256>>0]=38470*_,O[_+512>>0]=7471*_+32768,O[_+768>>0]=-11059*_,O[_+1024>>0]=-21709*_,O[_+1280>>0]=32768*_+8421375,O[_+1536>>0]=-27439*_,O[_+1792>>0]=-5329*_}(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oB(t){function e(F){if(!F)throw Error("assert :P")}function r(F,R,J){for(var Q=0;4>Q;Q++)if(F[R+Q]!=J.charCodeAt(Q))return!0;return!1}function n(F,R,J,Q,j){for(var K=0;K<j;K++)F[R+K]=J[Q+K]}function s(F,R,J,Q){for(var j=0;j<Q;j++)F[R+j]=J}function i(F){return new Int32Array(F)}function a(F,R){for(var J=[],Q=0;Q<F;Q++)J.push(new R);return J}function o(F,R){var J=[];return function Q(j,K,$){for(var de=$[K],te=0;te<de&&(j.push($.length>K+1?[]:new R),!($.length<K+1));te++)Q(j[te],K+1,$)}(J,0,F),J}var l=function(){var F=this;function R(h,p){for(var b=1<<p-1>>>0;h&b;)b>>>=1;return b?(h&b-1)+b:h}function J(h,p,b,N,E){e(!(N%b));do h[p+(N-=b)]=E;while(0<N)}function Q(h,p,b,N,E){if(e(2328>=E),512>=E)var P=i(512);else if((P=i(E))==null)return 0;return function(D,H,V,G,ce,ye){var be,ge,De=H,je=1<<V,ue=i(16),he=i(16);for(e(ce!=0),e(G!=null),e(D!=null),e(0<V),ge=0;ge<ce;++ge){if(15<G[ge])return 0;++ue[G[ge]]}if(ue[0]==ce)return 0;for(he[1]=0,be=1;15>be;++be){if(ue[be]>1<<be)return 0;he[be+1]=he[be]+ue[be]}for(ge=0;ge<ce;++ge)be=G[ge],0<G[ge]&&(ye[he[be]++]=ge);if(he[15]==1)return(G=new j).g=0,G.value=ye[0],J(D,De,1,je,G),je;var Le,Me=-1,Pe=je-1,rt=0,Xe=1,ut=1,Ye=1<<V;for(ge=0,be=1,ce=2;be<=V;++be,ce<<=1){if(Xe+=ut<<=1,0>(ut-=ue[be]))return 0;for(;0<ue[be];--ue[be])(G=new j).g=be,G.value=ye[ge++],J(D,De+rt,ce,Ye,G),rt=R(rt,be)}for(be=V+1,ce=2;15>=be;++be,ce<<=1){if(Xe+=ut<<=1,0>(ut-=ue[be]))return 0;for(;0<ue[be];--ue[be]){if(G=new j,(rt&Pe)!=Me){for(De+=Ye,Le=1<<(Me=be)-V;15>Me&&!(0>=(Le-=ue[Me]));)++Me,Le<<=1;je+=Ye=1<<(Le=Me-V),D[H+(Me=rt&Pe)].g=Le+V,D[H+Me].value=De-H-Me}G.g=be-V,G.value=ye[ge++],J(D,De+(rt>>V),ce,Ye,G),rt=R(rt,be)}}return Xe!=2*he[15]-1?0:je}(h,p,b,N,E,P)}function j(){this.value=this.g=0}function K(){this.value=this.g=0}function $(){this.G=a(5,j),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Yr,K)}function de(h,p,b,N){e(h!=null),e(p!=null),e(2147483648>N),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=b,h.Jd=p,h.Yc=b+N,h.Zc=4<=N?b+N-4+1:b,ie(h)}function te(h,p){for(var b=0;0<p--;)b|=re(h,128)<<p;return b}function le(h,p){var b=te(h,p);return ae(h)?-b:b}function q(h,p,b,N){var E,P=0;for(e(h!=null),e(p!=null),e(4294967288>N),h.Sb=N,h.Ra=0,h.u=0,h.h=0,4<N&&(N=4),E=0;E<N;++E)P+=p[b+E]<<8*E;h.Ra=P,h.bb=N,h.oa=p,h.pa=b}function se(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Ko-8>>>0,++h.bb,h.u-=8;M(h)&&(h.h=1,h.u=0)}function oe(h,p){if(e(0<=p),!h.h&&p<=Ro){var b=L(h)&Mo[p];return h.u+=p,se(h),b}return h.h=1,h.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(h){return h.Ra>>>(h.u&Ko-1)>>>0}function M(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Ko}function z(h,p){h.u=p,h.h=M(h)}function ee(h){h.u>=Uc&&(e(h.u>=Uc),se(h))}function ie(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ae(h){return te(h,1)}function re(h,p){var b=h.Ca;0>h.b&&ie(h);var N=h.b,E=b*p>>>8,P=(h.I>>>N>E)+0;for(P?(b-=E,h.I-=E+1<<N>>>0):b=E+1,N=b,E=0;256<=N;)E+=8,N>>=8;return N=7^E+Ln[N],h.b-=N,h.Ca=(b<<N)-1,P}function we(h,p,b){h[p+0]=b>>24&255,h[p+1]=b>>16&255,h[p+2]=b>>8&255,h[p+3]=b>>0&255}function Ce(h,p){return h[p+0]<<0|h[p+1]<<8}function Ue(h,p){return Ce(h,p)|h[p+2]<<16}function Ie(h,p){return Ce(h,p)|Ce(h,p+2)<<16}function ze(h,p){var b=1<<p;return e(h!=null),e(0<p),h.X=i(b),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function pe(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),n(p.X,0,h.X,0,1<<p.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function at(h,p,b,N){e(b!=null),e(N!=null);var E=b[0],P=N[0];return E==0&&(E=(h*P+p/2)/p),P==0&&(P=(p*E+h/2)/h),0>=E||0>=P?0:(b[0]=E,N[0]=P,1)}function xe(h,p){return h+(1<<p)-1>>>p}function Ee(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function Re(h,p){F[p]=function(b,N,E,P,D,H,V){var G;for(G=0;G<D;++G){var ce=F[h](H[V+G-1],E,P+G);H[V+G]=Ee(b[N+G],ce)}}}function We(){this.ud=this.hd=this.jd=0}function He(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function Ze(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function _e(h,p){return Ze(h+(h-p+.5>>1))}function Oe(h,p,b){return Math.abs(p-b)-Math.abs(h-b)}function W(h,p,b,N,E,P,D){for(N=P[D-1],b=0;b<E;++b)P[D+b]=N=Ee(h[p+b],N)}function Be(h,p,b,N,E){var P;for(P=0;P<b;++P){var D=h[p+P],H=D>>8&255,V=16711935&(V=(V=16711935&D)+((H<<16)+H));N[E+P]=(4278255360&D)+V>>>0}}function me(h,p){p.jd=h>>0&255,p.hd=h>>8&255,p.ud=h>>16&255}function Fe(h,p,b,N,E,P){var D;for(D=0;D<N;++D){var H=p[b+D],V=H>>>8,G=H,ce=255&(ce=(ce=H>>>16)+((h.jd<<24>>24)*(V<<24>>24)>>>5));G=255&(G=(G=G+((h.hd<<24>>24)*(V<<24>>24)>>>5))+((h.ud<<24>>24)*(ce<<24>>24)>>>5)),E[P+D]=(4278255360&H)+(ce<<16)+G}}function Ke(h,p,b,N,E){F[p]=function(P,D,H,V,G,ce,ye,be,ge){for(V=ye;V<be;++V)for(ye=0;ye<ge;++ye)G[ce++]=E(H[N(P[D++])])},F[h]=function(P,D,H,V,G,ce,ye){var be=8>>P.b,ge=P.Ea,De=P.K[0],je=P.w;if(8>be)for(P=(1<<P.b)-1,je=(1<<be)-1;D<H;++D){var ue,he=0;for(ue=0;ue<ge;++ue)ue&P||(he=N(V[G++])),ce[ye++]=E(De[he&je]),he>>=be}else F["VP8LMapColor"+b](V,G,De,je,ce,ye,D,H,ge)}}function Ne(h,p,b,N,E){for(b=p+b;p<b;){var P=h[p++];N[E++]=P>>16&255,N[E++]=P>>8&255,N[E++]=P>>0&255}}function ne(h,p,b,N,E){for(b=p+b;p<b;){var P=h[p++];N[E++]=P>>16&255,N[E++]=P>>8&255,N[E++]=P>>0&255,N[E++]=P>>24&255}}function Se(h,p,b,N,E){for(b=p+b;p<b;){var P=(D=h[p++])>>16&240|D>>12&15,D=D>>0&240|D>>28&15;N[E++]=P,N[E++]=D}}function qe(h,p,b,N,E){for(b=p+b;p<b;){var P=(D=h[p++])>>16&248|D>>13&7,D=D>>5&224|D>>3&31;N[E++]=P,N[E++]=D}}function Ge(h,p,b,N,E){for(b=p+b;p<b;){var P=h[p++];N[E++]=P>>0&255,N[E++]=P>>8&255,N[E++]=P>>16&255}}function Te(h,p,b,N,E,P){if(P==0)for(b=p+b;p<b;)we(N,((P=h[p++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),E+=32;else n(N,E,h,p,b)}function wt(h,p){F[p][0]=F[h+"0"],F[p][1]=F[h+"1"],F[p][2]=F[h+"2"],F[p][3]=F[h+"3"],F[p][4]=F[h+"4"],F[p][5]=F[h+"5"],F[p][6]=F[h+"6"],F[p][7]=F[h+"7"],F[p][8]=F[h+"8"],F[p][9]=F[h+"9"],F[p][10]=F[h+"10"],F[p][11]=F[h+"11"],F[p][12]=F[h+"12"],F[p][13]=F[h+"13"],F[p][14]=F[h+"0"],F[p][15]=F[h+"0"]}function fe(h){return h==b0||h==B0||h==ph||h==C0}function ft(){this.eb=[],this.size=this.A=this.fb=0}function _t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ft,this.f.kb=new _t,this.sd=null}function an(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ot(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function jt(h,p){var b=h.T,N=p.ba.f.RGBA,E=N.eb,P=N.fb+h.ka*N.A,D=vs[p.ba.S],H=h.y,V=h.O,G=h.f,ce=h.N,ye=h.ea,be=h.W,ge=p.cc,De=p.dc,je=p.Mc,ue=p.Nc,he=h.ka,Le=h.ka+h.T,Me=h.U,Pe=Me+1>>1;for(he==0?D(H,V,null,null,G,ce,ye,be,G,ce,ye,be,E,P,null,null,Me):(D(p.ec,p.fc,H,V,ge,De,je,ue,G,ce,ye,be,E,P-N.A,E,P,Me),++b);he+2<Le;he+=2)ge=G,De=ce,je=ye,ue=be,ce+=h.Rc,be+=h.Rc,P+=2*N.A,D(H,(V+=2*h.fa)-h.fa,H,V,ge,De,je,ue,G,ce,ye,be,E,P-N.A,E,P,Me);return V+=h.fa,h.j+Le<h.o?(n(p.ec,p.fc,H,V,Me),n(p.cc,p.dc,G,ce,Pe),n(p.Mc,p.Nc,ye,be,Pe),b--):1&Le||D(H,V,null,null,G,ce,ye,be,G,ce,ye,be,E,P+N.A,null,null,Me),b}function Qe(h,p,b){var N=h.F,E=[h.J];if(N!=null){var P=h.U,D=p.ba.S,H=D==gh||D==ph;p=p.ba.f.RGBA;var V=[0],G=h.ka;V[0]=h.T,h.Kb&&(G==0?--V[0]:(--G,E[0]-=h.width),h.j+h.ka+h.T==h.o&&(V[0]=h.o-h.j-G));var ce=p.eb;G=p.fb+G*p.A,h=Jt(N,E[0],h.width,P,V,ce,G+(H?0:3),p.A),e(b==V),h&&fe(D)&&ms(ce,G,H,P,V,p.A)}return 0}function Lt(h){var p=h.ma,b=p.ba.S,N=11>b,E=b==hh||b==fh||b==gh||b==y0||b==12||fe(b);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!jc(p.Oa,h,E?11:12))return 0;if(E&&fe(b)&&Ve(),h.da)alert("todo:use_scaling");else{if(N){if(p.Ib=ot,h.Kb){if(b=h.U+1>>1,p.memory=i(h.U+2*b),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+b,p.Ib=jt,Ve()}}else alert("todo:EmitYUV");E&&(p.Jb=Qe,N&&ve())}if(N&&!Ry){for(h=0;256>h;++h)gF[h]=89858*(h-128)+xh>>mh,xF[h]=-22014*(h-128)+xh,mF[h]=-45773*(h-128),pF[h]=113618*(h-128)+xh>>mh;for(h=Dc;h<S0;++h)p=76283*(h-16)+xh>>mh,vF[h-Dc]=Xn(p,255),wF[h-Dc]=Xn(p+8>>4,15);Ry=1}return 1}function It(h){var p=h.ma,b=h.U,N=h.T;return e(!(1&h.ka)),0>=b||0>=N?0:(b=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,b),p.Dc+=b,1)}function sr(h){h.ma.memory=null}function lt(h,p,b,N){return oe(h,8)!=47?0:(p[0]=oe(h,14)+1,b[0]=oe(h,14)+1,N[0]=oe(h,1),oe(h,3)!=0?0:!h.h)}function Un(h,p){if(4>h)return h+1;var b=h-2>>1;return(2+(1&h)<<b)+oe(p,b)+1}function kn(h,p){return 120<p?p-120:1<=(b=((b=tF[p-1])>>4)*h+(8-(15&b)))?b:1;var b}function Xr(h,p,b){var N=L(b),E=h[p+=255&N].g-8;return 0<E&&(z(b,b.u+8),N=L(b),p+=h[p].value,p+=N&(1<<E)-1),z(b,b.u+h[p].g),h[p].value}function ur(h,p,b){return b.g+=h.g,b.value+=h.value<<p>>>0,e(8>=b.g),h.g}function Fr(h,p,b){var N=h.xc;return e((p=N==0?0:h.vc[h.md*(b>>N)+(p>>N)])<h.Wb),h.Ya[p]}function Jn(h,p,b,N){var E=h.ab,P=h.c*p,D=h.C;p=D+p;var H=b,V=N;for(N=h.Ta,b=h.Ua;0<E--;){var G=h.gc[E],ce=D,ye=p,be=H,ge=V,De=(V=N,H=b,G.Ea);switch(e(ce<ye),e(ye<=G.nc),G.hc){case 2:ah(be,ge,(ye-ce)*De,V,H);break;case 0:var je=ce,ue=ye,he=V,Le=H,Me=(Ye=G).Ea;je==0&&(v0(be,ge,null,null,1,he,Le),W(be,ge+1,0,0,Me-1,he,Le+1),ge+=Me,Le+=Me,++je);for(var Pe=1<<Ye.b,rt=Pe-1,Xe=xe(Me,Ye.b),ut=Ye.K,Ye=Ye.w+(je>>Ye.b)*Xe;je<ue;){var Pt=ut,Ot=Ye,kt=1;for(kc(be,ge,he,Le-Me,1,he,Le);kt<Me;){var St=(kt&~rt)+Pe;St>Me&&(St=Me),(0,ua[Pt[Ot++]>>8&15])(be,ge+ +kt,he,Le+kt-Me,St-kt,he,Le+kt),kt=St}ge+=Me,Le+=Me,++je&rt||(Ye+=Xe)}ye!=G.nc&&n(V,H-De,V,H+(ye-ce-1)*De,De);break;case 1:for(De=be,ue=ge,Me=(be=G.Ea)-(Le=be&~(he=(ge=1<<G.b)-1)),je=xe(be,G.b),Pe=G.K,G=G.w+(ce>>G.b)*je;ce<ye;){for(rt=Pe,Xe=G,ut=new We,Ye=ue+Le,Pt=ue+be;ue<Ye;)me(rt[Xe++],ut),SA(ut,De,ue,ge,V,H),ue+=ge,H+=ge;ue<Pt&&(me(rt[Xe++],ut),SA(ut,De,ue,Me,V,H),ue+=Me,H+=Me),++ce&he||(G+=je)}break;case 3:if(be==V&&ge==H&&0<G.b){for(ue=V,be=De=H+(ye-ce)*De-(Le=(ye-ce)*xe(G.Ea,G.b)),ge=V,he=H,je=[],Le=(Me=Le)-1;0<=Le;--Le)je[Le]=ge[he+Le];for(Le=Me-1;0<=Le;--Le)ue[be+Le]=je[Le];fs(G,ce,ye,V,De,V,H)}else fs(G,ce,ye,be,ge,V,H)}H=N,V=b}V!=b&&n(N,b,H,V,P)}function Co(h,p){var b=h.V,N=h.Ba+h.c*h.C,E=p-h.C;if(e(p<=h.l.o),e(16>=E),0<E){var P=h.l,D=h.Ta,H=h.Ua,V=P.width;if(Jn(h,E,b,N),E=H=[H],e((b=h.C)<(N=p)),e(P.v<P.va),N>P.o&&(N=P.o),b<P.j){var G=P.j-b;b=P.j,E[0]+=G*V}if(b>=N?b=0:(E[0]+=4*P.v,P.ka=b-P.j,P.U=P.va-P.v,P.T=N-b,b=1),b){if(H=H[0],11>(b=h.ca).S){var ce=b.f.RGBA,ye=(N=b.S,E=P.U,P=P.T,G=ce.eb,ce.A),be=P;for(ce=ce.fb+h.Ma*ce.A;0<be--;){var ge=D,De=H,je=E,ue=G,he=ce;switch(N){case dh:In(ge,De,je,ue,he);break;case hh:Bn(ge,De,je,ue,he);break;case b0:Bn(ge,De,je,ue,he),ms(ue,he,0,je,1,0);break;case Qy:Ii(ge,De,je,ue,he);break;case fh:Te(ge,De,je,ue,he,1);break;case B0:Te(ge,De,je,ue,he,1),ms(ue,he,0,je,1,0);break;case gh:Te(ge,De,je,ue,he,0);break;case ph:Te(ge,De,je,ue,he,0),ms(ue,he,1,je,1,0);break;case y0:da(ge,De,je,ue,he);break;case C0:da(ge,De,je,ue,he),qt(ue,he,je,1,0);break;case Ly:Li(ge,De,je,ue,he);break;default:e(0)}H+=V,ce+=ye}h.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=b.height)}}h.C=p,e(h.C<=h.i)}function Ui(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var b=h.Ya[p].G,N=h.Ya[p].H;if(0<b[1][N[1]+0].g||0<b[2][N[2]+0].g||0<b[3][N[3]+0].g)return 0}return 1}function Ls(h,p,b,N,E,P){if(h.Z!=0){var D=h.qd,H=h.rd;for(e(pa[h.Z]!=null);p<b;++p)pa[h.Z](D,H,N,E,N,E,P),D=N,H=E,E+=P;h.qd=D,h.rd=H}}function Is(h,p){var b=h.l.ma,N=b.Z==0||b.Z==1?h.l.j:h.C;if(N=h.C<N?N:h.C,e(p<=h.l.o),p>N){var E=h.l.width,P=b.ca,D=b.tb+E*N,H=h.V,V=h.Ba+h.c*N,G=h.gc;e(h.ab==1),e(G[0].hc==3),Ah(G[0],N,p,H,V,P,D),Ls(b,N,p,P,D,E)}h.C=h.Ma=p}function Ps(h,p,b,N,E,P,D){var H=h.$/N,V=h.$%N,G=h.m,ce=h.s,ye=b+h.$,be=ye;E=b+N*E;var ge=b+N*P,De=280+ce.ua,je=h.Pb?H:16777216,ue=0<ce.ua?ce.Wa:null,he=ce.wc,Le=ye<ge?Fr(ce,V,H):null;e(h.C<P),e(ge<=E);var Me=!1;e:for(;;){for(;Me||ye<ge;){var Pe=0;if(H>=je){var rt=ye-b;e((je=h).Pb),je.wd=je.m,je.xd=rt,0<je.s.ua&&pe(je.s.Wa,je.s.vb),je=H+nF}if(V&he||(Le=Fr(ce,V,H)),e(Le!=null),Le.Qb&&(p[ye]=Le.qb,Me=!0),!Me)if(ee(G),Le.jc){Pe=G,rt=p;var Xe=ye,ut=Le.pd[L(Pe)&Yr-1];e(Le.jc),256>ut.g?(z(Pe,Pe.u+ut.g),rt[Xe]=ut.value,Pe=0):(z(Pe,Pe.u+ut.g-256),e(256<=ut.value),Pe=ut.value),Pe==0&&(Me=!0)}else Pe=Xr(Le.G[0],Le.H[0],G);if(G.h)break;if(Me||256>Pe){if(!Me)if(Le.nd)p[ye]=(Le.qb|Pe<<8)>>>0;else{if(ee(G),Me=Xr(Le.G[1],Le.H[1],G),ee(G),rt=Xr(Le.G[2],Le.H[2],G),Xe=Xr(Le.G[3],Le.H[3],G),G.h)break;p[ye]=(Xe<<24|Me<<16|Pe<<8|rt)>>>0}if(Me=!1,++ye,++V>=N&&(V=0,++H,D!=null&&H<=P&&!(H%16)&&D(h,H),ue!=null))for(;be<ye;)Pe=p[be++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe}else if(280>Pe){if(Pe=Un(Pe-256,G),rt=Xr(Le.G[4],Le.H[4],G),ee(G),rt=kn(N,rt=Un(rt,G)),G.h)break;if(ye-b<rt||E-ye<Pe)break e;for(Xe=0;Xe<Pe;++Xe)p[ye+Xe]=p[ye+Xe-rt];for(ye+=Pe,V+=Pe;V>=N;)V-=N,++H,D!=null&&H<=P&&!(H%16)&&D(h,H);if(e(ye<=E),V&he&&(Le=Fr(ce,V,H)),ue!=null)for(;be<ye;)Pe=p[be++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe}else{if(!(Pe<De))break e;for(Me=Pe-280,e(ue!=null);be<ye;)Pe=p[be++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe;Pe=ye,e(!(Me>>>(rt=ue).Xa)),p[Pe]=rt.X[Me],Me=!0}Me||e(G.h==M(G))}if(h.Pb&&G.h&&ye<E)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&pe(h.s.vb,h.s.Wa);else{if(G.h)break e;D!=null&&D(h,H>P?P:H),h.a=0,h.$=ye-b}return 1}return h.a=3,0}function Ai(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function hs(){var h=new x0;return h==null?null:(h.a=0,h.xb=Ty,wt("Predictor","VP8LPredictors"),wt("Predictor","VP8LPredictors_C"),wt("PredictorAdd","VP8LPredictorsAdd"),wt("PredictorAdd","VP8LPredictorsAdd_C"),ah=Be,SA=Fe,In=Ne,Bn=ne,da=Se,Li=qe,Ii=Ge,F.VP8LMapColor32b=Vo,F.VP8LMapColor8b=oh,h)}function oi(h,p,b,N,E){var P=1,D=[h],H=[p],V=N.m,G=N.s,ce=null,ye=0;e:for(;;){if(b)for(;P&&oe(V,1);){var be=D,ge=H,De=N,je=1,ue=De.m,he=De.gc[De.ab],Le=oe(ue,2);if(De.Oc&1<<Le)P=0;else{switch(De.Oc|=1<<Le,he.hc=Le,he.Ea=be[0],he.nc=ge[0],he.K=[null],++De.ab,e(4>=De.ab),Le){case 0:case 1:he.b=oe(ue,3)+2,je=oi(xe(he.Ea,he.b),xe(he.nc,he.b),0,De,he.K),he.K=he.K[0];break;case 3:var Me,Pe=oe(ue,8)+1,rt=16<Pe?0:4<Pe?1:2<Pe?2:3;if(be[0]=xe(he.Ea,rt),he.b=rt,Me=je=oi(Pe,1,0,De,he.K)){var Xe,ut=Pe,Ye=he,Pt=1<<(8>>Ye.b),Ot=i(Pt);if(Ot==null)Me=0;else{var kt=Ye.K[0],St=Ye.w;for(Ot[0]=Ye.K[0][0],Xe=1;Xe<1*ut;++Xe)Ot[Xe]=Ee(kt[St+Xe],Ot[Xe-1]);for(;Xe<4*Pt;++Xe)Ot[Xe]=0;Ye.K[0]=null,Ye.K[0]=Ot,Me=1}}je=Me;break;case 2:break;default:e(0)}P=je}}if(D=D[0],H=H[0],P&&oe(V,1)&&!(P=1<=(ye=oe(V,4))&&11>=ye)){N.a=3;break e}var Gt;if(Gt=P)t:{var Vt,bt,Er,Pn=N,Ur=D,Tn=H,Ht=ye,Zn=b,es=Pn.m,zr=Pn.s,Zr=[null],_n=1,ws=0,di=rF[Ht];r:for(;;){if(Zn&&oe(es,1)){var $r=oe(es,3)+2,Oi=xe(Ur,$r),kA=xe(Tn,$r),qo=Oi*kA;if(!oi(Oi,kA,0,Pn,Zr))break r;for(Zr=Zr[0],zr.xc=$r,Vt=0;Vt<qo;++Vt){var ma=Zr[Vt]>>8&65535;Zr[Vt]=ma,ma>=_n&&(_n=ma+1)}}if(es.h)break r;for(bt=0;5>bt;++bt){var hr=Iy[bt];!bt&&0<Ht&&(hr+=1<<Ht),ws<hr&&(ws=hr)}var F0=a(_n*di,j),zy=_n,$y=a(zy,$);if($y==null)var wh=null;else e(65536>=zy),wh=$y;var Oc=i(ws);if(wh==null||Oc==null||F0==null){Pn.a=1;break r}var yh=F0;for(Vt=Er=0;Vt<_n;++Vt){var Ms=wh[Vt],Jo=Ms.G,Xo=Ms.H,Gy=0,bh=1,Wy=0;for(bt=0;5>bt;++bt){hr=Iy[bt],Jo[bt]=yh,Xo[bt]=Er,!bt&&0<Ht&&(hr+=1<<Ht);s:{var Bh,j0=hr,Ch=Pn,Hc=Oc,BF=yh,CF=Er,E0=0,xa=Ch.m,_F=oe(xa,1);if(s(Hc,0,0,j0),_F){var NF=oe(xa,1)+1,SF=oe(xa,1),qy=oe(xa,SF==0?1:8);Hc[qy]=1,NF==2&&(Hc[qy=oe(xa,8)]=1);var _h=1}else{var Jy=i(19),Xy=oe(xa,4)+4;if(19<Xy){Ch.a=3;var Nh=0;break s}for(Bh=0;Bh<Xy;++Bh)Jy[eF[Bh]]=oe(xa,3);var U0=void 0,Mc=void 0,Yy=Ch,FF=Jy,Sh=j0,Zy=Hc,k0=0,va=Yy.m,e1=8,t1=a(128,j);n:for(;Q(t1,0,7,FF,19);){if(oe(va,1)){var jF=2+2*oe(va,3);if((U0=2+oe(va,jF))>Sh)break n}else U0=Sh;for(Mc=0;Mc<Sh&&U0--;){ee(va);var r1=t1[0+(127&L(va))];z(va,va.u+r1.g);var Yo=r1.value;if(16>Yo)Zy[Mc++]=Yo,Yo!=0&&(e1=Yo);else{var EF=Yo==16,n1=Yo-16,UF=YS[n1],s1=oe(va,XS[n1])+UF;if(Mc+s1>Sh)break n;for(var kF=EF?e1:0;0<s1--;)Zy[Mc++]=kF}}k0=1;break n}k0||(Yy.a=3),_h=k0}(_h=_h&&!xa.h)&&(E0=Q(BF,CF,8,Hc,j0)),_h&&E0!=0?Nh=E0:(Ch.a=3,Nh=0)}if(Nh==0)break r;if(bh&&ZS[bt]==1&&(bh=yh[Er].g==0),Gy+=yh[Er].g,Er+=Nh,3>=bt){var Rc,Q0=Oc[0];for(Rc=1;Rc<hr;++Rc)Oc[Rc]>Q0&&(Q0=Oc[Rc]);Wy+=Q0}}if(Ms.nd=bh,Ms.Qb=0,bh&&(Ms.qb=(Jo[3][Xo[3]+0].value<<24|Jo[1][Xo[1]+0].value<<16|Jo[2][Xo[2]+0].value)>>>0,Gy==0&&256>Jo[0][Xo[0]+0].value&&(Ms.Qb=1,Ms.qb+=Jo[0][Xo[0]+0].value<<8)),Ms.jc=!Ms.Qb&&6>Wy,Ms.jc){var Fh,Hi=Ms;for(Fh=0;Fh<Yr;++Fh){var wa=Fh,ya=Hi.pd[wa],jh=Hi.G[0][Hi.H[0]+wa];256<=jh.value?(ya.g=jh.g+256,ya.value=jh.value):(ya.g=0,ya.value=0,wa>>=ur(jh,8,ya),wa>>=ur(Hi.G[1][Hi.H[1]+wa],16,ya),wa>>=ur(Hi.G[2][Hi.H[2]+wa],0,ya),ur(Hi.G[3][Hi.H[3]+wa],24,ya))}}}zr.vc=Zr,zr.Wb=_n,zr.Ya=wh,zr.yc=F0,Gt=1;break t}Gt=0}if(!(P=Gt)){N.a=3;break e}if(0<ye){if(G.ua=1<<ye,!ze(G.Wa,ye)){N.a=1,P=0;break e}}else G.ua=0;var L0=N,i1=D,QF=H,I0=L0.s,P0=I0.xc;if(L0.c=i1,L0.i=QF,I0.md=xe(i1,P0),I0.wc=P0==0?-1:(1<<P0)-1,b){N.xb=cF;break e}if((ce=i(D*H))==null){N.a=1,P=0;break e}P=(P=Ps(N,ce,0,D,H,H,null))&&!V.h;break e}return P?(E!=null?E[0]=ce:(e(ce==null),e(b)),N.$=0,b||Ai(G)):Ai(G),P}function bA(h,p){var b=h.c*h.i,N=b+p+16*p;return e(h.c<=p),h.V=i(N),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+b+p,1)}function _o(h,p){var b=h.C,N=p-b,E=h.V,P=h.Ba+h.c*b;for(e(p<=h.l.o);0<N;){var D=16<N?16:N,H=h.l.ma,V=h.l.width,G=V*D,ce=H.ca,ye=H.tb+V*b,be=h.Ta,ge=h.Ua;Jn(h,D,E,P),wr(be,ge,ce,ye,G),Ls(H,b,b+D,ce,ye,V),N-=D,E+=D*h.c,b+=D}e(b==p),h.C=h.Ma=p}function No(){this.ub=this.yd=this.td=this.Rb=0}function So(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fo(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Hd(){this.Yb=function(){var h=[];return function p(b,N,E){for(var P=E[N],D=0;D<P&&(b.push(E.length>N+1?[]:0),!(E.length<N+1));D++)p(b[D],N+1,E)}(h,0,[3,11]),h}()}function qp(){this.jb=i(3),this.Wc=o([4,8],Hd),this.Xc=o([4,17],Hd)}function Jp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function jo(){this.ld=this.La=this.dd=this.tc=0}function Md(){this.Na=this.la=0}function Xp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yp(){this.uc=this.M=this.Nb=0,this.wa=Array(new jo),this.Y=0,this.ya=Array(new hc),this.aa=0,this.l=new Eo}function Rd(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Zp(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new No,this.Kc=new So,this.ed=new Jp,this.Qa=new Fo,this.Ic=this.$c=this.Aa=0,this.D=new Yp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Z),this.ia=0,this.pb=a(4,Xp),this.Pa=new qp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rd),this.Hd=0,this.rb=Array(new Md),this.sb=0,this.wa=Array(new jo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hc),this.L=this.aa=0,this.gd=o([4,2],jo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Eo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function e0(){var h=new Zp;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Tc||(Tc=zd)),h}function xr(h,p,b){return h.a==0&&(h.a=p,h.sc=b,h.cb=0),0}function Kd(h,p,b){return 3<=b&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function Vd(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return xr(h,2,"null VP8Io passed to VP8GetHeaders()");var b=p.data,N=p.w,E=p.ha;if(4>E)return xr(h,7,"Truncated header.");var P=b[N+0]|b[N+1]<<8|b[N+2]<<16,D=h.Od;if(D.Rb=!(1&P),D.td=P>>1&7,D.yd=P>>4&1,D.ub=P>>5,3<D.td)return xr(h,3,"Incorrect keyframe parameters.");if(!D.yd)return xr(h,4,"Frame not displayable.");N+=3,E-=3;var H=h.Kc;if(D.Rb){if(7>E)return xr(h,7,"cannot parse picture header");if(!Kd(b,N,E))return xr(h,3,"Bad code word");H.c=16383&(b[N+4]<<8|b[N+3]),H.Td=b[N+4]>>6,H.i=16383&(b[N+6]<<8|b[N+5]),H.Ud=b[N+6]>>6,N+=7,E-=7,h.za=H.c+15>>4,h.Ub=H.i+15>>4,p.width=H.c,p.height=H.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,s((P=h.Pa).jb,0,255,P.jb.length),e((P=h.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,s(P.Zb,0,0,P.Zb.length),s(P.Lb,0,0,P.Lb)}if(D.ub>E)return xr(h,7,"bad partition length");de(P=h.m,b,N,D.ub),N+=D.ub,E-=D.ub,D.Rb&&(H.Ld=ae(P),H.Kd=ae(P)),H=h.Qa;var V,G=h.Pa;if(e(P!=null),e(H!=null),H.Cb=ae(P),H.Cb){if(H.Bb=ae(P),ae(P)){for(H.Fb=ae(P),V=0;4>V;++V)H.Zb[V]=ae(P)?le(P,7):0;for(V=0;4>V;++V)H.Lb[V]=ae(P)?le(P,6):0}if(H.Bb)for(V=0;3>V;++V)G.jb[V]=ae(P)?te(P,8):255}else H.Bb=0;if(P.Ka)return xr(h,3,"cannot parse segment header");if((H=h.ed).zd=ae(P),H.Tb=te(P,6),H.wb=te(P,3),H.Pc=ae(P),H.Pc&&ae(P)){for(G=0;4>G;++G)ae(P)&&(H.vd[G]=le(P,6));for(G=0;4>G;++G)ae(P)&&(H.od[G]=le(P,6))}if(h.L=H.Tb==0?0:H.zd?1:2,P.Ka)return xr(h,3,"cannot parse filter header");var ce=E;if(E=V=N,N=V+ce,H=ce,h.Xb=(1<<te(h.m,2))-1,ce<3*(G=h.Xb))b=7;else{for(V+=3*G,H-=3*G,ce=0;ce<G;++ce){var ye=b[E+0]|b[E+1]<<8|b[E+2]<<16;ye>H&&(ye=H),de(h.Jc[+ce],b,V,ye),V+=ye,H-=ye,E+=3}de(h.Jc[+G],b,V,H),b=V<N?0:5}if(b!=0)return xr(h,b,"cannot parse partitions");for(b=te(V=h.m,7),E=ae(V)?le(V,4):0,N=ae(V)?le(V,4):0,H=ae(V)?le(V,4):0,G=ae(V)?le(V,4):0,V=ae(V)?le(V,4):0,ce=h.Qa,ye=0;4>ye;++ye){if(ce.Cb){var be=ce.Zb[ye];ce.Fb||(be+=b)}else{if(0<ye){h.pb[ye]=h.pb[0];continue}be=b}var ge=h.pb[ye];ge.Sc[0]=_0[Xn(be+E,127)],ge.Sc[1]=N0[Xn(be+0,127)],ge.Eb[0]=2*_0[Xn(be+N,127)],ge.Eb[1]=101581*N0[Xn(be+H,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=_0[Xn(be+G,117)],ge.Qc[1]=N0[Xn(be+V,127)],ge.lc=be+V}if(!D.Rb)return xr(h,4,"Not a key frame.");for(ae(P),D=h.Pa,b=0;4>b;++b){for(E=0;8>E;++E)for(N=0;3>N;++N)for(H=0;11>H;++H)G=re(P,oF[b][E][N][H])?te(P,8):aF[b][E][N][H],D.Wc[b][E].Yb[N][H]=G;for(E=0;17>E;++E)D.Xc[b][E]=D.Wc[b][lF[E]]}return h.kc=ae(P),h.kc&&(h.Bd=te(P,8)),h.cb=1}function zd(h,p,b,N,E,P,D){var H=p[E].Yb[b];for(b=0;16>E;++E){if(!re(h,H[b+0]))return E;for(;!re(h,H[b+1]);)if(H=p[++E].Yb[0],b=0,E==16)return 16;var V=p[E+1].Yb;if(re(h,H[b+2])){var G=h,ce=0;if(re(G,(be=H)[(ye=b)+3]))if(re(G,be[ye+6])){for(H=0,ye=2*(ce=re(G,be[ye+8]))+(be=re(G,be[ye+9+ce])),ce=0,be=sF[ye];be[H];++H)ce+=ce+re(G,be[H]);ce+=3+(8<<ye)}else re(G,be[ye+7])?(ce=7+2*re(G,165),ce+=re(G,145)):ce=5+re(G,159);else ce=re(G,be[ye+4])?3+re(G,be[ye+5]):2;H=V[2]}else ce=1,H=V[1];V=D+iF[E],0>(G=h).b&&ie(G);var ye,be=G.b,ge=(ye=G.Ca>>1)-(G.I>>be)>>31;--G.b,G.Ca+=ge,G.Ca|=1,G.I-=(ye+1&ge)<<be,P[V]=((ce^ge)-ge)*N[(0<E)+0]}return 16}function fc(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,s(h.zc,0,0,h.zc.length),h.ja=0}function t0(h,p){if(h==null)return 0;if(p==null)return xr(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Vd(h,p))return 0;if(e(h.cb),p.ac==null||p.ac(p)){p.ob&&(h.L=0);var b=vh[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=p.v-b>>4,h.zb=p.j-b>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=p.o+15+b>>4,h.Hb=p.va+15+b>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var N=h.ed;for(b=0;4>b;++b){var E;if(h.Qa.Cb){var P=h.Qa.Lb[b];h.Qa.Fb||(P+=N.Tb)}else P=N.Tb;for(E=0;1>=E;++E){var D=h.gd[b][E],H=P;if(N.Pc&&(H+=N.vd[0],E&&(H+=N.od[0])),0<(H=0>H?0:63<H?63:H)){var V=H;0<N.wb&&(V=4<N.wb?V>>2:V>>1)>9-N.wb&&(V=9-N.wb),1>V&&(V=1),D.dd=V,D.tc=2*H+V,D.ld=40<=H?2:15<=H?1:0}else D.tc=0;D.La=E}}}b=0}else xr(h,6,"Frame setup failed"),b=h.a;if(b=b==0){if(b){h.$c=0,0<h.Aa||(h.Ic=bF);e:{b=h.Ic,N=4*(V=h.za);var G=32*V,ce=V+1,ye=0<h.L?V*(0<h.Aa?2:1):0,be=(h.Aa==2?2:1)*V;if((D=N+832+(E=3*(16*b+vh[h.L])/2*G)+(P=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=D)b=0;else{if(D>h.Vb){if(h.Vb=0,h.Ec=i(D),h.Fc=0,h.Ec==null){b=xr(h,1,"no memory during frame initialization.");break e}h.Vb=D}D=h.Ec,H=h.Fc,h.Ac=D,h.Bc=H,H+=N,h.Gd=a(G,Rd),h.Hd=0,h.rb=a(ce+1,Md),h.sb=1,h.wa=ye?a(ye,jo):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=V),e(!0),h.oc=D,h.pc=H,H+=832,h.ya=a(be,hc),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=V),h.R=16*V,h.B=8*V,V=(G=vh[h.L])*h.R,G=G/2*h.B,h.sa=D,h.ta=H+V,h.qa=h.sa,h.ra=h.ta+16*b*h.R+G,h.Ha=h.qa,h.Ia=h.ra+8*b*h.B+G,h.$c=0,H+=E,h.mb=P?D:null,h.nb=P?H:null,e(H+P<=h.Fc+h.Vb),fc(h),s(h.Ac,h.Bc,0,N),b=1}}if(b){if(p.ka=0,p.y=h.sa,p.O=h.ta,p.f=h.qa,p.N=h.ra,p.ea=h.Ha,p.Vd=h.Ia,p.fa=h.R,p.Rc=h.B,p.F=null,p.J=0,!ch){for(b=-255;255>=b;++b)Tr[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)Ti[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Pc[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)Wo[255+b]=0>b?0:255<b?255:b;ch=1}zo=s0,Pi=r0,Qc=Gd,Cn=n0,gs=Wd,vr=$d,$o=wc,lh=_A,Lc=m0,FA=yc,jA=p0,ha=Po,EA=bc,Go=nh,UA=rh,fa=ci,Ic=Qi,ps=g0,Hs[0]=li,Hs[1]=i0,Hs[2]=l0,Hs[3]=c0,Hs[4]=Xd,Hs[5]=Lo,Hs[6]=Yd,Hs[7]=mc,Hs[8]=d0,Hs[9]=u0,ga[0]=qd,ga[1]=A0,ga[2]=ki,ga[3]=ko,ga[4]=An,ga[5]=o0,ga[6]=Jd,Di[0]=oa,Di[1]=a0,Di[2]=h0,Di[3]=xc,Di[4]=CA,Di[5]=f0,Di[6]=vc,b=1}else b=0}b&&(b=function(ge,De){for(ge.M=0;ge.M<ge.Va;++ge.M){var je,ue=ge.Jc[ge.M&ge.Xb],he=ge.m,Le=ge;for(je=0;je<Le.za;++je){var Me=he,Pe=Le,rt=Pe.Ac,Xe=Pe.Bc+4*je,ut=Pe.zc,Ye=Pe.ya[Pe.aa+je];if(Pe.Qa.Bb?Ye.$b=re(Me,Pe.Pa.jb[0])?2+re(Me,Pe.Pa.jb[2]):re(Me,Pe.Pa.jb[1]):Ye.$b=0,Pe.kc&&(Ye.Ad=re(Me,Pe.Bd)),Ye.Za=!re(Me,145)+0,Ye.Za){var Pt=Ye.Ob,Ot=0;for(Pe=0;4>Pe;++Pe){var kt,St=ut[0+Pe];for(kt=0;4>kt;++kt){St=AF[rt[Xe+kt]][St];for(var Gt=Py[re(Me,St[0])];0<Gt;)Gt=Py[2*Gt+re(Me,St[Gt])];St=-Gt,rt[Xe+kt]=St}n(Pt,Ot,rt,Xe,4),Ot+=4,ut[0+Pe]=St}}else St=re(Me,156)?re(Me,128)?1:3:re(Me,163)?2:0,Ye.Ob[0]=St,s(rt,Xe,St,4),s(ut,0,St,4);Ye.Dd=re(Me,142)?re(Me,114)?re(Me,183)?1:3:2:0}if(Le.m.Ka)return xr(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Le=ue,Me=(he=ge).rb[he.sb-1],rt=he.rb[he.sb+he.ja],je=he.ya[he.aa+he.ja],Xe=he.kc?je.Ad:0)Me.la=rt.la=0,je.Za||(Me.Na=rt.Na=0),je.Hc=0,je.Gc=0,je.ia=0;else{var Vt,bt;if(Me=rt,rt=Le,Xe=he.Pa.Xc,ut=he.ya[he.aa+he.ja],Ye=he.pb[ut.$b],Pe=ut.ad,Pt=0,Ot=he.rb[he.sb-1],St=kt=0,s(Pe,Pt,0,384),ut.Za)var Er=0,Pn=Xe[3];else{Gt=i(16);var Ur=Me.Na+Ot.Na;if(Ur=Tc(rt,Xe[1],Ur,Ye.Eb,0,Gt,0),Me.Na=Ot.Na=(0<Ur)+0,1<Ur)zo(Gt,0,Pe,Pt);else{var Tn=Gt[0]+3>>3;for(Gt=0;256>Gt;Gt+=16)Pe[Pt+Gt]=Tn}Er=1,Pn=Xe[0]}var Ht=15&Me.la,Zn=15&Ot.la;for(Gt=0;4>Gt;++Gt){var es=1&Zn;for(Tn=bt=0;4>Tn;++Tn)Ht=Ht>>1|(es=(Ur=Tc(rt,Pn,Ur=es+(1&Ht),Ye.Sc,Er,Pe,Pt))>Er)<<7,bt=bt<<2|(3<Ur?3:1<Ur?2:Pe[Pt+0]!=0),Pt+=16;Ht>>=4,Zn=Zn>>1|es<<7,kt=(kt<<8|bt)>>>0}for(Pn=Ht,Er=Zn>>4,Vt=0;4>Vt;Vt+=2){for(bt=0,Ht=Me.la>>4+Vt,Zn=Ot.la>>4+Vt,Gt=0;2>Gt;++Gt){for(es=1&Zn,Tn=0;2>Tn;++Tn)Ur=es+(1&Ht),Ht=Ht>>1|(es=0<(Ur=Tc(rt,Xe[2],Ur,Ye.Qc,0,Pe,Pt)))<<3,bt=bt<<2|(3<Ur?3:1<Ur?2:Pe[Pt+0]!=0),Pt+=16;Ht>>=2,Zn=Zn>>1|es<<5}St|=bt<<4*Vt,Pn|=Ht<<4<<Vt,Er|=(240&Zn)<<Vt}Me.la=Pn,Ot.la=Er,ut.Hc=kt,ut.Gc=St,ut.ia=43690&St?0:Ye.ia,Xe=!(kt|St)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[je.$b][je.Za],he.wa[he.Y+he.ja].La|=!Xe),Le.Ka)return xr(ge,7,"Premature end-of-file encountered.")}if(fc(ge),he=De,Le=1,je=(ue=ge).D,Me=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(je.M=ue.M,je.uc=Me,Fc(ue,je),Le=1,je=(bt=ue.D).Nb,Me=(St=vh[ue.L])*ue.R,rt=St/2*ue.B,Gt=16*je*ue.R,Tn=8*je*ue.B,Xe=ue.sa,ut=ue.ta-Me+Gt,Ye=ue.qa,Pe=ue.ra-rt+Tn,Pt=ue.Ha,Ot=ue.Ia-rt+Tn,Zn=(Ht=bt.M)==0,kt=Ht>=ue.Va-1,ue.Aa==2&&Fc(ue,bt),bt.uc)for(es=(Ur=ue).D.M,e(Ur.D.uc),bt=Ur.yb;bt<Ur.Hb;++bt){Er=bt,Pn=es;var zr=(Zr=(hr=Ur).D).Nb;Vt=hr.R;var Zr=Zr.wa[Zr.Y+Er],_n=hr.sa,ws=hr.ta+16*zr*Vt+16*Er,di=Zr.dd,$r=Zr.tc;if($r!=0)if(e(3<=$r),hr.L==1)0<Er&&fa(_n,ws,Vt,$r+4),Zr.La&&ps(_n,ws,Vt,$r),0<Pn&&UA(_n,ws,Vt,$r+4),Zr.La&&Ic(_n,ws,Vt,$r);else{var Oi=hr.B,kA=hr.qa,qo=hr.ra+8*zr*Oi+8*Er,ma=hr.Ha,hr=hr.Ia+8*zr*Oi+8*Er;zr=Zr.ld,0<Er&&(lh(_n,ws,Vt,$r+4,di,zr),FA(kA,qo,ma,hr,Oi,$r+4,di,zr)),Zr.La&&(ha(_n,ws,Vt,$r,di,zr),Go(kA,qo,ma,hr,Oi,$r,di,zr)),0<Pn&&($o(_n,ws,Vt,$r+4,di,zr),Lc(kA,qo,ma,hr,Oi,$r+4,di,zr)),Zr.La&&(jA(_n,ws,Vt,$r,di,zr),EA(kA,qo,ma,hr,Oi,$r,di,zr))}}if(ue.ia&&alert("todo:DitherRow"),he.put!=null){if(bt=16*Ht,Ht=16*(Ht+1),Zn?(he.y=ue.sa,he.O=ue.ta+Gt,he.f=ue.qa,he.N=ue.ra+Tn,he.ea=ue.Ha,he.W=ue.Ia+Tn):(bt-=St,he.y=Xe,he.O=ut,he.f=Ye,he.N=Pe,he.ea=Pt,he.W=Ot),kt||(Ht-=St),Ht>he.o&&(Ht=he.o),he.F=null,he.J=null,ue.Fa!=null&&0<ue.Fa.length&&bt<Ht&&(he.J=Nc(ue,he,bt,Ht-bt),he.F=ue.mb,he.F==null&&he.F.length==0)){Le=xr(ue,3,"Could not decode alpha data.");break e}bt<he.j&&(St=he.j-bt,bt=he.j,e(!(1&St)),he.O+=ue.R*St,he.N+=ue.B*(St>>1),he.W+=ue.B*(St>>1),he.F!=null&&(he.J+=he.width*St)),bt<Ht&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=bt-he.j,he.U=he.va-he.v,he.T=Ht-bt,Le=he.put(he))}je+1!=ue.Ic||kt||(n(ue.sa,ue.ta-Me,Xe,ut+16*ue.R,Me),n(ue.qa,ue.ra-rt,Ye,Pe+8*ue.B,rt),n(ue.Ha,ue.Ia-rt,Pt,Ot+8*ue.B,rt))}if(!Le)return xr(ge,6,"Output aborted.")}return 1}(h,p)),p.bc!=null&&p.bc(p),b&=1}return b?(h.cb=0,b):0}function Ts(h,p,b,N,E){E=h[p+b+32*N]+(E>>3),h[p+b+32*N]=-256&E?0>E?0:255:E}function Uo(h,p,b,N,E,P){Ts(h,p,0,b,N+E),Ts(h,p,1,b,N+P),Ts(h,p,2,b,N-P),Ts(h,p,3,b,N-E)}function Qn(h){return(20091*h>>16)+h}function gc(h,p,b,N){var E,P=0,D=i(16);for(E=0;4>E;++E){var H=h[p+0]+h[p+8],V=h[p+0]-h[p+8],G=(35468*h[p+4]>>16)-Qn(h[p+12]),ce=Qn(h[p+4])+(35468*h[p+12]>>16);D[P+0]=H+ce,D[P+1]=V+G,D[P+2]=V-G,D[P+3]=H-ce,P+=4,p++}for(E=P=0;4>E;++E)H=(h=D[P+0]+4)+D[P+8],V=h-D[P+8],G=(35468*D[P+4]>>16)-Qn(D[P+12]),Ts(b,N,0,0,H+(ce=Qn(D[P+4])+(35468*D[P+12]>>16))),Ts(b,N,1,0,V+G),Ts(b,N,2,0,V-G),Ts(b,N,3,0,H-ce),P++,N+=32}function $d(h,p,b,N){var E=h[p+0]+4,P=35468*h[p+4]>>16,D=Qn(h[p+4]),H=35468*h[p+1]>>16;Uo(b,N,0,E+D,h=Qn(h[p+1]),H),Uo(b,N,1,E+P,h,H),Uo(b,N,2,E-P,h,H),Uo(b,N,3,E-D,h,H)}function r0(h,p,b,N,E){gc(h,p,b,N),E&&gc(h,p+16,b,N+4)}function Gd(h,p,b,N){Pi(h,p+0,b,N,1),Pi(h,p+32,b,N+128,1)}function n0(h,p,b,N){var E;for(h=h[p+0]+4,E=0;4>E;++E)for(p=0;4>p;++p)Ts(b,N,p,E,h)}function Wd(h,p,b,N){h[p+0]&&Cn(h,p+0,b,N),h[p+16]&&Cn(h,p+16,b,N+4),h[p+32]&&Cn(h,p+32,b,N+128),h[p+48]&&Cn(h,p+48,b,N+128+4)}function s0(h,p,b,N){var E,P=i(16);for(E=0;4>E;++E){var D=h[p+0+E]+h[p+12+E],H=h[p+4+E]+h[p+8+E],V=h[p+4+E]-h[p+8+E],G=h[p+0+E]-h[p+12+E];P[0+E]=D+H,P[8+E]=D-H,P[4+E]=G+V,P[12+E]=G-V}for(E=0;4>E;++E)D=(h=P[0+4*E]+3)+P[3+4*E],H=P[1+4*E]+P[2+4*E],V=P[1+4*E]-P[2+4*E],G=h-P[3+4*E],b[N+0]=D+H>>3,b[N+16]=G+V>>3,b[N+32]=D-H>>3,b[N+48]=G-V>>3,N+=64}function pc(h,p,b){var N,E=p-32,P=Yn,D=255-h[E-1];for(N=0;N<b;++N){var H,V=P,G=D+h[p-1];for(H=0;H<b;++H)h[p+H]=V[G+h[E+H]];p+=32}}function i0(h,p){pc(h,p,4)}function a0(h,p){pc(h,p,8)}function A0(h,p){pc(h,p,16)}function ki(h,p){var b;for(b=0;16>b;++b)n(h,p+32*b,h,p-32,16)}function ko(h,p){var b;for(b=16;0<b;--b)s(h,p,h[p-1],16),p+=32}function Qo(h,p,b){var N;for(N=0;16>N;++N)s(p,b+32*N,h,16)}function qd(h,p){var b,N=16;for(b=0;16>b;++b)N+=h[p-1+32*b]+h[p+b-32];Qo(N>>5,h,p)}function An(h,p){var b,N=8;for(b=0;16>b;++b)N+=h[p-1+32*b];Qo(N>>4,h,p)}function o0(h,p){var b,N=8;for(b=0;16>b;++b)N+=h[p+b-32];Qo(N>>4,h,p)}function Jd(h,p){Qo(128,h,p)}function pt(h,p,b){return h+2*p+b+2>>2}function l0(h,p){var b,N=p-32;for(N=new Uint8Array([pt(h[N-1],h[N+0],h[N+1]),pt(h[N+0],h[N+1],h[N+2]),pt(h[N+1],h[N+2],h[N+3]),pt(h[N+2],h[N+3],h[N+4])]),b=0;4>b;++b)n(h,p+32*b,N,0,N.length)}function c0(h,p){var b=h[p-1],N=h[p-1+32],E=h[p-1+64],P=h[p-1+96];we(h,p+0,16843009*pt(h[p-1-32],b,N)),we(h,p+32,16843009*pt(b,N,E)),we(h,p+64,16843009*pt(N,E,P)),we(h,p+96,16843009*pt(E,P,P))}function li(h,p){var b,N=4;for(b=0;4>b;++b)N+=h[p+b-32]+h[p-1+32*b];for(N>>=3,b=0;4>b;++b)s(h,p+32*b,N,4)}function Xd(h,p){var b=h[p-1+0],N=h[p-1+32],E=h[p-1+64],P=h[p-1-32],D=h[p+0-32],H=h[p+1-32],V=h[p+2-32],G=h[p+3-32];h[p+0+96]=pt(N,E,h[p-1+96]),h[p+1+96]=h[p+0+64]=pt(b,N,E),h[p+2+96]=h[p+1+64]=h[p+0+32]=pt(P,b,N),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=pt(D,P,b),h[p+3+64]=h[p+2+32]=h[p+1+0]=pt(H,D,P),h[p+3+32]=h[p+2+0]=pt(V,H,D),h[p+3+0]=pt(G,V,H)}function Yd(h,p){var b=h[p+1-32],N=h[p+2-32],E=h[p+3-32],P=h[p+4-32],D=h[p+5-32],H=h[p+6-32],V=h[p+7-32];h[p+0+0]=pt(h[p+0-32],b,N),h[p+1+0]=h[p+0+32]=pt(b,N,E),h[p+2+0]=h[p+1+32]=h[p+0+64]=pt(N,E,P),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=pt(E,P,D),h[p+3+32]=h[p+2+64]=h[p+1+96]=pt(P,D,H),h[p+3+64]=h[p+2+96]=pt(D,H,V),h[p+3+96]=pt(H,V,V)}function Lo(h,p){var b=h[p-1+0],N=h[p-1+32],E=h[p-1+64],P=h[p-1-32],D=h[p+0-32],H=h[p+1-32],V=h[p+2-32],G=h[p+3-32];h[p+0+0]=h[p+1+64]=P+D+1>>1,h[p+1+0]=h[p+2+64]=D+H+1>>1,h[p+2+0]=h[p+3+64]=H+V+1>>1,h[p+3+0]=V+G+1>>1,h[p+0+96]=pt(E,N,b),h[p+0+64]=pt(N,b,P),h[p+0+32]=h[p+1+96]=pt(b,P,D),h[p+1+32]=h[p+2+96]=pt(P,D,H),h[p+2+32]=h[p+3+96]=pt(D,H,V),h[p+3+32]=pt(H,V,G)}function mc(h,p){var b=h[p+0-32],N=h[p+1-32],E=h[p+2-32],P=h[p+3-32],D=h[p+4-32],H=h[p+5-32],V=h[p+6-32],G=h[p+7-32];h[p+0+0]=b+N+1>>1,h[p+1+0]=h[p+0+64]=N+E+1>>1,h[p+2+0]=h[p+1+64]=E+P+1>>1,h[p+3+0]=h[p+2+64]=P+D+1>>1,h[p+0+32]=pt(b,N,E),h[p+1+32]=h[p+0+96]=pt(N,E,P),h[p+2+32]=h[p+1+96]=pt(E,P,D),h[p+3+32]=h[p+2+96]=pt(P,D,H),h[p+3+64]=pt(D,H,V),h[p+3+96]=pt(H,V,G)}function u0(h,p){var b=h[p-1+0],N=h[p-1+32],E=h[p-1+64],P=h[p-1+96];h[p+0+0]=b+N+1>>1,h[p+2+0]=h[p+0+32]=N+E+1>>1,h[p+2+32]=h[p+0+64]=E+P+1>>1,h[p+1+0]=pt(b,N,E),h[p+3+0]=h[p+1+32]=pt(N,E,P),h[p+3+32]=h[p+1+64]=pt(E,P,P),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=P}function d0(h,p){var b=h[p-1+0],N=h[p-1+32],E=h[p-1+64],P=h[p-1+96],D=h[p-1-32],H=h[p+0-32],V=h[p+1-32],G=h[p+2-32];h[p+0+0]=h[p+2+32]=b+D+1>>1,h[p+0+32]=h[p+2+64]=N+b+1>>1,h[p+0+64]=h[p+2+96]=E+N+1>>1,h[p+0+96]=P+E+1>>1,h[p+3+0]=pt(H,V,G),h[p+2+0]=pt(D,H,V),h[p+1+0]=h[p+3+32]=pt(b,D,H),h[p+1+32]=h[p+3+64]=pt(N,b,D),h[p+1+64]=h[p+3+96]=pt(E,N,b),h[p+1+96]=pt(P,E,N)}function h0(h,p){var b;for(b=0;8>b;++b)n(h,p+32*b,h,p-32,8)}function xc(h,p){var b;for(b=0;8>b;++b)s(h,p,h[p-1],8),p+=32}function BA(h,p,b){var N;for(N=0;8>N;++N)s(p,b+32*N,h,8)}function oa(h,p){var b,N=8;for(b=0;8>b;++b)N+=h[p+b-32]+h[p-1+32*b];BA(N>>4,h,p)}function f0(h,p){var b,N=4;for(b=0;8>b;++b)N+=h[p+b-32];BA(N>>3,h,p)}function CA(h,p){var b,N=4;for(b=0;8>b;++b)N+=h[p-1+32*b];BA(N>>3,h,p)}function vc(h,p){BA(128,h,p)}function Io(h,p,b){var N=h[p-b],E=h[p+0],P=3*(E-N)+w0[1020+h[p-2*b]-h[p+b]],D=uh[112+(P+4>>3)];h[p-b]=Yn[255+N+uh[112+(P+3>>3)]],h[p+0]=Yn[255+E-D]}function Zd(h,p,b,N){var E=h[p+0],P=h[p+b];return xs[255+h[p-2*b]-h[p-b]]>N||xs[255+P-E]>N}function eh(h,p,b,N){return 4*xs[255+h[p-b]-h[p+0]]+xs[255+h[p-2*b]-h[p+b]]<=N}function th(h,p,b,N,E){var P=h[p-3*b],D=h[p-2*b],H=h[p-b],V=h[p+0],G=h[p+b],ce=h[p+2*b],ye=h[p+3*b];return 4*xs[255+H-V]+xs[255+D-G]>N?0:xs[255+h[p-4*b]-P]<=E&&xs[255+P-D]<=E&&xs[255+D-H]<=E&&xs[255+ye-ce]<=E&&xs[255+ce-G]<=E&&xs[255+G-V]<=E}function rh(h,p,b,N){var E=2*N+1;for(N=0;16>N;++N)eh(h,p+N,b,E)&&Io(h,p+N,b)}function ci(h,p,b,N){var E=2*N+1;for(N=0;16>N;++N)eh(h,p+N*b,1,E)&&Io(h,p+N*b,1)}function Qi(h,p,b,N){var E;for(E=3;0<E;--E)rh(h,p+=4*b,b,N)}function g0(h,p,b,N){var E;for(E=3;0<E;--E)ci(h,p+=4,b,N)}function la(h,p,b,N,E,P,D,H){for(P=2*P+1;0<E--;){if(th(h,p,b,P,D))if(Zd(h,p,b,H))Io(h,p,b);else{var V=h,G=p,ce=b,ye=V[G-2*ce],be=V[G-ce],ge=V[G+0],De=V[G+ce],je=V[G+2*ce],ue=27*(Le=w0[1020+3*(ge-be)+w0[1020+ye-De]])+63>>7,he=18*Le+63>>7,Le=9*Le+63>>7;V[G-3*ce]=Yn[255+V[G-3*ce]+Le],V[G-2*ce]=Yn[255+ye+he],V[G-ce]=Yn[255+be+ue],V[G+0]=Yn[255+ge-ue],V[G+ce]=Yn[255+De-he],V[G+2*ce]=Yn[255+je-Le]}p+=N}}function Ds(h,p,b,N,E,P,D,H){for(P=2*P+1;0<E--;){if(th(h,p,b,P,D))if(Zd(h,p,b,H))Io(h,p,b);else{var V=h,G=p,ce=b,ye=V[G-ce],be=V[G+0],ge=V[G+ce],De=uh[112+((je=3*(be-ye))+4>>3)],je=uh[112+(je+3>>3)],ue=De+1>>1;V[G-2*ce]=Yn[255+V[G-2*ce]+ue],V[G-ce]=Yn[255+ye+je],V[G+0]=Yn[255+be-De],V[G+ce]=Yn[255+ge-ue]}p+=N}}function wc(h,p,b,N,E,P){la(h,p,b,1,16,N,E,P)}function _A(h,p,b,N,E,P){la(h,p,1,b,16,N,E,P)}function p0(h,p,b,N,E,P){var D;for(D=3;0<D;--D)Ds(h,p+=4*b,b,1,16,N,E,P)}function Po(h,p,b,N,E,P){var D;for(D=3;0<D;--D)Ds(h,p+=4,1,b,16,N,E,P)}function m0(h,p,b,N,E,P,D,H){la(h,p,E,1,8,P,D,H),la(b,N,E,1,8,P,D,H)}function yc(h,p,b,N,E,P,D,H){la(h,p,1,E,8,P,D,H),la(b,N,1,E,8,P,D,H)}function bc(h,p,b,N,E,P,D,H){Ds(h,p+4*E,E,1,8,P,D,H),Ds(b,N+4*E,E,1,8,P,D,H)}function nh(h,p,b,N,E,P,D,H){Ds(h,p+4,1,E,8,P,D,H),Ds(b,N+4,1,E,8,P,D,H)}function To(){this.ba=new mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Cc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sh(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new j}function x0(){this.xb=this.a=0,this.l=new Eo,this.ca=new mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sh,this.ab=0,this.gc=a(4,Cc),this.Oc=0}function Do(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Eo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function NA(h,p,b,N,E,P,D){for(h=h==null?0:h[p+0],p=0;p<D;++p)E[P+p]=h+b[N+p]&255,h=E[P+p]}function _c(h,p,b,N,E,P,D){var H;if(h==null)NA(null,null,b,N,E,P,D);else for(H=0;H<D;++H)E[P+H]=h[p+H]+b[N+H]&255}function ca(h,p,b,N,E,P,D){if(h==null)NA(null,null,b,N,E,P,D);else{var H,V=h[p+0],G=V,ce=V;for(H=0;H<D;++H)G=ce+(V=h[p+H])-G,ce=b[N+H]+(-256&G?0>G?0:255:G)&255,G=V,E[P+H]=ce}}function Nc(h,p,b,N){var E=p.width,P=p.o;if(e(h!=null&&p!=null),0>b||0>=N||b+N>P)return null;if(!h.Cc){if(h.ga==null){var D;if(h.ga=new Do,(D=h.ga==null)||(D=p.width*p.o,e(h.Gb.length==0),h.Gb=i(D),h.Uc=0,h.Gb==null?D=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,D=1),D=!D),!D){D=h.ga;var H=h.Fa,V=h.P,G=h.qc,ce=h.mb,ye=h.nb,be=V+1,ge=G-1,De=D.l;if(e(H!=null&&ce!=null&&p!=null),pa[0]=null,pa[1]=NA,pa[2]=_c,pa[3]=ca,D.ca=ce,D.tb=ye,D.c=p.width,D.i=p.height,e(0<D.c&&0<D.i),1>=G)p=0;else if(D.$a=H[V+0]>>0&3,D.Z=H[V+0]>>2&3,D.Lc=H[V+0]>>4&3,V=H[V+0]>>6&3,0>D.$a||1<D.$a||4<=D.Z||1<D.Lc||V)p=0;else if(De.put=It,De.ac=Lt,De.bc=sr,De.ma=D,De.width=p.width,De.height=p.height,De.Da=p.Da,De.v=p.v,De.va=p.va,De.j=p.j,De.o=p.o,D.$a)e:{e(D.$a==1),p=hs();t:for(;;){if(p==null){p=0;break e}if(e(D!=null),D.mc=p,p.c=D.c,p.i=D.i,p.l=D.l,p.l.ma=D,p.l.width=D.c,p.l.height=D.i,p.a=0,q(p.m,H,be,ge),!oi(D.c,D.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Ui(p.s)?(D.ic=1,H=p.c*p.i,p.Ta=null,p.Ua=0,p.V=i(H),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(D.ic=0,p=bA(p,D.c)),!p))break t;p=1;break e}D.mc=null,p=0}else p=ge>=D.c*D.i;D=!p}if(D)return null;h.ga.Lc!=1?h.Ga=0:N=P-b}e(h.ga!=null),e(b+N<=P);e:{if(p=(H=h.ga).c,P=H.l.o,H.$a==0){if(be=h.rc,ge=h.Vc,De=h.Fa,V=h.P+1+b*p,G=h.mb,ce=h.nb+b*p,e(V<=h.P+h.qc),H.Z!=0)for(e(pa[H.Z]!=null),D=0;D<N;++D)pa[H.Z](be,ge,De,V,G,ce,p),be=G,ge=ce,ce+=p,V+=p;else for(D=0;D<N;++D)n(G,ce,De,V,p),be=G,ge=ce,ce+=p,V+=p;h.rc=be,h.Vc=ge}else{if(e(H.mc!=null),p=b+N,e((D=H.mc)!=null),e(p<=D.i),D.C>=p)p=1;else if(H.ic||ve(),H.ic){H=D.V,be=D.Ba,ge=D.c;var je=D.i,ue=(De=1,V=D.$/ge,G=D.$%ge,ce=D.m,ye=D.s,D.$),he=ge*je,Le=ge*p,Me=ye.wc,Pe=ue<Le?Fr(ye,G,V):null;e(ue<=he),e(p<=je),e(Ui(ye));t:for(;;){for(;!ce.h&&ue<Le;){if(G&Me||(Pe=Fr(ye,G,V)),e(Pe!=null),ee(ce),256>(je=Xr(Pe.G[0],Pe.H[0],ce)))H[be+ue]=je,++ue,++G>=ge&&(G=0,++V<=p&&!(V%16)&&Is(D,V));else{if(!(280>je)){De=0;break t}je=Un(je-256,ce);var rt,Xe=Xr(Pe.G[4],Pe.H[4],ce);if(ee(ce),!(ue>=(Xe=kn(ge,Xe=Un(Xe,ce)))&&he-ue>=je)){De=0;break t}for(rt=0;rt<je;++rt)H[be+ue+rt]=H[be+ue+rt-Xe];for(ue+=je,G+=je;G>=ge;)G-=ge,++V<=p&&!(V%16)&&Is(D,V);ue<Le&&G&Me&&(Pe=Fr(ye,G,V))}e(ce.h==M(ce))}Is(D,V>p?p:V);break t}!De||ce.h&&ue<he?(De=0,D.a=ce.h?5:3):D.$=ue,p=De}else p=Ps(D,D.V,D.Ba,D.c,D.i,p,_o);if(!p){N=0;break e}}b+N>=P&&(h.Cc=1),N=1}if(!N)return null;if(h.Cc&&((N=h.ga)!=null&&(N.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+b*E}function v(h,p,b,N,E,P){for(;0<E--;){var D,H=h,V=p+(b?1:0),G=h,ce=p+(b?0:3);for(D=0;D<N;++D){var ye=G[ce+4*D];ye!=255&&(ye*=32897,H[V+4*D+0]=H[V+4*D+0]*ye>>23,H[V+4*D+1]=H[V+4*D+1]*ye>>23,H[V+4*D+2]=H[V+4*D+2]*ye>>23)}p+=P}}function U(h,p,b,N,E){for(;0<N--;){var P;for(P=0;P<b;++P){var D=h[p+2*P+0],H=15&(G=h[p+2*P+1]),V=4369*H,G=(240&G|G>>4)*V>>16;h[p+2*P+0]=(240&D|D>>4)*V>>16&240|(15&D|D<<4)*V>>16>>4&15,h[p+2*P+1]=240&G|H}p+=E}}function Y(h,p,b,N,E,P,D,H){var V,G,ce=255;for(G=0;G<E;++G){for(V=0;V<N;++V){var ye=h[p+V];P[D+4*V]=ye,ce&=ye}p+=b,D+=H}return ce!=255}function Ae(h,p,b,N,E){var P;for(P=0;P<E;++P)b[N+P]=h[p+P]>>8}function ve(){ms=v,qt=U,Jt=Y,wr=Ae}function ke(h,p,b){F[h]=function(N,E,P,D,H,V,G,ce,ye,be,ge,De,je,ue,he,Le,Me){var Pe,rt=Me-1>>1,Xe=H[V+0]|G[ce+0]<<16,ut=ye[be+0]|ge[De+0]<<16;e(N!=null);var Ye=3*Xe+ut+131074>>2;for(p(N[E+0],255&Ye,Ye>>16,je,ue),P!=null&&(Ye=3*ut+Xe+131074>>2,p(P[D+0],255&Ye,Ye>>16,he,Le)),Pe=1;Pe<=rt;++Pe){var Pt=H[V+Pe]|G[ce+Pe]<<16,Ot=ye[be+Pe]|ge[De+Pe]<<16,kt=Xe+Pt+ut+Ot+524296,St=kt+2*(Pt+ut)>>3;Ye=St+Xe>>1,Xe=(kt=kt+2*(Xe+Ot)>>3)+Pt>>1,p(N[E+2*Pe-1],255&Ye,Ye>>16,je,ue+(2*Pe-1)*b),p(N[E+2*Pe-0],255&Xe,Xe>>16,je,ue+(2*Pe-0)*b),P!=null&&(Ye=kt+ut>>1,Xe=St+Ot>>1,p(P[D+2*Pe-1],255&Ye,Ye>>16,he,Le+(2*Pe-1)*b),p(P[D+2*Pe+0],255&Xe,Xe>>16,he,Le+(2*Pe+0)*b)),Xe=Pt,ut=Ot}1&Me||(Ye=3*Xe+ut+131074>>2,p(N[E+Me-1],255&Ye,Ye>>16,je,ue+(Me-1)*b),P!=null&&(Ye=3*ut+Xe+131074>>2,p(P[D+Me-1],255&Ye,Ye>>16,he,Le+(Me-1)*b)))}}function Ve(){vs[dh]=uF,vs[hh]=Dy,vs[Qy]=dF,vs[fh]=Oy,vs[gh]=Hy,vs[y0]=My,vs[Ly]=hF,vs[b0]=Dy,vs[B0]=Oy,vs[ph]=Hy,vs[C0]=My}function tt(h){return h&-16384?0>h?0:255:h>>fF}function At(h,p){return tt((19077*h>>8)+(26149*p>>8)-14234)}function yt(h,p,b){return tt((19077*h>>8)-(6419*p>>8)-(13320*b>>8)+8708)}function mt(h,p){return tt((19077*h>>8)+(33050*p>>8)-17685)}function Ut(h,p,b,N,E){N[E+0]=At(h,b),N[E+1]=yt(h,p,b),N[E+2]=mt(h,p)}function Ar(h,p,b,N,E){N[E+0]=mt(h,p),N[E+1]=yt(h,p,b),N[E+2]=At(h,b)}function dr(h,p,b,N,E){var P=yt(h,p,b);p=P<<3&224|mt(h,p)>>3,N[E+0]=248&At(h,b)|P>>5,N[E+1]=p}function jr(h,p,b,N,E){var P=240&mt(h,p)|15;N[E+0]=240&At(h,b)|yt(h,p,b)>>4,N[E+1]=P}function on(h,p,b,N,E){N[E+0]=255,Ut(h,p,b,N,E+1)}function Vr(h,p,b,N,E){Ar(h,p,b,N,E),N[E+3]=255}function Os(h,p,b,N,E){Ut(h,p,b,N,E),N[E+3]=255}function Xn(h,p){return 0>h?0:h>p?p:h}function ui(h,p,b){F[h]=function(N,E,P,D,H,V,G,ce,ye){for(var be=ce+(-2&ye)*b;ce!=be;)p(N[E+0],P[D+0],H[V+0],G,ce),p(N[E+1],P[D+0],H[V+0],G,ce+b),E+=2,++D,++V,ce+=2*b;1&ye&&p(N[E+0],P[D+0],H[V+0],G,ce)}}function ih(h,p,b){return b==0?h==0?p==0?6:5:p==0?4:0:b}function Sc(h,p,b,N,E){switch(h>>>30){case 3:Pi(p,b,N,E,0);break;case 2:vr(p,b,N,E);break;case 1:Cn(p,b,N,E)}}function Fc(h,p){var b,N,E=p.M,P=p.Nb,D=h.oc,H=h.pc+40,V=h.oc,G=h.pc+584,ce=h.oc,ye=h.pc+600;for(b=0;16>b;++b)D[H+32*b-1]=129;for(b=0;8>b;++b)V[G+32*b-1]=129,ce[ye+32*b-1]=129;for(0<E?D[H-1-32]=V[G-1-32]=ce[ye-1-32]=129:(s(D,H-32-1,127,21),s(V,G-32-1,127,9),s(ce,ye-32-1,127,9)),N=0;N<h.za;++N){var be=p.ya[p.aa+N];if(0<N){for(b=-1;16>b;++b)n(D,H+32*b-4,D,H+32*b+12,4);for(b=-1;8>b;++b)n(V,G+32*b-4,V,G+32*b+4,4),n(ce,ye+32*b-4,ce,ye+32*b+4,4)}var ge=h.Gd,De=h.Hd+N,je=be.ad,ue=be.Hc;if(0<E&&(n(D,H-32,ge[De].y,0,16),n(V,G-32,ge[De].f,0,8),n(ce,ye-32,ge[De].ea,0,8)),be.Za){var he=D,Le=H-32+16;for(0<E&&(N>=h.za-1?s(he,Le,ge[De].y[15],4):n(he,Le,ge[De+1].y,0,4)),b=0;4>b;b++)he[Le+128+b]=he[Le+256+b]=he[Le+384+b]=he[Le+0+b];for(b=0;16>b;++b,ue<<=2)he=D,Le=H+Ky[b],Hs[be.Ob[b]](he,Le),Sc(ue,je,16*+b,he,Le)}else if(he=ih(N,E,be.Ob[0]),ga[he](D,H),ue!=0)for(b=0;16>b;++b,ue<<=2)Sc(ue,je,16*+b,D,H+Ky[b]);for(b=be.Gc,he=ih(N,E,be.Dd),Di[he](V,G),Di[he](ce,ye),ue=je,he=V,Le=G,255&(be=b>>0)&&(170&be?Qc(ue,256,he,Le):gs(ue,256,he,Le)),be=ce,ue=ye,255&(b>>=8)&&(170&b?Qc(je,320,be,ue):gs(je,320,be,ue)),E<h.Ub-1&&(n(ge[De].y,0,D,H+480,16),n(ge[De].f,0,V,G+224,8),n(ge[De].ea,0,ce,ye+224,8)),b=8*P*h.B,ge=h.sa,De=h.ta+16*N+16*P*h.R,je=h.qa,be=h.ra+8*N+b,ue=h.Ha,he=h.Ia+8*N+b,b=0;16>b;++b)n(ge,De+b*h.R,D,H+32*b,16);for(b=0;8>b;++b)n(je,be+b*h.B,V,G+32*b,8),n(ue,he+b*h.B,ce,ye+32*b,8)}}function Oo(h,p,b,N,E,P,D,H,V){var G=[0],ce=[0],ye=0,be=V!=null?V.kd:0,ge=V??new Bc;if(h==null||12>b)return 7;ge.data=h,ge.w=p,ge.ha=b,p=[p],b=[b],ge.gb=[ge.gb];e:{var De=p,je=b,ue=ge.gb;if(e(h!=null),e(je!=null),e(ue!=null),ue[0]=0,12<=je[0]&&!r(h,De[0],"RIFF")){if(r(h,De[0]+8,"WEBP")){ue=3;break e}var he=Ie(h,De[0]+4);if(12>he||4294967286<he){ue=3;break e}if(be&&he>je[0]-8){ue=7;break e}ue[0]=he,De[0]+=12,je[0]-=12}ue=0}if(ue!=0)return ue;for(he=0<ge.gb[0],b=b[0];;){e:{var Le=h;je=p,ue=b;var Me=G,Pe=ce,rt=De=[0];if((Ye=ye=[ye])[0]=0,8>ue[0])ue=7;else{if(!r(Le,je[0],"VP8X")){if(Ie(Le,je[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Xe=Ie(Le,je[0]+8),ut=1+Ue(Le,je[0]+12);if(2147483648<=ut*(Le=1+Ue(Le,je[0]+15))){ue=3;break e}rt!=null&&(rt[0]=Xe),Me!=null&&(Me[0]=ut),Pe!=null&&(Pe[0]=Le),je[0]+=18,ue[0]-=18,Ye[0]=1}ue=0}}if(ye=ye[0],De=De[0],ue!=0)return ue;if(je=!!(2&De),!he&&ye)return 3;if(P!=null&&(P[0]=!!(16&De)),D!=null&&(D[0]=je),H!=null&&(H[0]=0),D=G[0],De=ce[0],ye&&je&&V==null){ue=0;break}if(4>b){ue=7;break}if(he&&ye||!he&&!ye&&!r(h,p[0],"ALPH")){b=[b],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Xe=h,ue=p,he=b;var Ye=ge.gb;Me=ge.na,Pe=ge.P,rt=ge.Sa,ut=22,e(Xe!=null),e(he!=null),Le=ue[0];var Pt=he[0];for(e(Me!=null),e(rt!=null),Me[0]=null,Pe[0]=null,rt[0]=0;;){if(ue[0]=Le,he[0]=Pt,8>Pt){ue=7;break e}var Ot=Ie(Xe,Le+4);if(4294967286<Ot){ue=3;break e}var kt=8+Ot+1&-2;if(ut+=kt,0<Ye&&ut>Ye){ue=3;break e}if(!r(Xe,Le,"VP8 ")||!r(Xe,Le,"VP8L")){ue=0;break e}if(Pt[0]<kt){ue=7;break e}r(Xe,Le,"ALPH")||(Me[0]=Xe,Pe[0]=Le+8,rt[0]=Ot),Le+=kt,Pt-=kt}}if(b=b[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],ue!=0)break}b=[b],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Ye=h,ue=p,he=b,Me=ge.gb[0],Pe=ge.Ja,rt=ge.xa,Xe=ue[0],Le=!r(Ye,Xe,"VP8 "),ut=!r(Ye,Xe,"VP8L"),e(Ye!=null),e(he!=null),e(Pe!=null),e(rt!=null),8>he[0])ue=7;else{if(Le||ut){if(Ye=Ie(Ye,Xe+4),12<=Me&&Ye>Me-12){ue=3;break e}if(be&&Ye>he[0]-8){ue=7;break e}Pe[0]=Ye,ue[0]+=8,he[0]-=8,rt[0]=ut}else rt[0]=5<=he[0]&&Ye[Xe+0]==47&&!(Ye[Xe+4]>>5),Pe[0]=he[0];ue=0}if(b=b[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],p=p[0],ue!=0)break;if(4294967286<ge.Ja)return 3;if(H==null||je||(H[0]=ge.xa?2:1),D=[D],De=[De],ge.xa){if(5>b){ue=7;break}H=D,be=De,je=P,h==null||5>b?h=0:5<=b&&h[p+0]==47&&!(h[p+4]>>5)?(he=[0],Ye=[0],Me=[0],q(Pe=new _,h,p,b),lt(Pe,he,Ye,Me)?(H!=null&&(H[0]=he[0]),be!=null&&(be[0]=Ye[0]),je!=null&&(je[0]=Me[0]),h=1):h=0):h=0}else{if(10>b){ue=7;break}H=De,h==null||10>b||!Kd(h,p+3,b-3)?h=0:(be=h[p+0]|h[p+1]<<8|h[p+2]<<16,je=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=ge.Ja||!je||!h?h=0:(D&&(D[0]=je),H&&(H[0]=h),h=1))}if(!h||(D=D[0],De=De[0],ye&&(G[0]!=D||ce[0]!=De)))return 3;V!=null&&(V[0]=ge,V.offset=p-V.w,e(4294967286>p-V.w),e(V.offset==V.ha-b));break}return ue==0||ue==7&&ye&&V==null?(P!=null&&(P[0]|=ge.na!=null&&0<ge.na.length),N!=null&&(N[0]=D),E!=null&&(E[0]=De),0):ue}function jc(h,p,b){var N=p.width,E=p.height,P=0,D=0,H=N,V=E;if(p.Da=h!=null&&0<h.Da,p.Da&&(H=h.cd,V=h.bd,P=h.v,D=h.j,11>b||(P&=-2,D&=-2),0>P||0>D||0>=H||0>=V||P+H>N||D+V>E))return 0;if(p.v=P,p.j=D,p.va=P+H,p.o=D+V,p.U=H,p.T=V,p.da=h!=null&&0<h.da,p.da){if(!at(H,V,b=[h.ib],P=[h.hb]))return 0;p.ib=b[0],p.hb=P[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*N/4&&p.hb<3*E/4,p.Kb=0),1}function Ec(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function Ho(h,p,b,N){if(N==null||0>=h||0>=p)return 2;if(b!=null){if(b.Da){var E=b.cd,P=b.bd,D=-2&b.v,H=-2&b.j;if(0>D||0>H||0>=E||0>=P||D+E>h||H+P>p)return 2;h=E,p=P}if(b.da){if(!at(h,p,E=[b.ib],P=[b.hb]))return 2;h=E[0],p=P[0]}}N.width=h,N.height=p;e:{var V=N.width,G=N.height;if(h=N.S,0>=V||0>=G||!(h>=dh&&13>h))h=2;else{if(0>=N.Rd&&N.sd==null){D=P=E=p=0;var ce=(H=V*Vy[h])*G;if(11>h||(P=(G+1)/2*(p=(V+1)/2),h==12&&(D=(E=V)*G)),(G=i(ce+2*P+D))==null){h=1;break e}N.sd=G,11>h?((V=N.f.RGBA).eb=G,V.fb=0,V.A=H,V.size=ce):((V=N.f.kb).y=G,V.O=0,V.fa=H,V.Fd=ce,V.f=G,V.N=0+ce,V.Ab=p,V.Cd=P,V.ea=G,V.W=0+ce+P,V.Db=p,V.Ed=P,h==12&&(V.F=G,V.J=0+ce+2*P),V.Tc=D,V.lb=E)}if(p=1,E=N.S,P=N.width,D=N.height,E>=dh&&13>E)if(11>E)h=N.f.RGBA,p&=(H=Math.abs(h.A))*(D-1)+P<=h.size,p&=H>=P*Vy[E],p&=h.eb!=null;else{h=N.f.kb,H=(P+1)/2,ce=(D+1)/2,V=Math.abs(h.fa),G=Math.abs(h.Ab);var ye=Math.abs(h.Db),be=Math.abs(h.lb),ge=be*(D-1)+P;p&=V*(D-1)+P<=h.Fd,p&=G*(ce-1)+H<=h.Cd,p=(p&=ye*(ce-1)+H<=h.Ed)&V>=P&G>=H&ye>=H,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,E==12&&(p&=be>=P,p&=ge<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||b!=null&&b.fd&&(h=Ec(N)),h}var Yr=64,Mo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ro=24,Ko=32,Uc=8,Ln=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(h){return h},F.Predictor2=function(h,p,b){return p[b+0]},F.Predictor3=function(h,p,b){return p[b+1]},F.Predictor4=function(h,p,b){return p[b-1]},F.Predictor5=function(h,p,b){return He(He(h,p[b+1]),p[b+0])},F.Predictor6=function(h,p,b){return He(h,p[b-1])},F.Predictor7=function(h,p,b){return He(h,p[b+0])},F.Predictor8=function(h,p,b){return He(p[b-1],p[b+0])},F.Predictor9=function(h,p,b){return He(p[b+0],p[b+1])},F.Predictor10=function(h,p,b){return He(He(h,p[b-1]),He(p[b+0],p[b+1]))},F.Predictor11=function(h,p,b){var N=p[b+0];return 0>=Oe(N>>24&255,h>>24&255,(p=p[b-1])>>24&255)+Oe(N>>16&255,h>>16&255,p>>16&255)+Oe(N>>8&255,h>>8&255,p>>8&255)+Oe(255&N,255&h,255&p)?N:h},F.Predictor12=function(h,p,b){var N=p[b+0];return(Ze((h>>24&255)+(N>>24&255)-((p=p[b-1])>>24&255))<<24|Ze((h>>16&255)+(N>>16&255)-(p>>16&255))<<16|Ze((h>>8&255)+(N>>8&255)-(p>>8&255))<<8|Ze((255&h)+(255&N)-(255&p)))>>>0},F.Predictor13=function(h,p,b){var N=p[b-1];return(_e((h=He(h,p[b+0]))>>24&255,N>>24&255)<<24|_e(h>>16&255,N>>16&255)<<16|_e(h>>8&255,N>>8&255)<<8|_e(h>>0&255,N>>0&255))>>>0};var v0=F.PredictorAdd0;F.PredictorAdd1=W,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var kc=F.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var ah,fs=F.ColorIndexInverseTransform,Vo=F.MapARGB,Ah=F.VP8LColorIndexInverseTransformAlpha,oh=F.MapAlpha,ua=F.VP8LPredictorsAdd=[];ua.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var SA,In,Bn,da,Li,Ii,zo,Pi,vr,Qc,Cn,gs,$o,lh,Lc,FA,jA,ha,EA,Go,UA,fa,Ic,ps,ms,qt,Jt,wr,Tr=i(511),Ti=i(2041),Pc=i(225),Wo=i(767),ch=0,w0=Ti,uh=Pc,Yn=Wo,xs=Tr,dh=0,hh=1,Qy=2,fh=3,gh=4,y0=5,Ly=6,b0=7,B0=8,ph=9,C0=10,XS=[2,3,7],YS=[3,3,11],Iy=[280,256,256,256,40],ZS=[0,1,1,1,0],eF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nF=8,_0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],N0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Tc=null,sF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],iF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Py=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],aF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],AF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],oF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ga=[],Hs=[],Di=[],cF=1,Ty=2,pa=[],vs=[];ke("UpsampleRgbLinePair",Ut,3),ke("UpsampleBgrLinePair",Ar,3),ke("UpsampleRgbaLinePair",Os,4),ke("UpsampleBgraLinePair",Vr,4),ke("UpsampleArgbLinePair",on,4),ke("UpsampleRgba4444LinePair",jr,2),ke("UpsampleRgb565LinePair",dr,2);var uF=F.UpsampleRgbLinePair,dF=F.UpsampleBgrLinePair,Dy=F.UpsampleRgbaLinePair,Oy=F.UpsampleBgraLinePair,Hy=F.UpsampleArgbLinePair,My=F.UpsampleRgba4444LinePair,hF=F.UpsampleRgb565LinePair,mh=16,xh=1<<mh-1,Dc=-227,S0=482,fF=6,Ry=0,gF=i(256),pF=i(256),mF=i(256),xF=i(256),vF=i(S0-Dc),wF=i(S0-Dc);ui("YuvToRgbRow",Ut,3),ui("YuvToBgrRow",Ar,3),ui("YuvToRgbaRow",Os,4),ui("YuvToBgraRow",Vr,4),ui("YuvToArgbRow",on,4),ui("YuvToRgba4444Row",jr,2),ui("YuvToRgb565Row",dr,2);var Ky=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vh=[0,2,8],yF=[8,7,6,4,4,2,2,2,1,1,1,1],bF=1;this.WebPDecodeRGBA=function(h,p,b,N,E){var P=hh,D=new To,H=new mr;D.ba=H,H.S=P,H.width=[H.width],H.height=[H.height];var V=H.width,G=H.height,ce=new an;if(ce==null||h==null)var ye=2;else e(ce!=null),ye=Oo(h,p,b,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(ye!=0?V=0:(V!=null&&(V[0]=ce.width[0]),G!=null&&(G[0]=ce.height[0]),V=1),V){H.width=H.width[0],H.height=H.height[0],N!=null&&(N[0]=H.width),E!=null&&(E[0]=H.height);e:{if(N=new Eo,(E=new Bc).data=h,E.w=p,E.ha=b,E.kd=1,p=[0],e(E!=null),((h=Oo(E.data,E.w,E.ha,null,null,null,p,null,E))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(D!=null),N.data=E.data,N.w=E.w+E.offset,N.ha=E.ha-E.offset,N.put=It,N.ac=Lt,N.bc=sr,N.ma=D,E.xa){if((h=hs())==null){D=1;break e}if(function(be,ge){var De=[0],je=[0],ue=[0];t:for(;;){if(be==null)return 0;if(ge==null)return be.a=2,0;if(be.l=ge,be.a=0,q(be.m,ge.data,ge.w,ge.ha),!lt(be.m,De,je,ue)){be.a=3;break t}if(be.xb=Ty,ge.width=De[0],ge.height=je[0],!oi(De[0],je[0],1,be,null))break t;return 1}return e(be.a!=0),0}(h,N)){if(N=(p=Ho(N.width,N.height,D.Oa,D.ba))==0){t:{N=h;r:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((b=N.l)!=null),e((E=b.ma)!=null),N.xb!=0){if(N.ca=E.ba,N.tb=E.tb,e(N.ca!=null),!jc(E.Oa,b,fh)){N.a=2;break r}if(!bA(N,b.width)||b.da)break r;if((b.da||fe(N.ca.S))&&ve(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&ve()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!ze(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!Ps(N,N.V,N.Ba,N.c,N.i,b.o,Co))break r;E.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(p=h.a)}else p=h.a}else{if((h=new e0)==null){D=1;break e}if(h.Fa=E.na,h.P=E.P,h.qc=E.Sa,Vd(h,N)){if((p=Ho(N.width,N.height,D.Oa,D.ba))==0){if(h.Aa=0,b=D.Oa,e((E=h)!=null),b!=null){if(0<(V=0>(V=b.Md)?0:100<V?255:255*V/100)){for(G=ce=0;4>G;++G)12>(ye=E.pb[G]).lc&&(ye.ia=V*yF[0>ye.lc?0:ye.lc]>>3),ce|=ye.ia;ce&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=b.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}t0(h,N)||(p=h.a)}}else p=h.a}p==0&&D.Oa!=null&&D.Oa.fd&&(p=Ec(D.ba))}D=p}P=D!=0?null:11>P?H.f.RGBA.eb:H.f.kb.y}else P=null;return P};var Vy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(F,R){for(var J="",Q=0;Q<4;Q++)J+=String.fromCharCode(F[R++]);return J}function u(F,R){return(F[R+0]<<0|F[R+1]<<8|F[R+2]<<16)>>>0}function d(F,R){return(F[R+0]<<0|F[R+1]<<8|F[R+2]<<16|F[R+3]<<24)>>>0}new l;var f=[0],g=[0],m=[],w=new l,B=t,x=function(F,R){var J={},Q=0,j=!1,K=0,$=0;if(J.frames=[],!function(L,M,z,ee){for(var ie=0;ie<ee;ie++)if(L[M+ie]!=z.charCodeAt(ie))return!0;return!1}(F,R,"RIFF",4)){var de,te;for(d(F,R+=4),R+=8;R<F.length;){var le=c(F,R),q=d(F,R+=4);R+=4;var se=q+(1&q);switch(le){case"VP8 ":case"VP8L":J.frames[Q]===void 0&&(J.frames[Q]={}),(_=J.frames[Q]).src_off=j?$:R-8,_.src_size=K+q+8,Q++,j&&(j=!1,K=0,$=0);break;case"VP8X":(_=J.header={}).feature_flags=F[R];var oe=R+4;_.canvas_width=1+u(F,oe),oe+=3,_.canvas_height=1+u(F,oe),oe+=3;break;case"ALPH":j=!0,K=se+8,$=R-8;break;case"ANIM":(_=J.header).bgcolor=d(F,R),oe=R+4,_.loop_count=(de=F)[(te=oe)+0]<<0|de[te+1]<<8,oe+=2;break;case"ANMF":var Z,_;(_=J.frames[Q]={}).offset_x=2*u(F,R),R+=3,_.offset_y=2*u(F,R),R+=3,_.width=1+u(F,R),R+=3,_.height=1+u(F,R),R+=3,_.duration=u(F,R),R+=3,Z=F[R++],_.dispose=1&Z,_.blend=Z>>1&1}le!="ANMF"&&(R+=se)}return J}}(B,0);x.response=B,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,C=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],g=[y.canvas_width];for(var S=0;S<C.length&&C[S].blend!=0;S++);}var k=C[0],O=w.WebPDecodeRGBA(B,k.src_off,k.src_size,g,f);k.rgba=O,k.imgwidth=g[0],k.imgheight=f[0];for(var I=0;I<g[0]*f[0]*4;I++)m[I]=O[I];return this.width=g,this.height=f,this.data=m,this}(function(t){var e=function(){return typeof Wv=="function"},r=function(f,g,m,w){var B=4,x=a;switch(w){case t.image_compression.FAST:B=1,x=i;break;case t.image_compression.MEDIUM:B=6,x=o;break;case t.image_compression.SLOW:B=9,x=l}f=n(f,g,m,x);var y=Wv(f,{level:B});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(f,g,m,w){for(var B,x,y,C=f.length/g,S=new Uint8Array(f.length+C),k=u(),O=0;O<C;O+=1){if(y=O*g,B=f.subarray(y,y+g),w)S.set(w(B,m,x),y+O);else{for(var I,F=k.length,R=[];I<F;I+=1)R[I]=k[I](B,m,x);var J=d(R.concat());S.set(R[J],y+O)}x=B}return S},s=function(f){var g=Array.apply([],f);return g.unshift(0),g},i=function(f,g){var m,w=[],B=f.length;w[0]=1;for(var x=0;x<B;x+=1)m=f[x-g]||0,w[x+1]=f[x]-m+256&255;return w},a=function(f,g,m){var w,B=[],x=f.length;B[0]=2;for(var y=0;y<x;y+=1)w=m&&m[y]||0,B[y+1]=f[y]-w+256&255;return B},o=function(f,g,m){var w,B,x=[],y=f.length;x[0]=3;for(var C=0;C<y;C+=1)w=f[C-g]||0,B=m&&m[C]||0,x[C+1]=f[C]+256-(w+B>>>1)&255;return x},l=function(f,g,m){var w,B,x,y,C=[],S=f.length;C[0]=4;for(var k=0;k<S;k+=1)w=f[k-g]||0,B=m&&m[k]||0,x=m&&m[k-g]||0,y=c(w,B,x),C[k+1]=f[k]-y+256&255;return C},c=function(f,g,m){if(f===g&&g===m)return f;var w=Math.abs(g-m),B=Math.abs(f-m),x=Math.abs(f+g-m-m);return w<=B&&w<=x?f:B<=x?g:m},u=function(){return[s,i,a,o,l]},d=function(f){var g=f.map(function(m){return m.reduce(function(w,B){return w+Math.abs(B)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(f,g,m,w){var B,x,y,C,S,k,O,I,F,R,J,Q,j,K,$,de=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new i8(f)).imgData,x=y.bits,B=y.colorSpace,S=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){F=(I=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,J=new Uint8Array(F*y.colors),R=new Uint8Array(F);var le,q=y.pixelBitlength-y.bits;for(K=0,$=0;K<F;K++){for(j=I[K],le=0;le<q;)J[$++]=j>>>le&255,le+=y.bits;R[K]=j>>>le&255}}if(y.bits===16){F=(I=new Uint32Array(y.decodePixels().buffer)).length,J=new Uint8Array(F*(32/y.pixelBitlength)*y.colors),R=new Uint8Array(F*(32/y.pixelBitlength)),Q=y.colors>1,K=0,$=0;for(var se=0;K<F;)j=I[K++],J[$++]=j>>>0&255,Q&&(J[$++]=j>>>16&255,j=I[K++],J[$++]=j>>>0&255),R[se++]=j>>>16&255;x=8}w!==t.image_compression.NONE&&e()?(f=r(J,y.width*y.colors,y.colors,w),O=r(R,y.width,1,w)):(f=J,O=R,de=void 0)}if(y.colorType===3&&(B=this.color_spaces.INDEXED,k=y.palette,y.transparency.indexed)){var oe=y.transparency.indexed,Z=0;for(K=0,F=oe.length;K<F;++K)Z+=oe[K];if((Z/=255)===F-1&&oe.indexOf(0)!==-1)C=[oe.indexOf(0)];else if(Z!==F){for(I=y.decodePixels(),R=new Uint8Array(I.length),K=0,F=I.length;K<F;K++)R[K]=oe[I[K]];O=r(R,y.width,1)}}var _=function(L){var M;switch(L){case t.image_compression.FAST:M=11;break;case t.image_compression.MEDIUM:M=13;break;case t.image_compression.SLOW:M=14;break;default:M=12}return M}(w);return de===this.decode.FLATE_DECODE&&(te="/Predictor "+_+" "),te+="/Colors "+S+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:m,data:f,index:g,filter:de,decodeParameters:te,transparency:C,palette:k,sMask:O,predictor:_,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:B}}}})(ct.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new a8(e),a=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new Gm(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)},t.processGIF87A=t.processGIF89A}(ct.API),Vs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Wt.log("bit decode error:"+r)}},Vs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Vs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Vs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Vs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Vs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Vs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Vs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=a}},Vs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new Vs(e,!1),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},c=new Gm(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(ct.API),oB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new oB(e),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},c=new Gm(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(ct.API),ct.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var u=n[c],d=n[c+1],f=n[c+2],g=n[c+3];i[o++]=u,i[o++]=d,i[o++]=f,a[l++]=g}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hl=ct.API,Bf=hl.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,f=0,g=t.length,m=0,w=o[0]||l,B=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?B.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(f=d&&Rt(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,B.push((o[n]||w)/l+f)),m=n;return B},sB=hl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return hl.processArabic&&(t=hl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Bf.apply(this,arguments).reduce(function(i,a){return i+a},0)},iB=function(t,e,r,n){for(var s=[],i=0,a=t.length,o=0;i!==a&&o+e[i]<r;)o+=e[i],i++;s.push(t.slice(0,i));var l=i;for(o=0;i!==a;)o+e[i]>n&&(s.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},aB=function(t,e,r){r||(r={});var n,s,i,a,o,l,c,u=[],d=[u],f=r.textIndent||0,g=0,m=0,w=t.split(" "),B=Bf.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),y=[];w.map(function(S){(S=S.split(/\s*\n/)).length>1?y=y.concat(S.map(function(k,O){return(O&&k.length?`
`:"")+k})):y.push(S[0])}),w=y,l=sB.apply(this,[x,r])}for(i=0,a=w.length;i<a;i++){var C=0;if(n=w[i],l&&n[0]==`
`&&(n=n.substr(1),C=1),f+g+(m=(s=Bf.apply(this,[n,r])).reduce(function(S,k){return S+k},0))>e||C){if(m>e){for(o=iB.apply(this,[n,s,e-(f+g),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);m=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(S,k){return S+k},0)}else u=[n];d.push(u),f=m+l,g=B}else u.push(n),f+=g+m,g=B}return c=l?function(S,k){return(k?x:"")+S.join(" ")}:function(S){return S.join(" ")},d.map(c)},hl.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(aB.apply(this,[n[o],a,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var f,g,m,w,B=["{"];for(var x in d){if(f=d[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=i(x).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof f=="number")f<0?(m=i(f).slice(3),w="-"):(m=i(f).slice(2),w=""),m=w+m.slice(0,-1)+n[m.slice(-1)];else{if(Rt(f)!=="object")throw new Error("Don't know what to do with value type "+Rt(f)+".");m=a(f)}B.push(g+m)}return B.push("}"),B.join("")},o=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,m,w,B={},x=1,y=B,C=[],S="",k="",O=d.length-1,I=1;I<O;I+=1)(w=d[I])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(w):w=="{"?(C.push([y,m]),y={},m=void 0):w=="}"?((g=C.pop())[0][g[1]]=y,m=void 0,y=g[0]):w=="-"?x=-1:m===void 0?r.hasOwnProperty(w)?(S+=r[w],m=parseInt(S,16)*x,x=1,S=""):S+=w:r.hasOwnProperty(w)?(k+=r[w],y[m]=parseInt(k,16)*x,x=1,m=void 0,k=""):k+=w;return B},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var m=c.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(ct.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Mu(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(ct),function(t){function e(){return(ht.canvg?Promise.resolve(ht.canvg):Ss(()=>import("./index.es-hfInYZEv.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ct.API.addSvgAsImage=function(r,n,s,i,a,o,l,c){if(isNaN(n)||isNaN(s))throw Wt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Wt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(m){return m.fromString(d,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),n,s,i,a,l,c)})}}(),ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function f(m,w){var B,x=!1;for(B=0;B<m.length;B+=1)m[B]===w&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(d=0;d<g;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(Rt(t)==="object"){for(s in t)if(i=t[s],f(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&f(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,w=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?w.push("/"+m+" /"+r[m].value):w.push("/"+m+" "+r[m].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+o.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=i.length;d<f;++d){if(o=a.metadata.characterToGlyph(i.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var a,o,l,c,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(o=Object.keys(i).sort(function(g,m){return g-m})).length;d<f;d++)a=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",m=0;m<f.length;m++)g+=String.fromCharCode(f[m]);var w=c();u({data:g,addLength1:!0,objectId:w}),l("endobj");var B=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:B}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+yl(o.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+yl(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+B+" 0 R"),l("/BaseFont /"+yl(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",g=0;g<d.length;g++)f+=String.fromCharCode(d[g]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var w=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var B=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+yl(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+yl(o.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},f=d.pdfEscape,g=d.activeFontKey,m=d.fonts,w=g,B="",x=0,y="",C=m[w].encoding;if(m[w].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(y=o,w=g,Array.isArray(o)&&(y=o[0]),x=0;x<y.length;x+=1)m[w].metadata.hasOwnProperty("cmap")&&(a=m[w].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),a||y[x].charCodeAt(0)<256&&m[w].metadata.hasOwnProperty("Unicode")?B+=y[x]:B+="";var S="";return parseInt(w.slice(1))<14||C==="WinAnsiEncoding"?S=f(B,w).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(S=r(B,m[w])),d.isHex=!0,{text:S,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([s(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(s(Object.assign({},l,{text:a[c]})).text);i.text=o}else i.text=s(Object.assign({},l,{text:a})).text}])}(ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,a,o,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,C=0;this.__bidiEngine__={};var S=function(Q){var j=Q.charCodeAt(),K=j>>8,$=w[K];return $!==void 0?d[256*$+(255&j)]:K===252||K===253?"AL":x.test(K)?"L":K===8?"R":"N"},k=function(Q){for(var j,K=0;K<Q.length;K++){if((j=S(Q.charAt(K)))==="L")return!1;if(j==="R")return!0}return!1},O=function(Q,j,K,$){var de,te,le,q,se=j[$];switch(se){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(se="AN");break;case"AL":y=!0,se="R";break;case"WS":se="N";break;case"CS":$<1||$+1>=j.length||(de=K[$-1])!=="EN"&&de!=="AN"||(te=j[$+1])!=="EN"&&te!=="AN"?se="N":y&&(te="AN"),se=te===de?te:"N";break;case"ES":se=(de=$>0?K[$-1]:"B")==="EN"&&$+1<j.length&&j[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&K[$-1]==="EN"){se="EN";break}if(y){se="N";break}for(le=$+1,q=j.length;le<q&&j[le]==="ET";)le++;se=le<q&&j[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(q=j.length,le=$+1;le<q&&j[le]==="NSM";)le++;if(le<q){var oe=Q[$],Z=oe>=1425&&oe<=2303||oe===64286;if(de=j[le],Z&&(de==="R"||de==="AL")){se="R";break}}}se=$<1||(de=j[$-1])==="B"?"N":K[$-1];break;case"B":y=!1,s=!0,se=C;break;case"S":i=!0,se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":se="N"}return se},I=function(Q,j,K){var $=Q.split("");return K&&F($,K,{hiLevel:C}),$.reverse(),j&&j.reverse(),$.join("")},F=function(Q,j,K){var $,de,te,le,q,se=-1,oe=Q.length,Z=0,_=[],L=C?g:f,M=[];for(y=!1,s=!1,i=!1,de=0;de<oe;de++)M[de]=S(Q[de]);for(te=0;te<oe;te++){if(q=Z,_[te]=O(Q,M,_,te),$=240&(Z=L[q][m[_[te]]]),Z&=15,j[te]=le=L[Z][5],$>0)if($===16){for(de=se;de<te;de++)j[de]=1;se=-1}else se=-1;if(L[Z][6])se===-1&&(se=te);else if(se>-1){for(de=se;de<te;de++)j[de]=le;se=-1}M[te]==="B"&&(j[te]=0),K.hiLevel|=le}i&&function(z,ee,ie){for(var ae=0;ae<ie;ae++)if(z[ae]==="S"){ee[ae]=C;for(var re=ae-1;re>=0&&z[re]==="WS";re--)ee[re]=C}}(M,j,oe)},R=function(Q,j,K,$,de){if(!(de.hiLevel<Q)){if(Q===1&&C===1&&!s)return j.reverse(),void(K&&K.reverse());for(var te,le,q,se,oe=j.length,Z=0;Z<oe;){if($[Z]>=Q){for(q=Z+1;q<oe&&$[q]>=Q;)q++;for(se=Z,le=q-1;se<le;se++,le--)te=j[se],j[se]=j[le],j[le]=te,K&&(te=K[se],K[se]=K[le],K[le]=te);Z=q}Z++}}},J=function(Q,j,K){var $=Q.split(""),de={hiLevel:C};return K||(K=[]),F($,K,de),function(te,le,q){if(q.hiLevel!==0&&u)for(var se,oe=0;oe<te.length;oe++)le[oe]===1&&(se=B.indexOf(te[oe]))>=0&&(te[oe]=B[se+1])}($,K,de),R(2,$,j,K,de),R(1,$,j,K,de),$.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,j,K){if(function(de,te){if(te)for(var le=0;le<de.length;le++)te[le]=le;o===void 0&&(o=k(de)),c===void 0&&(c=k(de))}(Q,j),a||!l||c)if(a&&l&&o^c)C=o?1:0,Q=I(Q,j,K);else if(!a&&l&&c)C=o?1:0,Q=J(Q,j,K),Q=I(Q,j);else if(!a||o||l||c){if(a&&!l&&o^c)Q=I(Q,j),o?(C=0,Q=J(Q,j,K)):(C=1,Q=J(Q,j,K),Q=I(Q,j));else if(a&&o&&!l&&c)C=1,Q=J(Q,j,K),Q=I(Q,j);else if(!a&&!l&&o^c){var $=u;o?(C=1,Q=J(Q,j,K),C=0,u=!1,Q=J(Q,j,K),u=$):(C=0,Q=J(Q,j,K),Q=I(Q,j),C=1,u=!1,Q=J(Q,j,K),u=$,Q=I(Q,j))}}else C=0,Q=J(Q,j,K);else C=o?1:0,Q=J(Q,j,K);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(a=Q.isInputVisual,l=Q.isOutputVisual,o=Q.isInputRtl,c=Q.isOutputRtl,u=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([r.doBidiReorder(s[o])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new gA(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new y8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new A8(this.contents),this.head=new l8(this),this.name=new f8(this),this.cmap=new ZN(this),this.toUnicode={},this.hhea=new c8(this),this.maxp=new g8(this),this.hmtx=new p8(this),this.post=new d8(this),this.os2=new u8(this),this.loca=new w8(this),this.glyf=new m8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ai,gA=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),A8=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,a,o,l,c,u,d,f,g,m,w;for(w in g=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(g)/l),a=Math.floor(d/l),u=16*g-d,(s=new gA).writeInt(this.scalarType),s.writeShort(g),s.writeShort(d),s.writeShort(a),s.writeShort(u),i=16*g,c=s.pos+i,o=null,m=[],r)for(f=r[w],s.writeString(w),s.writeInt(t(f)),s.writeInt(c),s.writeInt(f.length),m=m.concat(f),w==="head"&&(o=c),c+=f.length;c%4;)m.push(0),c++;return s.write(m),n=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,a;for(r=eS.call(r);r.length%4;)r.push(0);for(i=new gA(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),o8={}.hasOwnProperty,Ei=function(t,e){for(var r in e)o8.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ai=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var l8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new gA).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),lB=function(){function t(e,r){var n,s,i,a,o,l,c,u,d,f,g,m,w,B,x,y,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),f=g/2,e.pos+=6,i=function(){var S,k;for(k=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)k.push(e.readUInt16());return k}(),e.pos+=2,w=function(){var S,k;for(k=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)k.push(e.readUInt16());return k}(),c=function(){var S,k;for(k=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)k.push(e.readUInt16());return k}(),u=function(){var S,k;for(k=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)k.push(e.readUInt16());return k}(),s=(this.length-e.pos+this.offset)/2,o=function(){var S,k;for(k=[],l=S=0;0<=s?S<s:S>s;l=0<=s?++S:--S)k.push(e.readUInt16());return k}(),l=x=0,C=i.length;x<C;l=++x)for(B=i[l],n=y=m=w[l];m<=B?y<=B:y>=B;n=m<=B?++y:--y)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-m)-(f-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=d}return t.encode=function(e,r){var n,s,i,a,o,l,c,u,d,f,g,m,w,B,x,y,C,S,k,O,I,F,R,J,Q,j,K,$,de,te,le,q,se,oe,Z,_,L,M,z,ee,ie,ae,re,we,Ce,Ue;switch($=new gA,a=Object.keys(e).sort(function(Ie,ze){return Ie-ze}),r){case"macroman":for(w=0,B=function(){var Ie=[];for(m=0;m<256;++m)Ie.push(0);return Ie}(),y={0:0},i={},de=0,se=a.length;de<se;de++)y[re=e[s=a[de]]]==null&&(y[re]=++w),i[s]={old:e[s],new:y[e[s]]},B[s]=y[e[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(B),{charMap:i,subtable:$.data,maxGlyphID:w+1};case"unicode":for(j=[],d=[],C=0,y={},n={},x=c=null,te=0,oe=a.length;te<oe;te++)y[k=e[s=a[te]]]==null&&(y[k]=++C),n[s]={old:k,new:y[k]},o=y[k]-s,x!=null&&o===c||(x&&d.push(x),j.push(s),c=o),x=s;for(x&&d.push(x),d.push(65535),j.push(65535),J=2*(R=j.length),F=2*Math.pow(Math.log(R)/Math.LN2,2),f=Math.log(F/2)/Math.LN2,I=2*R-F,l=[],O=[],g=[],m=le=0,Z=j.length;le<Z;m=++le){if(Q=j[m],u=d[m],Q===65535){l.push(0),O.push(0);break}if(Q-(K=n[Q].new)>=32768)for(l.push(0),O.push(2*(g.length+R-m)),s=q=Q;Q<=u?q<=u:q>=u;s=Q<=u?++q:--q)g.push(n[s].new);else l.push(K-Q),O.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*R+2*g.length),$.writeUInt16(0),$.writeUInt16(J),$.writeUInt16(F),$.writeUInt16(f),$.writeUInt16(I),ie=0,_=d.length;ie<_;ie++)s=d[ie],$.writeUInt16(s);for($.writeUInt16(0),ae=0,L=j.length;ae<L;ae++)s=j[ae],$.writeUInt16(s);for(we=0,M=l.length;we<M;we++)o=l[we],$.writeUInt16(o);for(Ce=0,z=O.length;Ce<z;Ce++)S=O[Ce],$.writeUInt16(S);for(Ue=0,ee=g.length;Ue<ee;Ue++)w=g[Ue],$.writeUInt16(w);return{charMap:n,subtable:$.data,maxGlyphID:C+1}}},t}(),ZN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new lB(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=lB.encode(r,n),(i=new gA).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),c8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),u8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),d8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},e}(),h8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},f8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,a,o,l,c,u,d,f,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},a=d=0,f=s.length;d<f;a=++d)i=s[a],r.pos=i.offset,u=r.readString(i.length),o=new h8(u,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),g8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),p8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,a,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,f,g;for(g=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],g.push(a.advance);return g}).call(this),s=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),eS=[].slice,m8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,a,o,l,c,u,d,f;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,o=(l=new gA(n.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=o===-1?new v8(l,u,f,c,d):new x8(l,o,u,f,c,d),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,a,o,l,c;for(o=[],a=[],l=0,c=n.length;l<c;l++)i=r[n[l]],a.push(o.length),i&&(o=o.concat(i.encode(s)));return a.push(o.length),{table:o,offsets:a}},e}(),x8=function(){function t(e,r,n,s,i,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),v8=function(){function t(e,r,n,s,i){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new gA(eS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),w8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ai),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<s.length;++o)if(s[o]=i,a<n.length&&n[a]==o){++a,s[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},e}(),y8=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,a,o,l;for(s={},a=0,o=e.length;a<o;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,a,o,l,c,u,d,f,g,m,w,B,x;for(s in n=ZN.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},x=n.charMap)g[(l=x[s]).old]=l.new;for(m in f=n.maxGlyphID,a)m in g||(g[m]=f++);return u=function(y){var C,S;for(C in S={},y)S[y[C]]=C;return S}(g),d=Object.keys(u).sort(function(y,C){return y-C}),w=function(){var y,C,S;for(S=[],y=0,C=d.length;y<C;y++)o=d[y],S.push(u[o]);return S}(),i=this.font.glyf.encode(a,w,g),c=this.font.loca.encode(i.offsets,w),B={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},t}();ct.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+r},e}();const cB=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:ZD,AcroFormAppearance:it,AcroFormButton:Hr,AcroFormCheckBox:Vu,AcroFormChoiceField:ao,AcroFormComboBox:oo,AcroFormEditBox:Ru,AcroFormListBox:Ao,AcroFormPasswordField:zu,AcroFormPushButton:Ku,AcroFormRadioButton:lo,AcroFormTextField:lA,GState:yd,ShadingPattern:Da,TilingPattern:ZA,default:ct,jsPDF:ct},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Od(t){return t+.5|0}const $a=(t,e,r)=>Math.max(Math.min(t,r),e);function yu(t){return $a(Od(t*2.55),0,255)}function cA(t){return $a(Od(t*255),0,255)}function Ji(t){return $a(Od(t/2.55)/100,0,1)}function uB(t){return $a(Od(t*100),0,100)}const ys={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},tw=[..."0123456789ABCDEF"],b8=t=>tw[t&15],B8=t=>tw[(t&240)>>4]+tw[t&15],Cf=t=>(t&240)>>4===(t&15),C8=t=>Cf(t.r)&&Cf(t.g)&&Cf(t.b)&&Cf(t.a);function _8(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ys[t[1]]*17,g:255&ys[t[2]]*17,b:255&ys[t[3]]*17,a:e===5?ys[t[4]]*17:255}:(e===7||e===9)&&(r={r:ys[t[1]]<<4|ys[t[2]],g:ys[t[3]]<<4|ys[t[4]],b:ys[t[5]]<<4|ys[t[6]],a:e===9?ys[t[7]]<<4|ys[t[8]]:255})),r}const N8=(t,e)=>t<255?e(t):"";function S8(t){var e=C8(t)?b8:B8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+N8(t.a,e):void 0}const F8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tS(t,e,r){const n=e*Math.min(r,1-r),s=(i,a=(i+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function j8(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function E8(t,e,r){const n=tS(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function U8(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function yy(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),a=Math.min(r,n,s),o=(i+a)/2;let l,c,u;return i!==a&&(u=i-a,c=o>.5?u/(2-i-a):u/(i+a),l=U8(r,n,s,u,i),l=l*60+.5),[l|0,c||0,o]}function by(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(cA)}function By(t,e,r){return by(tS,t,e,r)}function k8(t,e,r){return by(E8,t,e,r)}function Q8(t,e,r){return by(j8,t,e,r)}function rS(t){return(t%360+360)%360}function L8(t){const e=F8.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?yu(+e[5]):cA(+e[5]));const s=rS(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=k8(s,i,a):e[1]==="hsv"?n=Q8(s,i,a):n=By(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}function I8(t,e){var r=yy(t);r[0]=rS(r[0]+e),r=By(r),t.r=r[0],t.g=r[1],t.b=r[2]}function P8(t){if(!t)return;const e=yy(t),r=e[0],n=uB(e[1]),s=uB(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${Ji(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const dB={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function T8(){const t={},e=Object.keys(hB),r=Object.keys(dB);let n,s,i,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],s=0;s<r.length;s++)i=r[s],o=o.replace(i,dB[i]);i=parseInt(hB[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let _f;function D8(t){_f||(_f=T8(),_f.transparent=[0,0,0,0]);const e=_f[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const O8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function H8(t){const e=O8.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?yu(a):$a(a*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?yu(n):$a(n,0,255)),s=255&(e[4]?yu(s):$a(s,0,255)),i=255&(e[6]?yu(i):$a(i,0,255)),{r:n,g:s,b:i,a:r}}}function M8(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ji(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Wm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,fl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function R8(t,e,r){const n=fl(Ji(t.r)),s=fl(Ji(t.g)),i=fl(Ji(t.b));return{r:cA(Wm(n+r*(fl(Ji(e.r))-n))),g:cA(Wm(s+r*(fl(Ji(e.g))-s))),b:cA(Wm(i+r*(fl(Ji(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Nf(t,e,r){if(t){let n=yy(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=By(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function nS(t,e){return t&&Object.assign(e||{},t)}function fB(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=cA(t[3]))):(e=nS(t,{r:0,g:0,b:0,a:1}),e.a=cA(e.a)),e}function K8(t){return t.charAt(0)==="r"?H8(t):L8(t)}class bd{constructor(e){if(e instanceof bd)return e;const r=typeof e;let n;r==="object"?n=fB(e):r==="string"&&(n=_8(e)||D8(e)||K8(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=nS(this._rgb);return e&&(e.a=Ji(e.a)),e}set rgb(e){this._rgb=fB(e)}rgbString(){return this._valid?M8(this._rgb):void 0}hexString(){return this._valid?S8(this._rgb):void 0}hslString(){return this._valid?P8(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const a=r===i?.5:r,o=2*a-1,l=n.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-c,n.r=255&c*n.r+i*s.r+.5,n.g=255&c*n.g+i*s.g+.5,n.b=255&c*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=R8(this._rgb,e._rgb,r)),this}clone(){return new bd(this.rgb)}alpha(e){return this._rgb.a=cA(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Od(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nf(this._rgb,2,e),this}darken(e){return Nf(this._rgb,2,-e),this}saturate(e){return Nf(this._rgb,1,e),this}desaturate(e){return Nf(this._rgb,1,-e),this}rotate(e){return I8(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vi(){}const V8=(()=>{let t=0;return()=>t++})();function Dt(t){return t==null}function Rr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Et(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function gi(t,e){return bn(t)?t:e}function Ct(t,e){return typeof t>"u"?e:t}const z8=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function tr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Mt(t,e,r,n){let s,i,a;if(Rr(t))for(i=t.length,s=0;s<i;s++)e.call(r,t[s],s);else if(Et(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(r,t[a[s]],a[s])}function qg(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Jg(t){if(Rr(t))return t.map(Jg);if(Et(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=Jg(t[r[s]]);return e}return t}function sS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function $8(t,e,r,n){if(!sS(t))return;const s=e[t],i=r[t];Et(s)&&Et(i)?Bd(s,i,n):e[t]=Jg(i)}function Bd(t,e,r){const n=Rr(e)?e:[e],s=n.length;if(!Et(t))return t;r=r||{};const i=r.merger||$8;let a;for(let o=0;o<s;++o){if(a=n[o],!Et(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)i(l[c],t,a,r)}return t}function $u(t,e){return Bd(t,e,{merger:G8})}function G8(t,e,r){if(!sS(t))return;const n=e[t],s=r[t];Et(n)&&Et(s)?$u(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Jg(s))}const gB={"":t=>t,x:t=>t.x,y:t=>t.y};function W8(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function q8(t){const e=W8(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function rc(t,e){return(gB[e]||(gB[e]=q8(e)))(t)}function Cy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Cd=t=>typeof t<"u",pA=t=>typeof t=="function",pB=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function J8(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const wn=Math.PI,ti=2*wn,X8=ti+wn,Xg=Number.POSITIVE_INFINITY,Y8=wn/180,Ys=wn/2,PA=wn/4,mB=wn*2/3,iS=Math.log10,Si=Math.sign;function Gu(t,e,r){return Math.abs(t-e)<r}function xB(t){const e=Math.round(t);t=Gu(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(iS(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Z8(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function eO(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function _d(t){return!eO(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function tO(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function rO(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function eo(t){return t*(wn/180)}function nO(t){return t*(180/wn)}function vB(t){if(!bn(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function sO(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*wn&&(i+=ti),{angle:i,distance:s}}function rw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function iO(t,e){return(t-e+X8)%ti-wn}function yi(t){return(t%ti+ti)%ti}function aS(t,e,r,n){const s=yi(t),i=yi(e),a=yi(r),o=yi(i-s),l=yi(a-s),c=yi(s-i),u=yi(s-a);return s===i||s===a||n&&i===a||o>l&&c<u}function os(t,e,r){return Math.max(e,Math.min(r,t))}function aO(t){return os(t,-32768,32767)}function Ga(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function _y(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const to=(t,e,r,n)=>_y(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),AO=(t,e,r)=>_y(t,r,n=>t[n][e]>=r);function oO(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const AS=["push","pop","shift","splice","unshift"];function lO(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),AS.forEach(r=>{const n="_onData"+Cy(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...i)}),a}})})}function wB(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(AS.forEach(i=>{delete t[i]}),delete t._chartjs)}function oS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const lS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function cS(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,lS.call(window,()=>{n=!1,t.apply(e,r)}))}}function cO(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const uS=t=>t==="start"?"left":t==="end"?"right":"center",ss=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,uO=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function dO(t,e,r){const n=e.length;let s=0,i=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:f,minDefined:g,maxDefined:m}=a.getUserBounds();if(g){if(s=Math.min(to(l,u,d).lo,r?n:to(e,u,a.getPixelForValue(d)).lo),c){const w=l.slice(0,s+1).reverse().findIndex(B=>!Dt(B[o.axis]));s-=Math.max(0,w)}s=os(s,0,n-1)}if(m){let w=Math.max(to(l,a.axis,f,!0).hi+1,r?0:to(e,u,a.getPixelForValue(f),!0).hi+1);if(c){const B=l.slice(w-1).findIndex(x=>!Dt(x[o.axis]));w+=Math.max(0,B)}i=os(w,s,n)-s}else i=n-s}return{start:s,count:i}}function hO(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=s,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const Sf=t=>t===0||t===1,yB=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ti/r)),bB=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ti/r)+1,Wu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ys)+1,easeOutSine:t=>Math.sin(t*Ys),easeInOutSine:t=>-.5*(Math.cos(wn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Sf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Sf(t)?t:yB(t,.075,.3),easeOutElastic:t=>Sf(t)?t:bB(t,.075,.3),easeInOutElastic(t){return Sf(t)?t:t<.5?.5*yB(t*2,.1125,.45):.5+.5*bB(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Wu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Wu.easeInBounce(t*2)*.5:Wu.easeOutBounce(t*2-1)*.5+.5};function Ny(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function BB(t){return Ny(t)?t:new bd(t)}function qm(t){return Ny(t)?t:new bd(t).saturate(.5).darken(.1).hexString()}const fO=["x","y","borderWidth","radius","tension"],gO=["color","borderColor","backgroundColor"];function pO(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:gO},numbers:{type:"number",properties:fO}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function mO(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const CB=new Map;function xO(t,e){e=e||{};const r=t+JSON.stringify(e);let n=CB.get(r);return n||(n=new Intl.NumberFormat(t,e),CB.set(r,n)),n}function dS(t,e,r){return xO(e,r).format(t)}const vO={values(t){return Rr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=wO(t,r)}const a=iS(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),dS(t,n,l)}};function wO(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var hS={formatters:vO};function yO(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const mo=Object.create(null),nw=Object.create(null);function qu(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function Jm(t,e,r){return typeof e=="string"?Bd(qu(t,e),r):Bd(qu(t,""),e)}class bO{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>qm(s.backgroundColor),this.hoverBorderColor=(n,s)=>qm(s.borderColor),this.hoverColor=(n,s)=>qm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Jm(this,e,r)}get(e){return qu(this,e)}describe(e,r){return Jm(nw,e,r)}override(e,r){return Jm(mo,e,r)}route(e,r,n,s){const i=qu(this,e),a=qu(this,n),o="_"+r;Object.defineProperties(i,{[o]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],c=a[s];return Et(l)?Object.assign({},c,l):Ct(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var Sr=new bO({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pO,mO,yO]);function BO(t){return!t||Dt(t.size)||Dt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _B(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function TA(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function NB(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function sw(t,e,r,n){fS(t,e,r,n,null)}function fS(t,e,r,n,s){let i,a,o,l,c,u,d,f;const g=e.pointStyle,m=e.rotation,w=e.radius;let B=(m||0)*Y8;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(B),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),g){default:s?t.ellipse(r,n,s/2,w,0,0,ti):t.arc(r,n,w,0,ti),t.closePath();break;case"triangle":u=s?s/2:w,t.moveTo(r+Math.sin(B)*u,n-Math.cos(B)*w),B+=mB,t.lineTo(r+Math.sin(B)*u,n-Math.cos(B)*w),B+=mB,t.lineTo(r+Math.sin(B)*u,n-Math.cos(B)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,a=Math.cos(B+PA)*l,d=Math.cos(B+PA)*(s?s/2-c:l),o=Math.sin(B+PA)*l,f=Math.sin(B+PA)*(s?s/2-c:l),t.arc(r-d,n-o,c,B-wn,B-Ys),t.arc(r+f,n-a,c,B-Ys,B),t.arc(r+d,n+o,c,B,B+Ys),t.arc(r-f,n+a,c,B+Ys,B+wn),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*w,u=s?s/2:l,t.rect(r-u,n-l,2*u,2*l);break}B+=PA;case"rectRot":d=Math.cos(B)*(s?s/2:w),a=Math.cos(B)*w,o=Math.sin(B)*w,f=Math.sin(B)*(s?s/2:w),t.moveTo(r-d,n-o),t.lineTo(r+f,n-a),t.lineTo(r+d,n+o),t.lineTo(r-f,n+a),t.closePath();break;case"crossRot":B+=PA;case"cross":d=Math.cos(B)*(s?s/2:w),a=Math.cos(B)*w,o=Math.sin(B)*w,f=Math.sin(B)*(s?s/2:w),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"star":d=Math.cos(B)*(s?s/2:w),a=Math.cos(B)*w,o=Math.sin(B)*w,f=Math.sin(B)*(s?s/2:w),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a),B+=PA,d=Math.cos(B)*(s?s/2:w),a=Math.cos(B)*w,o=Math.sin(B)*w,f=Math.sin(B)*(s?s/2:w),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"line":a=s?s/2:Math.cos(B)*w,o=Math.sin(B)*w,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(B)*(s?s/2:w),n+Math.sin(B)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Nd(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Rp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Kp(t){t.restore()}function CO(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function _O(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function NO(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Dt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function SO(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=r-i.actualBoundingBoxAscent,c=r+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function FO(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Yg(t,e,r,n,s,i={}){const a=Rr(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,NO(t,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&FO(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Dt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,r,n,i.maxWidth)),t.fillText(c,r,n,i.maxWidth),SO(t,r,n,c,i),n+=Number(s.lineHeight);t.restore()}function Zg(t,e){const{x:r,y:n,w:s,h:i,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*wn,wn,!0),t.lineTo(r,n+i-a.bottomLeft),t.arc(r+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,wn,Ys,!0),t.lineTo(r+s-a.bottomRight,n+i),t.arc(r+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,Ys,0,!0),t.lineTo(r+s,n+a.topRight),t.arc(r+s-a.topRight,n+a.topRight,a.topRight,0,-Ys,!0),t.lineTo(r+a.topLeft,n)}const jO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,EO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function UO(t,e){const r=(""+t).match(jO);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const kO=t=>+t||0;function gS(t,e){const r={},n=Et(e),s=n?Object.keys(e):e,i=Et(t)?n?a=>Ct(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)r[a]=kO(i(a));return r}function pS(t){return gS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Kl(t){return gS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ni(t){const e=pS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function zn(t,e){t=t||{},e=e||Sr.font;let r=Ct(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Ct(t.style,e.style);n&&!(""+n).match(EO)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:Ct(t.family,e.family),lineHeight:UO(Ct(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Ct(t.weight,e.weight),string:""};return s.string=BO(s),s}function Ff(t,e,r,n){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function QO(t,e,r){const{min:n,max:s}=t,i=z8(e,(s-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function Bo(t,e){return Object.assign(Object.create(t),e)}function Sy(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=wS("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:o=>Sy([o,...t],e,i,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return xS(o,l,()=>MO(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return FB(o).includes(l)},ownKeys(o){return FB(o)},set(o,l,c){const u=o._storage||(o._storage=s());return o[l]=u[l]=c,delete o._keys,!0}})}function nc(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:mS(t,n),setContext:i=>nc(t,i,r,n),override:i=>nc(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return xS(i,a,()=>IO(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function mS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:pA(r)?r:()=>r,isIndexable:pA(n)?n:()=>n}}const LO=(t,e)=>t?t+Cy(e):e,Fy=(t,e)=>Et(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xS(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function IO(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=t;let o=n[e];return pA(o)&&a.isScriptable(e)&&(o=PO(e,o,t,r)),Rr(o)&&o.length&&(o=TO(e,o,t,a.isIndexable)),Fy(e,o)&&(o=nc(o,s,i&&i[e],a)),o}function PO(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,a||n);return o.delete(t),Fy(t,l)&&(l=jy(s._scopes,s,t,l)),l}function TO(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Et(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=jy(c,s,t,u);e.push(nc(d,i,a&&a[t],o))}}return e}function vS(t,e,r){return pA(t)?t(e,r):t}const DO=(t,e)=>t===!0?e:typeof t=="string"?rc(e,t):void 0;function OO(t,e,r,n,s){for(const i of e){const a=DO(r,i);if(a){t.add(a);const o=vS(a._fallback,r,s);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function jy(t,e,r,n){const s=e._rootScopes,i=vS(e._fallback,r,n),a=[...t,...s],o=new Set;o.add(n);let l=SB(o,a,r,i||r,n);return l===null||typeof i<"u"&&i!==r&&(l=SB(o,a,i,l,n),l===null)?!1:Sy(Array.from(o),[""],s,i,()=>HO(e,r,n))}function SB(t,e,r,n,s){for(;r;)r=OO(t,e,r,n,s);return r}function HO(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return Rr(s)&&Et(r)?r:s||{}}function MO(t,e,r,n){let s;for(const i of e)if(s=wS(LO(i,t),r),typeof s<"u")return Fy(t,s)?jy(r,n,t,s):s}function wS(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function FB(t){let e=t._keys;return e||(e=t._keys=RO(t._scopes)),e}function RO(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const KO=Number.EPSILON||1e-14,sc=(t,e)=>e<t.length&&!t[e].skip&&t[e],yS=t=>t==="x"?"y":"x";function VO(t,e,r,n){const s=t.skip?e:t,i=e,a=r.skip?e:r,o=rw(i,s),l=rw(a,i);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,f=n*u;return{previous:{x:i.x-d*(a.x-s.x),y:i.y-d*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function zO(t,e,r){const n=t.length;let s,i,a,o,l,c=sc(t,0);for(let u=0;u<n-1;++u)if(l=c,c=sc(t,u+1),!(!l||!c)){if(Gu(e[u],0,KO)){r[u]=r[u+1]=0;continue}s=r[u]/e[u],i=r[u+1]/e[u],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),r[u]=s*a*e[u],r[u+1]=i*a*e[u])}}function $O(t,e,r="x"){const n=yS(r),s=t.length;let i,a,o,l=sc(t,0);for(let c=0;c<s;++c){if(a=o,o=l,l=sc(t,c+1),!o)continue;const u=o[r],d=o[n];a&&(i=(u-a[r])/3,o[`cp1${r}`]=u-i,o[`cp1${n}`]=d-i*e[c]),l&&(i=(l[r]-u)/3,o[`cp2${r}`]=u+i,o[`cp2${n}`]=d+i*e[c])}}function GO(t,e="x"){const r=yS(e),n=t.length,s=Array(n).fill(0),i=Array(n);let a,o,l,c=sc(t,0);for(a=0;a<n;++a)if(o=l,l=c,c=sc(t,a+1),!!l){if(c){const u=c[e]-l[e];s[a]=u!==0?(c[r]-l[r])/u:0}i[a]=o?c?Si(s[a-1])!==Si(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}zO(t,s,i),$O(t,i,e)}function jf(t,e,r){return Math.max(Math.min(t,r),e)}function WO(t,e){let r,n,s,i,a,o=Nd(t[0],e);for(r=0,n=t.length;r<n;++r)a=i,i=o,o=r<n-1&&Nd(t[r+1],e),i&&(s=t[r],a&&(s.cp1x=jf(s.cp1x,e.left,e.right),s.cp1y=jf(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=jf(s.cp2x,e.left,e.right),s.cp2y=jf(s.cp2y,e.top,e.bottom)))}function qO(t,e,r,n,s){let i,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")GO(t,s);else{let c=n?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],l=VO(c,o,t[Math.min(i+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&WO(t,r)}function Ey(){return typeof window<"u"&&typeof document<"u"}function Uy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ep(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const Vp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function JO(t,e){return Vp(t).getPropertyValue(e)}const XO=["top","right","bottom","left"];function co(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=XO[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const YO=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function ZO(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let a=!1,o,l;if(YO(s,i,t.target))o=s,l=i;else{const c=e.getBoundingClientRect();o=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function KA(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=Vp(r),i=s.boxSizing==="border-box",a=co(s,"padding"),o=co(s,"border","width"),{x:l,y:c,box:u}=ZO(t,r),d=a.left+(u&&o.left),f=a.top+(u&&o.top);let{width:g,height:m}=e;return i&&(g-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/g*r.width/n),y:Math.round((c-f)/m*r.height/n)}}function eH(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&Uy(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const a=i.getBoundingClientRect(),o=Vp(i),l=co(o,"border","width"),c=co(o,"padding");e=a.width-c.width-l.width,r=a.height-c.height-l.height,n=ep(o.maxWidth,i,"clientWidth"),s=ep(o.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||Xg,maxHeight:s||Xg}}const Wa=t=>Math.round(t*10)/10;function tH(t,e,r,n){const s=Vp(t),i=co(s,"margin"),a=ep(s.maxWidth,t,"clientWidth")||Xg,o=ep(s.maxHeight,t,"clientHeight")||Xg,l=eH(t,e,r);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=co(s,"border","width"),g=co(s,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=Wa(Math.min(c,a,l.maxWidth)),u=Wa(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Wa(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Wa(Math.floor(u*n))),{width:c,height:u}}function jB(t,e,r){const n=e||1,s=Wa(t.height*n),i=Wa(t.width*n);t.height=Wa(t.height),t.width=Wa(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=n,a.height=s,a.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const rH=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ey()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function EB(t,e){const r=JO(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function VA(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function nH(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function sH(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=VA(t,s,r),o=VA(s,i,r),l=VA(i,e,r),c=VA(a,o,r),u=VA(o,l,r);return VA(c,u,r)}const iH=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},aH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Vl(t,e,r){return t?iH(e,r):aH()}function bS(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function BS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function CS(t){return t==="angle"?{between:aS,compare:iO,normalize:yi}:{between:Ga,compare:(e,r)=>e-r,normalize:e=>e}}function UB({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function AH(t,e,r){const{property:n,start:s,end:i}=r,{between:a,normalize:o}=CS(n),l=e.length;let{start:c,end:u,loop:d}=t,f,g;if(d){for(c+=l,u+=l,f=0,g=l;f<g&&a(o(e[c%l][n]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function _S(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,a=e.length,{compare:o,between:l,normalize:c}=CS(n),{start:u,end:d,loop:f,style:g}=AH(t,e,r),m=[];let w=!1,B=null,x,y,C;const S=()=>l(s,C,x)&&o(s,C)!==0,k=()=>o(i,x)===0||l(i,C,x),O=()=>w||S(),I=()=>!w||k();for(let F=u,R=u;F<=d;++F)y=e[F%a],!y.skip&&(x=c(y[n]),x!==C&&(w=l(x,s,i),B===null&&O()&&(B=o(x,s)===0?F:R),B!==null&&I()&&(m.push(UB({start:B,end:F,loop:f,count:a,style:g})),B=null),R=F,C=x));return B!==null&&m.push(UB({start:B,end:d,loop:f,count:a,style:g})),m}function NS(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=_S(n[s],t.points,e);i.length&&r.push(...i)}return r}function oH(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function lH(t,e,r,n){const s=t.length,i=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%s];c.skip||c.stop?o.skip||(n=!1,i.push({start:e%s,end:(l-1)%s,loop:n}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&i.push({start:e%s,end:a%s,loop:n}),i}function cH(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=oH(r,s,i,n);if(n===!0)return kB(t,[{start:a,end:o,loop:i}],r,e);const l=o<a?o+s:o,c=!!t._fullLoop&&a===0&&o===s-1;return kB(t,lH(r,a,l,c),r,e)}function kB(t,e,r,n){return!n||!n.setContext||!r?e:uH(t,e,r,n)}function uH(t,e,r,n){const s=t._chart.getContext(),i=QB(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,c=[];let u=i,d=e[0].start,f=d;function g(m,w,B,x){const y=o?-1:1;if(m!==w){for(m+=l;r[m%l].skip;)m-=y;for(;r[w%l].skip;)w+=y;m%l!==w%l&&(c.push({start:m%l,end:w%l,loop:B,style:x}),u=x,d=w%l)}}for(const m of e){d=o?d:m.start;let w=r[d%l],B;for(f=d+1;f<=m.end;f++){const x=r[f%l];B=QB(n.setContext(Bo(s,{type:"segment",p0:w,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),dH(B,u)&&g(d,f-1,m.loop,u),w=x,u=B}d<f-1&&g(d,f-1,m.loop,u)}return c}function QB(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function dH(t,e){if(!e)return!1;const r=[],n=function(s,i){return Ny(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Ef(t,e,r){return t.options.clip?t[r]:e[r]}function hH(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Ef(r,e,"left"),right:Ef(r,e,"right"),top:Ef(n,e,"top"),bottom:Ef(n,e,"bottom")}:e}function SS(t,e){const r=e._clip;if(r.disabled)return!1;const n=hH(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class fH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],a=r.duration;i.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=lS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zi=new fH;const LB="transparent",gH={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=BB(t||LB),s=n.valid&&BB(e||LB);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class pH{constructor(e,r,n,s){const i=r[n];s=Ff([e.to,s,i,e.from]);const a=Ff([e.from,i,s]);this._active=!0,this._fn=e.fn||gH[e.type||typeof a],this._easing=Wu[e.easing]||Wu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ff([e.to,r,s,e.from]),this._from=Ff([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||r<n),!this._active){this._target[s]=o,this._notify(!0);return}if(r<0){this._target[s]=i;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class FS{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Et(e))return;const r=Object.keys(Sr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Et(i))return;const a={};for(const o of r)a[o]=i[o];(Rr(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,s=xH(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&mH(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,r));continue}const u=r[c];let d=i[c];const f=n.get(c);if(d)if(f&&d.active()){d.update(f,u,o);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new pH(f,e,c,u),s.push(d)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return zi.add(this._chart,n),!0}}function mH(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function xH(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function IB(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function vH(t,e,r){if(r===!1)return!1;const n=IB(t,r),s=IB(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function wH(t){let e,r,n,s;return Et(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function jS(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function PB(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===r){if(u=!0,n.all)continue;break}c=t.values[l],bn(c)&&(i||e===0||Si(e)===Si(c))&&(e+=c)}return!u&&!n.all?0:e}function yH(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[s]:u,[i]:t[u]};return o}function Xm(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function bH(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function BH(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function CH(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function TB(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function DB(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:a,index:o}=n,l=i.axis,c=a.axis,u=bH(i,a,n),d=e.length;let f;for(let g=0;g<d;++g){const m=e[g],{[l]:w,[c]:B}=m,x=m._stacks||(m._stacks={});f=x[c]=CH(s,u,w),f[o]=B,f._top=TB(f,a,!0,n.type),f._bottom=TB(f,a,!1,n.type);const y=f._visualValues||(f._visualValues={});y[o]=B}}function Ym(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function _H(t,e){return Bo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function NH(t,e,r){return Bo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function su(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const Zm=t=>t==="reset"||t==="none",OB=(t,e)=>e?t:Object.assign({},t),SH=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:jS(r,!0),values:null};class zl{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&su(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(d,f,g,m)=>d==="x"?f:d==="r"?m:g,i=r.xAxisID=Ct(n.xAxisID,Ym(e,"x")),a=r.yAxisID=Ct(n.yAxisID,Ym(e,"y")),o=r.rAxisID=Ct(n.rAxisID,Ym(e,"r")),l=r.indexAxis,c=r.iAxisID=s(l,i,a,o),u=r.vAxisID=s(l,a,i,o);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wB(this._data,this),e._stacked&&su(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Et(r)){const s=this._cachedMeta;this._data=yH(r,s)}else if(n!==r){if(n){wB(n,this);const s=this._cachedMeta;su(s),s._parsed=[]}r&&Object.isExtensible(r)&&lO(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=Xm(r.vScale,r),r.stack!==n.stack&&(s=!0,su(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&(DB(this,r._parsed),r._stacked=Xm(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,o=i.axis;let l=e===0&&r===s.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{Rr(s[e])?f=this.parseArrayData(n,s,e,r):Et(s[e])?f=this.parseObjectData(n,s,e,r):f=this.parsePrimitiveData(n,s,e,r);const g=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<r;++u)n._parsed[u+e]=d=f[u],l&&(g()&&(l=!1),c=d);n._sorted=l}a&&DB(this,f)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,c=i.getLabels(),u=i===a,d=new Array(s);let f,g,m;for(f=0,g=s;f<g;++f)m=f+n,d[f]={[o]:u||i.parse(c[m],m),[l]:a.parse(r[m],m)};return d}parseArrayData(e,r,n,s){const{xScale:i,yScale:a}=e,o=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+n,d=r[u],o[l]={x:i.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,r,n,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+n,g=r[f],c[u]={x:i.parse(rc(g,o),f),y:a.parse(rc(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,a=r[e.axis],o={keys:jS(s,!0),values:r._stacks[e.axis]._visualValues};return PB(o,a,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let a=i===null?NaN:i;const o=s&&n._stacks[r.axis];s&&o&&(s.values=o,a=PB(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,a=s.length,o=this._getOtherScale(e),l=SH(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=BH(o);let f,g;function m(){g=s[f];const w=g[o.axis];return!bn(g[e.axis])||u>w||d<w}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(c,e,g,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=r.length;s<i;++s)a=r[s][e.axis],bn(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=wH(Ct(this.options.clip,vH(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,o,l),u=o;u<o+l;++u){const d=s[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,i))}for(u=0;u<a.length;++u)a[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=NH(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=_H(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,a=e+"-"+r,o=i[a],l=this.enableOptionSharing&&Cd(n);if(o)return OB(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(Sr.elements[e]),m=()=>this.getContext(n,s,r),w=c.resolveNamedOptions(f,g,m,d);return w.$shared&&(w.$shared=l,i[a]=Object.freeze(OB(w,l))),w}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${r}`,o=i[a];if(o)return o;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,n,r))}const c=new FS(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Zm(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:a}}updateElement(e,r,n,s){Zm(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!Zm(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=n.length,i=r.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,a=e+r;let o;const l=c=>{for(c.length+=r,o=c.length-1;o>=a;o--)c[o]=c[o-r]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&su(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}gt(zl,"defaults",{}),gt(zl,"datasetElementType",null),gt(zl,"dataElementType",null);function FH(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(t));t._cache.$bar=oS(n.sort((s,i)=>s-i))}return t._cache.$bar}function jH(t){const e=t.iScale,r=FH(e,t.type);let n=e._length,s,i,a,o;const l=()=>{a===32767||a===-32768||(Cd(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(s=0,i=r.length;s<i;++s)a=e.getPixelForValue(r[s]),l();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return n}function EH(t,e,r,n){const s=r.barThickness;let i,a;return Dt(s)?(i=e.min*r.categoryPercentage,a=r.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:e.pixels[t]-i/2}}function UH(t,e,r,n){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const l=r.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const c=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:r.barPercentage,start:c}}function kH(t,e,r,n){const s=r.parse(t[0],n),i=r.parse(t[1],n),a=Math.min(s,i),o=Math.max(s,i);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:o}}function ES(t,e,r,n){return Rr(t)?kH(t,e,r,n):e[r.axis]=r.parse(t,n),e}function HB(t,e,r,n){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,l=[];let c,u,d,f;for(c=r,u=r+n;c<u;++c)f=e[c],d={},d[s.axis]=o||s.parse(a[c],c),l.push(ES(f,d,i,c));return l}function ex(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function QH(t,e,r){return t!==0?Si(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function LH(t){let e,r,n,s,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:e,top:s,bottom:i}}function IH(t,e,r,n){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=LH(t);s==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?s=c:(r._bottom||0)===n?s=u:(i[MB(u,a,o,l)]=!0,s=c)),i[MB(s,a,o,l)]=!0,t.borderSkipped=i}function MB(t,e,r,n){return n?(t=PH(t,e,r),t=RB(t,r,e)):t=RB(t,e,r),t}function PH(t,e,r){return t===e?r:t===r?e:t}function RB(t,e,r){return t==="start"?e:t==="end"?r:t}function TH(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class rg extends zl{parsePrimitiveData(e,r,n,s){return HB(e,r,n,s)}parseArrayData(e,r,n,s){return HB(e,r,n,s)}parseObjectData(e,r,n,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let f,g,m,w;for(f=n,g=n+s;f<g;++f)w=r[f],m={},m[i.axis]=i.parse(rc(w,c),f),d.push(ES(rc(w,u),m,a,f));return d}updateRangeFromParsed(e,r,n,s){super.updateRangeFromParsed(e,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(e),a=i._custom,o=ex(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,s);for(let g=r;g<r+n;g++){const m=this.getParsed(g),w=i||Dt(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),B=this._calculateBarIndexPixels(g,u),x=(m._stacks||{})[o.axis],y={horizontal:c,base:w.base,enableBorderRadius:!x||ex(m._custom)||a===x._top||a===x._bottom,x:c?w.head:B.center,y:c?B.center:w.head,height:c?B.size:Math.abs(w.size),width:c?Math.abs(w.size):B.size};f&&(y.options=d||this.resolveDataElementOptions(g,e[g].active?"active":s));const C=y.options||e[g].options;IH(y,C,x,a),TH(y,C,u.ratio),this.updateElement(e[g],g,y,s)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),l=o&&o[n.axis],c=u=>{const d=u._parsed.find(g=>g[n.axis]===l),f=d&&d[u.vScale.axis];if(Dt(f)||isNaN(f))return!0};for(const u of s)if(!(r!==void 0&&c(u))&&((i===!1||a.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Ct(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const s=this._getStacks(e,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,a;for(i=0,a=r.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=e.barThickness;return{min:o||jH(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),c=l._custom,u=ex(c);let d=l[r.axis],f=0,g=n?this.applyStack(r,l,n):d,m,w;g!==d&&(f=g-d,g=d),u&&(d=c.barStart,g=c.barEnd-c.barStart,d!==0&&Si(d)!==Si(c.barEnd)&&(f=0),f+=d);const B=!Dt(i)&&!u?i:f;let x=r.getPixelForValue(B);if(this.chart.getDataVisibility(e)?m=r.getPixelForValue(f+g):m=x,w=m-x,Math.abs(w)<a){w=QH(w,r,o)*a,d===o&&(x-=w/2);const y=r.getPixelForDecimal(0),C=r.getPixelForDecimal(1),S=Math.min(y,C),k=Math.max(y,C);x=Math.max(Math.min(x,k),S),m=x+w,n&&!u&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(m)-r.getValueForPixel(x))}if(x===r.getPixelForValue(o)){const y=Si(w)*r.getLineWidthForValue(o)/2;x+=y,w-=y}return{size:w,base:x,head:m,center:m+w/2}}_calculateBarIndexPixels(e,r){const n=r.scale,s=this.options,i=s.skipNull,a=Ct(s.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,d=s.barThickness==="flex"?UH(e,r,s,u*c):EH(e,r,s,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(Ct(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;o=d.start+d.chunk*m+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}gt(rg,"id","bar"),gt(rg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),gt(rg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ng extends zl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=dO(r,s,a);this._drawStart=o,this._drawCount=l,hO(r)&&(o=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(s,o,l,e)}updateElements(e,r,n,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,s),f=a.axis,g=o.axis,{spanGaps:m,segment:w}=this.options,B=_d(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||s==="none",y=r+n,C=e.length;let S=r>0&&this.getParsed(r-1);for(let k=0;k<C;++k){const O=e[k],I=x?O:{};if(k<r||k>=y){I.skip=!0;continue}const F=this.getParsed(k),R=Dt(F[g]),J=I[f]=a.getPixelForValue(F[f],k),Q=I[g]=i||R?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,F,l):F[g],k);I.skip=isNaN(J)||isNaN(Q)||R,I.stop=k>0&&Math.abs(F[f]-S[f])>B,w&&(I.parsed=F,I.raw=c.data[k]),d&&(I.options=u||this.resolveDataElementOptions(k,O.active?"active":s)),x||this.updateElement(O,k,I,s),S=F}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}gt(ng,"id","line"),gt(ng,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),gt(ng,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function DA(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ky{constructor(e){gt(this,"options");this.options=e||{}}static override(e){Object.assign(ky.prototype,e)}init(){}formats(){return DA()}parse(){return DA()}format(){return DA()}add(){return DA()}diff(){return DA()}startOf(){return DA()}endOf(){return DA()}}var DH={_date:ky};function OH(t,e,r,n){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const c=o._reversePixels?AO:to;if(n){if(s._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(i,e,r-d),g=c(i,e,r+d);return{lo:f.lo,hi:g.hi}}}}else{const u=c(i,e,r);if(l){const{vScale:d}=s._cachedMeta,{_parsed:f}=t,g=f.slice(0,u.lo+1).reverse().findIndex(w=>!Dt(w[d.axis]));u.lo-=Math.max(0,g);const m=f.slice(u.hi).findIndex(w=>!Dt(w[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:i.length-1}}function zp(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=i.length;o<l;++o){const{index:c,data:u}=i[o],{lo:d,hi:f}=OH(i[o],e,a,s);for(let g=d;g<=f;++g){const m=u[g];m.skip||n(m,c,g)}}}function HH(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,a=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function tx(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||zp(t,r,e,function(o,l,c){!s&&!Nd(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&i.push({element:o,datasetIndex:l,index:c})},!0),i}function MH(t,e,r,n){let s=[];function i(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:d}=sO(a,{x:e.x,y:e.y});aS(d,c,u)&&s.push({element:a,datasetIndex:o,index:l})}return zp(t,r,e,i),s}function RH(t,e,r,n,s,i){let a=[];const o=HH(r);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const g=u.inRange(e.x,e.y,s);if(n&&!g)return;const m=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(m))&&!g)return;const B=o(e,m);B<l?(a=[{element:u,datasetIndex:d,index:f}],l=B):B===l&&a.push({element:u,datasetIndex:d,index:f})}return zp(t,r,e,c),a}function rx(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?MH(t,e,r,s):RH(t,e,r,n,s,i)}function KB(t,e,r,n,s){const i=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return zp(t,r,e,(l,c,u)=>{l[a]&&l[a](e[r],s)&&(i.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,s))}),n&&!o?[]:i}var KH={modes:{index(t,e,r,n){const s=KA(e,t),i=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?tx(t,s,i,n,a):rx(t,s,i,!1,n,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const s=KA(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?tx(t,s,i,n,a):rx(t,s,i,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,r,n){const s=KA(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return tx(t,s,i,n,a)},nearest(t,e,r,n){const s=KA(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return rx(t,s,i,r.intersect,n,a)},x(t,e,r,n){const s=KA(e,t);return KB(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=KA(e,t);return KB(t,s,"y",r.intersect,n)}}};const US=["left","top","right","bottom"];function iu(t,e){return t.filter(r=>r.pos===e)}function VB(t,e){return t.filter(r=>US.indexOf(r.pos)===-1&&r.box.axis===e)}function au(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function VH(t){const e=[];let r,n,s,i,a,o;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function zH(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!US.includes(s))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function $H(t,e){const r=zH(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:l}=o.box,c=r[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*n:l&&e.availableWidth,o.height=s):(o.width=n,o.height=u?u*s:l&&e.availableHeight)}return r}function GH(t){const e=VH(t),r=au(e.filter(c=>c.box.fullSize),!0),n=au(iu(e,"left"),!0),s=au(iu(e,"right")),i=au(iu(e,"top"),!0),a=au(iu(e,"bottom")),o=VB(e,"x"),l=VB(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:iu(e,"chartArea"),vertical:n.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}function zB(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function kS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function WH(t,e,r,n){const{pos:s,box:i}=r,a=t.maxPadding;if(!Et(s)){r.size&&(t[s]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?i.height:i.width),r.size=d.size/d.count,t[s]+=r.size}i.getPadding&&kS(a,i.getPadding());const o=Math.max(0,e.outerWidth-zB(a,t,"left","right")),l=Math.max(0,e.outerHeight-zB(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function qH(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function JH(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],r[a])}),i}return n(t?["left","right"]:["top","bottom"])}function bu(t,e,r,n){const s=[];let i,a,o,l,c,u;for(i=0,a=t.length,c=0;i<a;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,JH(o.horizontal,e));const{same:d,other:f}=WH(e,r,o,n);c|=d&&s.length,u=u||f,l.fullSize||s.push(o)}return c&&bu(s,e,r,n)||u}function Uf(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function $B(t,e,r,n){const s=r.padding;let{x:i,y:a}=e;for(const o of t){const l=o.box,c=n[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,f=c.size||l.height;Cd(c.start)&&(a=c.start),l.fullSize?Uf(l,s.left,a,r.outerWidth-s.right-s.left,f):Uf(l,e.left+c.placed,a,d,f),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,f=c.size||l.width;Cd(c.start)&&(i=c.start),l.fullSize?Uf(l,i,s.top,f,r.outerHeight-s.bottom-s.top):Uf(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=a}var qa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=ni(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(r-s.height,0),o=GH(t.boxes),l=o.vertical,c=o.horizontal;Mt(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const u=l.reduce((w,B)=>B.box.options&&B.box.options.display===!1?w:w+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},s);kS(f,ni(n));const g=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),m=$H(l.concat(c),d);bu(o.fullSize,g,d,m),bu(l,g,d,m),bu(c,g,d,m)&&bu(l,g,d,m),qH(g),$B(o.leftAndTop,g,d,m),g.x+=g.w,g.y+=g.h,$B(o.rightAndBottom,g,d,m),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Mt(o.chartArea,w=>{const B=w.box;Object.assign(B,t.chartArea),B.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class QS{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class XH extends QS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const sg="$chartjs",YH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},GB=t=>t===null||t==="";function ZH(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[sg]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",GB(s)){const i=EB(t,"width");i!==void 0&&(t.width=i)}if(GB(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=EB(t,"height");i!==void 0&&(t.height=i)}return t}const LS=rH?{passive:!0}:!1;function eM(t,e,r){t&&t.addEventListener(e,r,LS)}function tM(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,LS)}function rM(t,e){const r=YH[t.type]||t.type,{x:n,y:s}=KA(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function tp(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function nM(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||tp(o.addedNodes,n),a=a&&!tp(o.removedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function sM(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||tp(o.removedNodes,n),a=a&&!tp(o.addedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Sd=new Map;let WB=0;function IS(){const t=window.devicePixelRatio;t!==WB&&(WB=t,Sd.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function iM(t,e){Sd.size||window.addEventListener("resize",IS),Sd.set(t,e)}function aM(t){Sd.delete(t),Sd.size||window.removeEventListener("resize",IS)}function AM(t,e,r){const n=t.canvas,s=n&&Uy(n);if(!s)return;const i=cS((o,l)=>{const c=s.clientWidth;r(o,l),c<s.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return a.observe(s),iM(t,i),a}function nx(t,e,r){r&&r.disconnect(),e==="resize"&&aM(t)}function oM(t,e,r){const n=t.canvas,s=cS(i=>{t.ctx!==null&&r(rM(i,t))},t);return eM(n,e,s),s}class lM extends QS{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(ZH(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[sg])return!1;const n=r[sg].initial;["height","width"].forEach(i=>{const a=n[i];Dt(a)?r.removeAttribute(i):r.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[sg],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:nM,detach:sM,resize:AM}[r]||oM;s[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:nx,detach:nx,resize:nx}[r]||tM)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return tH(e,r,n,s)}isAttached(e){const r=e&&Uy(e);return!!(r&&r.isConnected)}}function cM(t){return!Ey()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?XH:lM}class aa{constructor(){gt(this,"x");gt(this,"y");gt(this,"active",!1);gt(this,"options");gt(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return _d(this.x)&&_d(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}}gt(aa,"defaults",{}),gt(aa,"defaultRoutes");function uM(t,e){const r=t.options.ticks,n=dM(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?fM(e):[],a=i.length,o=i[0],l=i[a-1],c=[];if(a>s)return gM(e,c,i,a/s),c;const u=hM(i,e,s);if(a>0){let d,f;const g=a>1?Math.round((l-o)/(a-1)):null;for(kf(e,c,u,Dt(g)?0:o-g,o),d=0,f=a-1;d<f;d++)kf(e,c,u,i[d],i[d+1]);return kf(e,c,u,l,Dt(g)?e.length:l+g),c}return kf(e,c,u),c}function dM(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function hM(t,e,r){const n=pM(t),s=e.length/r;if(!n)return Math.max(s,1);const i=Z8(n);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function fM(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function gM(t,e,r,n){let s=0,i=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=r[s*n])}function kf(t,e,r,n,s){const i=Ct(n,0),a=Math.min(Ct(s,t.length),t.length);let o=0,l,c,u;for(r=Math.ceil(r),s&&(l=s-n,r=l/Math.floor(l/r)),u=i;u<0;)o++,u=Math.round(i+o*r);for(c=Math.max(i,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(i+o*r))}function pM(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const mM=t=>t==="left"?"right":t==="right"?"left":t,qB=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,JB=(t,e)=>Math.min(e||t,t);function XB(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function xM(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),c;if(!(r&&(n===1?c=Math.max(l-i,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-o||l>a+o)))return l}function vM(t,e){Mt(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function Au(t){return t.drawTicks?t.tickLength:0}function YB(t,e){if(!t.display)return 0;const r=zn(t.font,e),n=ni(t.padding);return(Rr(t.text)?t.text.length:1)*r.lineHeight+n.height}function wM(t,e){return Bo(t,{scale:e,type:"scale"})}function yM(t,e,r){return Bo(t,{tick:r,index:e,type:"tick"})}function bM(t,e,r){let n=uS(t);return(r&&e!=="right"||!r&&e==="right")&&(n=mM(n)),n}function BM(t,e,r,n){const{top:s,left:i,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,g,m;const w=a-s,B=o-i;if(t.isHorizontal()){if(g=ss(n,i,o),Et(r)){const x=Object.keys(r)[0],y=r[x];m=u[x].getPixelForValue(y)+w-e}else r==="center"?m=(c.bottom+c.top)/2+w-e:m=qB(t,r,e);f=o-i}else{if(Et(r)){const x=Object.keys(r)[0],y=r[x];g=u[x].getPixelForValue(y)-B+e}else r==="center"?g=(c.left+c.right)/2-B+e:g=qB(t,r,e);m=ss(n,a,s),d=r==="left"?-Ys:Ys}return{titleX:g,titleY:m,maxWidth:f,rotation:d}}class dc extends aa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=gi(e,Number.POSITIVE_INFINITY),r=gi(r,Number.NEGATIVE_INFINITY),n=gi(n,Number.POSITIVE_INFINITY),s=gi(s,Number.NEGATIVE_INFINITY),{min:gi(e,n),max:gi(r,s),minDefined:bn(e),maxDefined:bn(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),i||(n=Math.max(n,a.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:gi(r,gi(n,r)),max:gi(n,gi(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=QO(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?XB(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=uM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tr(this.options.afterUpdate,[this])}beforeSetDimensions(){tr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=tr(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){tr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=JB(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,g=os(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/n:g/(n-1),d+6>o&&(o=g/(n-(e.offset?.5:1)),l=this.maxHeight-Au(e.grid)-r.padding-YB(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),a=nO(Math.min(Math.asin(os((u.highest.height+6)/o,-1,1)),Math.asin(os(l/c,-1,1))-Math.asin(os(f/c,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){tr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=YB(s,r.options.font);if(o?(e.width=this.maxWidth,e.height=Au(i)+l):(e.height=this.maxHeight,e.width=Au(i)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),g=n.padding*2,m=eo(this.labelRotation),w=Math.cos(m),B=Math.sin(m);if(o){const x=n.mirror?0:B*d.width+w*f.height;e.height=Math.min(this.maxHeight,e.height+x+g)}else{const x=n.mirror?0:w*d.width+B*f.height;e.width=Math.min(this.maxWidth,e.width+x+g)}this._calculatePadding(c,u,B,w)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=s*e.width,g=n*r.height):(f=n*e.height,g=s*r.width):i==="start"?g=r.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,g=r.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-d+a)*this.width/(this.width-d),0)}else{let u=r.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=r.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Dt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=XB(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(r/JB(r,n));let c=0,u=0,d,f,g,m,w,B,x,y,C,S,k;for(d=0;d<r;d+=l){if(m=e[d].label,w=this._resolveTickFontOptions(d),s.font=B=w.string,x=i[B]=i[B]||{data:{},gc:[]},y=w.lineHeight,C=S=0,!Dt(m)&&!Rr(m))C=_B(s,x.data,x.gc,C,m),S=y;else if(Rr(m))for(f=0,g=m.length;f<g;++f)k=m[f],!Dt(k)&&!Rr(k)&&(C=_B(s,x.data,x.gc,C,k),S+=y);a.push(C),o.push(S),c=Math.max(C,c),u=Math.max(S,u)}vM(i,r);const O=a.indexOf(c),I=o.indexOf(u),F=R=>({width:a[R]||0,height:o[R]||0});return{first:F(0),last:F(r-1),widest:F(O),highest:F(I),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return aO(this._alignToPixels?TA(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=yM(this.getContext(),e,n))}return this.$context||(this.$context=wM(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=eo(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*n>o*s?o/n:l/s:l*s<o*n?l/n:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:o}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Au(i),g=[],m=o.setContext(this.getContext()),w=m.display?m.width:0,B=w/2,x=function(te){return TA(n,te,w)};let y,C,S,k,O,I,F,R,J,Q,j,K;if(a==="top")y=x(this.bottom),I=this.bottom-f,R=y-B,Q=x(e.top)+B,K=e.bottom;else if(a==="bottom")y=x(this.top),Q=e.top,K=x(e.bottom)-B,I=y+B,R=this.top+f;else if(a==="left")y=x(this.right),O=this.right-f,F=y-B,J=x(e.left)+B,j=e.right;else if(a==="right")y=x(this.left),J=e.left,j=x(e.right)-B,O=y+B,F=this.left+f;else if(r==="x"){if(a==="center")y=x((e.top+e.bottom)/2+.5);else if(Et(a)){const te=Object.keys(a)[0],le=a[te];y=x(this.chart.scales[te].getPixelForValue(le))}Q=e.top,K=e.bottom,I=y+B,R=I+f}else if(r==="y"){if(a==="center")y=x((e.left+e.right)/2);else if(Et(a)){const te=Object.keys(a)[0],le=a[te];y=x(this.chart.scales[te].getPixelForValue(le))}O=y-B,F=O-f,J=e.left,j=e.right}const $=Ct(s.ticks.maxTicksLimit,d),de=Math.max(1,Math.ceil(d/$));for(C=0;C<d;C+=de){const te=this.getContext(C),le=i.setContext(te),q=o.setContext(te),se=le.lineWidth,oe=le.color,Z=q.dash||[],_=q.dashOffset,L=le.tickWidth,M=le.tickColor,z=le.tickBorderDash||[],ee=le.tickBorderDashOffset;S=xM(this,C,l),S!==void 0&&(k=TA(n,S,se),c?O=F=J=j=k:I=R=Q=K=k,g.push({tx1:O,ty1:I,tx2:F,ty2:R,x1:J,y1:Q,x2:j,y2:K,width:se,color:oe,borderDash:Z,borderDashOffset:_,tickWidth:L,tickColor:M,tickBorderDash:z,tickBorderDashOffset:ee}))}return this._ticksLength=d,this._borderValue=y,g}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=Au(n.grid),g=f+u,m=d?-u:g,w=-eo(this.labelRotation),B=[];let x,y,C,S,k,O,I,F,R,J,Q,j,K="middle";if(s==="top")O=this.bottom-m,I=this._getXAxisLabelAlignment();else if(s==="bottom")O=this.top+m,I=this._getXAxisLabelAlignment();else if(s==="left"){const de=this._getYAxisLabelAlignment(f);I=de.textAlign,k=de.x}else if(s==="right"){const de=this._getYAxisLabelAlignment(f);I=de.textAlign,k=de.x}else if(r==="x"){if(s==="center")O=(e.top+e.bottom)/2+g;else if(Et(s)){const de=Object.keys(s)[0],te=s[de];O=this.chart.scales[de].getPixelForValue(te)+g}I=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")k=(e.left+e.right)/2-g;else if(Et(s)){const de=Object.keys(s)[0],te=s[de];k=this.chart.scales[de].getPixelForValue(te)}I=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const $=this._getLabelSizes();for(x=0,y=o.length;x<y;++x){C=o[x],S=C.label;const de=i.setContext(this.getContext(x));F=this.getPixelForTick(x)+i.labelOffset,R=this._resolveTickFontOptions(x),J=R.lineHeight,Q=Rr(S)?S.length:1;const te=Q/2,le=de.color,q=de.textStrokeColor,se=de.textStrokeWidth;let oe=I;a?(k=F,I==="inner"&&(x===y-1?oe=this.options.reverse?"left":"right":x===0?oe=this.options.reverse?"right":"left":oe="center"),s==="top"?c==="near"||w!==0?j=-Q*J+J/2:c==="center"?j=-$.highest.height/2-te*J+J:j=-$.highest.height+J/2:c==="near"||w!==0?j=J/2:c==="center"?j=$.highest.height/2-te*J:j=$.highest.height-Q*J,d&&(j*=-1),w!==0&&!de.showLabelBackdrop&&(k+=J/2*Math.sin(w))):(O=F,j=(1-Q)*J/2);let Z;if(de.showLabelBackdrop){const _=ni(de.backdropPadding),L=$.heights[x],M=$.widths[x];let z=j-_.top,ee=0-_.left;switch(K){case"middle":z-=L/2;break;case"bottom":z-=L;break}switch(I){case"center":ee-=M/2;break;case"right":ee-=M;break;case"inner":x===y-1?ee-=M:x>0&&(ee-=M/2);break}Z={left:ee,top:z,width:M+_.width,height:L+_.height,color:de.backdropColor}}B.push({label:S,font:R,textOffset:j,options:{rotation:w,color:le,strokeColor:q,strokeWidth:se,textAlign:oe,textBaseline:K,translation:[k,O],backdrop:Z}})}return B}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-eo(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let c,u;return r==="left"?s?(u=this.right+i,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?s?(u=this.left+i,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(i=0,a=s.length;i<a;++i){const l=s[i];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=TA(e,this.left,a)-a/2,u=TA(e,this.right,o)+o/2,d=f=l):(d=TA(e,this.top,a)-a/2,f=TA(e,this.bottom,o)+o/2,c=u=l),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Rp(n,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,c=a.label,u=a.textOffset;Yg(n,c,0,u,l,o)}s&&Kp(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=zn(n.font),a=ni(n.padding),o=n.align;let l=i.lineHeight/2;r==="bottom"||r==="center"||Et(r)?(l+=a.bottom,Rr(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=BM(this,l,r,o);Yg(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:f,textAlign:bM(o,r,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Ct(e.grid&&e.grid.z,-1),s=Ct(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==dc.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=r.length;i<a;++i){const o=r[i];o[n]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return zn(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Qf{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;NM(r)&&(n=this.register(r));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,CM(e,a,n),this.override&&Sr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in Sr[s]&&(delete Sr[s][n],this.override&&delete mo[n])}}function CM(t,e,r){const n=Bd(Object.create(null),[r?Sr.get(r):{},Sr.get(e),t.defaults]);Sr.set(e,n),t.defaultRoutes&&_M(e,t.defaultRoutes),t.descriptors&&Sr.describe(e,t.descriptors)}function _M(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");Sr.route(i,s,l,o)})}function NM(t){return"id"in t&&"defaults"in t}class SM{constructor(){this.controllers=new Qf(zl,"datasets",!0),this.elements=new Qf(aa,"elements"),this.plugins=new Qf(Object,"plugins"),this.scales=new Qf(dc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Mt(s,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const s=Cy(e);tr(n["before"+s],[],n),r[e](n),tr(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var wi=new SM;class FM{constructor(){this._init=void 0}notify(e,r,n,s){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,n,s){s=s||{};for(const i of e){const a=i.plugin,o=a[n],l=[r,s,i.options];if(tr(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=Ct(n.options&&n.options.plugins,{}),i=jM(n);return s===!1&&!r?[]:UM(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function jM(t){const e={},r=[],n=Object.keys(wi.plugins.items);for(let i=0;i<n.length;i++)r.push(wi.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function EM(t,e){return!e&&t===!1?null:t===!0?{}:t}function UM(t,{plugins:e,localIds:r},n,s){const i=[],a=t.getContext();for(const o of e){const l=o.id,c=EM(n[l],s);c!==null&&i.push({plugin:o,options:kM(t.config,{plugin:o,local:r[l]},c,a)})}return i}function kM(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(n,i);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iw(t,e){const r=Sr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function QM(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function LM(t,e){return t===e?"_index_":"_value_"}function ZB(t){if(t==="x"||t==="y"||t==="r")return t}function IM(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function aw(t,...e){if(ZB(t))return t;for(const r of e){const n=r.axis||IM(r.position)||t.length>1&&ZB(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function e5(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function PM(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return e5(t,"x",r[0])||e5(t,"y",r[0])}return{}}function TM(t,e){const r=mo[t.type]||{scales:{}},n=e.scales||{},s=iw(t.type,e),i=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!Et(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=aw(a,o,PM(a,t),Sr.scales[o.type]),c=LM(l,s),u=r.scales||{};i[a]=$u(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||iw(o,e),u=(mo[o]||{}).scales||{};Object.keys(u).forEach(d=>{const f=QM(d,l),g=a[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),$u(i[g],[{axis:f},n[g],u[d]])})}),Object.keys(i).forEach(a=>{const o=i[a];$u(o,[Sr.scales[o.type],Sr.scale])}),i}function PS(t){const e=t.options||(t.options={});e.plugins=Ct(e.plugins,{}),e.scales=TM(t,e)}function TS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function DM(t){return t=t||{},t.data=TS(t.data),PS(t),t}const t5=new Map,DS=new Set;function Lf(t,e){let r=t5.get(t);return r||(r=e(),t5.set(t,r),DS.add(r)),r}const ou=(t,e,r)=>{const n=rc(e,r);n!==void 0&&t.add(n)};class OM{constructor(e){this._config=DM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=TS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),PS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Lf(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Lf(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Lf(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(d=>ou(l,e,d))),u.forEach(d=>ou(l,s,d)),u.forEach(d=>ou(l,mo[i]||{},d)),u.forEach(d=>ou(l,Sr,d)),u.forEach(d=>ou(l,nw,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),DS.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,mo[r]||{},Sr.datasets[r]||{},{type:r},Sr,nw]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=r5(this._resolverCache,e,s);let l=a;if(MM(a,r)){i.$shared=!1,n=pA(n)?n():n;const c=this.createResolver(e,n,o);l=nc(a,n,c)}for(const c of r)i[c]=l[c];return i}createResolver(e,r,n=[""],s){const{resolver:i}=r5(this._resolverCache,e,n);return Et(r)?nc(i,r,void 0,s):i}}function r5(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:Sy(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(s,i)),i}const HM=t=>Et(t)&&Object.getOwnPropertyNames(t).some(e=>pA(t[e]));function MM(t,e){const{isScriptable:r,isIndexable:n}=mS(t);for(const s of e){const i=r(s),a=n(s),o=(a||i)&&t[s];if(i&&(pA(o)||HM(o))||a&&Rr(o))return!0}return!1}var RM="4.5.1";const KM=["top","bottom","left","right","chartArea"];function n5(t,e){return t==="top"||t==="bottom"||KM.indexOf(t)===-1&&e==="x"}function s5(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function i5(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),tr(r&&r.onComplete,[t],e)}function VM(t){const e=t.chart,r=e.options.animation;tr(r&&r.onProgress,[t],e)}function OS(t){return Ey()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ig={},a5=t=>{const e=OS(t);return Object.values(ig).filter(r=>r.canvas===e).pop()};function zM(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const a=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=a)}}}function $M(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var Fa;let $p=(Fa=class{static register(...e){wi.add(...e),A5()}static unregister(...e){wi.remove(...e),A5()}constructor(e,r){const n=this.config=new OM(r),s=OS(e),i=a5(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||cM(s)),this.platform.updateConfig(n);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=V8(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new FM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cO(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],ig[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}zi.listen(this,"complete",i5),zi.listen(this,"progress",VM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return Dt(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jB(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return NB(this.canvas,this.ctx),this}stop(){return zi.stop(this),this}resize(e,r){zi.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,jB(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),tr(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Mt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let i=[];r&&(i=i.concat(Object.keys(r).map(a=>{const o=r[a],l=aw(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Mt(i,a=>{const o=a.options,l=o.id,c=aw(l,o),u=Ct(o.type,a.dtype);(o.position===void 0||n5(o.position,c)!==n5(a.dposition))&&(o.position=a.dposition),s[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const f=wi.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(o,e)}),Mt(s,(a,o)=>{a||delete n[o]}),Mt(n,a=>{qa.configure(this,a,a.options),qa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(s5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let a=this.getDatasetMeta(n);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=i.indexAxis||iw(o,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=wi.getController(o),{datasetElementType:c,dataElementType:u}=Sr.datasets[o];Object.assign(l,{dataElementType:wi.getElement(u),datasetElementType:c&&wi.getElement(c)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Mt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||Mt(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(s5("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Mt(this.scales,e=>{qa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!pB(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const a=n==="_removeElements"?-i:i;zM(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!pB(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qa.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Mt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,pA(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zi.has(this)?this.attached&&!zi.running(this)&&zi.start(this):(this.draw(),i5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const a=r[s];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=SS(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&Rp(r,s),e.controller.draw(),s&&Kp(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Nd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=KH.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Cd(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),zi.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),NB(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete ig[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Mt(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){Mt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Mt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,a,o,l;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!qg(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=i(r,e),o=n?e:i(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,a=r,o=this._getActiveElements(e,s,n,a),l=J8(e),c=$M(e,this._lastEvent,n,l);n&&(this._lastEvent=null,tr(i.onHover,[e,o,this],this),l&&tr(i.onClick,[e,o,this],this));const u=!qg(o,s);return(u||r)&&(this._active=o,this._updateHoverStyles(o,s,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},gt(Fa,"defaults",Sr),gt(Fa,"instances",ig),gt(Fa,"overrides",mo),gt(Fa,"registry",wi),gt(Fa,"version",RM),gt(Fa,"getChart",a5),Fa);function A5(){return Mt($p.instances,t=>t._plugins.invalidate())}function HS(t,e,r=e){t.lineCap=Ct(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Ct(r.borderDash,e.borderDash)),t.lineDashOffset=Ct(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Ct(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ct(r.borderWidth,e.borderWidth),t.strokeStyle=Ct(r.borderColor,e.borderColor)}function GM(t,e,r){t.lineTo(r.x,r.y)}function WM(t){return t.stepped?CO:t.tension||t.cubicInterpolationMode==="monotone"?_O:GM}function MS(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:a,end:o}=e,l=Math.max(s,a),c=Math.min(i,o),u=s<a&&i<a||s>o&&i>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function qM(t,e,r,n){const{points:s,options:i}=e,{count:a,start:o,loop:l,ilen:c}=MS(s,r,n),u=WM(i);let{move:d=!0,reverse:f}=n||{},g,m,w;for(g=0;g<=c;++g)m=s[(o+(f?c-g:g))%a],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,w,m,f,i.stepped),w=m);return l&&(m=s[(o+(f?c:0))%a],u(t,w,m,f,i.stepped)),!!l}function JM(t,e,r,n){const s=e.points,{count:i,start:a,ilen:o}=MS(s,r,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,f,g,m,w,B,x;const y=S=>(a+(c?o-S:S))%i,C=()=>{w!==B&&(t.lineTo(u,B),t.lineTo(u,w),t.lineTo(u,x))};for(l&&(g=s[y(0)],t.moveTo(g.x,g.y)),f=0;f<=o;++f){if(g=s[y(f)],g.skip)continue;const S=g.x,k=g.y,O=S|0;O===m?(k<w?w=k:k>B&&(B=k),u=(d*u+S)/++d):(C(),t.lineTo(S,k),m=O,d=0,w=B=k),x=k}C()}function Aw(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?JM:qM}function XM(t){return t.stepped?nH:t.tension||t.cubicInterpolationMode==="monotone"?sH:VA}function YM(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),HS(t,e.options),t.stroke(s)}function ZM(t,e,r,n){const{segments:s,options:i}=e,a=Aw(e);for(const o of s)HS(t,i,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const e7=typeof Path2D=="function";function t7(t,e,r,n){e7&&!e.options.segment?YM(t,e,r,n):ZM(t,e,r,n)}class Ja extends aa{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;qO(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=cH(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,a=NS(this,{property:r,start:s,end:s});if(!a.length)return;const o=[],l=XM(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:f}=a[c],g=i[d],m=i[f];if(g===m){o.push(g);continue}const w=Math.abs((s-g[r])/(m[r]-g[r])),B=l(g,m,w,n.stepped);B[r]=e[r],o.push(B)}return o.length===1?o[0]:o}pathSegment(e,r,n){return Aw(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=Aw(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of s)a&=i(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),t7(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}gt(Ja,"id","line"),gt(Ja,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),gt(Ja,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),gt(Ja,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function o5(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class ag extends aa{constructor(r){super();gt(this,"parsed");gt(this,"skip");gt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return o5(this,r,"x",n)}inYRange(r,n){return o5(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!Nd(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,sw(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}gt(ag,"id","point"),gt(ag,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),gt(ag,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function RS(t,e){const{x:r,y:n,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=a/2,o=Math.min(r,s),l=Math.max(r,s),c=n-d,u=n+d):(d=i/2,o=r-d,l=r+d,c=Math.min(n,s),u=Math.max(n,s)),{left:o,top:c,right:l,bottom:u}}function Xa(t,e,r,n){return t?0:os(e,r,n)}function r7(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=pS(n);return{t:Xa(s.top,i.top,0,r),r:Xa(s.right,i.right,0,e),b:Xa(s.bottom,i.bottom,0,r),l:Xa(s.left,i.left,0,e)}}function n7(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Kl(s),a=Math.min(e,r),o=t.borderSkipped,l=n||Et(s);return{topLeft:Xa(!l||o.top||o.left,i.topLeft,0,a),topRight:Xa(!l||o.top||o.right,i.topRight,0,a),bottomLeft:Xa(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Xa(!l||o.bottom||o.right,i.bottomRight,0,a)}}function s7(t){const e=RS(t),r=e.right-e.left,n=e.bottom-e.top,s=r7(t,r/2,n/2),i=n7(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function sx(t,e,r,n){const s=e===null,i=r===null,o=t&&!(s&&i)&&RS(t,n);return o&&(s||Ga(e,o.left,o.right))&&(i||Ga(r,o.top,o.bottom))}function i7(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function a7(t,e){t.rect(e.x,e.y,e.w,e.h)}function ix(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class Ag extends aa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=s7(this),o=i7(a.radius)?Zg:a7;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,ix(a,r,i)),e.clip(),o(e,ix(i,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,ix(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return sx(this,e,r,n)}inXRange(e,r){return sx(this,e,null,r)}inYRange(e,r){return sx(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}gt(Ag,"id","bar"),gt(Ag,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),gt(Ag,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function A7(t,e,r){const n=t.segments,s=t.points,i=e.points,a=[];for(const o of n){let{start:l,end:c}=o;c=Gp(l,c,s);const u=ow(r,s[l],s[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:s[l],end:s[c]});continue}const d=NS(e,u);for(const f of d){const g=ow(r,i[f.start],i[f.end],f.loop),m=_S(o,s,g);for(const w of m)a.push({source:w,target:f,start:{[r]:l5(u,g,"start",Math.max)},end:{[r]:l5(u,g,"end",Math.min)}})}}return a}function ow(t,e,r,n){if(n)return;let s=e[t],i=r[t];return t==="angle"&&(s=yi(s),i=yi(i)),{property:t,start:s,end:i}}function o7(t,e){const{x:r=null,y:n=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:o})=>{o=Gp(a,o,s);const l=s[a],c=s[o];n!==null?(i.push({x:l.x,y:n}),i.push({x:c.x,y:n})):r!==null&&(i.push({x:r,y:l.y}),i.push({x:r,y:c.y}))}),i}function Gp(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function l5(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function KS(t,e){let r=[],n=!1;return Rr(t)?(n=!0,r=t):r=o7(t,e),r.length?new Ja({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function c5(t){return t&&t.fill!==!1}function l7(t,e,r){let s=t[e].fill;const i=[e];let a;if(!r)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!bn(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function c7(t,e,r){const n=f7(t);if(Et(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return bn(s)&&Math.floor(s)===s?u7(n[0],e,s,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function u7(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function d7(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Et(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function h7(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Et(t)?n=t.value:n=e.getBaseValue(),n}function f7(t){const e=t.options,r=e.fill;let n=Ct(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function g7(t){const{scale:e,index:r,line:n}=t,s=[],i=n.segments,a=n.points,o=p7(e,r);o.push(KS({x:null,y:e.bottom},n));for(let l=0;l<i.length;l++){const c=i[l];for(let u=c.start;u<=c.end;u++)m7(s,a[u],o)}return new Ja({points:s,options:{}})}function p7(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const i=n[s];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function m7(t,e,r){const n=[];for(let s=0;s<r.length;s++){const i=r[s],{first:a,last:o,point:l}=x7(i,e,"x");if(!(!l||a&&o)){if(a)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function x7(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const s=n[r],i=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<i.length;c++){const u=i[c],d=a[u.start][r],f=a[u.end][r];if(Ga(s,d,f)){o=s===d,l=s===f;break}}return{first:o,last:l,point:n}}class VS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:s,y:i,radius:a}=this;return r=r||{start:0,end:ti},e.arc(s,i,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:s}=this,i=e.angle;return{x:r+Math.cos(i)*s,y:n+Math.sin(i)*s,angle:i}}}function v7(t){const{chart:e,fill:r,line:n}=t;if(bn(r))return w7(e,r);if(r==="stack")return g7(t);if(r==="shape")return!0;const s=y7(t);return s instanceof VS?s:KS(s,n)}function w7(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function y7(t){return(t.scale||{}).getPointPositionForValue?B7(t):b7(t)}function b7(t){const{scale:e={},fill:r}=t,n=d7(r,e);if(bn(n)){const s=e.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function B7(t){const{scale:e,fill:r}=t,n=e.options,s=e.getLabels().length,i=n.reverse?e.max:e.min,a=h7(r,e,i),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,i);return new VS({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<s;++l)o.push(e.getPointPositionForValue(l,a));return o}function ax(t,e,r){const n=v7(e),{chart:s,index:i,line:a,scale:o,axis:l}=e,c=a.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:g=d}=u||{},m=s.getDatasetMeta(i),w=SS(s,m);n&&a.points.length&&(Rp(t,r),C7(t,{line:a,target:n,above:f,below:g,area:r,scale:o,axis:l,clip:w}),Kp(t))}function C7(t,e){const{line:r,target:n,above:s,below:i,area:a,scale:o,clip:l}=e,c=r._loop?"angle":e.axis;t.save();let u=i;i!==s&&(c==="x"?(u5(t,n,a.top),Ax(t,{line:r,target:n,color:s,scale:o,property:c,clip:l}),t.restore(),t.save(),u5(t,n,a.bottom)):c==="y"&&(d5(t,n,a.left),Ax(t,{line:r,target:n,color:i,scale:o,property:c,clip:l}),t.restore(),t.save(),d5(t,n,a.right),u=s)),Ax(t,{line:r,target:n,color:u,scale:o,property:c,clip:l}),t.restore()}function u5(t,e,r){const{segments:n,points:s}=e;let i=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:c}=o,u=s[l],d=s[Gp(l,c,s)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function d5(t,e,r){const{segments:n,points:s}=e;let i=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:c}=o,u=s[l],d=s[Gp(l,c,s)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(r,d.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function Ax(t,e){const{line:r,target:n,property:s,color:i,scale:a,clip:o}=e,l=A7(r,n,s);for(const{source:c,target:u,start:d,end:f}of l){const{style:{backgroundColor:g=i}={}}=c,m=n!==!0;t.save(),t.fillStyle=g,_7(t,a,o,m&&ow(s,d,f)),t.beginPath();const w=!!r.pathSegment(t,c);let B;if(m){w?t.closePath():h5(t,n,f,s);const x=!!n.pathSegment(t,u,{move:w,reverse:!0});B=w&&x,B||h5(t,n,d,s)}t.closePath(),t.fill(B?"evenodd":"nonzero"),t.restore()}}function _7(t,e,r,n){const s=e.chart.chartArea,{property:i,start:a,end:o}=n||{};if(i==="x"||i==="y"){let l,c,u,d;i==="x"?(l=a,c=s.top,u=o,d=s.bottom):(l=s.left,c=a,u=s.right,d=o),t.beginPath(),r&&(l=Math.max(l,r.left),u=Math.min(u,r.right),c=Math.max(c,r.top),d=Math.min(d,r.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function h5(t,e,r,n){const s=e.interpolate(r,n);s&&t.lineTo(s.x,s.y)}var N7={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,s=[];let i,a,o,l;for(a=0;a<n;++a)i=t.getDatasetMeta(a),o=i.dataset,l=null,o&&o.options&&o instanceof Ja&&(l={visible:t.isDatasetVisible(a),index:a,fill:c7(o,a,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=l,s.push(l);for(a=0;a<n;++a)l=s[a],!(!l||l.fill===!1)&&(l.fill=l7(s,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;o&&(o.line.updateControlPoints(i,o.axis),n&&o.fill&&ax(t.ctx,o,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const i=n[s].$filler;c5(i)&&ax(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!c5(n)||r.drawTime!=="beforeDatasetDraw"||ax(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const f5=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},S7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class g5 extends aa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=tr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=zn(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=f5(n,i);let c,u;r.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,i,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+o;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((m,w)=>{const B=n+r/2+i.measureText(m.text).width;(w===0||c[c.length-1]+B+2*o>a)&&(d+=u,c[c.length-(w>0?0:1)]=0,g+=u,f++),l[w]={left:0,top:g,row:f,width:B,height:s},c[c.length-1]+=B+o}),d}_fitCols(e,r,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,f=0,g=0,m=0,w=0;return this.legendItems.forEach((B,x)=>{const{itemWidth:y,itemHeight:C}=F7(n,r,i,B,s);x>0&&g+C+2*o>u&&(d+=f+o,c.push({width:f,height:g}),m+=f+o,w++,f=g=0),l[x]={left:m,top:g,col:w,width:y,height:C},f=Math.max(f,y),g+=C+o}),d+=f,c.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,a=Vl(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=ss(n,this.left+s,this.right-this.lineWidths[o]);for(const c of r)o!==c.row&&(o=c.row,l=ss(n,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+e+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=ss(n,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const c of r)c.col!==o&&(o=c.col,l=ss(n,this.top+e+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Rp(e,this),this._draw(),Kp(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:a}=e,o=Sr.color,l=Vl(e.rtl,this.left,this.width),c=zn(a.font),{padding:u}=a,d=c.size,f=d/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:w,itemHeight:B}=f5(a,d),x=function(O,I,F){if(isNaN(m)||m<=0||isNaN(w)||w<0)return;s.save();const R=Ct(F.lineWidth,1);if(s.fillStyle=Ct(F.fillStyle,o),s.lineCap=Ct(F.lineCap,"butt"),s.lineDashOffset=Ct(F.lineDashOffset,0),s.lineJoin=Ct(F.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=Ct(F.strokeStyle,o),s.setLineDash(Ct(F.lineDash,[])),a.usePointStyle){const J={radius:w*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:R},Q=l.xPlus(O,m/2),j=I+f;fS(s,J,Q,j,a.pointStyleWidth&&m)}else{const J=I+Math.max((d-w)/2,0),Q=l.leftForLtr(O,m),j=Kl(F.borderRadius);s.beginPath(),Object.values(j).some(K=>K!==0)?Zg(s,{x:Q,y:J,w:m,h:w,radius:j}):s.rect(Q,J,m,w),s.fill(),R!==0&&s.stroke()}s.restore()},y=function(O,I,F){Yg(s,F.text,O,I+B/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?g={x:ss(i,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:g={x:this.left+u,y:ss(i,this.top+S+u,this.bottom-r[0].height),line:0},bS(this.ctx,e.textDirection);const k=B+u;this.legendItems.forEach((O,I)=>{s.strokeStyle=O.fontColor,s.fillStyle=O.fontColor;const F=s.measureText(O.text).width,R=l.textAlign(O.textAlign||(O.textAlign=a.textAlign)),J=m+f+F;let Q=g.x,j=g.y;l.setWidth(this.width),C?I>0&&Q+J+u>this.right&&(j=g.y+=k,g.line++,Q=g.x=ss(i,this.left+u,this.right-n[g.line])):I>0&&j+k>this.bottom&&(Q=g.x=Q+r[g.line].width+u,g.line++,j=g.y=ss(i,this.top+S+u,this.bottom-r[g.line].height));const K=l.x(Q);if(x(K,j,O),Q=uO(R,Q+m+f,C?Q+J:this.right,e.rtl),y(l.x(Q),j,O),C)g.x+=J+u;else if(typeof O.text!="string"){const $=c.lineHeight;g.y+=zS(O,$)+u}else g.y+=k}),BS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=zn(r.font),s=ni(r.padding);if(!r.display)return;const i=Vl(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=ss(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((w,B)=>Math.max(w,B.height),0);u=c+ss(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const g=ss(o,d,d+f);a.textAlign=i.textAlign(uS(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,Yg(a,r.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,r=zn(e.font),n=ni(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(Ga(e,this.left,this.right)&&Ga(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Ga(e,s.left,s.left+s.width)&&Ga(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!U7(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=S7(s,n);s&&!i&&tr(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&tr(r.onHover,[e,n,this],this)}else n&&tr(r.onClick,[e,n,this],this)}}function F7(t,e,r,n,s){const i=j7(n,t,e,r),a=E7(s,n,e.lineHeight);return{itemWidth:i,itemHeight:a}}function j7(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+r.size/2+n.measureText(s).width}function E7(t,e,r){let n=t;return typeof e.text!="string"&&(n=zS(e,r)),n}function zS(t,e){const r=t.text?t.text.length:0;return e*r}function U7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var k7={id:"legend",_element:g5,start(t,e,r){const n=t.legend=new g5({ctx:t.ctx,options:r,chart:t});qa.configure(t,n,r),qa.addBox(t,n)},stop(t){qa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;qa.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=ni(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Bu={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),s+=l.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=rw(e,c);u<s&&(s=u,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function mi(t,e){return e&&(Rr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $i(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Q7(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function p5(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,l=zn(e.bodyFont),c=zn(e.titleFont),u=zn(e.footerFont),d=i.length,f=s.length,g=n.length,m=ni(e.padding);let w=m.height,B=0,x=n.reduce((S,k)=>S+k.before.length+k.lines.length+k.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(w+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;w+=g*S+(x-g)*l.lineHeight+(x-1)*e.bodySpacing}f&&(w+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const C=function(S){B=Math.max(B,r.measureText(S).width+y)};return r.save(),r.font=c.string,Mt(t.title,C),r.font=l.string,Mt(t.beforeBody.concat(t.afterBody),C),y=e.displayColors?a+2+e.boxPadding:0,Mt(n,S=>{Mt(S.before,C),Mt(S.lines,C),Mt(S.after,C)}),y=0,r.font=u.string,Mt(t.footer,C),r.restore(),B+=m.width,{width:B,height:w}}function L7(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function I7(t,e,r,n){const{x:s,width:i}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function P7(t,e,r,n){const{x:s,width:i}=r,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return n==="center"?c=s<=(o+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),I7(c,t,e,r)&&(c="center"),c}function m5(t,e,r){const n=r.yAlign||e.yAlign||L7(t,r);return{xAlign:r.xAlign||e.xAlign||P7(t,e,r,n),yAlign:n}}function T7(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function D7(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function x5(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,c=s+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=Kl(a);let m=T7(e,o);const w=D7(e,l,c);return l==="center"?o==="left"?m+=c:o==="right"&&(m-=c):o==="left"?m-=Math.max(u,f)+s:o==="right"&&(m+=Math.max(d,g)+s),{x:os(m,0,n.width-e.width),y:os(w,0,n.height-e.height)}}function If(t,e,r){const n=ni(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function v5(t){return mi([],$i(t))}function O7(t,e,r){return Bo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function w5(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const $S={beforeTitle:Vi,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Vi,beforeBody:Vi,beforeLabel:Vi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Dt(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Vi,afterBody:Vi,beforeFooter:Vi,footer:Vi,afterFooter:Vi};function On(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?$S[e].call(r,n):s}class lw extends aa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new FS(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=O7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=On(n,"beforeTitle",this,e),i=On(n,"title",this,e),a=On(n,"afterTitle",this,e);let o=[];return o=mi(o,$i(s)),o=mi(o,$i(i)),o=mi(o,$i(a)),o}getBeforeBody(e,r){return v5(On(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return Mt(e,i=>{const a={before:[],lines:[],after:[]},o=w5(n,i);mi(a.before,$i(On(o,"beforeLabel",this,i))),mi(a.lines,On(o,"label",this,i)),mi(a.after,$i(On(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,r){return v5(On(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=On(n,"beforeFooter",this,e),i=On(n,"footer",this,e),a=On(n,"afterFooter",this,e);let o=[];return o=mi(o,$i(s)),o=mi(o,$i(i)),o=mi(o,$i(a)),o}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],a=[];let o=[],l,c;for(l=0,c=r.length;l<c;++l)o.push(Q7(this.chart,r[l]));return e.filter&&(o=o.filter((u,d,f)=>e.filter(u,d,f,n))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,n))),Mt(o,u=>{const d=w5(e.callbacks,u);s.push(On(d,"labelColor",this,u)),i.push(On(d,"labelPointStyle",this,u)),a.push(On(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=Bu[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=p5(this,n),c=Object.assign({},o,l),u=m5(this.chart,n,c),d=x5(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Kl(o),{x:f,y:g}=e,{width:m,height:w}=r;let B,x,y,C,S,k;return i==="center"?(S=g+w/2,s==="left"?(B=f,x=B-a,C=S+a,k=S-a):(B=f+m,x=B+a,C=S-a,k=S+a),y=B):(s==="left"?x=f+Math.max(l,u)+a:s==="right"?x=f+m-Math.max(c,d)-a:x=this.caretX,i==="top"?(C=g,S=C-a,B=x-a,y=x+a):(C=g+w,S=C+a,B=x+a,y=x-a),k=C),{x1:B,x2:x,x3:y,y1:C,y2:S,y3:k}}drawTitle(e,r,n){const s=this.title,i=s.length;let a,o,l;if(i){const c=Vl(n.rtl,this.x,this.width);for(e.x=If(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=zn(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<i;++l)r.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,s,i){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=i,u=zn(i.bodyFont),d=If(this,"left",i),f=s.x(d),g=l<u.lineHeight?(u.lineHeight-l)/2:0,m=r.y+g;if(i.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},B=s.leftForLtr(f,c)+c/2,x=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,sw(e,w,B,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,sw(e,w,B,x)}else{e.lineWidth=Et(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=s.leftForLtr(f,c),B=s.leftForLtr(s.xPlus(f,1),c-2),x=Kl(a.borderRadius);Object.values(x).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Zg(e,{x:w,y:m,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Zg(e,{x:B,y:m+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,m,c,l),e.strokeRect(w,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(B,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=zn(n.bodyFont);let f=d.lineHeight,g=0;const m=Vl(n.rtl,this.x,this.width),w=function(F){r.fillText(F,m.x(e.x+g),e.y+f/2),e.y+=f+i},B=m.textAlign(a);let x,y,C,S,k,O,I;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=If(this,B,n),r.fillStyle=n.bodyColor,Mt(this.beforeBody,w),g=o&&B!=="right"?a==="center"?c/2+u:c+2+u:0,S=0,O=s.length;S<O;++S){for(x=s[S],y=this.labelTextColors[S],r.fillStyle=y,Mt(x.before,w),C=x.lines,o&&C.length&&(this._drawColorBox(r,e,S,m,n),f=Math.max(d.lineHeight,l)),k=0,I=C.length;k<I;++k)w(C[k]),f=d.lineHeight;Mt(x.after,w)}g=0,f=d.lineHeight,Mt(this.afterBody,w),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let a,o;if(i){const l=Vl(n.rtl,this.x,this.width);for(e.x=If(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=zn(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<i;++o)r.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:m}=Kl(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(o+d,l),a==="top"&&this.drawCaret(e,r,n,s),r.lineTo(o+c-f,l),r.quadraticCurveTo(o+c,l,o+c,l+f),a==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(o+c,l+u-m),r.quadraticCurveTo(o+c,l+u,o+c-m,l+u),a==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(o+g,l+u),r.quadraticCurveTo(o,l+u,o,l+u-g),a==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(o,l+d),r.quadraticCurveTo(o,l,o+d,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=Bu[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=p5(this,e),l=Object.assign({},a,this._size),c=m5(r,e,l),u=x5(e,l,c,r);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=ni(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),bS(e,r.textDirection),i.y+=a.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),BS(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),i=!qg(n,s),a=this._positionChanged(s,r);(i||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,r,n),o=this._positionChanged(a,e),l=r||!qg(a,i)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,a=Bu[i.position].call(this,e,r);return a!==!1&&(n!==a.x||s!==a.y)}}gt(lw,"positioners",Bu);var H7={id:"tooltip",_element:lw,positioners:Bu,afterInit(t,e,r){r&&(t.tooltip=new lw({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$S},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const M7=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function R7(t,e,r,n){const s=t.indexOf(e);if(s===-1)return M7(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const K7=(t,e)=>t===null?null:os(Math.round(t),0,e);function y5(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class cw extends dc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Dt(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:R7(n,e,Ct(r,e),this._addedLabels),K7(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return y5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}gt(cw,"id","category"),gt(cw,"defaults",{ticks:{callback:y5}});function V7(t,e){const r=[],{bounds:s,step:i,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,g=i||1,m=u-1,{min:w,max:B}=e,x=!Dt(a),y=!Dt(o),C=!Dt(c),S=(B-w)/(d+1);let k=xB((B-w)/m/g)*g,O,I,F,R;if(k<1e-14&&!x&&!y)return[{value:w},{value:B}];R=Math.ceil(B/k)-Math.floor(w/k),R>m&&(k=xB(R*k/m/g)*g),Dt(l)||(O=Math.pow(10,l),k=Math.ceil(k*O)/O),s==="ticks"?(I=Math.floor(w/k)*k,F=Math.ceil(B/k)*k):(I=w,F=B),x&&y&&i&&tO((o-a)/i,k/1e3)?(R=Math.round(Math.min((o-a)/k,u)),k=(o-a)/R,I=a,F=o):C?(I=x?a:I,F=y?o:F,R=c-1,k=(F-I)/R):(R=(F-I)/k,Gu(R,Math.round(R),k/1e3)?R=Math.round(R):R=Math.ceil(R));const J=Math.max(vB(k),vB(I));O=Math.pow(10,Dt(l)?J:l),I=Math.round(I*O)/O,F=Math.round(F*O)/O;let Q=0;for(x&&(f&&I!==a?(r.push({value:a}),I<a&&Q++,Gu(Math.round((I+Q*k)*O)/O,a,b5(a,S,t))&&Q++):I<a&&Q++);Q<R;++Q){const j=Math.round((I+Q*k)*O)/O;if(y&&j>o)break;r.push({value:j})}return y&&f&&F!==o?r.length&&Gu(r[r.length-1].value,o,b5(o,S,t))?r[r.length-1].value=o:r.push({value:o}):(!y||F===o)&&r.push({value:F}),r}function b5(t,e,{horizontal:r,minRotation:n}){const s=eo(n),i=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class z7 extends dc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Dt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=r?s:l,o=l=>i=n?i:l;if(e){const l=Si(s),c=Si(i);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,a=V7(s,i);return e.bounds==="ticks"&&rO(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return dS(e,this.chart.options.locale,this.options.ticks.format)}}class uw extends z7{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=bn(e)?e:0,this.max=bn(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=eo(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}gt(uw,"id","linear"),gt(uw,"defaults",{ticks:{callback:hS.formatters.numeric}});const Wp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kn=Object.keys(Wp);function B5(t,e){return t-e}function C5(t,e){if(Dt(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),bn(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(_d(i)||i===!0)?r.startOf(a,"isoWeek",i):r.startOf(a,s)),+a)}function _5(t,e,r,n){const s=Kn.length;for(let i=Kn.indexOf(t);i<s-1;++i){const a=Wp[Kn[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return Kn[i]}return Kn[s-1]}function $7(t,e,r,n,s){for(let i=Kn.length-1;i>=Kn.indexOf(r);i--){const a=Kn[i];if(Wp[a].common&&t._adapter.diff(s,n,a)>=e-1)return a}return Kn[r?Kn.indexOf(r):0]}function G7(t){for(let e=Kn.indexOf(t)+1,r=Kn.length;e<r;++e)if(Wp[Kn[e]].common)return Kn[e]}function N5(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=_y(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function W7(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function S5(t,e,r){const n=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,n.push({value:o,major:!1});return i===0||!r?n:W7(t,n,s,r)}class rp extends dc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new DH._date(e.adapters.date);s.init(r),$u(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:C5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=bn(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=bn(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=oO(s,i,a);return this._unit=r.unit||(n.autoSkip?_5(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):$7(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:G7(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),S5(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=os(r,0,a),n=os(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||_5(i.minUnit,r,n,this._getLabelCapacity(r)),o=Ct(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,c=_d(l)||l===!0,u={};let d=r,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<n;f=+e.add(f,o,a),g++)N5(u,f,m);return(f===n||s.bounds==="ticks"||g===1)&&N5(u,f,m),Object.keys(u).sort(B5).map(w=>+w)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,a=r||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,s){const i=this.options,a=i.ticks.callback;if(a)return tr(a,[e,r,n],this);const o=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],f=n[r],g=c&&d&&f&&f.major;return this._adapter.format(e,s||(g?d:u))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=eo(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,S5(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(C5(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oS(e.sort(B5))}}gt(rp,"id","time"),gt(rp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Pf(t,e,r){let n=0,s=t.length-1,i,a,o,l;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=to(t,"pos",e)),{pos:i,time:o}=t[n],{pos:a,time:l}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=to(t,"time",e)),{time:i,pos:o}=t[n],{time:a,pos:l}=t[s]);const c=a-i;return c?o+(l-o)*(e-i)/c:o}class dw extends rp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Pf(r,this.min),this._tableRange=Pf(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=r&&c<=n&&s.push(c);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=s.length;a<o;++a)u=s[a+1],l=s[a-1],c=s[a],Math.round((u+l)/2)!==c&&i.push({time:c,pos:a/(o-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Pf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Pf(this._table,n*this._tableRange+this._minPos,!0)}}gt(dw,"id","timeseries"),gt(dw,"defaults",rp.defaults);const GS="label";function F5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function q7(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function WS(t,e){t.labels=e}function qS(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GS;const n=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function J7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GS;const r={labels:[],datasets:[]};return WS(r,t.labels),qS(r,t.datasets,e),r}function X7(t,e){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,g=T.useRef(null),m=T.useRef(null),w=()=>{g.current&&(m.current=new $p(g.current,{type:a,data:J7(o,i),options:l&&{...l},plugins:c}),F5(e,m.current))},B=()=>{F5(e,null),m.current&&(m.current.destroy(),m.current=null)};return T.useEffect(()=>{!s&&m.current&&l&&q7(m.current,l)},[s,l]),T.useEffect(()=>{!s&&m.current&&WS(m.current.config.data,o.labels)},[s,o.labels]),T.useEffect(()=>{!s&&m.current&&o.datasets&&qS(m.current.config.data,o.datasets,i)},[s,o.datasets]),T.useEffect(()=>{m.current&&(s?(B(),setTimeout(w)):m.current.update(d))},[s,l,o.labels,o.datasets,d]),T.useEffect(()=>{m.current&&(B(),setTimeout(w))},[a]),T.useEffect(()=>(w(),()=>B()),[]),sp.createElement("canvas",{ref:g,role:"img",height:r,width:n,...f},u)}const Y7=T.forwardRef(X7);function JS(t,e){return $p.register(e),T.forwardRef((r,n)=>sp.createElement(Y7,{...r,ref:n,type:t}))}const Z7=JS("line",ng),eR=JS("bar",rg);$p.register(cw,uw,ag,Ja,Ag,H7,k7,N7,dw);function tR(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${e}-${r}`}function rR(t){const[e,r]=t.split("-").map(Number),n=new Date(e,r-1,1),s=new Date(e,r,0),i=a=>a.toISOString().slice(0,10);return{start:i(n),end:i(s)}}function nR(t){return Math.floor(t.getMonth()/3)+1}function sR(){const[t,e]=T.useState("monthly"),[r,n]=T.useState(()=>tR(new Date)),[s,i]=T.useState(new Date().getFullYear()),[a,o]=T.useState((nR(new Date)-1)*3+1),[l,c]=T.useState([]),[u,d]=T.useState(!0),[f,g]=T.useState(null),[m,w]=T.useState(0),[B,x]=T.useState([]),[y,C]=T.useState("56"),[S,k]=T.useState(!1),[O,I]=T.useState(""),F=T.useRef(null),R=async()=>{k(!0),I("");try{const _=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!_.ok)throw new Error("Failed to fetch exchange rate");const L=await _.json();if(L.rates&&L.rates.PHP)C(String(L.rates.PHP));else throw new Error("PHP rate not found in response")}catch(_){console.error("Error fetching exchange rate:",_),I("Failed to fetch current rate")}finally{k(!1)}};T.useEffect(()=>{R()},[]),T.useEffect(()=>{let _=!1;return(async()=>{d(!0),g(null);let M="",z="";if(t==="monthly"){const we=rR(r);M=we.start,z=we.end}else if(t==="quarterly"){const we=a-1,Ce=new Date(s,we,1),Ue=new Date(s,we+3,0);M=Ce.toISOString().slice(0,10),z=Ue.toISOString().slice(0,10)}else{const we=new Date(s,0,1),Ce=new Date(s,12,0);M=we.toISOString().slice(0,10),z=Ce.toISOString().slice(0,10)}const{data:ee,error:ie}=await Je.from("transactions").select("*").gte("date",M).lte("date",z).order("date",{ascending:!0});if(_)return;ie?g(ie.message):c(ee??[]);const{data:ae,error:re}=await Je.from("savings").select("*").gte("date",M).lte("date",z).order("date",{ascending:!0});if(!_)if(re)console.warn("Savings load error:",re.message),w(0),x([]);else{const we=(ae??[]).reduce((Ce,Ue)=>Ce+(Ue.amount??0),0);w(we),x(ae??[])}d(!1)})(),()=>{_=!0}},[t,r,s,a]);const{labels:J,creditData:Q,debitData:j,remaining:K,totals:$}=T.useMemo(()=>{const _={},L={},M=(Ce,Ue)=>{Ue.type==="in"?_[Ce]=(_[Ce]??0)+Ue.amount:L[Ce]=(L[Ce]??0)+Ue.amount};t==="monthly"?l.forEach(Ce=>M(Ce.date,Ce)):t==="quarterly"?l.forEach(Ce=>{const Ue=new Date(Ce.date+"T00:00:00"),Ie=`${Ue.getFullYear()}-${String(Ue.getMonth()+1).padStart(2,"0")}`;M(Ie,Ce)}):l.forEach(Ce=>{const Ue=new Date(Ce.date+"T00:00:00"),Ie=`${Ue.getFullYear()}-${String(Ue.getMonth()+1).padStart(2,"0")}`;M(Ie,Ce)});const z=Array.from(new Set([...Object.keys(_),...Object.keys(L)])).sort(),ee=z.map(Ce=>_[Ce]??0),ie=z.map(Ce=>L[Ce]??0),ae=ee.reduce((Ce,Ue)=>Ce+Ue,0),re=ie.reduce((Ce,Ue)=>Ce+Ue,0),we=ae-re;return{labels:z,creditData:ee,debitData:ie,remaining:we,totals:{credit:ae,debit:re}}},[l,t]),de=T.useMemo(()=>{const _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(t==="monthly"){const[L,M]=r.split("-").map(Number);return`${_[M-1]} ${L}`}if(t==="quarterly"){const L=a-1;return`${[_[L],_[L+1],_[L+2]].join(", ")} ${s}`}return`JanDec ${s}`},[t,r,a,s]),te=_=>` ${_.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,le=_=>`$ ${_.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,q=_=>{const L=Number(y);return!L||isNaN(L)||L<=0?0:_/L},se=async()=>{if(!F.current)return;const _=F.current;document.body.classList.add("pdf-mode");try{const L=await Dp(_,{scale:2,useCORS:!0,backgroundColor:"#ffffff",letterRendering:!0}),M=L.toDataURL("image/png"),z=new ct({orientation:"p",unit:"pt",format:"a4"}),ee=z.internal.pageSize.getWidth(),ie=z.internal.pageSize.getHeight(),ae=ee-40,re=L.height*ae/L.width;let we=20;if(re<=ie-40)z.addImage(M,"PNG",20,we,ae,re);else{let Ue=0;const Ie=L.width*(ie-40)/ae;for(;Ue<L.height;){const ze=document.createElement("canvas");ze.width=L.width,ze.height=Math.min(Ie,L.height-Ue);const pe=ze.getContext("2d");pe&&pe.drawImage(L,0,Ue,L.width,ze.height,0,0,L.width,ze.height);const X=ze.toDataURL("image/png");z.addImage(X,"PNG",20,20,ae,ze.height*ae/L.width),Ue+=ze.height,Ue<L.height&&z.addPage()}}const Ce=`financial-report-${de.replace(/\s+/g,"-").toLowerCase()}-${Date.now()}.pdf`;z.save(Ce)}catch(L){console.error("Error generating PDF:",L),alert("Error generating PDF. Please try again.")}finally{document.body.classList.remove("pdf-mode")}},oe={labels:J,datasets:[{label:"Credit (In)",data:Q,backgroundColor:"rgba(16, 185, 129, 0.6)",borderRadius:6},{label:"Debit (Out + Expense)",data:j,backgroundColor:"rgba(244, 63, 94, 0.6)",borderRadius:6}]},Z={labels:J,datasets:[{label:"Remaining (Cumulative)",data:J.map((_,L)=>Q.slice(0,L+1).reduce((M,z)=>M+z,0)-j.slice(0,L+1).reduce((M,z)=>M+z,0)),borderColor:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.2)",fill:!0,tension:.3}]};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Reports"}),A.jsx("p",{className:"text-sm text-slate-600",children:"Visualize cash flow over time and summarize by period."})]}),A.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("label",{className:"text-sm text-slate-600",title:"PHP per 1 USD",children:"USD Rate"}),A.jsx("input",{type:"number",step:"0.0001",min:"0",value:y,onChange:_=>C(_.target.value),className:"w-24 rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"56.00",disabled:S}),A.jsx("button",{onClick:R,disabled:S,className:"rounded-md bg-blue-600 px-2 py-1.5 text-xs font-medium text-white shadow hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed",title:"Refresh current rate",children:S?"...":""})]}),O&&A.jsx("span",{className:"text-xs text-red-600",children:O}),A.jsxs("div",{className:"inline-flex overflow-hidden rounded-md border border-slate-200 bg-white shadow-sm",children:[A.jsx("button",{className:`px-3 py-2 text-sm ${t==="monthly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("monthly"),children:"Monthly"}),A.jsx("button",{className:`px-3 py-2 text-sm ${t==="quarterly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("quarterly"),children:"Quarterly"}),A.jsx("button",{className:`px-3 py-2 text-sm ${t==="yearly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("yearly"),children:"Yearly"})]}),t==="monthly"&&A.jsx("input",{type:"month",value:r,onChange:_=>n(_.target.value),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t!=="monthly"&&A.jsxs(A.Fragment,{children:[A.jsx("select",{value:s,onChange:_=>i(Number(_.target.value)),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:Array.from({length:10}).map((_,L)=>{const M=new Date().getFullYear()-L;return A.jsx("option",{value:M,children:M},M)})}),t==="quarterly"&&A.jsxs("select",{value:a,onChange:_=>o(Number(_.target.value)),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:1,children:"Start: Jan"}),A.jsx("option",{value:2,children:"Start: Feb"}),A.jsx("option",{value:3,children:"Start: Mar"}),A.jsx("option",{value:4,children:"Start: Apr"}),A.jsx("option",{value:5,children:"Start: May"}),A.jsx("option",{value:6,children:"Start: Jun"}),A.jsx("option",{value:7,children:"Start: Jul"}),A.jsx("option",{value:8,children:"Start: Aug"}),A.jsx("option",{value:9,children:"Start: Sep"}),A.jsx("option",{value:10,children:"Start: Oct"}),A.jsx("option",{value:11,children:"Start: Nov"}),A.jsx("option",{value:12,children:"Start: Dec"})]})]}),A.jsx("button",{onClick:se,className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",children:"Export PDF"})]})]}),A.jsxs("div",{ref:F,className:"space-y-6 bg-white p-6 rounded-xl",children:[A.jsxs("div",{className:"mb-6 text-center border-b border-slate-200 pb-4 print:block hidden",children:[A.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Financial Report"}),A.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Period: ",de]}),A.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Generated: ",new Date().toLocaleDateString(),"  Exchange Rate: 1 USD = ",Number(y||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})," PHP"]})]}),A.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"mb-2 text-sm font-medium text-slate-700",children:"Credit vs Debit"}),u?A.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):f?A.jsx("div",{className:"text-sm text-rose-600",children:f}):J.length===0?A.jsx("div",{className:"text-sm text-slate-500",children:"No data."}):A.jsx(eR,{data:oe,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"mb-2 text-sm font-medium text-slate-700",children:"Remaining (Cumulative)"}),u?A.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):f?A.jsx("div",{className:"text-sm text-rose-600",children:f}):J.length===0?A.jsx("div",{className:"text-sm text-slate-500",children:"No data."}):A.jsx(Z7,{data:Z,options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[A.jsxs("div",{className:"rounded-xl border border-emerald-100 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Total Credit"}),A.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:te($.credit)}),A.jsx("div",{className:"text-sm text-slate-600 mt-1",children:le(q($.credit))})]}),A.jsxs("div",{className:"rounded-xl border border-rose-100 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Total Debit"}),A.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:te($.debit)}),A.jsx("div",{className:"text-sm text-slate-600 mt-1",children:le(q($.debit))})]}),A.jsxs("div",{className:`rounded-xl border ${K>=0?"border-emerald-200":"border-rose-200"} bg-white p-4 shadow-sm`,children:[A.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Remaining"}),A.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:te(K)}),A.jsx("div",{className:"text-sm text-slate-600 mt-1",children:le(q(K))})]}),A.jsxs("div",{className:"rounded-xl border border-indigo-200 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Savings (Selected Period)"}),A.jsxs("div",{className:"text-[11px] text-slate-500",children:["Months: ",de]}),A.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:te(m)}),A.jsx("div",{className:"text-sm text-slate-600 mt-1",children:le(q(m))})]}),A.jsxs("div",{className:`rounded-xl border ${K-m>=0?"border-emerald-300":"border-rose-300"} bg-white p-4 shadow-sm sm:col-span-2`,children:[A.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Remaining After Savings"}),A.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:te(K-m)}),A.jsx("div",{className:"text-sm text-slate-600 mt-1",children:le(q(K-m))})]})]}),!u&&!f&&l.length>0&&A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Transaction Breakdown"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[A.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Date"}),A.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Type"}),A.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Category"}),A.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (PHP)"}),A.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (USD)"}),A.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Note"})]})}),A.jsx("tbody",{children:l.map(_=>A.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[A.jsx("td",{className:"px-3 py-2 text-slate-900",children:_.date}),A.jsx("td",{className:"px-3 py-2",children:A.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${_.type==="in"?"bg-green-100 text-green-800":_.type==="out"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:_.type==="in"?"Credit":_.type==="out"?"Debit":"Expense"})}),A.jsx("td",{className:"px-3 py-2 text-slate-700",children:_.category||"-"}),A.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:te(_.amount)}),A.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:le(q(_.amount))}),A.jsx("td",{className:"px-3 py-2 text-slate-600 max-w-xs truncate",children:_.note||"-"})]},_.id))}),A.jsx("tfoot",{children:A.jsxs("tr",{className:"border-t-2 border-slate-300 bg-slate-100 font-medium",children:[A.jsx("td",{colSpan:3,className:"px-3 py-2 text-slate-900",children:"Total"}),A.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:te(l.reduce((_,L)=>_+(L.type==="in"?L.amount:-L.amount),0))}),A.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:le(q(l.reduce((_,L)=>_+(L.type==="in"?L.amount:-L.amount),0)))}),A.jsx("td",{className:"px-3 py-2"})]})})]})})]}),!u&&!f&&B.length>0&&A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Savings Breakdown"}),A.jsxs("div",{className:"text-sm text-slate-600",children:["Period: ",de,"  ",B.length," entries"]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:te(m)}),A.jsx("div",{className:"text-sm text-slate-600",children:le(q(m))})]})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-slate-200 bg-indigo-50",children:[A.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Date"}),A.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Description"}),A.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Account"}),A.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (PHP)"}),A.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (USD)"})]})}),A.jsx("tbody",{children:B.map((_,L)=>A.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[A.jsx("td",{className:"px-3 py-2 text-slate-900",children:_.date}),A.jsx("td",{className:"px-3 py-2 text-slate-700",children:_.description||"-"}),A.jsx("td",{className:"px-3 py-2 text-slate-600",children:_.account||"-"}),A.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:te(_.amount)}),A.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:le(q(_.amount))})]},_.id||L))}),A.jsx("tfoot",{children:A.jsxs("tr",{className:"border-t-2 border-indigo-300 bg-indigo-100 font-medium",children:[A.jsx("td",{colSpan:3,className:"px-3 py-2 text-slate-900",children:"Total Savings"}),A.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:te(m)}),A.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:le(q(m))})]})})]})}),B.length>0&&A.jsxs("div",{className:"mt-6",children:[A.jsx("div",{className:"mb-3 text-base font-semibold text-slate-900",children:"Savings by Account"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(B.reduce((_,L)=>{const M=L.account||"Unspecified";return _[M]=(_[M]||0)+L.amount,_},{})).sort(([,_],[,L])=>L-_).map(([_,L])=>A.jsxs("div",{className:"rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[A.jsx("div",{className:"text-sm font-medium text-slate-700",children:_}),A.jsx("div",{className:"text-lg font-bold text-indigo-600",children:te(L)}),A.jsx("div",{className:"text-xs text-slate-600",children:le(q(L))}),A.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[(L/m*100).toFixed(1),"% of total"]})]},_))})]})]})]})]})}const ts=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,ox=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},j5=T.forwardRef(({employee:t,payslip:e},r)=>{const n=(e.sss??0)+(e.pagibig??0)+(e.philhealth??0)+(e.tax??0)+(e.cash_advance??0)+(e.loan_deductions??0)+(e.other_deductions??0),s=(e.bonuses??0)+(e.allowances??0);return A.jsxs("div",{ref:r,className:"mx-auto w-full max-w-2xl rounded-xl border border-slate-200 bg-white p-8 text-slate-800",children:[A.jsx("div",{className:"mb-6 flex items-start justify-between border-b-2 border-slate-900 pb-4",children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"h-16 w-16 object-contain"}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Avensetech Software Development Services"}),A.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"}),A.jsx("p",{className:"text-xs text-slate-600",children:"(032) 234-1362  09297246296"})]})]})}),A.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"PAYSLIP"}),A.jsxs("p",{className:"text-sm text-slate-600",children:["Date Issued: ",ox(e.date_issued)]})]}),A.jsxs("div",{className:"rounded-lg bg-slate-50 p-4 text-right",children:[A.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Employee"}),A.jsx("div",{className:"mt-1 text-base font-bold text-slate-900",children:t.name}),t.position&&A.jsx("div",{className:"text-sm text-slate-600",children:t.position})]})]}),A.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[A.jsxs("div",{className:"rounded-lg border border-slate-300 bg-slate-50 p-4",children:[A.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Pay Period"}),A.jsxs("div",{className:"mt-1 text-sm font-medium text-slate-900",children:[ox(e.period_start)," to ",ox(e.period_end)]})]}),A.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:[A.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-blue-600",children:"Gross Salary"}),A.jsx("div",{className:"mt-1 text-xl font-bold text-blue-900",children:ts(e.gross_salary)})]})]}),A.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[A.jsxs("div",{className:"rounded-lg border border-emerald-100 p-4",children:[A.jsx("div",{className:"mb-2 text-sm font-medium text-emerald-700",children:"Additions"}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"Bonuses:"})," ",A.jsx("span",{className:"float-right",children:ts(e.bonuses)})]}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"Allowances:"})," ",A.jsx("span",{className:"float-right",children:ts(e.allowances)})]}),A.jsxs("div",{className:"mt-2 border-t pt-2 text-sm",children:[A.jsx("span",{className:"text-slate-600",children:"Total Additions"})," ",A.jsx("span",{className:"float-right font-medium",children:ts(s)})]})]}),A.jsxs("div",{className:"rounded-lg border border-rose-100 p-4",children:[A.jsx("div",{className:"mb-2 text-sm font-medium text-rose-700",children:"Deductions"}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"SSS:"})," ",A.jsx("span",{className:"float-right",children:ts(e.sss)})]}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"Pag-IBIG:"})," ",A.jsx("span",{className:"float-right",children:ts(e.pagibig)})]}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"PhilHealth:"})," ",A.jsx("span",{className:"float-right",children:ts(e.philhealth)})]}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"Tax:"})," ",A.jsx("span",{className:"float-right",children:ts(e.tax)})]}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"Cash Advance:"})," ",A.jsx("span",{className:"float-right",children:ts(e.cash_advance)})]}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"Loan Deductions:"})," ",A.jsx("span",{className:"float-right",children:ts(e.loan_deductions)})]}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-slate-500",children:"Other:"})," ",A.jsx("span",{className:"float-right",children:ts(e.other_deductions)})]}),A.jsxs("div",{className:"mt-2 border-t pt-2 text-sm",children:[A.jsx("span",{className:"text-slate-600",children:"Total Deductions"})," ",A.jsx("span",{className:"float-right font-medium",children:ts(n)})]})]})]}),A.jsx("div",{className:"mt-6 rounded-lg border-2 border-emerald-600 bg-emerald-50 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-lg font-bold text-emerald-900",children:"NET SALARY"}),A.jsx("span",{className:"text-3xl font-bold text-emerald-700",children:ts(e.net_salary)})]})}),e.notes&&A.jsxs("div",{className:"mt-6 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[A.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Notes"}),A.jsx("div",{className:"mt-2 text-sm text-slate-700",children:e.notes})]}),A.jsx("div",{className:"mt-8 border-t border-slate-200 pt-4 text-center",children:A.jsx("p",{className:"text-xs text-slate-500",children:"This is a computer-generated payslip and does not require a signature."})})]})}),Na=()=>new Date().toISOString().slice(0,10),Sa=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},kr=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;function iR(){const[t,e]=T.useState("list"),[r,n]=T.useState([]),[s,i]=T.useState([]),[a,o]=T.useState([]),[l,c]=T.useState(!0),[u,d]=T.useState(null),[f,g]=T.useState(""),[m,w]=T.useState(""),[B,x]=T.useState(""),[y,C]=T.useState(null),[S,k]=T.useState(null),[O,I]=T.useState(!1),[F,R]=T.useState(Na()),[J,Q]=T.useState(Na()),[j,K]=T.useState([]),[$,de]=T.useState(!1),[te,le]=T.useState(null),[q,se]=T.useState(null),[oe,Z]=T.useState(!1),_=T.useRef(null),L=T.useRef(null),M=T.useMemo(()=>{const W=new Map;return s.forEach(Be=>{const me=`${Be.period_start}_${Be.period_end}`;W.has(me)||W.set(me,[]),W.get(me).push(Be)}),Array.from(W.entries()).map(([Be,me])=>{const[Fe,Ke]=Be.split("_"),Ne=me.reduce((Ge,Te)=>Ge+Te.gross_salary,0),ne=me.reduce((Ge,Te)=>Ge+Te.net_salary,0),Se=me.reduce((Ge,Te)=>{const wt=(Te.sss??0)+(Te.pagibig??0)+(Te.philhealth??0)+(Te.tax??0)+(Te.cash_advance??0)+(Te.loan_deductions??0)+(Te.other_deductions??0);return Ge+wt},0),qe=me.reduce((Ge,Te)=>{const wt=(Te.bonuses??0)+(Te.allowances??0);return Ge+wt},0);return{periodStart:Fe,periodEnd:Ke,payslips:me,employeeCount:me.length,totalGross:Ne,totalAdditions:qe,totalDeductions:Se,totalNet:ne}}).sort((Be,me)=>new Date(me.periodStart).getTime()-new Date(Be.periodStart).getTime())},[s]),z=async()=>{var W;c(!0),d(null);try{const[Be,me,Fe]=await Promise.all([Je.from("employees").select("*").order("created_at",{ascending:!1}),Je.from("payslips").select("*").order("created_at",{ascending:!1}),Je.from("loans").select("*").eq("status","active").order("created_at",{ascending:!1})]);Be.error&&d(Be.error.message),me.error&&d(Ke=>Ke??me.error.message),Fe.error&&d(Ke=>Ke??Fe.error.message),n(Be.data??[]),i(me.data??[]),o(Fe.data??[]),console.log("Refreshed payslips with transaction_ids:",(W=me.data)==null?void 0:W.map(Ke=>({id:Ke.id,transaction_id:Ke.transaction_id,employee_id:Ke.employee_id})))}catch(Be){console.error("Refresh error:",Be),d("Failed to refresh data")}finally{c(!1)}};T.useEffect(()=>{z()},[]);const ee=T.useMemo(()=>S&&r.find(W=>W.id===S.employee_id)||null,[S,r]),ie=T.useMemo(()=>{if(!S)return{additions:0,deductions:0,net:0};const W=S,Be=(W.bonuses??0)+(W.allowances??0),me=(W.sss??0)+(W.pagibig??0)+(W.philhealth??0)+(W.tax??0)+(W.cash_advance??0)+(W.loan_deductions??0)+(W.other_deductions??0),Fe=W.gross_salary+Be-me;return{additions:Be,deductions:me,net:Fe}},[S]),ae=(W,Be)=>a.filter(me=>me.employee_id===W&&me.status==="active"&&new Date(me.start_deduction_date)<=new Date(Be)),re=(W,Be)=>ae(W,Be).reduce((Fe,Ke)=>Fe+Ke.bimonthly_deduction,0),we=async(W,Be,me,Fe)=>{if(Fe<=0)return;const Ke=ae(Be,me);for(const Ne of Ke){const ne=Math.min(Ne.bimonthly_deduction,Ne.remaining_balance);if(ne<=0)continue;const Se=Ne.remaining_balance,qe=Se-ne,Ge=qe<=0?"completed":"active";try{const{error:Te}=await Je.from("loan_payments").insert({loan_id:Ne.id,payslip_id:W,payment_date:me,amount:ne,balance_before:Se,balance_after:qe,payment_type:"payroll_deduction",notes:`Automatic payroll deduction for payslip ${W}`});if(Te){console.error("Error creating loan payment:",Te);continue}const{error:wt}=await Je.from("loans").update({remaining_balance:qe,status:Ge,end_date:Ge==="completed"?me:null}).eq("id",Ne.id);wt&&console.error("Error updating loan balance:",wt)}catch(Te){console.error("Error processing loan payment:",Te)}}},Ce=()=>{var Fe,Ke;const W=Number(((Fe=r[0])==null?void 0:Fe.base_salary)??0),Be=((Ke=r[0])==null?void 0:Ke.id)??"",me=re(Be,Na());return{id:crypto.randomUUID(),created_at:new Date().toISOString(),employee_id:Be,period_start:Na(),period_end:Na(),date_issued:Na(),gross_salary:W/2,sss:0,pagibig:0,philhealth:0,tax:0,cash_advance:0,loan_deductions:me,bonuses:0,allowances:0,other_deductions:0,notes:"",net_salary:0,transaction_id:null}},Ue=(W,Be,me)=>{const Fe=new Date(W),Ke=new Date(Be),Ne=Fe.getDate(),ne=Ke.getDate(),Se=Ne===1&&ne===15,qe=Ne===16&&ne>=28&&ne<=31;return Se||qe?me/2:me},Ie=W=>{if(W)k(W);else{const Be=Ce(),me=s.find(Fe=>Fe.employee_id===Be.employee_id);me&&(Be.sss=me.sss,Be.pagibig=me.pagibig,Be.philhealth=me.philhealth,Be.tax=me.tax,Be.bonuses=me.bonuses,Be.allowances=me.allowances),Be.loan_deductions=re(Be.employee_id,Be.date_issued),k(Be)}e("edit")},ze=async W=>{if(s.find(me=>me.id===W),!confirm("Delete this payslip?"))return;const{error:Be}=await Je.from("payslips").delete().eq("id",W);if(Be)return alert(Be.message);await z()},pe=async()=>{if(!S)return;const W={...S},Be=(W.bonuses??0)+(W.allowances??0),me=(W.sss??0)+(W.pagibig??0)+(W.philhealth??0)+(W.tax??0)+(W.cash_advance??0)+(W.loan_deductions??0)+(W.other_deductions??0);W.net_salary=W.gross_salary+Be-me;const{error:Fe}=await Je.from("payslips").upsert(W,{onConflict:"id"});if(Fe)return alert(Fe.message);W.loan_deductions&&W.loan_deductions>0&&await we(W.id,W.employee_id,W.date_issued,W.loan_deductions);const Ke=`Payroll: ${(ee==null?void 0:ee.name)??W.employee_id} (${W.period_start} to ${W.period_end})`;if(W.transaction_id){const{error:Ne}=await Je.from("transactions").update({amount:W.gross_salary,type:"expense",category:"Payroll",note:Ke}).eq("id",W.transaction_id);if(Ne)return alert(Ne.message)}else{const{data:Ne,error:ne}=await Je.from("transactions").insert({date:W.date_issued,type:"expense",amount:W.gross_salary,category:"Payroll",note:Ke}).select("id").single();if(ne)return alert(ne.message);W.transaction_id=(Ne==null?void 0:Ne.id)??null;const{error:Se}=await Je.from("payslips").update({transaction_id:W.transaction_id}).eq("id",W.id);if(Se)return alert(Se.message)}k(null),e("list"),await z()},X=async()=>{if(!S||!L.current)return;const W=L.current,[Be,me]=await Promise.all([Ss(()=>Promise.resolve().then(()=>cB),void 0),Ss(()=>Promise.resolve().then(()=>Kv),void 0)]),Fe=Be.default,Ke=me.default,Ne=await Ke(W,{scale:2,backgroundColor:"#ffffff"}),ne=Ne.toDataURL("image/png"),Se=new Fe({orientation:"p",unit:"pt",format:"a4"}),qe=Se.internal.pageSize.getWidth(),Ge=Se.internal.pageSize.getHeight(),Te=qe-40,wt=Ne.height*Te/Ne.width;Se.addImage(ne,"PNG",20,20,Te,Math.min(wt,Ge-40)),Se.save(`payslip_${(ee==null?void 0:ee.name)??"employee"}_${S.date_issued}.pdf`)},at=async()=>{if(!q||!_.current)return;const W=_.current,Be=r.find(ft=>ft.id===q.employee_id),[me,Fe]=await Promise.all([Ss(()=>Promise.resolve().then(()=>cB),void 0),Ss(()=>Promise.resolve().then(()=>Kv),void 0)]),Ke=me.default,Ne=Fe.default,ne=await Ne(W,{scale:2,backgroundColor:"#ffffff"}),Se=ne.toDataURL("image/png"),qe=new Ke({orientation:"p",unit:"pt",format:"a4"}),Ge=qe.internal.pageSize.getWidth(),Te=qe.internal.pageSize.getHeight(),wt=Ge-40,fe=ne.height*wt/ne.width;qe.addImage(Se,"PNG",20,20,wt,Math.min(fe,Te-40)),qe.save(`payslip_${(Be==null?void 0:Be.name)??"employee"}_${q.date_issued}.pdf`)},xe=async()=>{const W={name:f.trim(),position:m.trim()||null,base_salary:B?Number(B):null};if(!W.name)return alert("Employee name is required");if(y){const{error:Be}=await Je.from("employees").update(W).eq("id",y);if(Be)return alert(Be.message)}else{const{error:Be}=await Je.from("employees").insert(W);if(Be)return alert(Be.message)}g(""),w(""),x(""),C(null),await z()},Ee=W=>{C(W.id),g(W.name),w(W.position??""),x(W.base_salary!=null?String(W.base_salary):"")},Re=async W=>{if(!confirm("Delete this employee?"))return;const{error:Be}=await Je.from("employees").delete().eq("id",W);if(Be)return alert(Be.message);await z()},We=async()=>{if(j.length===0){alert("Please select at least one employee");return}try{const W=j.map(Ne=>{const ne=r.find(wt=>wt.id===Ne),Se=(ne==null?void 0:ne.base_salary)??0,qe=Ue(F,J,Se),Ge=re(Ne,Na()),Te=s.find(wt=>wt.employee_id===Ne);return{id:crypto.randomUUID(),created_at:new Date().toISOString(),employee_id:Ne,period_start:F,period_end:J,date_issued:Na(),gross_salary:qe,sss:(Te==null?void 0:Te.sss)??0,pagibig:(Te==null?void 0:Te.pagibig)??0,philhealth:(Te==null?void 0:Te.philhealth)??0,tax:(Te==null?void 0:Te.tax)??0,cash_advance:0,loan_deductions:Ge,bonuses:(Te==null?void 0:Te.bonuses)??0,allowances:(Te==null?void 0:Te.allowances)??0,other_deductions:0,notes:"",net_salary:qe+((Te==null?void 0:Te.bonuses)??0)+((Te==null?void 0:Te.allowances)??0)-(((Te==null?void 0:Te.sss)??0)+((Te==null?void 0:Te.pagibig)??0)+((Te==null?void 0:Te.philhealth)??0)+((Te==null?void 0:Te.tax)??0)+Ge),transaction_id:null}}),Be=W.map(Ne=>{const ne=r.find(qe=>qe.id===Ne.employee_id),Se=`Payroll: ${(ne==null?void 0:ne.name)??Ne.employee_id} (${Ne.period_start} to ${Ne.period_end})`;return{date:Ne.date_issued,type:"expense",amount:Ne.gross_salary,category:"Payroll",note:Se}});console.log("Creating expense transactions:",Be);const{data:me,error:Fe}=await Je.from("transactions").insert(Be).select("id");if(Fe){console.error("Transaction error:",Fe),alert(`Error creating expense transactions: ${Fe.message}`);return}if(console.log("Created transactions:",me),me&&me.length===W.length)W.forEach((Ne,ne)=>{Ne.transaction_id=me[ne].id,console.log(`Setting payslip ${Ne.id} transaction_id to:`,me[ne].id)});else{console.error("Transaction data length mismatch:",me==null?void 0:me.length,"vs",W.length),alert("Error: Transaction creation count mismatch");return}console.log("Payslips with transaction IDs:",W.map(Ne=>({id:Ne.id,transaction_id:Ne.transaction_id})));const{error:Ke}=await Je.from("payslips").insert(W);if(Ke){console.error("Payslip error:",Ke),alert(`Error creating payslips: ${Ke.message}`);return}console.log("Successfully created payslips with transaction links");for(const Ne of W)Ne.loan_deductions&&Ne.loan_deductions>0&&await we(Ne.id,Ne.employee_id,Ne.date_issued,Ne.loan_deductions);I(!1),K([]),setTimeout(async()=>{await z()},500),alert(`${W.length} payslips generated successfully with linked expense transactions and loan deductions!`)}catch(W){console.error("Bulk generation error:",W),alert(`Error during bulk generation: ${W}`)}},He=W=>{K(Be=>Be.includes(W)?Be.filter(me=>me!==W):[...Be,W])},Ze=()=>{j.length===r.length?K([]):K(r.map(W=>W.id))},_e=T.useMemo(()=>te?s.filter(W=>W.employee_id===te):[],[te,s]),Oe=T.useMemo(()=>{const W=r.find(Fe=>Fe.id===te);if(!W)return null;const Be=_e,me=Be.reduce((Fe,Ke)=>Fe+Ke.net_salary,0);return{employee:W,payslips:Be,totalPaid:me}},[te,r,_e]);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Payroll"}),A.jsx("p",{className:"text-sm text-slate-600",children:"Create and edit payslips. Processing will log an expense automatically."})]}),A.jsx("div",{className:"flex gap-2",children:t==="list"?A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",onClick:()=>Ie(),children:"New Payslip"}),A.jsx("button",{className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-purple-700",onClick:()=>I(!0),children:"Bulk Generate"}),A.jsx("button",{className:"rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-gray-700",onClick:z,children:"Refresh"})]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"rounded-md bg-slate-100 px-3 py-2 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>{e("list"),k(null)},children:"Back"}),A.jsx("button",{className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",onClick:pe,children:"Process & Save"}),A.jsx("button",{className:"rounded-md bg-slate-800 px-4 py-2 text-sm font-medium text-white shadow hover:bg-black",onClick:X,children:"Download PDF"})]})})]}),A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"mb-3 flex items-center justify-between",children:A.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Employees"})}),A.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[A.jsx("input",{className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Name",value:f,onChange:W=>g(W.target.value)}),A.jsx("input",{className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Position",value:m,onChange:W=>w(W.target.value)}),A.jsx("input",{type:"number",step:"0.01",className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Base Salary",value:B,onChange:W=>x(W.target.value)}),A.jsx("div",{children:A.jsxs("button",{onClick:xe,className:"w-full rounded-md bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-700",children:[y?"Update":"Add"," Employee"]})})]}),A.jsx("div",{className:"mt-4 overflow-hidden rounded-lg border border-slate-200",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[A.jsx("thead",{className:"bg-slate-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Name"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Position"}),A.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Base Salary"}),A.jsx("th",{className:"px-3 py-2"})]})}),A.jsxs("tbody",{className:"divide-y divide-slate-200",children:[r.map(W=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-3 py-2 text-sm text-slate-800",children:W.name}),A.jsx("td",{className:"px-3 py-2 text-sm text-slate-700",children:W.position??""}),A.jsx("td",{className:"px-3 py-2 text-right text-sm text-slate-900",children:W.base_salary!=null?kr(W.base_salary):""}),A.jsxs("td",{className:"px-3 py-2 text-right",children:[A.jsx("button",{className:"rounded-md bg-blue-50 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100",onClick:()=>{le(W.id),de(!0)},children:"History"}),A.jsx("button",{className:"ml-2 rounded-md bg-slate-100 px-3 py-1 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>Ee(W),children:"Edit"}),A.jsx("button",{className:"ml-2 rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",onClick:()=>Re(W.id),children:"Delete"})]})]},W.id)),r.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-sm text-slate-500",children:"No employees yet."})})]})]})})]}),t==="list"&&M.length>0&&A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Payroll Period Summaries"}),A.jsxs("span",{className:"text-sm text-slate-600",children:[M.length," periods"]})]}),A.jsx("div",{className:"space-y-4",children:M.map((W,Be)=>A.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[A.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsxs("h4",{className:"font-medium text-slate-900",children:["Period: ",Sa(W.periodStart)," to ",Sa(W.periodEnd)]}),A.jsxs("p",{className:"text-sm text-slate-600",children:[W.employeeCount," employees"]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-lg font-bold text-slate-900",children:kr(W.totalNet)}),A.jsx("p",{className:"text-sm text-slate-600",children:"Total Net Pay"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"font-medium text-slate-900",children:kr(W.totalGross)}),A.jsx("p",{className:"text-slate-600",children:"Gross Salary"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"font-medium text-green-700",children:kr(W.totalAdditions)}),A.jsx("p",{className:"text-slate-600",children:"Additions"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"font-medium text-red-700",children:kr(W.totalDeductions)}),A.jsx("p",{className:"text-slate-600",children:"Deductions"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"font-medium text-blue-700",children:kr(W.totalNet)}),A.jsx("p",{className:"text-slate-600",children:"Net Pay"})]})]}),A.jsxs("details",{className:"mt-3",children:[A.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900",children:["View Employee Breakdown (",W.employeeCount," employees)"]}),A.jsx("div",{className:"mt-2 overflow-hidden rounded border border-slate-200",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[A.jsx("thead",{className:"bg-slate-100",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Employee"}),A.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Gross"}),A.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Additions"}),A.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Deductions"}),A.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Net"}),A.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:W.payslips.map(me=>{const Fe=r.find(ne=>ne.id===me.employee_id),Ke=(me.bonuses??0)+(me.allowances??0),Ne=(me.sss??0)+(me.pagibig??0)+(me.philhealth??0)+(me.tax??0)+(me.cash_advance??0)+(me.loan_deductions??0)+(me.other_deductions??0);return A.jsxs("tr",{className:"hover:bg-slate-50",children:[A.jsx("td",{className:"px-3 py-2 text-slate-800",children:(Fe==null?void 0:Fe.name)??me.employee_id}),A.jsx("td",{className:"px-3 py-2 text-right text-slate-900",children:kr(me.gross_salary)}),A.jsx("td",{className:"px-3 py-2 text-right text-green-700",children:kr(Ke)}),A.jsx("td",{className:"px-3 py-2 text-right text-red-700",children:kr(Ne)}),A.jsx("td",{className:"px-3 py-2 text-right font-medium text-slate-900",children:kr(me.net_salary)}),A.jsxs("td",{className:"px-3 py-2 text-center",children:[A.jsx("button",{className:"rounded-md bg-blue-50 px-2 py-1 text-xs text-blue-700 hover:bg-blue-100 mr-1",onClick:()=>{se(me),Z(!0)},children:"View"}),A.jsx("button",{className:"rounded-md bg-slate-100 px-2 py-1 text-xs text-slate-700 hover:bg-slate-200",onClick:()=>Ie(me),children:"Edit"})]})]},me.id)})})]})})]})]},`${W.periodStart}_${W.periodEnd}`))})]}),t==="list"&&A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"mb-3 flex items-center justify-between",children:A.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"All Payslips"})}),A.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[A.jsx("thead",{className:"bg-slate-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Employee"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Period"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Issued"}),A.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Net"}),A.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Linked Expense"}),A.jsx("th",{className:"px-3 py-2"})]})}),A.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.map(W=>{const Be=r.find(me=>me.id===W.employee_id);return A.jsxs("tr",{children:[A.jsx("td",{className:"px-3 py-2 text-sm text-slate-800",children:(Be==null?void 0:Be.name)??W.employee_id}),A.jsxs("td",{className:"px-3 py-2 text-sm text-slate-700",children:[Sa(W.period_start)," to ",Sa(W.period_end)]}),A.jsx("td",{className:"px-3 py-2 text-sm text-slate-700",children:Sa(W.date_issued)}),A.jsx("td",{className:"px-3 py-2 text-right text-sm text-slate-900",children:kr(W.net_salary)}),A.jsx("td",{className:"px-3 py-2 text-sm",children:W.transaction_id?A.jsx("span",{className:"rounded bg-emerald-50 px-2 py-1 text-emerald-700",children:"Linked"}):A.jsx("span",{className:"rounded bg-slate-50 px-2 py-1 text-slate-600",children:"Not Linked"})}),A.jsxs("td",{className:"px-3 py-2 text-right",children:[A.jsx("button",{className:"rounded-md bg-blue-50 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100",onClick:()=>{se(W),Z(!0)},children:"View"}),A.jsx("button",{className:"ml-2 rounded-md bg-slate-100 px-3 py-1 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>Ie(W),children:"Edit"}),A.jsx("button",{className:"ml-2 rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",onClick:()=>ze(W.id),children:"Delete"})]})]},W.id)}),s.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-sm text-slate-500",children:"No payslips yet."})})]})]})})]}),t==="edit"&&S&&A.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"mb-3 text-base font-semibold text-slate-900",children:"Payslip Details"}),A.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[A.jsxs("label",{className:"text-sm text-slate-600",children:["Employee",A.jsx("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.employee_id,onChange:W=>{const Be=W.target.value,me=r.find(ne=>ne.id===Be),Fe=(me==null?void 0:me.base_salary)??0,Ke=Ue(S.period_start,S.period_end,Fe),Ne=s.find(ne=>ne.employee_id===Be);k({...S,employee_id:Be,gross_salary:Ke,sss:(Ne==null?void 0:Ne.sss)??0,pagibig:(Ne==null?void 0:Ne.pagibig)??0,philhealth:(Ne==null?void 0:Ne.philhealth)??0,tax:(Ne==null?void 0:Ne.tax)??0,bonuses:(Ne==null?void 0:Ne.bonuses)??0,allowances:(Ne==null?void 0:Ne.allowances)??0,cash_advance:0,loan_deductions:re(Be,S.date_issued),other_deductions:0})},children:r.map(W=>A.jsx("option",{value:W.id,children:W.name},W.id))})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("label",{className:"text-sm text-slate-600",children:["Period Start",A.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.period_start,onChange:W=>{const Be=W.target.value,me=r.find(Ne=>Ne.id===S.employee_id),Fe=(me==null?void 0:me.base_salary)??0,Ke=Ue(Be,S.period_end,Fe);k({...S,period_start:Be,gross_salary:Ke})}})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Period End",A.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.period_end,onChange:W=>{const Be=W.target.value,me=r.find(Ne=>Ne.id===S.employee_id),Fe=(me==null?void 0:me.base_salary)??0,Ke=Ue(S.period_start,Be,Fe);k({...S,period_end:Be,gross_salary:Ke})}})]})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Date Issued",A.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.date_issued,onChange:W=>k({...S,date_issued:W.target.value})})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Gross Salary",A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.gross_salary,onChange:W=>k({...S,gross_salary:Number(W.target.value)})}),A.jsx("div",{className:"mt-1 text-xs text-slate-500",children:(()=>{const W=r.find(Fe=>Fe.id===S.employee_id),Be=(W==null?void 0:W.base_salary)??0;return S.gross_salary===Be/2?"(Half-month salary)":Be>0&&S.gross_salary===Be?"(Full-month salary)":""})()})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("label",{className:"text-sm text-slate-600",children:["Bonuses",A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.bonuses??0,onChange:W=>k({...S,bonuses:Number(W.target.value)})})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Allowances",A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.allowances??0,onChange:W=>k({...S,allowances:Number(W.target.value)})})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("label",{className:"text-sm text-slate-600",children:["SSS",A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.sss??0,onChange:W=>k({...S,sss:Number(W.target.value)})})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Pag-IBIG",A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.pagibig??0,onChange:W=>k({...S,pagibig:Number(W.target.value)})})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["PhilHealth",A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.philhealth??0,onChange:W=>k({...S,philhealth:Number(W.target.value)})})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Tax",A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.tax??0,onChange:W=>k({...S,tax:Number(W.target.value)})})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Cash Advance",A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.cash_advance??0,onChange:W=>k({...S,cash_advance:Number(W.target.value)})})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Loan Deductions",A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.loan_deductions??0,onChange:W=>k({...S,loan_deductions:Number(W.target.value)})}),A.jsx("div",{className:"mt-1 text-xs text-slate-500",children:(()=>{const W=ae(S.employee_id,S.date_issued);return W.length>0?`${W.length} active loan(s)`:"No active loans"})()})]})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Other Deductions",A.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.other_deductions??0,onChange:W=>k({...S,other_deductions:Number(W.target.value)})})]})]}),A.jsxs("label",{className:"text-sm text-slate-600",children:["Notes",A.jsx("input",{type:"text",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.notes??"",onChange:W=>k({...S,notes:W.target.value})})]}),A.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-3 rounded-lg border border-slate-200 p-3 text-sm",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-slate-500",children:"Additions"}),A.jsx("div",{className:"text-slate-900 font-medium",children:kr(ie.additions)})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-slate-500",children:"Deductions"}),A.jsx("div",{className:"text-slate-900 font-medium",children:kr(ie.deductions)})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-slate-500",children:"Net Salary"}),A.jsx("div",{className:"text-slate-900 font-semibold",children:kr(ie.net)})]})]})]})]}),A.jsx("div",{className:"space-y-3",children:A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsx("div",{className:"mb-3 text-sm font-medium text-slate-700",children:"Preview"}),A.jsx("div",{ref:L,children:ee&&A.jsx(j5,{employee:ee,payslip:{...S,net_salary:ie.net}})})]})})]}),O&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Bulk Generate Payslips"}),A.jsx("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),A.jsxs("div",{className:"mb-6 space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Period Start"}),A.jsx("input",{type:"date",value:F,onChange:W=>R(W.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Period End"}),A.jsx("input",{type:"date",value:J,onChange:W=>Q(W.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Employees"}),A.jsx("button",{onClick:Ze,className:"text-sm text-blue-600 hover:text-blue-800",children:j.length===r.length?"Deselect All":"Select All"})]}),A.jsxs("div",{className:"max-h-64 space-y-2 overflow-y-auto rounded-lg border border-gray-200 p-3",children:[r.map(W=>A.jsxs("label",{className:"flex items-center gap-3 rounded p-2 hover:bg-gray-50",children:[A.jsx("input",{type:"checkbox",checked:j.includes(W.id),onChange:()=>He(W.id),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"font-medium text-gray-900",children:W.name}),A.jsxs("div",{className:"text-sm text-gray-500",children:[W.position,"  ",kr(W.base_salary)]})]})]},W.id)),r.length===0&&A.jsx("p",{className:"text-center text-sm text-gray-500",children:"No employees available"})]})]})]}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx("button",{onClick:()=>I(!1),className:"rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300",children:"Cancel"}),A.jsxs("button",{onClick:We,className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:["Generate ",j.length," Payslip",j.length!==1?"s":""]})]})]})}),$&&Oe&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"max-h-[80vh] w-full max-w-3xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Salary History"}),A.jsxs("p",{className:"text-sm text-gray-600",children:[Oe.employee.name,"  ",Oe.employee.position]})]}),A.jsx("button",{onClick:()=>{de(!1),le(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),A.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-4 rounded-lg bg-blue-50 p-4",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Base Salary"}),A.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:kr(Oe.employee.base_salary)})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Total Payslips"}),A.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:Oe.payslips.length})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Total Paid"}),A.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:kr(Oe.totalPaid)})]})]}),A.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-600",children:"Period"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-600",children:"Issued"}),A.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Gross"}),A.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Deductions"}),A.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Net"})]})}),A.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Oe.payslips.map(W=>{const Be=(W.sss??0)+(W.pagibig??0)+(W.philhealth??0)+(W.tax??0)+(W.cash_advance??0)+(W.loan_deductions??0)+(W.other_deductions??0);return A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[Sa(W.period_start)," to ",Sa(W.period_end)]}),A.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:Sa(W.date_issued)}),A.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:kr(W.gross_salary)}),A.jsx("td",{className:"px-4 py-3 text-right text-sm text-red-600",children:kr(Be)}),A.jsx("td",{className:"px-4 py-3 text-right text-sm font-bold text-green-600",children:kr(W.net_salary)})]},W.id)}),Oe.payslips.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No payslips found"})})]})]})})]})}),oe&&q&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"max-h-[90vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Payslip Details"}),A.jsx("button",{onClick:()=>{Z(!1),se(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),A.jsx("div",{ref:_,className:"rounded-lg border border-gray-200 bg-white p-4",children:A.jsx(j5,{employee:r.find(W=>W.id===q.employee_id),payslip:q})}),A.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[A.jsx("button",{onClick:()=>{Z(!1),se(null)},className:"rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300",children:"Close"}),A.jsx("button",{onClick:at,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Download PDF"})]})]})}),l&&A.jsx("div",{className:"text-sm text-slate-600",children:"Loading..."}),u&&A.jsx("div",{className:"text-sm text-rose-600",children:u})]})}function aR(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,o]=T.useState(new Date().toISOString().slice(0,10)),[l,c]=T.useState(""),[u,d]=T.useState(""),[f,g]=T.useState(""),[m,w]=T.useState("select"),B=Array.from(new Set(t.map(j=>typeof j.account=="string"?j.account:"").filter(j=>j&&j.trim()!==""))),x=async()=>{n(!0),i(null);const{data:j,error:K}=await Je.from("savings").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});K?i(K.message):e(j??[]),n(!1)};T.useEffect(()=>{x()},[]);const y=t.reduce((j,K)=>j+(K.amount??0),0),C=async j=>{if(j.preventDefault(),!u||Number(u)<=0)return alert("Enter a positive amount");const{data:K,error:$}=await Je.from("savings").insert([{date:a,description:l||null,amount:Number(u),account:f||null}]).select();if($)return alert($.message);c(""),d(""),g(""),w("select"),await x()},S=async j=>{if(!confirm("Delete this saving entry?"))return;const{error:K}=await Je.from("savings").delete().eq("id",j);if(K)return alert(K.message);await x()},[k,O]=T.useState(null),[I,F]=T.useState({date:"",description:"",amount:"",account:"",accountMode:"select"}),R=j=>{O(j.id),F({date:j.date,description:j.description??"",amount:j.amount,account:j.account??"",accountMode:"select"})},J=()=>{O(null),F({date:"",description:"",amount:"",account:"",accountMode:"select"})},Q=async()=>{if(!I.amount||Number(I.amount)<=0)return alert("Enter a positive amount");const{error:j}=await Je.from("savings").update({date:I.date,description:I.description||null,amount:Number(I.amount),account:I.account||null}).eq("id",k);if(j)return alert(j.message);J(),await x()};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Savings"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Record amounts saved and track totals."})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-sm text-gray-500",children:"Total saved"}),A.jsxs("div",{className:"mt-1 text-2xl font-semibold",children:[" ",y.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),A.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 gap-3 sm:grid-cols-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-gray-600",children:"Date"}),A.jsx("input",{type:"date",value:a,onChange:j=>o(j.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-gray-600",children:"Description"}),A.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-gray-600",children:"Amount"}),A.jsx("input",{type:"number",step:"0.01",value:u,onChange:j=>d(j.target.value===""?"":Number(j.target.value)),className:"mt-1 w-full rounded border px-3 py-2"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-gray-600",children:"Account"}),m==="select"?A.jsxs("select",{value:f,onChange:j=>{j.target.value==="__new__"?(w("new"),g("")):g(j.target.value)},className:"mt-1 w-full rounded border px-3 py-2",size:Math.min(5,B.length+2),style:{maxHeight:"120px",overflowY:"auto"},children:[A.jsx("option",{value:"",children:"Select account..."}),B.map(j=>A.jsx("option",{value:j,children:j},j)),A.jsx("option",{value:"__new__",children:"Add new account..."})]}):A.jsxs("div",{className:"flex gap-2 items-center",children:[A.jsx("input",{type:"text",value:f,onChange:j=>g(j.target.value),className:"mt-1 w-full rounded border px-3 py-2",placeholder:"Enter new account name"}),A.jsx("button",{type:"button",className:"mt-1 rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>w("select"),children:"Cancel"})]})]}),A.jsx("div",{className:"sm:col-span-4",children:A.jsx("button",{className:"mt-2 rounded bg-blue-600 px-4 py-2 text-white",children:"Save"})})]}),A.jsx("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Description"}),A.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Account"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),A.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-600",children:"Loading..."})}),s&&!r&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-red-600",children:s})}),!r&&!s&&t.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No savings recorded."})}),!r&&!s&&t.map(j=>A.jsx("tr",{children:k===j.id?A.jsxs(A.Fragment,{children:[A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsx("input",{type:"date",value:I.date,onChange:K=>F($=>({...$,date:K.target.value})),className:"w-full rounded border px-2 py-1"})}),A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsx("input",{type:"text",value:I.description,onChange:K=>F($=>({...$,description:K.target.value})),className:"w-full rounded border px-2 py-1"})}),A.jsx("td",{className:"px-4 py-2 text-right text-sm",children:A.jsx("input",{type:"number",step:"0.01",value:I.amount,onChange:K=>F($=>({...$,amount:K.target.value===""?"":Number(K.target.value)})),className:"w-full rounded border px-2 py-1 text-right"})}),A.jsx("td",{className:"px-4 py-2 text-sm",children:I.accountMode==="select"?A.jsxs("select",{value:I.account,onChange:K=>{K.target.value==="__new__"?F($=>({...$,accountMode:"new",account:""})):F($=>({...$,account:K.target.value}))},className:"w-full rounded border px-2 py-1",size:Math.min(5,B.length+2),style:{maxHeight:"120px",overflowY:"auto"},children:[A.jsx("option",{value:"",children:"Select account..."}),B.map(K=>A.jsx("option",{value:K,children:K},K)),A.jsx("option",{value:"__new__",children:"Add new account..."})]}):A.jsxs("div",{className:"flex gap-2 items-center",children:[A.jsx("input",{type:"text",value:I.account,onChange:K=>F($=>({...$,account:K.target.value})),className:"w-full rounded border px-2 py-1",placeholder:"Enter new account name"}),A.jsx("button",{type:"button",className:"rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>F(K=>({...K,accountMode:"select"})),children:"Cancel"})]})}),A.jsxs("td",{className:"px-4 py-2 text-sm flex gap-2",children:[A.jsx("button",{type:"button",className:"rounded bg-blue-600 px-2 py-1 text-white",onClick:Q,children:"Save"}),A.jsx("button",{type:"button",className:"rounded bg-gray-400 px-2 py-1 text-white",onClick:J,children:"Cancel"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:j.date}),A.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:j.description??""}),A.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:[""," ",j.amount.toLocaleString(void 0,{maximumFractionDigits:2})]}),A.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:j.account??""}),A.jsxs("td",{className:"px-4 py-2 text-sm flex gap-2",children:[A.jsx("button",{type:"button",className:"rounded bg-yellow-500 px-2 py-1 text-white",onClick:()=>R(j),children:"Edit"}),A.jsx("button",{onClick:()=>S(j.id),className:"rounded bg-red-600 px-2 py-1 text-white",children:"Delete"})]})]})},j.id))]})]})})]})}function AR(){const[t,e]=T.useState([]),[r,n]=T.useState(""),[s,i]=T.useState(""),[a,o]=T.useState("whole_month"),[l,c]=T.useState(""),[u,d]=T.useState("N/A"),[f,g]=T.useState("56"),[m,w]=T.useState(!1),[B,x]=T.useState(""),[y,C]=T.useState(new Set),[S,k]=T.useState([]),[O,I]=T.useState([]),[F,R]=T.useState(""),[J,Q]=T.useState(!1),[j,K]=T.useState(null),[$,de]=T.useState(!1),[te,le]=T.useState(null),[q,se]=T.useState(!1),[oe,Z]=T.useState(""),[_,L]=T.useState(""),M=T.useRef(null),z=async()=>{w(!0),x("");try{const ne=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!ne.ok)throw new Error("Failed to fetch exchange rate");const Se=await ne.json();if(Se.rates&&Se.rates.PHP)g(String(Se.rates.PHP));else throw new Error("PHP rate not found in response")}catch(ne){console.error("Error fetching exchange rate:",ne),x("Failed to fetch current rate")}finally{w(!1)}};T.useEffect(()=>{z()},[]),T.useEffect(()=>{const ne=localStorage.getItem("request-funds-items");if(ne)try{const Ge=JSON.parse(ne);Array.isArray(Ge)&&e(Ge)}catch{}const Se=localStorage.getItem("request-funds-groups");if(Se)try{const Ge=JSON.parse(Se);Array.isArray(Ge)&&k(Ge)}catch{}const qe=localStorage.getItem("request-funds-history");if(qe)try{const Ge=JSON.parse(qe);Array.isArray(Ge)&&I(Ge)}catch{}},[]),T.useEffect(()=>{localStorage.setItem("request-funds-items",JSON.stringify(t))},[t]),T.useEffect(()=>{localStorage.setItem("request-funds-groups",JSON.stringify(S))},[S]),T.useEffect(()=>{localStorage.setItem("request-funds-history",JSON.stringify(O))},[O]);const ee=()=>{if(!r.trim())return alert("Enter a description");let ne=0,Se=0,qe=0;if(a==="whole_month"?(ne=s?Number(s):0,Se=ne/2,qe=ne):a==="half_month"?(Se=s?Number(s):0,ne=Se*2,qe=Se):(qe=s?Number(s):0,ne=0,Se=0),isNaN(qe)||qe<=0)return alert("Enter a valid amount");const Ge={id:crypto.randomUUID(),description:r.trim(),amount:qe,requestType:a,monthlyAmount:ne,halfMonthAmount:Se,remarks:l.trim(),status:u};e(Te=>[...Te,Ge]),n(""),i(""),c(""),d("N/A")},ie=ne=>{e(Se=>Se.filter(qe=>qe.id!==ne)),C(Se=>{const qe=new Set(Se);return qe.delete(ne),qe})},ae=ne=>{C(Se=>{const qe=new Set(Se);return qe.has(ne)?qe.delete(ne):qe.add(ne),qe})},re=()=>{if(y.size===0)return alert("Please select at least one item to save as a group");Q(!0)},we=()=>{if(!F.trim())return alert("Please enter a group name");const ne=t.filter(qe=>y.has(qe.id)),Se={id:crypto.randomUUID(),name:F.trim(),createdAt:new Date().toISOString(),items:ne};k(qe=>[...qe,Se]),R(""),Q(!1),C(new Set)},Ce=ne=>{confirm("Are you sure you want to delete this group?")&&k(Se=>Se.filter(qe=>qe.id!==ne))},Ue=ne=>{K(ne)},Ie=()=>{K(null)},ze=()=>{if(t.length===0)return alert("No items to save to history");const ne=new Date,Se=`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}`;Z(Se),L(""),se(!0)},pe=()=>{if(!oe.trim())return alert("Please enter a period");const ne=O.find(fe=>fe.period===oe.trim());if(ne&&!confirm("A record for this period already exists. Do you want to overwrite it?"))return;const[Se,qe]=oe.split("-"),Te=`${["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(qe)-1]} ${Se}`,wt={id:crypto.randomUUID(),period:oe.trim(),periodLabel:Te,createdAt:new Date().toISOString(),items:[...t],totalMonthly:Be.monthly,totalHalfMonth:Be.half,totalOneTime:Be.oneTime,totalAmount:Be.overall,usdRate:Number(f)||56,notes:_.trim()||void 0};I(ne?fe=>fe.map(ft=>ft.period===oe.trim()?wt:ft):fe=>[...fe,wt]),se(!1),Z(""),L(""),alert("Successfully saved to history!")},X=ne=>{confirm("Are you sure you want to delete this history record?")&&I(Se=>Se.filter(qe=>qe.id!==ne))},at=ne=>{le(ne),de(!0)},xe=()=>{le(null),de(!1)},Ee=ne=>{if(t.length>0&&!confirm("This will replace your current items. Continue?"))return;const Se=ne.items.map(qe=>({...qe,id:crypto.randomUUID()}));e(Se),g(String(ne.usdRate)),xe(),alert("Items loaded from history!")},[Re,We]=T.useState(null),[He,Ze]=T.useState({description:"",amount:"",requestType:"whole_month",remarks:"",status:"N/A"}),_e=ne=>{We(ne.id),Ze({description:ne.description,amount:String(Number(ne.amount)||0),requestType:ne.requestType,remarks:ne.remarks,status:ne.status})},Oe=()=>{We(null),Ze({description:"",amount:"",requestType:"whole_month",remarks:"",status:"N/A"})},W=()=>{if(!Re)return;if(!He.description.trim())return alert("Enter a description");const ne=He.amount?Number(He.amount):0;if(isNaN(ne)||ne<=0)return alert("Enter a valid amount");let Se=0,qe=0;He.requestType==="whole_month"?(Se=ne,qe=ne/2):He.requestType==="half_month"?(qe=ne,Se=ne*2):(Se=0,qe=0),e(Ge=>Ge.map(Te=>Te.id===Re?{...Te,description:He.description.trim(),amount:ne,requestType:He.requestType,monthlyAmount:Se,halfMonthAmount:qe,remarks:He.remarks.trim(),status:He.status}:Te)),Oe()},Be=T.useMemo(()=>{const ne=t.reduce((Ge,Te)=>Ge+(Number(Te.monthlyAmount)||0),0),Se=t.reduce((Ge,Te)=>Ge+(Number(Te.halfMonthAmount)||0),0),qe=t.reduce((Ge,Te)=>Te.requestType==="one_time"?Ge+(Number(Te.amount)||0):Ge,0);return{monthly:ne,half:Se,oneTime:qe,overall:ne+Se+qe}},[t]),me=ne=>` ${ne.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Fe=ne=>`$ ${ne.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ke=ne=>{const Se=Number(f);return!Se||isNaN(Se)||Se<=0?0:ne/Se},Ne=async()=>{if(!M.current)return;const ne=M.current;document.body.classList.add("pdf-mode");const Se=await Dp(ne,{scale:4,useCORS:!0,backgroundColor:"#ffffff"}),qe=Se.toDataURL("image/png"),Ge=new ct({orientation:"p",unit:"pt",format:"a4"}),Te=Ge.internal.pageSize.getWidth(),wt=Ge.internal.pageSize.getHeight(),fe=Te-40,ft=Se.height*fe/Se.width;let _t=20;if(ft<=wt-40)Ge.addImage(qe,"PNG",20,_t,fe,ft);else{let mr=0;const an=Se.width*(wt-40)/fe;for(;mr<Se.height;){const Bt=document.createElement("canvas");Bt.width=Se.width,Bt.height=Math.min(an,Se.height-mr);const ot=Bt.getContext("2d");ot&&ot.drawImage(Se,0,mr,Se.width,Bt.height,0,0,Se.width,Bt.height);const jt=Bt.toDataURL("image/png");Ge.addImage(jt,"PNG",20,20,fe,Bt.height*fe/Se.width),mr+=Bt.height,mr<Se.height&&Ge.addPage()}}Ge.save(`request-funds-${Date.now()}.pdf`),document.body.classList.remove("pdf-mode")};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-end justify-between gap-4",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Request Funds"}),A.jsx("p",{className:"text-sm text-slate-600",children:"Prepare a request with monthly and half-month items, remarks, and status."}),y.size>0&&A.jsx("div",{className:"mt-2",children:A.jsxs("button",{onClick:re,className:"rounded-md bg-purple-600 px-4 py-1.5 text-sm font-medium text-white shadow hover:bg-purple-700",children:["Save ",y.size," Selected as Group"]})})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("label",{className:"text-sm text-slate-600",title:"PHP per 1 USD",children:"USD Rate (PHP  USD)"}),A.jsx("input",{type:"number",step:"0.0001",min:"0",value:f,onChange:ne=>g(ne.target.value),className:"w-28 rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"56.00",disabled:m}),A.jsx("button",{onClick:z,disabled:m,className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white shadow hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed",title:"Refresh current rate",children:m?"...":""}),B&&A.jsx("span",{className:"text-xs text-red-600",children:B})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:ze,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700",children:"Save to History"}),A.jsx("button",{onClick:()=>de(!0),className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-purple-700",children:"View History"}),A.jsx("button",{onClick:Ne,className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",children:"Save as PDF"})]})]}),A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-6",children:[A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Description"}),A.jsx("input",{type:"text",value:r,onChange:ne=>n(ne.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g. Utilities, Internet, Supplies"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Request Type"}),A.jsxs("select",{value:a,onChange:ne=>o(ne.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"whole_month",children:"Whole Month"}),A.jsx("option",{value:"half_month",children:"Half Month"}),A.jsx("option",{value:"one_time",children:"One-time"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-slate-600",children:a==="whole_month"?"Monthly Amount":a==="half_month"?"Half-Month Amount":"Amount"}),A.jsx("input",{type:"number",step:"0.01",value:s,onChange:ne=>i(ne.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Status"}),A.jsxs("select",{value:u,onChange:ne=>d(ne.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"N/A",children:"N/A"}),A.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),A.jsx("option",{value:"Fully Paid",children:"Fully Paid"})]})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-sm text-slate-600",children:"Remarks"}),A.jsx("input",{type:"text",value:l,onChange:ne=>c(ne.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Optional notes"})]})]}),A.jsx("div",{className:"mt-4",children:A.jsx("button",{onClick:ee,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"Add Item"})})]}),A.jsxs("div",{ref:M,className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm text-[13px] leading-6",children:[A.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Request Funds Summary"}),A.jsxs("div",{className:"text-xs text-slate-500",children:["Generated: ",new Date().toLocaleString()]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-xs text-slate-500",children:"Exchange Rate (Today)"}),A.jsxs("div",{className:"text-sm font-medium text-slate-700",children:["1 USD ="," ",Number(f||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})," ","PHP"]})]})]}),t.length===0?A.jsx("div",{className:"text-sm text-slate-500",children:"No items added."}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[A.jsx("th",{className:"p-2 print:hidden w-10",children:A.jsx("input",{type:"checkbox",checked:t.length>0&&y.size===t.length,onChange:ne=>{ne.target.checked?C(new Set(t.map(Se=>Se.id))):C(new Set)},className:"rounded border-slate-300"})}),A.jsx("th",{className:"p-2",children:"Description"}),A.jsx("th",{className:"p-2",children:"Type"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount (USD)"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),A.jsx("th",{className:"p-2",children:"Status"}),A.jsx("th",{className:"p-2",children:"Remarks"}),A.jsx("th",{className:"p-2 print:hidden",children:"Actions"})]})}),A.jsx("tbody",{children:t.map(ne=>{if(Re===ne.id){const Ge=He.amount?Number(He.amount):0;let Te=0,wt=0;return He.requestType==="whole_month"?(Te=Ge,wt=Ge/2):He.requestType==="half_month"&&(wt=Ge,Te=Ge*2),A.jsxs("tr",{className:"border-b border-slate-100 bg-yellow-50",children:[A.jsx("td",{className:"p-2 print:hidden",children:A.jsx("input",{type:"checkbox",checked:y.has(ne.id),onChange:()=>ae(ne.id),className:"rounded border-slate-300"})}),A.jsx("td",{className:"p-2 text-slate-900",children:A.jsx("input",{type:"text",value:He.description,onChange:fe=>Ze(ft=>({...ft,description:fe.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),A.jsx("td",{className:"p-2",children:A.jsxs("select",{value:He.requestType,onChange:fe=>Ze(ft=>({...ft,requestType:fe.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"whole_month",children:"Whole Month"}),A.jsx("option",{value:"half_month",children:"Half Month"}),A.jsx("option",{value:"one_time",children:"One-time"})]})}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:A.jsx("input",{type:"number",step:"0.01",value:He.amount,onChange:fe=>Ze(ft=>({...ft,amount:fe.target.value})),className:"w-full rounded-md border-slate-300 text-right font-normal shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(Ge))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Te)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(Te))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(wt)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(wt))}),A.jsx("td",{className:"p-2",children:A.jsxs("select",{value:He.status,onChange:fe=>Ze(ft=>({...ft,status:fe.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"N/A",children:"N/A"}),A.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),A.jsx("option",{value:"Fully Paid",children:"Fully Paid"})]})}),A.jsx("td",{className:"p-2",children:A.jsx("input",{type:"text",value:He.remarks,onChange:fe=>Ze(ft=>({...ft,remarks:fe.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),A.jsxs("td",{className:"p-2 space-x-2 whitespace-nowrap print:hidden",children:[A.jsx("button",{onClick:W,className:"rounded-md bg-emerald-600 px-3 py-1 text-xs font-medium text-white hover:bg-emerald-700",children:"Save"}),A.jsx("button",{onClick:Oe,className:"rounded-md bg-slate-500 px-3 py-1 text-xs font-medium text-white hover:bg-slate-600",children:"Cancel"})]})]},ne.id)}const qe=Ge=>{switch(Ge){case"whole_month":return"Whole Month";case"half_month":return"Half Month";case"one_time":return"One-time";default:return Ge}};return A.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[A.jsx("td",{className:"p-2 print:hidden",children:A.jsx("input",{type:"checkbox",checked:y.has(ne.id),onChange:()=>ae(ne.id),className:"rounded border-slate-300"})}),A.jsx("td",{className:"p-2 text-slate-900",children:ne.description}),A.jsx("td",{className:"p-2 text-slate-900",children:A.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${ne.requestType==="whole_month"?"bg-blue-100 text-blue-800":ne.requestType==="half_month"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:qe(ne.requestType)})}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Number(ne.amount)||0)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(Number(ne.amount)||0))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Number(ne.monthlyAmount)||0)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(Number(ne.monthlyAmount)||0))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Number(ne.halfMonthAmount)||0)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(Number(ne.halfMonthAmount)||0))}),A.jsx("td",{className:"p-2",children:ne.status}),A.jsx("td",{className:"p-2",children:ne.remarks||""}),A.jsxs("td",{className:"p-2 space-x-2 whitespace-nowrap print:hidden",children:[A.jsx("button",{onClick:()=>_e(ne),className:"rounded-md bg-blue-600 px-3 py-1 text-xs font-medium text-white hover:bg-blue-700",children:"Edit"}),A.jsx("button",{onClick:()=>ie(ne.id),className:"rounded-md bg-rose-600 px-3 py-1 text-xs font-medium text-white hover:bg-rose-700",children:"Remove"})]})]},ne.id)})}),A.jsx("tfoot",{children:A.jsxs("tr",{className:"font-medium bg-slate-100",children:[A.jsx("td",{className:"p-2 print:hidden"}),A.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),A.jsx("td",{className:"p-2"}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(Be.oneTime)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(Ke(Be.oneTime))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(Be.monthly)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(Ke(Be.monthly))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(Be.half)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(Ke(Be.half))}),A.jsx("td",{className:"p-2",colSpan:2})]})})]})})]}),S.length>0&&A.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[A.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Saved Groups"}),A.jsx("div",{className:"space-y-2",children:S.map(ne=>A.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 p-3",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"font-medium text-slate-900",children:ne.name}),A.jsxs("div",{className:"text-xs text-slate-500",children:[ne.items.length," items  Created"," ",new Date(ne.createdAt).toLocaleDateString()]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>Ue(ne),className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700",children:"Show Items"}),A.jsx("button",{onClick:()=>Ce(ne.id),className:"rounded-md bg-rose-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-rose-700",children:"Delete"})]})]},ne.id))})]}),J&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[A.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Save Selected Items as Group"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Group Name"}),A.jsx("input",{type:"text",value:F,onChange:ne=>R(ne.target.value),onKeyDown:ne=>{ne.key==="Enter"&&we()},className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g., Monthly Expenses Oct 2025",autoFocus:!0})]}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx("button",{onClick:()=>{Q(!1),R("")},className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Cancel"}),A.jsx("button",{onClick:we,className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:"Save Group"})]})]})}),j&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"w-full max-w-5xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:j.name}),A.jsxs("p",{className:"text-sm text-slate-500",children:[j.items.length," items  Created"," ",new Date(j.createdAt).toLocaleDateString()]})]}),A.jsx("button",{onClick:Ie,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[A.jsx("th",{className:"p-2",children:"Description"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Total"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Total (USD)"}),A.jsx("th",{className:"p-2",children:"Status"}),A.jsx("th",{className:"p-2",children:"Remarks"})]})}),A.jsx("tbody",{children:j.items.map(ne=>{const Se=Number(ne.monthlyAmount)||0,qe=Number(ne.halfMonthAmount)||0,Ge=Se+qe;return A.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[A.jsx("td",{className:"p-2 text-slate-900",children:ne.description}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Se)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(Se))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(qe)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(qe))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Ge)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe(Ke(Ge))}),A.jsx("td",{className:"p-2",children:ne.status}),A.jsx("td",{className:"p-2",children:ne.remarks||""})]},ne.id)})}),A.jsx("tfoot",{children:A.jsxs("tr",{className:"font-medium bg-slate-100",children:[A.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(j.items.reduce((ne,Se)=>ne+(Number(Se.monthlyAmount)||0),0))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(Ke(j.items.reduce((ne,Se)=>ne+(Number(Se.monthlyAmount)||0),0)))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(j.items.reduce((ne,Se)=>ne+(Number(Se.halfMonthAmount)||0),0))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(Ke(j.items.reduce((ne,Se)=>ne+(Number(Se.halfMonthAmount)||0),0)))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(j.items.reduce((ne,Se)=>ne+(Number(Se.monthlyAmount)||0)+(Number(Se.halfMonthAmount)||0),0))}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(Ke(j.items.reduce((ne,Se)=>ne+(Number(Se.monthlyAmount)||0)+(Number(Se.halfMonthAmount)||0),0)))}),A.jsx("td",{className:"p-2",colSpan:2})]})})]})})]})}),q&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[A.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Save Current Request to History"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Period (YYYY-MM)"}),A.jsx("input",{type:"month",value:oe,onChange:ne=>Z(ne.target.value),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",autoFocus:!0})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Notes (Optional)"}),A.jsx("textarea",{value:_,onChange:ne=>L(ne.target.value),rows:3,className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes about this request period..."})]}),A.jsx("div",{className:"mb-4 rounded-lg bg-blue-50 p-3",children:A.jsxs("div",{className:"text-sm text-blue-800",children:[A.jsx("strong",{children:"Summary:"}),A.jsxs("div",{className:"mt-1 text-xs",children:[" ",t.length," items  Monthly: ",me(Be.monthly)," Half-Month: ",me(Be.half)," One-time: ",me(Be.oneTime)," Total: ",me(Be.overall)]})]})}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx("button",{onClick:()=>{se(!1),Z(""),L("")},className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Cancel"}),A.jsx("button",{onClick:pe,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",children:"Save to History"})]})]})}),$&&!te&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"w-full max-w-4xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Fund Request History"}),A.jsx("button",{onClick:()=>de(!1),className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]}),O.length===0?A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"text-slate-500 mb-2",children:"No history records found"}),A.jsx("div",{className:"text-sm text-slate-400",children:"Save your current request to create the first history record"})]}):A.jsx("div",{className:"space-y-3",children:O.sort((ne,Se)=>new Date(Se.createdAt).getTime()-new Date(ne.createdAt).getTime()).map(ne=>A.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"font-medium text-slate-900",children:ne.periodLabel}),A.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:[ne.items.length," items  Created ",new Date(ne.createdAt).toLocaleDateString()]}),ne.notes&&A.jsxs("div",{className:"text-sm text-slate-500 mt-1 italic",children:['"',ne.notes,'"']}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-slate-500",children:"Monthly"}),A.jsx("div",{className:"font-medium text-slate-900",children:me(ne.totalMonthly)})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-slate-500",children:"Half-Month"}),A.jsx("div",{className:"font-medium text-slate-900",children:me(ne.totalHalfMonth)})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-slate-500",children:"One-time"}),A.jsx("div",{className:"font-medium text-slate-900",children:me(ne.totalOneTime)})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-slate-500",children:"Total"}),A.jsx("div",{className:"font-semibold text-slate-900",children:me(ne.totalAmount)})]})]})]}),A.jsxs("div",{className:"flex gap-2 ml-4",children:[A.jsx("button",{onClick:()=>at(ne),className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700",children:"View Details"}),A.jsx("button",{onClick:()=>Ee(ne),className:"rounded-md bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700",children:"Load Items"}),A.jsx("button",{onClick:()=>X(ne.id),className:"rounded-md bg-rose-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-rose-700",children:"Delete"})]})]})},ne.id))})]})}),te&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"w-full max-w-6xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:[te.periodLabel," - Fund Request Details"]}),A.jsxs("p",{className:"text-sm text-slate-500",children:[te.items.length," items  Created ",new Date(te.createdAt).toLocaleDateString(),te.notes&&`  ${te.notes}`]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>Ee(te),className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Load Items"}),A.jsx("button",{onClick:xe,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]})]}),A.jsxs("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-slate-50 rounded-lg",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"text-sm text-slate-500",children:"Monthly Total"}),A.jsx("div",{className:"text-lg font-semibold text-slate-900",children:me(te.totalMonthly)}),A.jsx("div",{className:"text-xs text-slate-600",children:Fe(te.totalMonthly/te.usdRate)})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"text-sm text-slate-500",children:"Half-Month Total"}),A.jsx("div",{className:"text-lg font-semibold text-slate-900",children:me(te.totalHalfMonth)}),A.jsx("div",{className:"text-xs text-slate-600",children:Fe(te.totalHalfMonth/te.usdRate)})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"text-sm text-slate-500",children:"One-time Total"}),A.jsx("div",{className:"text-lg font-semibold text-slate-900",children:me(te.totalOneTime)}),A.jsx("div",{className:"text-xs text-slate-600",children:Fe(te.totalOneTime/te.usdRate)})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"text-sm text-slate-500",children:"Grand Total"}),A.jsx("div",{className:"text-xl font-bold text-slate-900",children:me(te.totalAmount)}),A.jsx("div",{className:"text-xs text-slate-600",children:Fe(te.totalAmount/te.usdRate)})]})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[A.jsx("th",{className:"p-2",children:"Description"}),A.jsx("th",{className:"p-2",children:"Type"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount (USD)"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),A.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),A.jsx("th",{className:"p-2",children:"Status"}),A.jsx("th",{className:"p-2",children:"Remarks"})]})}),A.jsx("tbody",{children:te.items.map(ne=>{const Se=qe=>{switch(qe){case"whole_month":return"Whole Month";case"half_month":return"Half Month";case"one_time":return"One-time";default:return qe}};return A.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[A.jsx("td",{className:"p-2 text-slate-900",children:ne.description}),A.jsx("td",{className:"p-2 text-slate-900",children:A.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${ne.requestType==="whole_month"?"bg-blue-100 text-blue-800":ne.requestType==="half_month"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:Se(ne.requestType)})}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Number(ne.amount)||0)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe((Number(ne.amount)||0)/te.usdRate)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Number(ne.monthlyAmount)||0)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe((Number(ne.monthlyAmount)||0)/te.usdRate)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:me(Number(ne.halfMonthAmount)||0)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Fe((Number(ne.halfMonthAmount)||0)/te.usdRate)}),A.jsx("td",{className:"p-2",children:ne.status}),A.jsx("td",{className:"p-2",children:ne.remarks||""})]},ne.id)})}),A.jsx("tfoot",{children:A.jsxs("tr",{className:"font-medium bg-slate-100",children:[A.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),A.jsx("td",{className:"p-2"}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(te.totalOneTime)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(te.totalOneTime/te.usdRate)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(te.totalMonthly)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(te.totalMonthly/te.usdRate)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:me(te.totalHalfMonth)}),A.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Fe(te.totalHalfMonth/te.usdRate)}),A.jsx("td",{className:"p-2",colSpan:2})]})})]})})]})})]})}function oR(){const[t,e]=T.useState(""),[r,n]=T.useState(new Date().toISOString().split("T")[0]),[s,i]=T.useState(""),[a,o]=T.useState(""),[l,c]=T.useState(""),[u,d]=T.useState(""),[f,g]=T.useState([{id:"1",description:"",amount:0}]),[m,w]=T.useState(""),[B,x]=T.useState("Payment due within 30 days"),[y,C]=T.useState([]),[S,k]=T.useState([]),[O,I]=T.useState(!1),[F,R]=T.useState(!1),[J,Q]=T.useState(""),[j,K]=T.useState(null);T.useEffect(()=>{const re=localStorage.getItem("savedClients"),we=localStorage.getItem("savedDescriptions");re&&C(JSON.parse(re)),we&&k(JSON.parse(we))},[]);const $=()=>{if(!a.trim()){alert("Please enter a client name");return}const re={name:a,email:l,address:u},we=[...y,re];C(we),localStorage.setItem("savedClients",JSON.stringify(we)),alert("Client saved successfully!")},de=re=>{o(re.name),c(re.email),d(re.address),I(!1)},te=re=>{if(confirm("Delete this client?")){const we=y.filter((Ce,Ue)=>Ue!==re);C(we),localStorage.setItem("savedClients",JSON.stringify(we))}},le=()=>{if(!J.trim()){alert("Please enter a description");return}const re={id:Date.now().toString(),text:J},we=[...S,re];k(we),localStorage.setItem("savedDescriptions",JSON.stringify(we)),Q(""),alert("Description saved successfully!")},q=re=>{j&&_(j,"description",re.text),R(!1),K(null)},se=re=>{if(confirm("Delete this description?")){const we=S.filter(Ce=>Ce.id!==re);k(we),localStorage.setItem("savedDescriptions",JSON.stringify(we))}},oe=()=>{const re=(Math.max(...f.map(we=>parseInt(we.id)),0)+1).toString();g([...f,{id:re,description:"",amount:0}])},Z=re=>{f.length>1&&g(f.filter(we=>we.id!==re))},_=(re,we,Ce)=>{g(f.map(Ue=>Ue.id===re?{...Ue,[we]:Ce}:Ue))},L=f.reduce((re,we)=>re+we.amount,0),M=0,z=L+M,ee=()=>{const re={id:Date.now().toString(),invoiceNumber:t,invoiceDate:r,dueDate:s,clientName:a,clientEmail:l,clientAddress:u,items:f,notes:m,terms:B,subtotal:L,tax:M,total:z,createdAt:new Date().toISOString()},we=localStorage.getItem("savedInvoices"),Ce=we?JSON.parse(we):[];Ce.push(re),localStorage.setItem("savedInvoices",JSON.stringify(Ce))},ie=async()=>{const re=document.getElementById("invoice-content");if(!re){alert("Invoice content not found");return}try{const we=re.cloneNode(!0);we.querySelectorAll(".print\\:hidden").forEach(He=>He.remove()),we.querySelectorAll(".print\\:block").forEach(He=>{He.style.display="block"}),we.style.position="absolute",we.style.left="-9999px",document.body.appendChild(we);const Ie=await Dp(we,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",windowWidth:1200});document.body.removeChild(we);const ze=Ie.toDataURL("image/png"),pe=new ct({orientation:"portrait",unit:"mm",format:"a4"}),X=210,at=297,xe=Ie.height*X/Ie.width;let Ee=xe,Re=0;for(pe.addImage(ze,"PNG",0,Re,X,xe),Ee-=at;Ee>0;)Re=Ee-xe,pe.addPage(),pe.addImage(ze,"PNG",0,Re,X,xe),Ee-=at;const We=t?`Invoice-${t}.pdf`:`Invoice-${new Date().toISOString().split("T")[0]}.pdf`;pe.save(We),ee(),alert("Invoice saved successfully!")}catch(we){console.error("Error generating PDF:",we),alert("Failed to generate PDF. Please try again.")}},ae=()=>{e(""),n(new Date().toISOString().split("T")[0]),i(""),o(""),c(""),d(""),g([{id:"1",description:"",amount:0}]),w(""),x("Payment due within 30 days")};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between print:hidden",children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice Maker"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>I(!0),className:"rounded bg-emerald-500 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-600",children:" Saved Clients"}),A.jsx("button",{onClick:()=>R(!0),className:"rounded bg-purple-500 px-4 py-2 text-sm font-medium text-white hover:bg-purple-600",children:" Saved Descriptions"}),A.jsx("button",{onClick:ae,className:"rounded bg-gray-500 px-4 py-2 text-sm font-medium text-white hover:bg-gray-600",children:"Reset"}),A.jsx("button",{onClick:ie,className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Save as PDF"})]})]}),O&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:hidden",children:A.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Saved Clients"}),A.jsx("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),A.jsxs("div",{className:"mb-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[A.jsx("h4",{className:"mb-2 font-semibold text-blue-900",children:"Save Current Client"}),A.jsx("p",{className:"mb-3 text-sm text-blue-700",children:"Fill in the client details in the invoice form, then click save."}),A.jsx("button",{onClick:$,className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:" Save Current Client"})]}),A.jsx("div",{className:"space-y-3",children:y.length===0?A.jsx("p",{className:"text-center text-sm text-gray-500",children:"No saved clients yet"}):y.map((re,we)=>A.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"font-semibold text-gray-900",children:re.name}),A.jsx("div",{className:"text-sm text-gray-600",children:re.email}),A.jsx("div",{className:"text-sm text-gray-500",children:re.address})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>de(re),className:"rounded bg-emerald-500 px-3 py-1 text-sm text-white hover:bg-emerald-600",children:"Load"}),A.jsx("button",{onClick:()=>te(we),className:"rounded bg-red-500 px-3 py-1 text-sm text-white hover:bg-red-600",children:"Delete"})]})]},we))})]})}),F&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:hidden",children:A.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Saved Descriptions"}),A.jsx("button",{onClick:()=>{R(!1),K(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),A.jsxs("div",{className:"mb-6 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[A.jsx("h4",{className:"mb-2 font-semibold text-purple-900",children:"Add New Description"}),A.jsx("textarea",{value:J,onChange:re=>Q(re.target.value),placeholder:"Enter a description template (e.g., 'Website Development - Full Stack Application')",rows:3,className:"mb-3 w-full rounded border border-purple-300 px-3 py-2 text-sm"}),A.jsx("button",{onClick:le,className:"rounded bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:" Save Description"})]}),A.jsx("div",{className:"space-y-3",children:S.length===0?A.jsx("p",{className:"text-center text-sm text-gray-500",children:"No saved descriptions yet"}):S.map(re=>A.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50",children:[A.jsx("div",{className:"flex-1 text-sm text-gray-700",children:re.text}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>q(re),className:"rounded bg-purple-500 px-3 py-1 text-sm text-white hover:bg-purple-600",children:"Use"}),A.jsx("button",{onClick:()=>se(re.id),className:"rounded bg-red-500 px-3 py-1 text-sm text-white hover:bg-red-600",children:"Delete"})]})]},re.id))})]})}),A.jsxs("div",{id:"invoice-content",className:"rounded-lg border border-gray-200 bg-white shadow-lg",style:{maxWidth:"210mm",margin:"0 auto"},children:[A.jsx("div",{className:"border-b-4 border-blue-600 bg-white p-10",children:A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"h-24 w-24 rounded object-contain shadow-sm"}),A.jsxs("div",{children:[A.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"}),A.jsx("p",{className:"text-sm text-gray-600",children:"(032) 234-1362  09297246296"})]})]}),A.jsx("div",{children:A.jsx("h2",{className:"text-right text-4xl font-bold text-blue-600",children:"INVOICE"})})]})}),A.jsxs("div",{className:"bg-gray-50 p-10",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"mb-3 text-xs font-bold uppercase tracking-wider text-gray-500",children:"Bill To:"}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("input",{type:"text",value:a,onChange:re=>o(re.target.value),placeholder:"Client Name",className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm font-semibold focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),A.jsx("p",{className:"hidden text-sm font-semibold text-gray-900 print:block",children:a||"Client Name"}),A.jsx("textarea",{value:u,onChange:re=>d(re.target.value),placeholder:"Client Address",rows:3,className:"w-full resize-none rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),A.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:u||"Client Address"})]})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[A.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Invoice #:"}),A.jsx("input",{type:"text",value:t,onChange:re=>e(re.target.value),placeholder:"INV-001",className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm font-semibold focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),A.jsx("span",{className:"hidden print:block"}),A.jsx("p",{className:"hidden text-right text-sm font-semibold text-gray-900 print:block",children:t||"INV-001"})]}),A.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[A.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Date:"}),A.jsx("input",{type:"date",value:r,onChange:re=>n(re.target.value),className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),A.jsx("span",{className:"hidden print:block"}),A.jsx("p",{className:"hidden text-right text-sm text-gray-900 print:block",children:r})]}),A.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[A.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Due Date:"}),A.jsx("input",{type:"date",value:s,onChange:re=>i(re.target.value),className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),A.jsx("span",{className:"hidden print:block"}),A.jsx("p",{className:"hidden text-right text-sm text-gray-900 print:block",children:s||"N/A"})]})]})]}),A.jsxs("div",{className:"p-10",children:[A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b-2 border-gray-800",children:[A.jsx("th",{className:"py-3 text-left text-xs font-bold uppercase tracking-wider text-gray-700",children:"Description"}),A.jsx("th",{className:"w-40 py-3 text-right text-xs font-bold uppercase tracking-wider text-gray-700",children:"Amount"}),A.jsx("th",{className:"w-10 print:hidden"})]})}),A.jsx("tbody",{children:f.map(re=>A.jsxs("tr",{className:"border-b border-gray-200",children:[A.jsxs("td",{className:"py-3",children:[A.jsxs("div",{className:"flex gap-2 print:hidden",children:[A.jsx("input",{type:"text",value:re.description,onChange:we=>_(re.id,"description",we.target.value),placeholder:"Item description",className:"flex-1 rounded border border-gray-300 bg-white px-2 py-1 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),A.jsx("button",{type:"button",onClick:()=>{K(re.id),R(!0)},className:"rounded bg-purple-100 px-2 text-xs text-purple-700 hover:bg-purple-200",title:"Load saved description",children:""})]}),A.jsx("p",{className:"hidden py-1 text-sm text-gray-900 print:block",children:re.description||"Item description"})]}),A.jsxs("td",{className:"py-3 text-right",children:[A.jsx("input",{type:"number",value:re.amount,onChange:we=>_(re.id,"amount",parseFloat(we.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:"w-full rounded border border-gray-300 bg-white px-2 py-1 text-right text-sm font-medium focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),A.jsxs("p",{className:"hidden py-1 text-sm font-medium text-gray-900 print:block",children:["$",re.amount.toFixed(2)]})]}),A.jsx("td",{className:"py-3 text-center print:hidden",children:A.jsx("button",{onClick:()=>Z(re.id),className:"text-red-600 hover:text-red-800",disabled:f.length===1,children:""})})]},re.id))})]}),A.jsx("button",{onClick:oe,className:"mt-3 text-sm text-blue-600 hover:text-blue-800 print:hidden",children:"+ Add Item"})]}),A.jsxs("div",{className:"bg-gray-50 p-10",children:[A.jsx("div",{className:"flex justify-end",children:A.jsxs("div",{className:"w-64 space-y-2",children:[A.jsxs("div",{className:"flex justify-between border-b border-gray-200 py-2 text-sm",children:[A.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),A.jsxs("span",{className:"font-medium text-gray-900",children:["$",L.toFixed(2)]})]}),A.jsxs("div",{className:"flex justify-between border-b border-gray-200 py-2 text-sm",children:[A.jsx("span",{className:"text-gray-600",children:"Tax (0%):"}),A.jsxs("span",{className:"font-medium text-gray-900",children:["$",M.toFixed(2)]})]}),A.jsxs("div",{className:"flex justify-between border-t-2 border-gray-800 py-3",children:[A.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),A.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",z.toFixed(2)]})]})]})}),A.jsxs("div",{className:"space-y-4 border-t border-gray-200 p-10",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-xs font-bold uppercase text-gray-500",children:"Notes"}),A.jsx("textarea",{value:m,onChange:re=>w(re.target.value),placeholder:"Additional notes or special instructions",rows:2,className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),A.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:m||"No additional notes"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-xs font-bold uppercase text-gray-500",children:"Terms & Conditions"}),A.jsx("textarea",{value:B,onChange:re=>x(re.target.value),rows:2,className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),A.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:B})]})]}),A.jsxs("div",{className:"border-t border-gray-200 bg-gray-100 p-6 text-center",children:[A.jsx("p",{className:"text-xs text-gray-600",children:"Thank you for your business!"}),A.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Avensetech Software Development Services  OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"})]})]})]})]})]})}function lR(){const[t,e]=T.useState([]),[r,n]=T.useState(""),s=Z_();T.useEffect(()=>{i()},[]);const i=()=>{const l=localStorage.getItem("savedInvoices");if(l){const c=JSON.parse(l);e(c.sort((u,d)=>new Date(d.createdAt).getTime()-new Date(u.createdAt).getTime()))}},a=l=>{if(confirm("Delete this invoice?")){const c=t.filter(u=>u.id!==l);e(c),localStorage.setItem("savedInvoices",JSON.stringify(c))}},o=t.filter(l=>l.invoiceNumber.toLowerCase().includes(r.toLowerCase())||l.clientName.toLowerCase().includes(r.toLowerCase()));return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice History"}),A.jsx("p",{className:"text-sm text-gray-600",children:"View and manage previously created invoices"})]}),A.jsx("button",{onClick:()=>s("/invoice"),className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"+ Create New Invoice"})]}),A.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:A.jsx("input",{type:"text",value:r,onChange:l=>n(l.target.value),placeholder:"Search by invoice number or client name...",className:"w-full rounded-md border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500"})}),o.length===0?A.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-12 text-center shadow-sm",children:[A.jsx("p",{className:"text-gray-500",children:r?"No invoices found matching your search":"No invoices saved yet"}),!r&&A.jsx("button",{onClick:()=>s("/invoice"),className:"mt-4 rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Create Your First Invoice"})]}):A.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:o.map(l=>A.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow",children:[A.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-bold text-gray-900",children:l.invoiceNumber||"No Number"}),A.jsx("p",{className:"text-sm text-gray-600",children:l.clientName||"No Client"})]}),A.jsxs("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800",children:["$",l.total.toFixed(2)]})]}),A.jsxs("div",{className:"mb-4 space-y-2 text-sm",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-gray-500",children:"Date:"}),A.jsx("span",{className:"font-medium text-gray-900",children:l.invoiceDate})]}),l.dueDate&&A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-gray-500",children:"Due:"}),A.jsx("span",{className:"font-medium text-gray-900",children:l.dueDate})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-gray-500",children:"Items:"}),A.jsx("span",{className:"font-medium text-gray-900",children:l.items.length})]})]}),A.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[A.jsx("div",{className:"mb-3 max-h-20 overflow-y-auto text-xs text-gray-600",children:l.items.map((c,u)=>A.jsxs("div",{className:"truncate",children:[" ",c.description||"No description"]},u))}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>s(`/invoice?load=${l.id}`),className:"flex-1 rounded bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 hover:bg-blue-100",children:"View/Edit"}),A.jsx("button",{onClick:()=>a(l.id),className:"rounded bg-red-50 px-3 py-2 text-sm font-medium text-red-700 hover:bg-red-100",children:"Delete"})]})]}),A.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:["Created: ",new Date(l.createdAt).toLocaleDateString()]})]},l.id))})]})}const lx=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function cR(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,o]=T.useState(""),[l,c]=T.useState(!1),[u,d]=T.useState(null),[f,g]=T.useState("basic"),[m,w]=T.useState(null),[B,x]=T.useState(!1),[y,C]=T.useState(""),[S,k]=T.useState(""),[O,I]=T.useState(""),[F,R]=T.useState(""),[J,Q]=T.useState(""),[j,K]=T.useState(""),[$,de]=T.useState(""),[te,le]=T.useState(""),[q,se]=T.useState(""),[oe,Z]=T.useState(""),[_,L]=T.useState(""),[M,z]=T.useState(""),[ee,ie]=T.useState("active"),[ae,re]=T.useState(""),[we,Ce]=T.useState(""),[Ue,Ie]=T.useState("probationary"),[ze,pe]=T.useState(""),[X,at]=T.useState(""),[xe,Ee]=T.useState(""),[Re,We]=T.useState(""),[He,Ze]=T.useState(""),[_e,Oe]=T.useState(""),[W,Be]=T.useState(""),[me,Fe]=T.useState(""),[Ke,Ne]=T.useState(""),[ne,Se]=T.useState(""),[qe,Ge]=T.useState(""),[Te,wt]=T.useState("");T.useEffect(()=>{fe()},[]);const fe=async()=>{n(!0),i(null);const{data:Qe,error:Lt}=await Je.from("employees").select("*").order("created_at",{ascending:!1});Lt?i(Lt.message):e(Qe??[]),n(!1)},ft=Qe=>{var Lt;if(Qe){d(Qe);const It=Qe.name.split(" ");It.length>=3?(C(It[0]),k(It.slice(1,-1).join(" ")),I(It[It.length-1])):It.length===2?(C(It[0]),k(""),I(It[1])):(C(Qe.name),k(""),I("")),R(Qe.position||""),Q(((Lt=Qe.base_salary)==null?void 0:Lt.toString())||""),K(Qe.employee_number||""),de(Qe.email||""),le(Qe.phone||""),se(Qe.address||""),Z(Qe.birthdate||""),L(Qe.date_hired||""),z(Qe.department||""),ie(Qe.status||"active"),re(Qe.gender||""),Ce(Qe.marital_status||""),Ie(Qe.employment_status||"probationary"),pe(Qe.regularization_date||""),at(Qe.emergency_contact_name||""),Ee(Qe.emergency_contact_phone||""),We(Qe.emergency_contact_relationship||""),Ze(Qe.sss_number||""),Oe(Qe.philhealth_number||""),Be(Qe.pagibig_number||""),Fe(Qe.tin_number||""),Ne(Qe.bank_name||""),Se(Qe.bank_account_number||""),Ge(Qe.bank_account_name||""),wt(Qe.bank_branch||"")}else _t();c(!0)},_t=()=>{d(null),C(""),k(""),I(""),R(""),Q(""),K(""),de(""),le(""),se(""),Z(""),L(""),z(""),ie("active"),re(""),Ce(""),Ie("probationary"),pe(""),at(""),Ee(""),We(""),Ze(""),Oe(""),Be(""),Fe(""),Ne(""),Se(""),Ge(""),wt("")},mr=async()=>{if(!y.trim()||!O.trim()){alert("First name and last name are required");return}const Qe=[y.trim(),S.trim(),O.trim()].filter(sr=>sr).join(" ");let Lt=j.trim();if(!u&&!Lt){const{data:sr}=await Je.from("employees").select("employee_number").not("employee_number","is",null).order("created_at",{ascending:!1}),lt=(sr==null?void 0:sr.map(kn=>{var ur;const Xr=(ur=kn.employee_number)==null?void 0:ur.match(/EMP-(\d+)/);return Xr?parseInt(Xr[1]):0}).filter(kn=>kn>0))||[],Un=lt.length>0?Math.max(...lt)+1:1;Lt=`EMP-${String(Un).padStart(4,"0")}`}const It={name:Qe,position:F.trim()||null,base_salary:J?Number(J):null,employee_number:Lt||null,email:$.trim()||null,phone:te.trim()||null,address:q.trim()||null,birthdate:oe||null,date_hired:_||null,department:M.trim()||null,status:ee,gender:ae||null,marital_status:we||null,employment_status:Ue,regularization_date:ze||null,emergency_contact_name:X.trim()||null,emergency_contact_phone:xe.trim()||null,emergency_contact_relationship:Re.trim()||null,sss_number:He.trim()||null,philhealth_number:_e.trim()||null,pagibig_number:W.trim()||null,tin_number:me.trim()||null,bank_name:Ke.trim()||null,bank_account_number:ne.trim()||null,bank_account_name:qe.trim()||null,bank_branch:Te.trim()||null};if(!u)Ue==="probationary"?(It.sick_leave_balance=2,It.vacation_leave_balance=2):(It.sick_leave_balance=6,It.vacation_leave_balance=6),It.birthday_leave_balance=1;else if(u.employment_status==="probationary"&&Ue==="regular"){const sr=new Date().getFullYear();(ze?new Date(ze):new Date).getFullYear()===sr?(It.sick_leave_balance=(u.sick_leave_balance??2)+6,It.vacation_leave_balance=(u.vacation_leave_balance??2)+6):(It.sick_leave_balance=6,It.vacation_leave_balance=6)}if(u){const{error:sr}=await Je.from("employees").update(It).eq("id",u.id);if(sr){alert(sr.message);return}}else{const{error:sr}=await Je.from("employees").insert(It);if(sr){alert(sr.message);return}}c(!1),_t(),await fe()},an=async Qe=>{if(!confirm("Are you sure you want to delete this employee? This will also delete all associated payslips."))return;const{error:Lt}=await Je.from("employees").delete().eq("id",Qe);if(Lt){alert(Lt.message);return}await fe()},Bt=t.filter(Qe=>Qe.name.toLowerCase().includes(a.toLowerCase())||Qe.position&&Qe.position.toLowerCase().includes(a.toLowerCase())),ot=Bt.length,jt=Bt.reduce((Qe,Lt)=>Qe+(Lt.base_salary||0),0);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"HRIS - Employee Management"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Manage employee information and records"})]}),A.jsx("button",{onClick:()=>ft(),className:"btn-primary",children:"+ Add Employee"})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[A.jsx("div",{className:"card-hover rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Employees"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:ot})]}),A.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),A.jsx("div",{className:"card-hover rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Payroll"}),A.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-900",children:["",jt.toLocaleString()]})]}),A.jsx("div",{className:"rounded-full bg-green-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),A.jsx("div",{className:"card-hover rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Avg. Salary"}),A.jsxs("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:["",ot>0?Math.round(jt/ot).toLocaleString():0]})]}),A.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),A.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:A.jsx("input",{type:"text",value:a,onChange:Qe=>o(Qe.target.value),placeholder:"Search employees by name or position...",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})}),A.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Name"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Position"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Base Salary"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),A.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[r&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:A.jsx("div",{className:"loading-shimmer mx-auto h-8 w-48 rounded"})})}),s&&!r&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-red-600",children:s})}),!r&&!s&&Bt.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:a?"No employees found matching your search":"No employees yet. Add your first employee!"})}),!r&&!s&&Bt.map(Qe=>A.jsxs("tr",{className:"table-row-hover",children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold",children:Qe.name.charAt(0).toUpperCase()}),A.jsx("div",{className:"ml-4",children:A.jsx("button",{onClick:()=>{w(Qe),x(!0)},className:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline",children:Qe.name})})]})}),A.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Qe.position||"-"}),A.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:Qe.base_salary?`${Qe.base_salary.toLocaleString()}`:"-"}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx("span",{className:"badge-success",children:"Active"})}),A.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[A.jsx("button",{onClick:()=>ft(Qe),className:"mr-3 text-blue-600 hover:text-blue-800",children:"Edit"}),A.jsx("button",{onClick:()=>an(Qe.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},Qe.id))]})]})})}),l&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"max-h-[90vh] w-full max-w-4xl overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[A.jsxs("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-white px-6 pt-6",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u?"Edit Employee":"Add New Employee"}),A.jsx("button",{onClick:()=>{c(!1),_t(),g("basic")},className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>g("basic"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="basic"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Basic Info"}),A.jsx("button",{onClick:()=>g("contact"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="contact"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Contact & Emergency"}),A.jsx("button",{onClick:()=>g("government"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="government"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Government IDs"}),A.jsx("button",{onClick:()=>g("banking"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="banking"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Banking Details"})]})]}),A.jsxs("div",{className:"p-6",children:[f==="basic"&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"First Name *"}),A.jsx("input",{type:"text",value:y,onChange:Qe=>C(Qe.target.value),placeholder:"John",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Middle Name"}),A.jsx("input",{type:"text",value:S,onChange:Qe=>k(Qe.target.value),placeholder:"Michael",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Last Name *"}),A.jsx("input",{type:"text",value:O,onChange:Qe=>I(Qe.target.value),placeholder:"Doe",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:["Employee Number ",!u&&A.jsx("span",{className:"text-xs text-gray-500",children:"(Auto-generated)"})]}),A.jsx("input",{type:"text",value:j,onChange:Qe=>K(Qe.target.value),placeholder:u?"EMP-0001":"Will be auto-generated",readOnly:!u,className:`w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${u?"":"bg-gray-100 cursor-not-allowed"}`})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Position"}),A.jsx("input",{type:"text",value:F,onChange:Qe=>R(Qe.target.value),placeholder:"Software Developer",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Department"}),A.jsx("input",{type:"text",value:M,onChange:Qe=>z(Qe.target.value),placeholder:"Engineering",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Status"}),A.jsxs("select",{value:ee,onChange:Qe=>ie(Qe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"active",children:"Active"}),A.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Gender"}),A.jsxs("select",{value:ae,onChange:Qe=>re(Qe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"",children:"Select Gender"}),A.jsx("option",{value:"male",children:"Male"}),A.jsx("option",{value:"female",children:"Female"}),A.jsx("option",{value:"other",children:"Other"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Marital Status"}),A.jsxs("select",{value:we,onChange:Qe=>Ce(Qe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"",children:"Select Marital Status"}),A.jsx("option",{value:"single",children:"Single"}),A.jsx("option",{value:"married",children:"Married"}),A.jsx("option",{value:"divorced",children:"Divorced"}),A.jsx("option",{value:"widowed",children:"Widowed"})]})]})]}),A.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Base Salary"}),A.jsx("input",{type:"number",value:J,onChange:Qe=>Q(Qe.target.value),placeholder:"25000",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Birthdate"}),A.jsx("input",{type:"date",value:oe,onChange:Qe=>Z(Qe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Date Hired"}),A.jsx("input",{type:"date",value:_,onChange:Qe=>L(Qe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Employment Status"}),A.jsxs("select",{value:Ue,onChange:Qe=>Ie(Qe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"probationary",children:"Probationary (2 SL, 2 VL)"}),A.jsx("option",{value:"regular",children:"Regular (6 SL, 6 VL)"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Regularization Date"}),A.jsx("input",{type:"date",value:ze,onChange:Qe=>pe(Qe.target.value),disabled:Ue==="probationary",className:`w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${Ue==="probationary"?"bg-gray-100 cursor-not-allowed":""}`})]})]})]}),f==="contact"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Contact Information"}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Email"}),A.jsx("input",{type:"email",value:$,onChange:Qe=>de(Qe.target.value),placeholder:"john@example.com",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Phone"}),A.jsx("input",{type:"tel",value:te,onChange:Qe=>le(Qe.target.value),placeholder:"09123456789",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Address"}),A.jsx("textarea",{value:q,onChange:Qe=>se(Qe.target.value),placeholder:"Complete address",rows:3,className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsx("h4",{className:"mt-6 text-lg font-semibold text-gray-900",children:"Emergency Contact"}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Contact Name"}),A.jsx("input",{type:"text",value:X,onChange:Qe=>at(Qe.target.value),placeholder:"Jane Doe",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Contact Phone"}),A.jsx("input",{type:"tel",value:xe,onChange:Qe=>Ee(Qe.target.value),placeholder:"09987654321",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Relationship"}),A.jsx("input",{type:"text",value:Re,onChange:Qe=>We(Qe.target.value),placeholder:"Spouse, Parent, Sibling, etc.",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),f==="government"&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"SSS Number"}),A.jsx("input",{type:"text",value:He,onChange:Qe=>Ze(Qe.target.value),placeholder:"XX-XXXXXXX-X",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"PhilHealth Number"}),A.jsx("input",{type:"text",value:_e,onChange:Qe=>Oe(Qe.target.value),placeholder:"XX-XXXXXXXXX-X",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Pag-IBIG Number"}),A.jsx("input",{type:"text",value:W,onChange:Qe=>Be(Qe.target.value),placeholder:"XXXX-XXXX-XXXX",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"TIN Number"}),A.jsx("input",{type:"text",value:me,onChange:Qe=>Fe(Qe.target.value),placeholder:"XXX-XXX-XXX-XXX",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsx("div",{className:"mt-4 rounded-lg bg-blue-50 p-4",children:A.jsxs("p",{className:"text-sm text-blue-800",children:[A.jsx("strong",{children:"Note:"})," Government ID numbers are confidential. Ensure proper data security and compliance with privacy regulations."]})})]}),f==="banking"&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Bank Name"}),A.jsx("input",{type:"text",value:Ke,onChange:Qe=>Ne(Qe.target.value),placeholder:"e.g., BDO, BPI, Metrobank",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Account Number"}),A.jsx("input",{type:"text",value:ne,onChange:Qe=>Se(Qe.target.value),placeholder:"Bank account number",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Account Name"}),A.jsx("input",{type:"text",value:qe,onChange:Qe=>Ge(Qe.target.value),placeholder:"Name on bank account",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Bank Branch"}),A.jsx("input",{type:"text",value:Te,onChange:Qe=>wt(Qe.target.value),placeholder:"e.g., Cebu Business Park",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsx("div",{className:"mt-4 rounded-lg bg-green-50 p-4",children:A.jsxs("p",{className:"text-sm text-green-800",children:[A.jsx("strong",{children:"Note:"})," Banking details are used for salary deposits. Ensure accuracy to avoid payment delays."]})})]})]}),A.jsx("div",{className:"sticky bottom-0 border-t border-gray-200 bg-gray-50 px-6 py-4",children:A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>{c(!1),_t(),g("basic")},className:"btn-secondary",children:"Cancel"}),A.jsx("button",{onClick:mr,className:"btn-primary",children:u?"Update Employee":"Add Employee"})]})})]})}),B&&m&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"max-h-[90vh] w-full max-w-4xl overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[A.jsx("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white text-2xl font-bold text-blue-600",children:m.name.charAt(0).toUpperCase()}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-2xl font-bold text-white",children:m.name}),A.jsx("p",{className:"text-blue-100",children:m.position||"No position assigned"})]})]}),A.jsx("button",{onClick:()=>{x(!1),w(null)},className:"text-white hover:text-blue-100",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-blue-50 to-white p-6",children:[A.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[A.jsx("svg",{className:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Basic Information"]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Employee Number"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.employee_number||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Department"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.department||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Base Salary"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.base_salary?`${m.base_salary.toLocaleString()}`:"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Status"}),A.jsx("p",{className:"mt-1",children:A.jsx("span",{className:m.status==="active"?"badge-success":"badge-error",children:m.status||"Active"})})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Gender"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.gender?m.gender.charAt(0).toUpperCase()+m.gender.slice(1):"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Marital Status"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.marital_status?m.marital_status.charAt(0).toUpperCase()+m.marital_status.slice(1):"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Employment Status"}),A.jsx("p",{className:"mt-1",children:A.jsx("span",{className:m.employment_status==="regular"?"badge-success":"badge-warning",children:m.employment_status==="regular"?"Regular":"Probationary"})})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Birthdate"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:lx(m.birthdate)})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Date Hired"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:lx(m.date_hired)})]}),m.employment_status==="regular"&&m.regularization_date&&A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Regularization Date"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:lx(m.regularization_date)})]})]})]}),A.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-green-50 to-white p-6",children:[A.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[A.jsx("svg",{className:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Information"]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Email"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.email||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Phone"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.phone||"-"})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Address"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.address||"-"})]})]})]}),A.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-orange-50 to-white p-6",children:[A.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[A.jsx("svg",{className:"mr-2 h-5 w-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Emergency Contact"]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Contact Name"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_name||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Contact Phone"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_phone||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Relationship"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_relationship||"-"})]})]})]}),A.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-purple-50 to-white p-6",children:[A.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[A.jsx("svg",{className:"mr-2 h-5 w-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),"Government IDs"]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"SSS Number"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.sss_number||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"PhilHealth Number"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.philhealth_number||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Pag-IBIG Number"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.pagibig_number||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"TIN Number"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.tin_number||"-"})]})]})]}),A.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-green-50 to-white p-6",children:[A.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[A.jsx("svg",{className:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Banking Details"]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Bank Name"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_name||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Account Number"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_account_number||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Account Name"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_account_name||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Bank Branch"}),A.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_branch||"-"})]})]})]})]}),A.jsx("div",{className:"sticky bottom-0 border-t border-gray-200 bg-gray-50 px-6 py-4",children:A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>{x(!1),w(null)},className:"btn-secondary",children:"Close"}),A.jsx("button",{onClick:()=>{x(!1),ft(m),w(null)},className:"btn-primary",children:"Edit Employee"})]})})]})})]})}const Tf=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},E5=(t,e)=>{const r=new Date(t),n=new Date(e),s=Math.abs(n.getTime()-r.getTime());return Math.ceil(s/(1e3*60*60*24))+1};function uR(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,o]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState("all"),[f,g]=T.useState("all"),[m,w]=T.useState(""),[B,x]=T.useState("sick"),[y,C]=T.useState(""),[S,k]=T.useState(""),[O,I]=T.useState("");T.useEffect(()=>{F()},[]);const F=async()=>{i(!0),o(null);const[Z,_]=await Promise.all([Je.from("employees").select("*").order("name",{ascending:!0}),Je.from("leave_requests").select("*").order("created_at",{ascending:!1})]);Z.error&&o(Z.error.message),_.error&&o(_.error.message),e(Z.data??[]),n(_.data??[]),i(!1)},R=()=>{var Z;w(((Z=t[0])==null?void 0:Z.id)??""),x("sick"),C(""),k(""),I("")},J=async()=>{if(!m||!y||!S){alert("Please fill in all required fields");return}const Z=E5(y,S),_=t.find(z=>z.id===m);if(B==="sick"&&((_==null?void 0:_.sick_leave_balance)??0)<Z&&!confirm(`Insufficient sick leave balance. Employee has ${(_==null?void 0:_.sick_leave_balance)??0} days remaining. Continue anyway?`)||B==="vacation"&&((_==null?void 0:_.vacation_leave_balance)??0)<Z&&!confirm(`Insufficient vacation leave balance. Employee has ${(_==null?void 0:_.vacation_leave_balance)??0} days remaining. Continue anyway?`)||B==="birthday"&&((_==null?void 0:_.birthday_leave_balance)??0)<Z&&!confirm(`Insufficient birthday leave balance. Employee has ${(_==null?void 0:_.birthday_leave_balance)??0} days remaining. Continue anyway?`))return;const L={employee_id:m,leave_type:B,start_date:y,end_date:S,days_count:Z,reason:O.trim()||null,status:"pending"},{error:M}=await Je.from("leave_requests").insert(L);if(M){alert(M.message);return}c(!1),R(),await F()},Q=async Z=>{const _=t.find(ae=>ae.id===Z.employee_id);if(!_)return;let L=_.sick_leave_balance??2,M=_.vacation_leave_balance??2,z=_.birthday_leave_balance??1;Z.leave_type==="sick"?L-=Z.days_count:Z.leave_type==="vacation"?M-=Z.days_count:Z.leave_type==="birthday"&&(z-=Z.days_count);const{error:ee}=await Je.from("employees").update({sick_leave_balance:L,vacation_leave_balance:M,birthday_leave_balance:z}).eq("id",Z.employee_id);if(ee){alert(ee.message);return}const{error:ie}=await Je.from("leave_requests").update({status:"approved",approved_at:new Date().toISOString(),approved_by:"Admin"}).eq("id",Z.id);if(ie){alert(ie.message);return}await F()},j=async Z=>{const{error:_}=await Je.from("leave_requests").update({status:"rejected"}).eq("id",Z);if(_){alert(_.message);return}await F()},K=async Z=>{if(!confirm("Delete this leave request?"))return;const _=r.find(M=>M.id===Z);if(!_)return;if(_.status==="approved"){const M=t.find(z=>z.id===_.employee_id);if(M){let z=M.sick_leave_balance??2,ee=M.vacation_leave_balance??2,ie=M.birthday_leave_balance??1;_.leave_type==="sick"?z+=_.days_count:_.leave_type==="vacation"?ee+=_.days_count:_.leave_type==="birthday"&&(ie+=_.days_count);const{error:ae}=await Je.from("employees").update({sick_leave_balance:z,vacation_leave_balance:ee,birthday_leave_balance:ie}).eq("id",_.employee_id);if(ae){alert(`Error restoring leave balance: ${ae.message}`);return}}}const{error:L}=await Je.from("leave_requests").delete().eq("id",Z);if(L){alert(L.message);return}await F()},$=r.filter(Z=>!(u!=="all"&&Z.status!==u||f!=="all"&&Z.employee_id!==f)),de=async()=>{if(confirm("Recalculate all employee leave balances? This will reset all balances to default and then subtract approved leaves.")){console.log("Starting balance recalculation...");for(const Z of t){const _=Z.employment_status==="regular";let L=_?6:2,M=_?6:2,z=1;console.log(`${Z.name} - Initial balances: Sick: ${L}, Vacation: ${M}, Birthday: ${z}`);const ee=r.filter(ae=>ae.employee_id===Z.id&&ae.status==="approved");console.log(`${Z.name} - Found ${ee.length} approved leaves:`,ee.map(ae=>`${ae.leave_type}: ${ae.days_count} days`));for(const ae of ee)ae.leave_type==="sick"?(L-=ae.days_count,console.log(`${Z.name} - Subtracting ${ae.days_count} sick days, new balance: ${L}`)):ae.leave_type==="vacation"?(M-=ae.days_count,console.log(`${Z.name} - Subtracting ${ae.days_count} vacation days, new balance: ${M}`)):ae.leave_type==="birthday"&&(z-=ae.days_count,console.log(`${Z.name} - Subtracting ${ae.days_count} birthday days, new balance: ${z}`));console.log(`${Z.name} - Final balances: Sick: ${L}, Vacation: ${M}, Birthday: ${z}`);const{error:ie}=await Je.from("employees").update({sick_leave_balance:L,vacation_leave_balance:M,birthday_leave_balance:z}).eq("id",Z.id);if(ie){console.error(`Error updating balances for ${Z.name}:`,ie),alert(`Error updating balances for ${Z.name}: ${ie.message}`);return}}await F(),alert("All leave balances have been recalculated successfully!")}},te=async Z=>{const _=t.find(pe=>pe.id===Z);if(!_)return;const L=r.filter(pe=>pe.employee_id===_.id&&pe.status==="approved"),M=_.employment_status==="regular",z=M?6:2,ee=M?6:2,ie=1,ae=L.filter(pe=>pe.leave_type==="sick").reduce((pe,X)=>pe+X.days_count,0),re=L.filter(pe=>pe.leave_type==="vacation").reduce((pe,X)=>pe+X.days_count,0),we=L.filter(pe=>pe.leave_type==="birthday").reduce((pe,X)=>pe+X.days_count,0),Ce=z-ae,Ue=ee-re,Ie=ie-we;if(!confirm(`Fix ${_.name}'s leave balances?

Current: Sick: ${_.sick_leave_balance}, Vacation: ${_.vacation_leave_balance}, Birthday: ${_.birthday_leave_balance}
Correct: Sick: ${Ce}, Vacation: ${Ue}, Birthday: ${Ie}`))return;const{error:ze}=await Je.from("employees").update({sick_leave_balance:Ce,vacation_leave_balance:Ue,birthday_leave_balance:Ie}).eq("id",Z);if(ze){alert(`Error fixing balances: ${ze.message}`);return}await F(),alert(`${_.name}'s leave balances have been corrected!`)},le=Z=>{const _=r.filter(ze=>ze.employee_id===Z.id&&ze.status==="approved"),L=Z.employment_status==="regular",M=L?6:2,z=L?6:2,ee=1,ie=_.filter(ze=>ze.leave_type==="sick").reduce((ze,pe)=>ze+pe.days_count,0),ae=_.filter(ze=>ze.leave_type==="vacation").reduce((ze,pe)=>ze+pe.days_count,0),re=_.filter(ze=>ze.leave_type==="birthday").reduce((ze,pe)=>ze+pe.days_count,0),we=M-ie,Ce=z-ae,Ue=ee-re,Ie=`
${Z.name} Leave Balance Breakdown:

Employment Status: ${Z.employment_status} (${L?"Regular":"Probationary"})

SICK LEAVE:
- Default: ${M} days
- Used (Approved): ${ie} days
- Should be: ${we} days
- Currently showing: ${Z.sick_leave_balance??"N/A"} days

VACATION LEAVE:
- Default: ${z} days  
- Used (Approved): ${ae} days
- Should be: ${Ce} days
- Currently showing: ${Z.vacation_leave_balance??"N/A"} days

BIRTHDAY LEAVE:
- Default: ${ee} day
- Used (Approved): ${re} days
- Should be: ${Ue} days
- Currently showing: ${Z.birthday_leave_balance??"N/A"} days

Approved Leaves:
${_.map(ze=>`- ${ze.leave_type}: ${ze.days_count} days (${Tf(ze.start_date)} to ${Tf(ze.end_date)})`).join(`
`)||"None"}
    `;alert(Ie)},q=async Z=>{const _=t.find(ae=>ae.id===Z);if(!_||!confirm(`Reset leave balances for ${_.name}? This will set balances to default values based on employment status.`))return;const L=_.employment_status==="regular",M=L?6:2,z=L?6:2,ee=1,{error:ie}=await Je.from("employees").update({sick_leave_balance:M,vacation_leave_balance:z,birthday_leave_balance:ee}).eq("id",Z);if(ie){alert(`Error resetting balances: ${ie.message}`);return}await F()},se=r.filter(Z=>Z.status==="pending").length,oe=r.filter(Z=>Z.status==="approved").length;return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Track sick leave and vacation requests"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:async()=>{if(confirm("Fix all employee leave balances? This will correct any calculation errors."))for(const Z of t)await te(Z.id)},className:"btn-success",children:"Fix All Balances"}),A.jsx("button",{onClick:de,className:"btn-secondary",children:"Recalculate All"}),A.jsx("button",{onClick:()=>{R(),c(!0)},className:"btn-primary",children:"+ New Leave Request"})]})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[A.jsx("div",{className:"card-hover rounded-xl border border-yellow-200 bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pending"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-yellow-900",children:se})]}),A.jsx("div",{className:"rounded-full bg-yellow-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),A.jsx("div",{className:"card-hover rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-green-600",children:"Approved"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:oe})]}),A.jsx("div",{className:"rounded-full bg-green-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),A.jsx("div",{className:"card-hover rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Requests"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:r.length})]}),A.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),A.jsx("div",{className:"card-hover rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Employees"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:t.length})]}),A.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})]}),A.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:A.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Filter by Status"}),A.jsxs("select",{value:u,onChange:Z=>d(Z.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"pending",children:"Pending"}),A.jsx("option",{value:"approved",children:"Approved"}),A.jsx("option",{value:"rejected",children:"Rejected"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Filter by Employee"}),A.jsxs("select",{value:f,onChange:Z=>g(Z.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"all",children:"All Employees"}),t.map(Z=>A.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]})}),A.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Employee"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Leave Type"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Period"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Days"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Reason"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),A.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[s&&A.jsx("tr",{children:A.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-500",children:A.jsx("div",{className:"loading-shimmer mx-auto h-8 w-48 rounded"})})}),a&&!s&&A.jsx("tr",{children:A.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-red-600",children:a})}),!s&&!a&&$.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No leave requests found"})}),!s&&!a&&$.map(Z=>{const _=t.find(L=>L.id===Z.employee_id);return A.jsxs("tr",{className:"table-row-hover",children:[A.jsxs("td",{className:"px-6 py-4",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:(_==null?void 0:_.name)??"Unknown"}),A.jsx("div",{className:"text-xs text-gray-500",children:(_==null?void 0:_.position)??""})]}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${Z.leave_type==="sick"?"bg-red-100 text-red-800":Z.leave_type==="vacation"?"bg-blue-100 text-blue-800":Z.leave_type==="birthday"?"bg-pink-100 text-pink-800":Z.leave_type==="emergency"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:Z.leave_type.charAt(0).toUpperCase()+Z.leave_type.slice(1)})}),A.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:[Tf(Z.start_date)," to ",Tf(Z.end_date)]}),A.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:Z.days_count}),A.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Z.reason||"-"}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${Z.status==="pending"?"bg-yellow-100 text-yellow-800":Z.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Z.status.charAt(0).toUpperCase()+Z.status.slice(1)})}),A.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[Z.status==="pending"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>Q(Z),className:"mr-2 text-green-600 hover:text-green-800",children:"Approve"}),A.jsx("button",{onClick:()=>j(Z.id),className:"mr-2 text-red-600 hover:text-red-800",children:"Reject"})]}),A.jsx("button",{onClick:()=>K(Z.id),className:"text-gray-600 hover:text-gray-800",children:"Delete"})]})]},Z.id)})]})]})})}),A.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-lg",children:[A.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-900",children:"Employee Leave Balances"}),A.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(Z=>A.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[A.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[A.jsx("span",{className:"font-medium text-gray-900",children:Z.name}),A.jsx("div",{className:"flex items-center gap-1",children:A.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${Z.employment_status==="regular"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Z.employment_status==="regular"?"Regular":"Probationary"})})]}),A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsx("span",{className:"text-gray-600",children:"Sick Leave:"}),A.jsxs("span",{className:"font-medium text-red-600",children:[Z.sick_leave_balance??2," days"]})]}),A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsx("span",{className:"text-gray-600",children:"Vacation Leave:"}),A.jsxs("span",{className:"font-medium text-blue-600",children:[Z.vacation_leave_balance??2," days"]})]}),A.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[A.jsx("span",{className:"text-gray-600",children:"Birthday Leave:"}),A.jsxs("span",{className:"font-medium text-pink-600",children:[Z.birthday_leave_balance??1," day"]})]}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx("button",{onClick:()=>le(Z),className:"rounded bg-gray-600 px-2 py-1 text-xs text-white hover:bg-gray-700 flex-1",title:"Show calculation breakdown",children:"Check"}),A.jsx("button",{onClick:()=>te(Z.id),className:"rounded bg-green-600 px-2 py-1 text-xs text-white hover:bg-green-700 flex-1",title:"Fix balance calculation",children:"Fix"}),A.jsx("button",{onClick:()=>q(Z.id),className:"rounded bg-blue-600 px-2 py-1 text-xs text-white hover:bg-blue-700 flex-1",title:"Reset to default balances",children:"Reset"})]})]},Z.id))})]}),l&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"New Leave Request"}),A.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Employee *"}),A.jsxs("select",{value:m,onChange:Z=>w(Z.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"",children:"Select Employee"}),t.map(Z=>A.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Leave Type *"}),A.jsxs("select",{value:B,onChange:Z=>x(Z.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"sick",children:"Sick Leave"}),A.jsx("option",{value:"vacation",children:"Vacation Leave"}),A.jsx("option",{value:"birthday",children:"Birthday Leave"}),A.jsx("option",{value:"emergency",children:"Emergency Leave"}),A.jsx("option",{value:"unpaid",children:"Unpaid Leave"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Start Date *"}),A.jsx("input",{type:"date",value:y,onChange:Z=>C(Z.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"End Date *"}),A.jsx("input",{type:"date",value:S,onChange:Z=>k(Z.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),y&&S&&A.jsxs("div",{className:"rounded-lg bg-blue-50 p-3 text-sm text-blue-800",children:["Total days: ",A.jsx("strong",{children:E5(y,S)})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Reason"}),A.jsx("textarea",{value:O,onChange:Z=>I(Z.target.value),rows:3,placeholder:"Optional reason for leave",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"}),A.jsx("button",{onClick:J,className:"btn-primary",children:"Submit Request"})]})]})})]})}function dR(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,o]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[f,g]=T.useState(null),[m,w]=T.useState(null),[B,x]=T.useState(""),[y,C]=T.useState("all"),[S,k]=T.useState("all"),[O,I]=T.useState(""),[F,R]=T.useState(""),[J,Q]=T.useState(""),[j,K]=T.useState(""),[$,de]=T.useState(""),[te,le]=T.useState(""),[q,se]=T.useState(""),[oe,Z]=T.useState(0),[_,L]=T.useState(""),[M,z]=T.useState(""),[ee,ie]=T.useState(""),[ae,re]=T.useState(""),[we,Ce]=T.useState("active"),[Ue,Ie]=T.useState("good"),[ze,pe]=T.useState(""),[X,at]=T.useState("maintenance"),[xe,Ee]=T.useState(""),[Re,We]=T.useState(""),[He,Ze]=T.useState(0),[_e,Oe]=T.useState("");T.useEffect(()=>{W()},[]);const W=async()=>{i(!0);const{data:fe,error:ft}=await Je.from("inventory").select("*").order("created_at",{ascending:!1});ft||e(fe||[]),i(!1)},Be=async fe=>{const{data:ft}=await Je.from("inventory_history").select("*").eq("inventory_id",fe).order("action_date",{ascending:!1});n(ft||[])},me=fe=>{if(!fe)return"N/A";const ft=new Date(fe);return isNaN(ft.getTime())?"N/A":`${String(ft.getMonth()+1).padStart(2,"0")}-${String(ft.getDate()).padStart(2,"0")}-${ft.getFullYear()}`},Fe=fe=>{switch(fe){case"active":return A.jsx("span",{className:"badge-success",children:"Active"});case"under_repair":return A.jsx("span",{className:"badge-warning",children:"Under Repair"});case"disposed":case"lost":return A.jsx("span",{className:"badge-danger",children:fe});default:return A.jsx("span",{className:"badge-info",children:fe})}};if(s)return A.jsx("div",{className:"flex items-center justify-center p-8",children:A.jsx("div",{className:"loading-shimmer h-12 w-48 rounded"})});const Ke=t.filter(fe=>{var an,Bt,ot;const ft=fe.item_description.toLowerCase().includes(B.toLowerCase())||((an=fe.asset_tag)==null?void 0:an.toLowerCase().includes(B.toLowerCase()))||((Bt=fe.brand)==null?void 0:Bt.toLowerCase().includes(B.toLowerCase()))||((ot=fe.model)==null?void 0:ot.toLowerCase().includes(B.toLowerCase())),_t=y==="all"||fe.category===y,mr=S==="all"||fe.status===S;return ft&&_t&&mr}),Ne=[...new Set(t.map(fe=>fe.category))],ne=()=>{I(""),R(""),Q(""),K(""),de(""),le(""),se(""),Z(0),L(""),z(""),ie(""),re(""),Ce("active"),Ie("good"),pe(""),g(null)},Se=async fe=>{fe.preventDefault();const ft={asset_tag:O||null,item_description:F,category:J,brand:j||null,model:$||null,serial_number:te||null,purchase_date:q||null,purchase_price:oe||null,supplier:_||null,warranty_expiry:M||null,assigned_to:ee||null,location:ae||null,status:we,condition:Ue||null,notes:ze||null};if(f){const{error:_t}=await Je.from("inventory").update(ft).eq("id",f.id);_t||(W(),o(!1),ne())}else{const{error:_t}=await Je.from("inventory").insert([ft]);_t||(W(),o(!1),ne())}},qe=fe=>{g(fe),I(fe.asset_tag||""),R(fe.item_description),Q(fe.category),K(fe.brand||""),de(fe.model||""),le(fe.serial_number||""),se(fe.purchase_date||""),Z(fe.purchase_price||0),L(fe.supplier||""),z(fe.warranty_expiry||""),ie(fe.assigned_to||""),re(fe.location||""),Ce(fe.status),Ie(fe.condition||"good"),pe(fe.notes||""),o(!0)},Ge=async fe=>{if(confirm("Are you sure you want to delete this item?")){const{error:ft}=await Je.from("inventory").delete().eq("id",fe);ft||W()}},Te=fe=>{w(fe),Be(fe.id),d(!0)},wt=async fe=>{if(fe.preventDefault(),!m)return;const ft={inventory_id:m.id,action_type:X,description:xe,performed_by:Re||null,action_date:new Date().toISOString(),cost:He||null,notes:_e||null},{error:_t}=await Je.from("inventory_history").insert([ft]);_t||(Be(m.id),Ee(""),We(""),Ze(0),Oe(""),c(!1))};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),A.jsx("button",{onClick:()=>{ne(),o(!0)},className:"btn-primary",children:"Add New Item"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsx("input",{type:"text",placeholder:"Search items...",value:B,onChange:fe=>x(fe.target.value),className:"input-field"}),A.jsxs("select",{value:y,onChange:fe=>C(fe.target.value),className:"input-field",children:[A.jsx("option",{value:"all",children:"All Categories"}),Ne.map(fe=>A.jsx("option",{value:fe,children:fe},fe))]}),A.jsxs("select",{value:S,onChange:fe=>k(fe.target.value),className:"input-field",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"active",children:"Active"}),A.jsx("option",{value:"under_repair",children:"Under Repair"}),A.jsx("option",{value:"disposed",children:"Disposed"}),A.jsx("option",{value:"lost",children:"Lost"})]}),A.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:["Total Items: ",Ke.length]})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ke.map(fe=>A.jsxs("div",{className:"glass rounded-xl p-4 space-y-3",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-gray-900",children:fe.item_description}),fe.asset_tag&&A.jsxs("p",{className:"text-sm text-gray-600",children:["Tag: ",fe.asset_tag]})]}),Fe(fe.status)]}),A.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Category:"})," ",fe.category]}),fe.brand&&A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Brand:"})," ",fe.brand]}),fe.model&&A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Model:"})," ",fe.model]}),fe.assigned_to&&A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",fe.assigned_to]}),fe.location&&A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Location:"})," ",fe.location]})]}),A.jsxs("div",{className:"flex gap-2 pt-2",children:[A.jsx("button",{onClick:()=>Te(fe),className:"btn-secondary text-xs flex-1",children:"Details"}),A.jsx("button",{onClick:()=>qe(fe),className:"btn-primary text-xs flex-1",children:"Edit"}),A.jsx("button",{onClick:()=>Ge(fe.id),className:"btn-danger text-xs flex-1",children:"Delete"})]})]},fe.id))}),Ke.length===0&&A.jsx("div",{className:"text-center py-12",children:A.jsx("p",{className:"text-gray-500",children:"No inventory items found."})}),a&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"glass w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl p-6",children:[A.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:f?"Edit Item":"Add New Item"}),A.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Tag"}),A.jsx("input",{type:"text",value:O,onChange:fe=>I(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),A.jsx("input",{type:"text",value:F,onChange:fe=>R(fe.target.value),className:"input-field",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),A.jsx("input",{type:"text",value:J,onChange:fe=>Q(fe.target.value),className:"input-field",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),A.jsx("input",{type:"text",value:j,onChange:fe=>K(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),A.jsx("input",{type:"text",value:$,onChange:fe=>de(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),A.jsx("input",{type:"text",value:te,onChange:fe=>le(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),A.jsx("input",{type:"date",value:q,onChange:fe=>se(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Price"}),A.jsx("input",{type:"number",step:"0.01",value:oe,onChange:fe=>Z(Number(fe.target.value)),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),A.jsx("input",{type:"text",value:_,onChange:fe=>L(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warranty Expiry"}),A.jsx("input",{type:"date",value:M,onChange:fe=>z(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),A.jsx("input",{type:"text",value:ee,onChange:fe=>ie(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),A.jsx("input",{type:"text",value:ae,onChange:fe=>re(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),A.jsxs("select",{value:we,onChange:fe=>Ce(fe.target.value),className:"input-field",children:[A.jsx("option",{value:"active",children:"Active"}),A.jsx("option",{value:"under_repair",children:"Under Repair"}),A.jsx("option",{value:"disposed",children:"Disposed"}),A.jsx("option",{value:"lost",children:"Lost"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),A.jsxs("select",{value:Ue,onChange:fe=>Ie(fe.target.value),className:"input-field",children:[A.jsx("option",{value:"excellent",children:"Excellent"}),A.jsx("option",{value:"good",children:"Good"}),A.jsx("option",{value:"fair",children:"Fair"}),A.jsx("option",{value:"poor",children:"Poor"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),A.jsx("textarea",{value:ze,onChange:fe=>pe(fe.target.value),className:"input-field",rows:3})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx("button",{type:"button",onClick:()=>{o(!1),ne()},className:"btn-secondary flex-1",children:"Cancel"}),A.jsx("button",{type:"submit",className:"btn-primary flex-1",children:f?"Update Item":"Add Item"})]})]})]})}),u&&m&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"glass w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl p-6",children:[A.jsxs("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:["Asset Details: ",m.item_description]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Asset Tag:"})," ",A.jsx("strong",{children:m.asset_tag||"N/A"})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Category:"})," ",A.jsx("strong",{children:m.category})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Brand:"})," ",A.jsx("strong",{children:m.brand||"N/A"})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Model:"})," ",A.jsx("strong",{children:m.model||"N/A"})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Serial Number:"})," ",A.jsx("strong",{children:m.serial_number||"N/A"})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Purchase Date:"})," ",A.jsx("strong",{children:me(m.purchase_date)})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Purchase Price:"})," ",A.jsx("strong",{children:m.purchase_price?`${m.purchase_price.toLocaleString()}`:"N/A"})]})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Supplier:"})," ",A.jsx("strong",{children:m.supplier||"N/A"})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Warranty Expiry:"})," ",A.jsx("strong",{children:me(m.warranty_expiry)})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Assigned To:"})," ",A.jsx("strong",{children:m.assigned_to||"N/A"})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Location:"})," ",A.jsx("strong",{children:m.location||"N/A"})]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Status:"})," ",Fe(m.status)]}),A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Condition:"})," ",A.jsx("strong",{children:m.condition||"N/A"})]}),m.notes&&A.jsxs("p",{children:[A.jsx("span",{className:"text-gray-600",children:"Notes:"})," ",A.jsx("strong",{children:m.notes})]})]})]}),A.jsxs("div",{className:"border-t pt-6",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h4",{className:"text-lg font-semibold",children:"History"}),A.jsx("button",{onClick:()=>c(!0),className:"btn-primary text-sm",children:"Add History"})]}),A.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[r.map(fe=>A.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium",children:fe.action_type.replace("_"," ").toUpperCase()}),A.jsx("p",{className:"text-sm text-gray-600",children:fe.description}),fe.performed_by&&A.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",fe.performed_by]})]}),A.jsxs("div",{className:"text-right text-xs text-gray-500",children:[A.jsx("p",{children:me(fe.action_date)}),fe.cost&&A.jsxs("p",{children:["",fe.cost.toLocaleString()]})]})]}),fe.notes&&A.jsx("p",{className:"text-xs text-gray-600 mt-2",children:fe.notes})]},fe.id)),r.length===0&&A.jsx("p",{className:"text-gray-500 text-center py-4",children:"No history records found."})]})]}),A.jsx("div",{className:"mt-6 flex gap-3",children:A.jsx("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"Close"})})]})}),l&&m&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"glass w-full max-w-md rounded-2xl p-6",children:[A.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Add History Record"}),A.jsxs("form",{onSubmit:wt,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Type"}),A.jsxs("select",{value:X,onChange:fe=>at(fe.target.value),className:"input-field",children:[A.jsx("option",{value:"maintenance",children:"Maintenance"}),A.jsx("option",{value:"repair",children:"Repair"}),A.jsx("option",{value:"transfer",children:"Transfer"}),A.jsx("option",{value:"status_change",children:"Status Change"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),A.jsx("input",{type:"text",value:xe,onChange:fe=>Ee(fe.target.value),className:"input-field",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Performed By"}),A.jsx("input",{type:"text",value:Re,onChange:fe=>We(fe.target.value),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost"}),A.jsx("input",{type:"number",step:"0.01",value:He,onChange:fe=>Ze(Number(fe.target.value)),className:"input-field"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),A.jsx("textarea",{value:_e,onChange:fe=>Oe(fe.target.value),className:"input-field",rows:3})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary flex-1",children:"Cancel"}),A.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Add Record"})]})]})]})})]})}const Df=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},Gr=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;function hR(){var Ze;const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState([]),[a,o]=T.useState(!0),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,g]=T.useState(null),[m,w]=T.useState(null),[B,x]=T.useState(!1),[y,C]=T.useState(!1),[S,k]=T.useState(""),[O,I]=T.useState("cash_advance"),[F,R]=T.useState(""),[J,Q]=T.useState("0"),[j,K]=T.useState(""),[$,de]=T.useState(new Date().toISOString().split("T")[0]),[te,le]=T.useState(new Date().toISOString().split("T")[0]),[q,se]=T.useState(""),[oe,Z]=T.useState(""),[_,L]=T.useState(""),[M,z]=T.useState(new Date().toISOString().split("T")[0]),[ee,ie]=T.useState("");T.useEffect(()=>{ae()},[]);const ae=async()=>{o(!0),c(null);try{const[_e,Oe,W]=await Promise.all([Je.from("loans").select("*").order("created_at",{ascending:!1}),Je.from("employees").select("*").order("name"),Je.from("loan_payments").select("*").order("payment_date",{ascending:!1})]);if(_e.error)throw _e.error;if(Oe.error)throw Oe.error;if(W.error)throw W.error;e(_e.data??[]),n(Oe.data??[]),i(W.data??[])}catch(_e){c(_e.message)}finally{o(!1)}},re=_e=>{_e?(g(_e),k(_e.employee_id),I(_e.loan_type),R(_e.principal_amount.toString()),Q(_e.interest_rate.toString()),K(_e.bimonthly_deduction.toString()),de(_e.loan_date),le(_e.start_deduction_date),se(_e.purpose||""),Z(_e.notes||"")):we(),d(!0)},we=()=>{g(null),k(""),I("cash_advance"),R(""),Q("0"),K(""),de(new Date().toISOString().split("T")[0]),le(new Date().toISOString().split("T")[0]),se(""),Z("")},Ce=()=>{const _e=Number(F)||0,Oe=Number(J)||0,W=Number(j)||0;if(_e<=0||W<=0)return _e;const me=Math.ceil(_e/W)/24,Fe=_e*Oe*me/100;return _e+Fe},Ue=async()=>{if(!S||!F||!j){alert("Please fill in all required fields");return}const _e=Number(F),Oe=Number(j),W=Number(J)||0,Be=Ce();if(_e<=0||Oe<=0){alert("Principal amount and bi-monthly deduction must be greater than 0");return}const me={employee_id:S,loan_type:O,principal_amount:_e,interest_rate:W,total_amount:Be,bimonthly_deduction:Oe,remaining_balance:f?f.remaining_balance:Be,loan_date:$,start_deduction_date:te,purpose:q.trim()||null,notes:oe.trim()||null,status:f?f.status:"active",approved_by:"System",approved_at:new Date().toISOString()};try{if(f){const{error:Fe}=await Je.from("loans").update(me).eq("id",f.id);if(Fe)throw Fe}else{const{error:Fe}=await Je.from("loans").insert(me);if(Fe)throw Fe}d(!1),we(),await ae()}catch(Fe){alert(Fe.message)}},Ie=async()=>{if(!m||!_||!M){alert("Please fill in all payment fields");return}const _e=Number(_);if(_e<=0||_e>m.remaining_balance){alert("Payment amount must be greater than 0 and not exceed remaining balance");return}const Oe=m.remaining_balance,W=Oe-_e;try{const{error:Be}=await Je.from("loan_payments").insert({loan_id:m.id,payment_date:M,amount:_e,balance_before:Oe,balance_after:W,payment_type:"manual_payment",notes:ee.trim()||null});if(Be)throw Be;const me=W<=0?"completed":"active",{error:Fe}=await Je.from("loans").update({remaining_balance:W,status:me,end_date:me==="completed"?M:null}).eq("id",m.id);if(Fe)throw Fe;x(!1),L(""),z(new Date().toISOString().split("T")[0]),ie(""),await ae();const Ke={...m,remaining_balance:W,status:me};w(Ke)}catch(Be){alert(Be.message)}},ze=async _e=>{if(confirm("Are you sure you want to delete this loan? This will also delete all payment records."))try{const{error:Oe}=await Je.from("loans").delete().eq("id",_e);if(Oe)throw Oe;await ae()}catch(Oe){alert(Oe.message)}},pe=_e=>r.find(Oe=>Oe.id===_e),X=_e=>s.filter(Oe=>Oe.loan_id===_e),at=_e=>({cash_advance:"Cash Advance",emergency_loan:"Emergency Loan",salary_loan:"Salary Loan",equipment_loan:"Equipment Loan",other:"Other"})[_e]||_e,xe=_e=>({active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[_e]||"bg-gray-100 text-gray-800",Ee=t.filter(_e=>_e.status==="active"),Re=Ee.reduce((_e,Oe)=>_e+Oe.remaining_balance,0),We=t.reduce((_e,Oe)=>_e+Oe.total_amount,0),He=We-t.reduce((_e,Oe)=>_e+Oe.remaining_balance,0);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Loans Management"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Manage employee loans and automatic payroll deductions"})]}),A.jsx("button",{onClick:()=>re(),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"+ New Loan"})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[A.jsx("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Active Loans"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:Ee.length})]}),A.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),A.jsx("div",{className:"rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-green-600",children:"Outstanding Balance"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:Gr(Re)})]}),A.jsx("div",{className:"rounded-full bg-green-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})]})}),A.jsx("div",{className:"rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Total Loaned"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:Gr(We)})]}),A.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),A.jsx("div",{className:"rounded-xl border border-indigo-200 bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Total Paid"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-900",children:Gr(He)})]}),A.jsx("div",{className:"rounded-full bg-indigo-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),A.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:A.jsxs("div",{className:"p-6",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Loans"}),a?A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),A.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading loans..."})]}):l?A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-red-600",children:l})}):t.length===0?A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-gray-500",children:"No loans found. Create your first loan!"})}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Employee"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Type"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Total Amount"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Bi-monthly Deduction"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Remaining"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(_e=>{const Oe=pe(_e.employee_id),W=(_e.total_amount-_e.remaining_balance)/_e.total_amount*100;return A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold",children:Oe==null?void 0:Oe.name.charAt(0).toUpperCase()}),A.jsxs("div",{className:"ml-4",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:Oe==null?void 0:Oe.name}),A.jsx("div",{className:"text-sm text-gray-500",children:Oe==null?void 0:Oe.position})]})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold text-gray-800",children:at(_e.loan_type)})}),A.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:Gr(_e.total_amount)}),A.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900",children:Gr(_e.bimonthly_deduction)}),A.jsxs("td",{className:"px-6 py-4 text-right",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:Gr(_e.remaining_balance)}),A.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:A.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${W}%`}})}),A.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[W.toFixed(1),"% paid"]})]}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${xe(_e.status)}`,children:_e.status.charAt(0).toUpperCase()+_e.status.slice(1)})}),A.jsxs("td",{className:"px-6 py-4 text-center text-sm",children:[A.jsx("button",{onClick:()=>{w(_e),C(!0)},className:"mr-3 text-blue-600 hover:text-blue-800",children:"View"}),A.jsx("button",{onClick:()=>re(_e),className:"mr-3 text-indigo-600 hover:text-indigo-800",children:"Edit"}),A.jsx("button",{onClick:()=>ze(_e.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},_e.id)})})]})})]})}),u&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:f?"Edit Loan":"Create New Loan"}),A.jsx("button",{onClick:()=>{d(!1),we()},className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee *"}),A.jsxs("select",{value:S,onChange:_e=>k(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[A.jsx("option",{value:"",children:"Select Employee"}),r.map(_e=>A.jsxs("option",{value:_e.id,children:[_e.name," - ",_e.position]},_e.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Type *"}),A.jsxs("select",{value:O,onChange:_e=>I(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"cash_advance",children:"Cash Advance"}),A.jsx("option",{value:"emergency_loan",children:"Emergency Loan"}),A.jsx("option",{value:"salary_loan",children:"Salary Loan"}),A.jsx("option",{value:"equipment_loan",children:"Equipment Loan"}),A.jsx("option",{value:"other",children:"Other"})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Principal Amount *"}),A.jsx("input",{type:"number",step:"0.01",value:F,onChange:_e=>R(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interest Rate (% per year)"}),A.jsx("input",{type:"number",step:"0.01",min:"0",value:J,onChange:_e=>Q(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bi-monthly Deduction *"}),A.jsx("input",{type:"number",step:"0.01",value:j,onChange:_e=>K(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]})]}),F&&j&&A.jsx("div",{className:"rounded-lg bg-blue-50 p-4",children:A.jsxs("div",{className:"text-sm text-blue-800",children:[A.jsx("strong",{children:"Calculation Preview:"}),A.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:["Principal: ",Gr(Number(F))]}),A.jsxs("div",{children:["Total Amount: ",Gr(Ce())]}),A.jsxs("div",{children:["Bi-monthly Payment: ",Gr(Number(j))]}),A.jsxs("div",{children:["Estimated Payments: ",Math.ceil(Number(F)/Number(j))]})]})]})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Date *"}),A.jsx("input",{type:"date",value:$,onChange:_e=>de(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Deduction Date *"}),A.jsx("input",{type:"date",value:te,onChange:_e=>le(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose"}),A.jsx("input",{type:"text",value:q,onChange:_e=>se(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Purpose of the loan"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),A.jsx("textarea",{value:oe,onChange:_e=>Z(_e.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes"})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>{d(!1),we()},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),A.jsx("button",{onClick:Ue,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:f?"Update Loan":"Create Loan"})]})]})}),y&&m&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"w-full max-w-4xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Loan Details"}),A.jsxs("p",{className:"text-sm text-gray-600",children:[(Ze=pe(m.employee_id))==null?void 0:Ze.name," - ",at(m.loan_type)]})]}),A.jsxs("div",{className:"flex gap-2",children:[m.status==="active"&&A.jsx("button",{onClick:()=>x(!0),className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Add Payment"}),A.jsx("button",{onClick:()=>{C(!1),w(null)},className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),A.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[A.jsx("div",{className:"text-sm text-blue-600",children:"Total Amount"}),A.jsx("div",{className:"text-xl font-bold text-blue-900",children:Gr(m.total_amount)})]}),A.jsxs("div",{className:"rounded-lg bg-green-50 p-4",children:[A.jsx("div",{className:"text-sm text-green-600",children:"Remaining"}),A.jsx("div",{className:"text-xl font-bold text-green-900",children:Gr(m.remaining_balance)})]}),A.jsxs("div",{className:"rounded-lg bg-purple-50 p-4",children:[A.jsx("div",{className:"text-sm text-purple-600",children:"Bi-monthly Deduction"}),A.jsx("div",{className:"text-xl font-bold text-purple-900",children:Gr(m.bimonthly_deduction)})]}),A.jsxs("div",{className:"rounded-lg bg-indigo-50 p-4",children:[A.jsx("div",{className:"text-sm text-indigo-600",children:"Progress"}),A.jsxs("div",{className:"text-xl font-bold text-indigo-900",children:[((m.total_amount-m.remaining_balance)/m.total_amount*100).toFixed(1),"%"]})]})]}),A.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 p-4",children:[A.jsx("h4",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Loan Information"}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-500",children:"Principal Amount:"}),A.jsx("div",{className:"font-medium",children:Gr(m.principal_amount)})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-500",children:"Interest Rate:"}),A.jsxs("div",{className:"font-medium",children:[m.interest_rate,"% per year"]})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-500",children:"Loan Date:"}),A.jsx("div",{className:"font-medium",children:Df(m.loan_date)})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-500",children:"Start Deduction:"}),A.jsx("div",{className:"font-medium",children:Df(m.start_deduction_date)})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-500",children:"Status:"}),A.jsx("div",{className:"font-medium",children:A.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${xe(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})})]}),m.end_date&&A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-500",children:"End Date:"}),A.jsx("div",{className:"font-medium",children:Df(m.end_date)})]}),m.purpose&&A.jsxs("div",{className:"md:col-span-3",children:[A.jsx("span",{className:"text-gray-500",children:"Purpose:"}),A.jsx("div",{className:"font-medium",children:m.purpose})]}),m.notes&&A.jsxs("div",{className:"md:col-span-3",children:[A.jsx("span",{className:"text-gray-500",children:"Notes:"}),A.jsx("div",{className:"font-medium",children:m.notes})]})]})]}),A.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[A.jsx("h4",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Payment History"}),(()=>{const _e=X(m.id);return _e.length===0?A.jsx("p",{className:"text-gray-500",children:"No payments recorded yet."}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[A.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Date"}),A.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Amount"}),A.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Balance Before"}),A.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Balance After"}),A.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Type"}),A.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Notes"})]})}),A.jsx("tbody",{children:_e.map(Oe=>A.jsxs("tr",{className:"border-b border-gray-100",children:[A.jsx("td",{className:"px-3 py-2",children:Df(Oe.payment_date)}),A.jsx("td",{className:"px-3 py-2 text-right font-mono",children:Gr(Oe.amount)}),A.jsx("td",{className:"px-3 py-2 text-right font-mono",children:Gr(Oe.balance_before)}),A.jsx("td",{className:"px-3 py-2 text-right font-mono",children:Gr(Oe.balance_after)}),A.jsx("td",{className:"px-3 py-2",children:A.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${Oe.payment_type==="payroll_deduction"?"bg-blue-100 text-blue-800":Oe.payment_type==="manual_payment"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Oe.payment_type.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase())})}),A.jsx("td",{className:"px-3 py-2",children:Oe.notes||"-"})]},Oe.id))})]})})})()]})]})}),B&&m&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Add Manual Payment"}),A.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"mb-4 rounded-lg bg-gray-50 p-3",children:[A.jsx("div",{className:"text-sm text-gray-600",children:"Current Balance"}),A.jsx("div",{className:"text-xl font-bold text-gray-900",children:Gr(m.remaining_balance)})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),A.jsx("input",{type:"number",step:"0.01",max:m.remaining_balance,value:_,onChange:_e=>L(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),A.jsx("input",{type:"date",value:M,onChange:_e=>z(_e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),A.jsx("textarea",{value:ee,onChange:_e=>ie(_e.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Payment notes"})]}),_&&A.jsx("div",{className:"rounded-lg bg-blue-50 p-3",children:A.jsxs("div",{className:"text-sm text-blue-800",children:[A.jsx("strong",{children:"After Payment:"}),A.jsxs("div",{className:"mt-1",children:["New Balance: ",Gr(m.remaining_balance-Number(_))]})]})})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>x(!1),className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),A.jsx("button",{onClick:Ie,className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Add Payment"})]})]})})]})}const cx=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},gl=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,U5=()=>new Date().toISOString().slice(0,10);function fR(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,o]=T.useState(!1),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,g]=T.useState(null),[m,w]=T.useState(U5()),[B,x]=T.useState(""),[y,C]=T.useState(""),[S,k]=T.useState(""),[O,I]=T.useState("bank_transfer"),[F,R]=T.useState(""),[J,Q]=T.useState(""),[j,K]=T.useState(""),[$,de]=T.useState(""),[te,le]=T.useState("confirmed"),[q,se]=T.useState("all"),[oe,Z]=T.useState("all"),[_,L]=T.useState(""),[M,z]=T.useState("");T.useEffect(()=>{ee()},[]);const ee=async()=>{n(!0),i(null);try{const{data:xe,error:Ee}=await Je.from("money_received").select("*").order("date_received",{ascending:!1});if(Ee)throw Ee;e(xe??[])}catch(xe){i(xe.message)}finally{n(!1)}},ie=xe=>{xe?(c(xe),w(xe.date_received),x(xe.amount.toString()),C(xe.sender_name),k(xe.sender_contact||""),I(xe.payment_method),R(xe.reference_number||""),Q(xe.purpose),K(xe.category||""),de(xe.notes||""),le(xe.status)):ae(),o(!0)},ae=()=>{c(null),w(U5()),x(""),C(""),k(""),I("bank_transfer"),R(""),Q(""),K(""),de(""),le("confirmed")},re=async()=>{if(!m||!B||!y||!J){alert("Please fill in all required fields");return}const xe=Number(B);if(xe<=0){alert("Amount must be greater than 0");return}const Ee={date_received:m,amount:xe,sender_name:y.trim(),sender_contact:S.trim()||null,payment_method:O,reference_number:F.trim()||null,purpose:J.trim(),category:j.trim()||null,notes:$.trim()||null,status:te};try{if(l){const{error:Re}=await Je.from("money_received").update(Ee).eq("id",l.id);if(Re)throw Re}else{const{error:Re}=await Je.from("money_received").insert(Ee);if(Re)throw Re}o(!1),ae(),await ee()}catch(Re){alert(Re.message)}},we=async xe=>{if(confirm("Are you sure you want to delete this record?"))try{const{error:Ee}=await Je.from("money_received").delete().eq("id",xe);if(Ee)throw Ee;await ee()}catch(Ee){alert(Ee.message)}},Ce=xe=>({bank_transfer:"Bank Transfer",cash:"Cash",check:"Check",gcash:"GCash",paymaya:"PayMaya",paypal:"PayPal",other:"Other"})[xe]||xe,Ue=xe=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cleared:"bg-blue-100 text-blue-800"})[xe]||"bg-gray-100 text-gray-800",Ie=t.filter(xe=>!(q!=="all"&&xe.status!==q||oe!=="all"&&xe.payment_method!==oe||_&&xe.date_received<_||M&&xe.date_received>M)),ze=Ie.reduce((xe,Ee)=>xe+Ee.amount,0),pe=Ie.filter(xe=>xe.status==="pending").reduce((xe,Ee)=>xe+Ee.amount,0),X=Ie.filter(xe=>xe.status==="confirmed").reduce((xe,Ee)=>xe+Ee.amount,0),at=Ie.filter(xe=>xe.status==="cleared").reduce((xe,Ee)=>xe+Ee.amount,0);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Money Received"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Track all incoming payments and transfers"})]}),A.jsx("button",{onClick:()=>ie(),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"+ Add Record"})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[A.jsx("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Received"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:gl(ze)})]}),A.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),A.jsx("div",{className:"rounded-xl border border-yellow-200 bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pending"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-yellow-900",children:gl(pe)})]}),A.jsx("div",{className:"rounded-full bg-yellow-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),A.jsx("div",{className:"rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-green-600",children:"Confirmed"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:gl(X)})]}),A.jsx("div",{className:"rounded-full bg-green-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),A.jsx("div",{className:"rounded-xl border border-indigo-200 bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Cleared"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-900",children:gl(at)})]}),A.jsx("div",{className:"rounded-full bg-indigo-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})})]}),A.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),A.jsxs("select",{value:q,onChange:xe=>se(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"pending",children:"Pending"}),A.jsx("option",{value:"confirmed",children:"Confirmed"}),A.jsx("option",{value:"cleared",children:"Cleared"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),A.jsxs("select",{value:oe,onChange:xe=>Z(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"all",children:"All Methods"}),A.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),A.jsx("option",{value:"cash",children:"Cash"}),A.jsx("option",{value:"check",children:"Check"}),A.jsx("option",{value:"gcash",children:"GCash"}),A.jsx("option",{value:"paymaya",children:"PayMaya"}),A.jsx("option",{value:"paypal",children:"PayPal"}),A.jsx("option",{value:"other",children:"Other"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),A.jsx("input",{type:"date",value:_,onChange:xe=>L(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),A.jsx("input",{type:"date",value:M,onChange:xe=>z(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),A.jsx("div",{className:"mt-4 flex gap-2",children:A.jsx("button",{onClick:()=>{se("all"),Z("all"),L(""),z("")},className:"rounded-md bg-gray-200 px-3 py-1 text-sm text-gray-700 hover:bg-gray-300",children:"Clear Filters"})})]}),A.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:A.jsxs("div",{className:"p-6",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Money Received Records (",Ie.length,")"]}),r?A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),A.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading records..."})]}):s?A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-red-600",children:s})}):Ie.length===0?A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-gray-500",children:"No records found. Add your first money received record!"})}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Sender"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Method"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Purpose"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:Ie.map(xe=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:cx(xe.date_received)}),A.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:gl(xe.amount)}),A.jsxs("td",{className:"px-6 py-4",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:xe.sender_name}),xe.sender_contact&&A.jsx("div",{className:"text-sm text-gray-500",children:xe.sender_contact})]}),A.jsxs("td",{className:"px-6 py-4",children:[A.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold text-gray-800",children:Ce(xe.payment_method)}),xe.reference_number&&A.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ref: ",xe.reference_number]})]}),A.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[A.jsx("div",{className:"max-w-xs truncate",children:xe.purpose}),xe.category&&A.jsx("div",{className:"text-xs text-gray-500",children:xe.category})]}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${Ue(xe.status)}`,children:xe.status.charAt(0).toUpperCase()+xe.status.slice(1)})}),A.jsxs("td",{className:"px-6 py-4 text-center text-sm",children:[A.jsx("button",{onClick:()=>{g(xe),d(!0)},className:"mr-3 text-blue-600 hover:text-blue-800",children:"View"}),A.jsx("button",{onClick:()=>ie(xe),className:"mr-3 text-indigo-600 hover:text-indigo-800",children:"Edit"}),A.jsx("button",{onClick:()=>we(xe.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},xe.id))})]})})]})}),a&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l?"Edit Record":"Add Money Received"}),A.jsx("button",{onClick:()=>{o(!1),ae()},className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Received *"}),A.jsx("input",{type:"date",value:m,onChange:xe=>w(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),A.jsx("input",{type:"number",step:"0.01",value:B,onChange:xe=>x(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Name *"}),A.jsx("input",{type:"text",value:y,onChange:xe=>C(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Person or company name",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Contact"}),A.jsx("input",{type:"text",value:S,onChange:xe=>k(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Phone, email, or other contact"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),A.jsxs("select",{value:O,onChange:xe=>I(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),A.jsx("option",{value:"cash",children:"Cash"}),A.jsx("option",{value:"check",children:"Check"}),A.jsx("option",{value:"gcash",children:"GCash"}),A.jsx("option",{value:"paymaya",children:"PayMaya"}),A.jsx("option",{value:"paypal",children:"PayPal"}),A.jsx("option",{value:"other",children:"Other"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),A.jsx("input",{type:"text",value:F,onChange:xe=>R(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Transaction reference"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose *"}),A.jsx("input",{type:"text",value:J,onChange:xe=>Q(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"What is this payment for?",required:!0})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),A.jsx("input",{type:"text",value:j,onChange:xe=>K(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g., Client Payment, Loan, Investment"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),A.jsxs("select",{value:te,onChange:xe=>le(xe.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[A.jsx("option",{value:"pending",children:"Pending"}),A.jsx("option",{value:"confirmed",children:"Confirmed"}),A.jsx("option",{value:"cleared",children:"Cleared"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),A.jsx("textarea",{value:$,onChange:xe=>de(xe.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes or details"})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>{o(!1),ae()},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),A.jsx("button",{onClick:re,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:l?"Update Record":"Add Record"})]})]})}),u&&f&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Money Received Details"}),A.jsx("button",{onClick:()=>{d(!1),g(null)},className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-sm text-gray-500",children:"Date Received:"}),A.jsx("div",{className:"font-medium",children:cx(f.date_received)})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-sm text-gray-500",children:"Amount:"}),A.jsx("div",{className:"font-medium text-lg",children:gl(f.amount)})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-sm text-gray-500",children:"Sender:"}),A.jsx("div",{className:"font-medium",children:f.sender_name}),f.sender_contact&&A.jsx("div",{className:"text-sm text-gray-600",children:f.sender_contact})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method:"}),A.jsx("div",{className:"font-medium",children:Ce(f.payment_method)}),f.reference_number&&A.jsxs("div",{className:"text-sm text-gray-600",children:["Ref: ",f.reference_number]})]})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-sm text-gray-500",children:"Purpose:"}),A.jsx("div",{className:"font-medium",children:f.purpose})]}),f.category&&A.jsxs("div",{children:[A.jsx("span",{className:"text-sm text-gray-500",children:"Category:"}),A.jsx("div",{className:"font-medium",children:f.category})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),A.jsx("div",{children:A.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${Ue(f.status)}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})})]}),f.notes&&A.jsxs("div",{children:[A.jsx("span",{className:"text-sm text-gray-500",children:"Notes:"}),A.jsx("div",{className:"font-medium",children:f.notes})]}),A.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",cx(f.created_at)]})]}),A.jsx("div",{className:"mt-6 flex justify-end",children:A.jsx("button",{onClick:()=>{d(!1),g(null)},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Close"})})]})})]})}function gR({onLogin:t}){const[e,r]=T.useState(""),[n,s]=T.useState(""),[i,a]=T.useState(!1),[o,l]=T.useState(null),c=async u=>{u.preventDefault(),a(!0),l(null);try{const{data:d,error:f}=await Je.auth.signInWithPassword({email:e.trim(),password:n});if(f)throw f;d.user&&t()}catch(d){l(d.message||"Failed to login")}finally{a(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 p-4",children:A.jsx("div",{className:"w-full max-w-md",children:A.jsxs("div",{className:"glass animate-fadeIn rounded-2xl p-8 shadow-2xl",children:[A.jsxs("div",{className:"mb-8 text-center",children:[A.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"mx-auto h-24 w-24 rounded-xl object-contain shadow-lg"}),A.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Avensetech Accounting"}),A.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access your account"})]}),A.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o&&A.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4",children:A.jsx("p",{className:"text-sm text-red-800",children:o})}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Email Address"}),A.jsx("input",{type:"email",value:e,onChange:u=>r(u.target.value),placeholder:"jade.c@avense-tech.com",required:!0,className:"w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Password"}),A.jsx("input",{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"Enter your password",required:!0,className:"w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsx("button",{type:"submit",disabled:i,className:`w-full rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3 font-medium text-white shadow-lg transition-all hover:from-blue-700 hover:to-blue-800 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Signing in...":"Sign In"})]}),A.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:A.jsx("p",{children:"Secure access for authorized personnel only"})})]})})})}function pR(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,o]=T.useState(!1),[l,c]=T.useState(null),[u,d]=T.useState(""),[f,g]=T.useState(""),[m,w]=T.useState(""),[B,x]=T.useState("user");T.useEffect(()=>{C(),y()},[]);const y=async()=>{const{data:{user:F}}=await Je.auth.getUser();if(!F)return;const{data:R}=await Je.from("users").select("role").eq("id",F.id).single();(R==null?void 0:R.role)!=="super_admin"&&i("Access denied. Super admin privileges required.")},C=async()=>{n(!0),i(null);const{data:F,error:R}=await Je.from("users").select("*").order("created_at",{ascending:!1});R?i(R.message):e(F??[]),n(!1)},S=async()=>{if(!u||!f||!m){alert("Please fill in all fields");return}try{const{data:F,error:R}=await Je.auth.admin.createUser({email:u.trim(),password:f,email_confirm:!0,user_metadata:{full_name:m.trim(),role:B}});if(R)throw R;alert("User created successfully!"),o(!1),I(),await C()}catch(F){alert(F.message||"Failed to create user")}},k=async F=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:R}=await Je.auth.admin.deleteUser(F);if(R)throw R;alert("User deleted successfully!"),await C()}catch(R){alert(R.message||"Failed to delete user")}},O=async(F,R)=>{try{const{error:J}=await Je.from("users").update({role:R}).eq("id",F);if(J)throw J;alert("User role updated successfully!"),await C()}catch(J){alert(J.message||"Failed to update user role")}},I=()=>{d(""),g(""),w(""),x("user")};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Manage system users and permissions"})]}),A.jsx("button",{onClick:()=>o(!0),className:"btn-primary",children:"+ Add User"})]}),A.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[A.jsx("div",{className:"card-hover rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Users"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:t.length})]}),A.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),A.jsx("div",{className:"card-hover rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Admins"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:t.filter(F=>F.role==="admin"||F.role==="super_admin").length})]}),A.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})}),A.jsx("div",{className:"card-hover rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-green-600",children:"Regular Users"}),A.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:t.filter(F=>F.role==="user").length})]}),A.jsx("div",{className:"rounded-full bg-green-200 p-3",children:A.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})})]}),A.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"User"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Email"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Role"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Created"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),A.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[r&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:A.jsx("div",{className:"loading-shimmer mx-auto h-8 w-48 rounded"})})}),s&&!r&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-red-600",children:s})}),!r&&!s&&t.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No users found"})}),!r&&!s&&t.map(F=>{var R;return A.jsxs("tr",{className:"table-row-hover",children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold",children:((R=F.full_name)==null?void 0:R.charAt(0).toUpperCase())||F.email.charAt(0).toUpperCase()}),A.jsx("div",{className:"ml-4",children:A.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.full_name||"No name"})})]})}),A.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:F.email}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsxs("select",{value:F.role,onChange:J=>O(F.id,J.target.value),disabled:F.role==="super_admin",className:`rounded-full px-3 py-1 text-xs font-medium ${F.role==="super_admin"?"bg-red-100 text-red-800 cursor-not-allowed":F.role==="admin"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:[A.jsx("option",{value:"super_admin",disabled:!0,children:"Super Admin"}),A.jsx("option",{value:"admin",children:"Admin"}),A.jsx("option",{value:"user",children:"User"})]})}),A.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:new Date(F.created_at).toLocaleDateString()}),A.jsx("td",{className:"px-6 py-4 text-right text-sm",children:F.role!=="super_admin"&&A.jsx("button",{onClick:()=>k(F.id),className:"text-red-600 hover:text-red-800",children:"Delete"})})]},F.id)})]})]})})}),a&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:A.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",children:[A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New User"}),A.jsx("button",{onClick:()=>{o(!1),I()},className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Full Name *"}),A.jsx("input",{type:"text",value:m,onChange:F=>w(F.target.value),placeholder:"John Doe",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Email *"}),A.jsx("input",{type:"email",value:u,onChange:F=>d(F.target.value),placeholder:"user@avense-tech.com",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Password *"}),A.jsx("input",{type:"password",value:f,onChange:F=>g(F.target.value),placeholder:"Minimum 6 characters",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Role *"}),A.jsxs("select",{value:B,onChange:F=>x(F.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"user",children:"User (Read-only)"}),A.jsx("option",{value:"admin",children:"Admin (Full access)"})]})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>{o(!1),I()},className:"btn-secondary",children:"Cancel"}),A.jsx("button",{onClick:S,className:"btn-primary",children:"Create User"})]})]})})]})}function mR(){const[t,e]=T.useState(!1),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,o]=T.useState(!1);T.useEffect(()=>{l()},[]);const l=async()=>{const{data:{session:u}}=await Je.auth.getSession();if(e(!!u),u){const{data:d}=await Je.from("users").select("role").eq("id",u.user.id).single();i((d==null?void 0:d.role)||null)}n(!1)},c=async()=>{await Je.auth.signOut(),e(!1),i(null)};return r?A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:A.jsx("div",{className:"loading-shimmer h-12 w-48 rounded"})}):t?A.jsx(oU,{children:A.jsx("div",{className:"min-h-screen p-2 sm:p-4",children:A.jsxs("div",{className:"mx-auto max-w-6xl",children:[A.jsxs("header",{className:"glass animate-fadeIn mb-4 sm:mb-6 rounded-2xl p-4 sm:p-6 shadow-xl",children:[A.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[A.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[A.jsx("img",{src:"/logo.jpg",alt:"Avensetech logo",className:"h-16 w-16 sm:h-24 sm:w-24 lg:h-40 lg:w-40 rounded-xl object-contain shadow-lg"}),A.jsxs("div",{children:[A.jsx("h1",{className:"gradient-text text-sm sm:text-lg lg:text-2xl font-bold",children:"Avensetech Software Development Services"}),A.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Accounting Tracker  Track cash in, cash out, expenses, and monthly summaries."}),A.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Role: ",s||"Loading..."]})]})]}),A.jsx("button",{onClick:()=>o(!a),className:"lg:hidden rounded-lg bg-white p-2 shadow-md",children:A.jsx("svg",{className:"h-6 w-6 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a?A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),A.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[A.jsx(R2,{}),A.jsxs("nav",{className:"flex flex-wrap gap-2 text-sm",children:[A.jsx(zt,{to:"/",end:!0,className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Home"}),A.jsx(zt,{to:"/monthly",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Monthly"}),A.jsx(zt,{to:"/reports",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Reports"}),A.jsx(zt,{to:"/savings",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Savings"}),A.jsx(zt,{to:"/payroll",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Payroll"}),A.jsx(zt,{to:"/hris",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"HRIS"}),A.jsx(zt,{to:"/leave",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Leave"}),A.jsx(zt,{to:"/inventory",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Inventory"}),A.jsx(zt,{to:"/loans",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Loans"}),A.jsx(zt,{to:"/money-received",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Money Received"}),A.jsx(zt,{to:"/request-funds",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Request Funds"}),A.jsx(zt,{to:"/invoice",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Invoice"}),A.jsx(zt,{to:"/invoice-history",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"History"}),s==="super_admin"&&A.jsx(zt,{to:"/users",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Users"}),A.jsx("button",{onClick:c,className:"rounded-lg bg-red-600 px-4 py-2 font-medium text-white shadow-sm transition-all hover:bg-red-700 hover:shadow-md",children:"Logout"})]})]})]}),a&&A.jsxs("nav",{className:"lg:hidden mt-4 flex flex-col gap-2 text-sm animate-slideIn",children:[A.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white px-4 py-3 shadow-sm",children:[A.jsx("span",{className:"font-medium text-blue-700",children:"Notifications"}),A.jsx(R2,{})]}),A.jsx(zt,{to:"/",end:!0,onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Home"}),A.jsx(zt,{to:"/monthly",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Monthly"}),A.jsx(zt,{to:"/reports",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Reports"}),A.jsx(zt,{to:"/savings",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Savings"}),A.jsx(zt,{to:"/payroll",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Payroll"}),A.jsx(zt,{to:"/hris",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"HRIS"}),A.jsx(zt,{to:"/leave",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Leave"}),A.jsx(zt,{to:"/inventory",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Inventory"}),A.jsx(zt,{to:"/loans",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Loans"}),A.jsx(zt,{to:"/money-received",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Money Received"}),A.jsx(zt,{to:"/request-funds",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Request Funds"}),A.jsx(zt,{to:"/invoice",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Invoice"}),A.jsx(zt,{to:"/invoice-history",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"History"}),s==="super_admin"&&A.jsx(zt,{to:"/users",onClick:()=>o(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Users"}),A.jsx("button",{onClick:()=>{c(),o(!1)},className:"rounded-lg bg-red-600 px-4 py-3 font-medium text-white shadow-sm transition-all hover:bg-red-700 hover:shadow-md text-left",children:"Logout"})]})]}),A.jsx("main",{className:"glass animate-scaleIn rounded-2xl p-4 sm:p-6 shadow-xl",children:A.jsxs(eU,{children:[A.jsx(gn,{path:"/",element:A.jsx(K2,{})}),A.jsx(gn,{path:"/monthly",element:A.jsx(ZQ,{})}),A.jsx(gn,{path:"/reports",element:A.jsx(sR,{})}),A.jsx(gn,{path:"/savings",element:A.jsx(aR,{})}),A.jsx(gn,{path:"/payroll",element:A.jsx(iR,{})}),A.jsx(gn,{path:"/hris",element:A.jsx(cR,{})}),A.jsx(gn,{path:"/leave",element:A.jsx(uR,{})}),A.jsx(gn,{path:"/inventory",element:A.jsx(dR,{})}),A.jsx(gn,{path:"/loans",element:A.jsx(hR,{})}),A.jsx(gn,{path:"/money-received",element:A.jsx(fR,{})}),A.jsx(gn,{path:"/request-funds",element:A.jsx(AR,{})}),A.jsx(gn,{path:"/invoice",element:A.jsx(oR,{})}),A.jsx(gn,{path:"/invoice-history",element:A.jsx(lR,{})}),s==="super_admin"&&A.jsx(gn,{path:"/users",element:A.jsx(pR,{})}),A.jsx(gn,{path:"*",element:A.jsx(K2,{})})]})}),A.jsx("footer",{className:"mt-4 sm:mt-6 text-center text-xs text-white opacity-80",children:"Built with React, Vite, Tailwind, and Supabase."})]})})}):A.jsx(gR,{onLogin:l})}ux.createRoot(document.getElementById("root")).render(A.jsx(sp.StrictMode,{children:A.jsx(mR,{})}));export{Rt as _,Us as c,TF as g};
