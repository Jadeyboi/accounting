var IF=Object.defineProperty;var PF=(t,e,r)=>e in t?IF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var yt=(t,e,r)=>PF(t,typeof e!="symbol"?e+"":e,r);function TF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OF(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var mC={exports:{}},C0={},xC={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=Symbol.for("react.element"),MF=Symbol.for("react.portal"),HF=Symbol.for("react.fragment"),RF=Symbol.for("react.strict_mode"),KF=Symbol.for("react.profiler"),VF=Symbol.for("react.provider"),zF=Symbol.for("react.context"),$F=Symbol.for("react.forward_ref"),WF=Symbol.for("react.suspense"),GF=Symbol.for("react.memo"),qF=Symbol.for("react.lazy"),R1=Symbol.iterator;function JF(t){return t===null||typeof t!="object"?null:(t=R1&&t[R1]||t["@@iterator"],typeof t=="function"?t:null)}var vC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wC=Object.assign,yC={};function bc(t,e,r){this.props=t,this.context=e,this.refs=yC,this.updater=r||vC}bc.prototype.isReactComponent={};bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bC(){}bC.prototype=bc.prototype;function Vw(t,e,r){this.props=t,this.context=e,this.refs=yC,this.updater=r||vC}var zw=Vw.prototype=new bC;zw.constructor=Vw;wC(zw,bc.prototype);zw.isPureReactComponent=!0;var K1=Array.isArray,BC=Object.prototype.hasOwnProperty,$w={current:null},CC={key:!0,ref:!0,__self:!0,__source:!0};function _C(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)BC.call(e,n)&&!CC.hasOwnProperty(n)&&(s[n]=e[n]);var A=arguments.length-2;if(A===1)s.children=r;else if(1<A){for(var l=Array(A),c=0;c<A;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in A=t.defaultProps,A)s[n]===void 0&&(s[n]=A[n]);return{$$typeof:$d,type:t,key:i,ref:a,props:s,_owner:$w.current}}function YF(t,e){return{$$typeof:$d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ww(t){return typeof t=="object"&&t!==null&&t.$$typeof===$d}function XF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var V1=/\/+/g;function sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XF(""+t.key):e.toString(36)}function sg(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case $d:case MF:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+sm(a,0):n,K1(s)?(r="",t!=null&&(r=t.replace(V1,"$&/")+"/"),sg(s,e,r,"",function(c){return c})):s!=null&&(Ww(s)&&(s=YF(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(V1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",K1(t))for(var A=0;A<t.length;A++){i=t[A];var l=n+sm(i,A);a+=sg(i,e,r,l,s)}else if(l=JF(t),typeof l=="function")for(t=l.call(t),A=0;!(i=t.next()).done;)i=i.value,l=n+sm(i,A++),a+=sg(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Wh(t,e,r){if(t==null)return t;var n=[],s=0;return sg(t,n,"","",function(i){return e.call(r,i,s++)}),n}function ZF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},ig={transition:null},e3={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:ig,ReactCurrentOwner:$w};function NC(){throw Error("act(...) is not supported in production builds of React.")}Qt.Children={map:Wh,forEach:function(t,e,r){Wh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Wh(t,function(){e++}),e},toArray:function(t){return Wh(t,function(e){return e})||[]},only:function(t){if(!Ww(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qt.Component=bc;Qt.Fragment=HF;Qt.Profiler=KF;Qt.PureComponent=Vw;Qt.StrictMode=RF;Qt.Suspense=WF;Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e3;Qt.act=NC;Qt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wC({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=$w.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var A=t.type.defaultProps;for(l in e)BC.call(e,l)&&!CC.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&A!==void 0?A[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){A=Array(l);for(var c=0;c<l;c++)A[c]=arguments[c+2];n.children=A}return{$$typeof:$d,type:t.type,key:s,ref:i,props:n,_owner:a}};Qt.createContext=function(t){return t={$$typeof:zF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VF,_context:t},t.Consumer=t};Qt.createElement=_C;Qt.createFactory=function(t){var e=_C.bind(null,t);return e.type=t,e};Qt.createRef=function(){return{current:null}};Qt.forwardRef=function(t){return{$$typeof:$F,render:t}};Qt.isValidElement=Ww;Qt.lazy=function(t){return{$$typeof:qF,_payload:{_status:-1,_result:t},_init:ZF}};Qt.memo=function(t,e){return{$$typeof:GF,type:t,compare:e===void 0?null:e}};Qt.startTransition=function(t){var e=ig.transition;ig.transition={};try{t()}finally{ig.transition=e}};Qt.unstable_act=NC;Qt.useCallback=function(t,e){return On.current.useCallback(t,e)};Qt.useContext=function(t){return On.current.useContext(t)};Qt.useDebugValue=function(){};Qt.useDeferredValue=function(t){return On.current.useDeferredValue(t)};Qt.useEffect=function(t,e){return On.current.useEffect(t,e)};Qt.useId=function(){return On.current.useId()};Qt.useImperativeHandle=function(t,e,r){return On.current.useImperativeHandle(t,e,r)};Qt.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};Qt.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};Qt.useMemo=function(t,e){return On.current.useMemo(t,e)};Qt.useReducer=function(t,e,r){return On.current.useReducer(t,e,r)};Qt.useRef=function(t){return On.current.useRef(t)};Qt.useState=function(t){return On.current.useState(t)};Qt.useSyncExternalStore=function(t,e,r){return On.current.useSyncExternalStore(t,e,r)};Qt.useTransition=function(){return On.current.useTransition()};Qt.version="18.3.1";xC.exports=Qt;var T=xC.exports;const _0=DF(T),t3=TF({__proto__:null,default:_0},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3=T,n3=Symbol.for("react.element"),s3=Symbol.for("react.fragment"),i3=Object.prototype.hasOwnProperty,a3=r3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o3={key:!0,ref:!0,__self:!0,__source:!0};function SC(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)i3.call(e,n)&&!o3.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:n3,type:t,key:i,ref:a,props:s,_owner:a3.current}}C0.Fragment=s3;C0.jsx=SC;C0.jsxs=SC;mC.exports=C0;var o=mC.exports,Dx={},jC={exports:{}},ys={},FC={exports:{}},EC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,W){var J=te.length;te.push(W);e:for(;0<J;){var ee=J-1>>>1,S=te[ee];if(0<s(S,W))te[ee]=W,te[J]=S,J=ee;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var W=te[0],J=te.pop();if(J!==W){te[0]=J;e:for(var ee=0,S=te.length,M=S>>>1;ee<M;){var K=2*(ee+1)-1,G=te[K],re=K+1,ae=te[re];if(0>s(G,J))re<S&&0>s(ae,G)?(te[ee]=ae,te[re]=J,ee=re):(te[ee]=G,te[K]=J,ee=K);else if(re<S&&0>s(ae,J))te[ee]=ae,te[re]=J,ee=re;else break e}}return W}function s(te,W){var J=te.sortIndex-W.sortIndex;return J!==0?J:te.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,A=a.now();t.unstable_now=function(){return a.now()-A}}var l=[],c=[],u=1,d=null,f=3,g=!1,m=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(te){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=te)n(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=r(c)}}function _(te){if(w=!1,C(te),!m)if(r(l)!==null)m=!0,ie(F);else{var W=r(c);W!==null&&fe(_,W.startTime-te)}}function F(te,W){m=!1,w&&(w=!1,v(j),j=-1),g=!0;var J=f;try{for(C(W),d=r(l);d!==null&&(!(d.expirationTime>W)||te&&!Q());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var S=ee(d.expirationTime<=W);W=t.unstable_now(),typeof S=="function"?d.callback=S:d===r(l)&&n(l),C(W)}else n(l);d=r(l)}if(d!==null)var M=!0;else{var K=r(c);K!==null&&fe(_,K.startTime-W),M=!1}return M}finally{d=null,f=J,g=!1}}var P=!1,E=null,j=-1,R=5,Z=-1;function Q(){return!(t.unstable_now()-Z<R)}function I(){if(E!==null){var te=t.unstable_now();Z=te;var W=!0;try{W=E(!0,te)}finally{W?z():(P=!1,E=null)}}else P=!1}var z;if(typeof x=="function")z=function(){x(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ce=$.port2;$.port1.onmessage=I,z=function(){ce.postMessage(null)}}else z=function(){b(I,0)};function ie(te){E=te,P||(P=!0,z())}function fe(te,W){j=b(function(){te(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,ie(F))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(te){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var J=f;f=W;try{return te()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,W){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var J=f;f=te;try{return W()}finally{f=J}},t.unstable_scheduleCallback=function(te,W,J){var ee=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,te){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=J+S,te={id:u++,callback:W,priorityLevel:te,startTime:J,expirationTime:S,sortIndex:-1},J>ee?(te.sortIndex=J,e(c,te),r(l)===null&&te===r(c)&&(w?(v(j),j=-1):w=!0,fe(_,J-ee))):(te.sortIndex=S,e(l,te),m||g||(m=!0,ie(F))),te},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(te){var W=f;return function(){var J=f;f=W;try{return te.apply(this,arguments)}finally{f=J}}}})(EC);FC.exports=EC;var A3=FC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3=T,ws=A3;function Ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UC=new Set,hd={};function IA(t,e){ic(t,e),ic(t+"Capture",e)}function ic(t,e){for(hd[t]=e,t=0;t<e.length;t++)UC.add(e[t])}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ox=Object.prototype.hasOwnProperty,c3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z1={},$1={};function u3(t){return Ox.call($1,t)?!0:Ox.call(z1,t)?!1:c3.test(t)?$1[t]=!0:(z1[t]=!0,!1)}function d3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h3(t,e,r,n){if(e===null||typeof e>"u"||d3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dn[t]=new Mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dn[e]=new Mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dn[t]=new Mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dn[t]=new Mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dn[t]=new Mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dn[t]=new Mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dn[t]=new Mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dn[t]=new Mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dn[t]=new Mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gw=/[\-:]([a-z])/g;function qw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gw,qw);dn[e]=new Mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gw,qw);dn[e]=new Mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gw,qw);dn[e]=new Mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dn[t]=new Mn(t,1,!1,t.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dn[t]=new Mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jw(t,e,r,n){var s=dn.hasOwnProperty(e)?dn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h3(e,r,s,n)&&(r=null),n||s===null?u3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xa=l3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gh=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Pl=Symbol.for("react.fragment"),Yw=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),LC=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),Rx=Symbol.for("react.suspense_list"),Zw=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),QC=Symbol.for("react.offscreen"),W1=Symbol.iterator;function iu(t){return t===null||typeof t!="object"?null:(t=W1&&t[W1]||t["@@iterator"],typeof t=="function"?t:null)}var xr=Object.assign,im;function _u(t){if(im===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);im=e&&e[1]||""}return`
`+im+t}var am=!1;function om(t,e){if(!t||am)return"";am=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,A=i.length-1;1<=a&&0<=A&&s[a]!==i[A];)A--;for(;1<=a&&0<=A;a--,A--)if(s[a]!==i[A]){if(a!==1||A!==1)do if(a--,A--,0>A||s[a]!==i[A]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=A);break}}}finally{am=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_u(t):""}function f3(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=om(t.type,!1),t;case 11:return t=om(t.type.render,!1),t;case 1:return t=om(t.type,!0),t;default:return""}}function Kx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pl:return"Fragment";case Il:return"Portal";case Mx:return"Profiler";case Yw:return"StrictMode";case Hx:return"Suspense";case Rx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LC:return(t.displayName||"Context")+".Consumer";case kC:return(t._context.displayName||"Context")+".Provider";case Xw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zw:return e=t.displayName||null,e!==null?e:Kx(t.type)||"Memo";case Ga:e=t._payload,t=t._init;try{return Kx(t(e))}catch{}}return null}function g3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kx(e);case 8:return e===Yw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p3(t){var e=IC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qh(t){t._valueTracker||(t._valueTracker=p3(t))}function PC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=IC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vx(t,e){var r=e.checked;return xr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function G1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Fo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TC(t,e){e=e.checked,e!=null&&Jw(t,"checked",e,!1)}function zx(t,e){TC(t,e);var r=Fo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$x(t,e.type,r):e.hasOwnProperty("defaultValue")&&$x(t,e.type,Fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function q1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $x(t,e,r){(e!=="number"||Sg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Nu=Array.isArray;function Gl(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Fo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Wx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return xr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ge(92));if(Nu(r)){if(1<r.length)throw Error(Ge(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Fo(r)}}function DC(t,e){var r=Fo(e.value),n=Fo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Y1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jh,MC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jh=Jh||document.createElement("div"),Jh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m3=["Webkit","ms","Moz","O"];Object.keys(Mu).forEach(function(t){m3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mu[e]=Mu[t]})});function HC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Mu.hasOwnProperty(t)&&Mu[t]?(""+e).trim():e+"px"}function RC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=HC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var x3=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qx(t,e){if(e){if(x3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function Jx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yx=null;function ey(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xx=null,ql=null,Jl=null;function X1(t){if(t=qd(t)){if(typeof Xx!="function")throw Error(Ge(280));var e=t.stateNode;e&&(e=E0(e),Xx(t.stateNode,t.type,e))}}function KC(t){ql?Jl?Jl.push(t):Jl=[t]:ql=t}function VC(){if(ql){var t=ql,e=Jl;if(Jl=ql=null,X1(t),e)for(t=0;t<e.length;t++)X1(e[t])}}function zC(t,e){return t(e)}function $C(){}var Am=!1;function WC(t,e,r){if(Am)return t(e,r);Am=!0;try{return zC(t,e,r)}finally{Am=!1,(ql!==null||Jl!==null)&&($C(),VC())}}function gd(t,e){var r=t.stateNode;if(r===null)return null;var n=E0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ge(231,e,typeof r));return r}var Zx=!1;if(da)try{var au={};Object.defineProperty(au,"passive",{get:function(){Zx=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Zx=!1}function v3(t,e,r,n,s,i,a,A,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Hu=!1,jg=null,Fg=!1,ev=null,w3={onError:function(t){Hu=!0,jg=t}};function y3(t,e,r,n,s,i,a,A,l){Hu=!1,jg=null,v3.apply(w3,arguments)}function b3(t,e,r,n,s,i,a,A,l){if(y3.apply(this,arguments),Hu){if(Hu){var c=jg;Hu=!1,jg=null}else throw Error(Ge(198));Fg||(Fg=!0,ev=c)}}function PA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function GC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z1(t){if(PA(t)!==t)throw Error(Ge(188))}function B3(t){var e=t.alternate;if(!e){if(e=PA(t),e===null)throw Error(Ge(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Z1(s),t;if(i===n)return Z1(s),e;i=i.sibling}throw Error(Ge(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,A=s.child;A;){if(A===r){a=!0,r=s,n=i;break}if(A===n){a=!0,n=s,r=i;break}A=A.sibling}if(!a){for(A=i.child;A;){if(A===r){a=!0,r=i,n=s;break}if(A===n){a=!0,n=i,r=s;break}A=A.sibling}if(!a)throw Error(Ge(189))}}if(r.alternate!==n)throw Error(Ge(190))}if(r.tag!==3)throw Error(Ge(188));return r.stateNode.current===r?t:e}function qC(t){return t=B3(t),t!==null?JC(t):null}function JC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JC(t);if(e!==null)return e;t=t.sibling}return null}var YC=ws.unstable_scheduleCallback,e2=ws.unstable_cancelCallback,C3=ws.unstable_shouldYield,_3=ws.unstable_requestPaint,Er=ws.unstable_now,N3=ws.unstable_getCurrentPriorityLevel,ty=ws.unstable_ImmediatePriority,XC=ws.unstable_UserBlockingPriority,Eg=ws.unstable_NormalPriority,S3=ws.unstable_LowPriority,ZC=ws.unstable_IdlePriority,N0=null,Qi=null;function j3(t){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(N0,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:U3,F3=Math.log,E3=Math.LN2;function U3(t){return t>>>=0,t===0?32:31-(F3(t)/E3|0)|0}var Yh=64,Xh=4194304;function Su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ug(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var A=a&~s;A!==0?n=Su(A):(i&=a,i!==0&&(n=Su(i)))}else a=r&~s,a!==0?n=Su(a):i!==0&&(n=Su(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-li(e),s=1<<r,n|=t[r],e&=~s;return n}function k3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-li(i),A=1<<a,l=s[a];l===-1?(!(A&r)||A&n)&&(s[a]=k3(A,e)):l<=e&&(t.expiredLanes|=A),i&=~A}}function tv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e_(){var t=Yh;return Yh<<=1,!(Yh&4194240)&&(Yh=64),t}function lm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=r}function Q3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-li(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ry(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-li(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Xt=0;function t_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r_,ny,n_,s_,i_,rv=!1,Zh=[],po=null,mo=null,xo=null,pd=new Map,md=new Map,Ya=[],I3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t2(t,e){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(e.pointerId)}}function ou(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qd(e),e!==null&&ny(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function P3(t,e,r,n,s){switch(e){case"focusin":return po=ou(po,t,e,r,n,s),!0;case"dragenter":return mo=ou(mo,t,e,r,n,s),!0;case"mouseover":return xo=ou(xo,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return pd.set(i,ou(pd.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,md.set(i,ou(md.get(i)||null,t,e,r,n,s)),!0}return!1}function a_(t){var e=dA(t.target);if(e!==null){var r=PA(e);if(r!==null){if(e=r.tag,e===13){if(e=GC(r),e!==null){t.blockedOn=e,i_(t.priority,function(){n_(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ag(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Yx=n,r.target.dispatchEvent(n),Yx=null}else return e=qd(r),e!==null&&ny(e),t.blockedOn=r,!1;e.shift()}return!0}function r2(t,e,r){ag(t)&&r.delete(e)}function T3(){rv=!1,po!==null&&ag(po)&&(po=null),mo!==null&&ag(mo)&&(mo=null),xo!==null&&ag(xo)&&(xo=null),pd.forEach(r2),md.forEach(r2)}function Au(t,e){t.blockedOn===e&&(t.blockedOn=null,rv||(rv=!0,ws.unstable_scheduleCallback(ws.unstable_NormalPriority,T3)))}function xd(t){function e(s){return Au(s,t)}if(0<Zh.length){Au(Zh[0],t);for(var r=1;r<Zh.length;r++){var n=Zh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(po!==null&&Au(po,t),mo!==null&&Au(mo,t),xo!==null&&Au(xo,t),pd.forEach(e),md.forEach(e),r=0;r<Ya.length;r++)n=Ya[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ya.length&&(r=Ya[0],r.blockedOn===null);)a_(r),r.blockedOn===null&&Ya.shift()}var Yl=xa.ReactCurrentBatchConfig,kg=!0;function D3(t,e,r,n){var s=Xt,i=Yl.transition;Yl.transition=null;try{Xt=1,sy(t,e,r,n)}finally{Xt=s,Yl.transition=i}}function O3(t,e,r,n){var s=Xt,i=Yl.transition;Yl.transition=null;try{Xt=4,sy(t,e,r,n)}finally{Xt=s,Yl.transition=i}}function sy(t,e,r,n){if(kg){var s=nv(t,e,r,n);if(s===null)vm(t,e,n,Lg,r),t2(t,n);else if(P3(s,t,e,r,n))n.stopPropagation();else if(t2(t,n),e&4&&-1<I3.indexOf(t)){for(;s!==null;){var i=qd(s);if(i!==null&&r_(i),i=nv(t,e,r,n),i===null&&vm(t,e,n,Lg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vm(t,e,n,null,r)}}var Lg=null;function nv(t,e,r,n){if(Lg=null,t=ey(n),t=dA(t),t!==null)if(e=PA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=GC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lg=t,null}function o_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N3()){case ty:return 1;case XC:return 4;case Eg:case S3:return 16;case ZC:return 536870912;default:return 16}default:return 16}}var to=null,iy=null,og=null;function A_(){if(og)return og;var t,e=iy,r=e.length,n,s="value"in to?to.value:to.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return og=s.slice(t,1<n?1-n:void 0)}function Ag(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ef(){return!0}function n2(){return!1}function bs(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(i):i[A]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ef:n2,this.isPropagationStopped=n2,this}return xr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ef)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ef)},persist:function(){},isPersistent:ef}),e}var Bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ay=bs(Bc),Gd=xr({},Bc,{view:0,detail:0}),M3=bs(Gd),cm,um,lu,S0=xr({},Gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lu&&(lu&&t.type==="mousemove"?(cm=t.screenX-lu.screenX,um=t.screenY-lu.screenY):um=cm=0,lu=t),cm)},movementY:function(t){return"movementY"in t?t.movementY:um}}),s2=bs(S0),H3=xr({},S0,{dataTransfer:0}),R3=bs(H3),K3=xr({},Gd,{relatedTarget:0}),dm=bs(K3),V3=xr({},Bc,{animationName:0,elapsedTime:0,pseudoElement:0}),z3=bs(V3),$3=xr({},Bc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W3=bs($3),G3=xr({},Bc,{data:0}),i2=bs(G3),q3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Y3[t])?!!e[t]:!1}function oy(){return X3}var Z3=xr({},Gd,{key:function(t){if(t.key){var e=q3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ag(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oy,charCode:function(t){return t.type==="keypress"?Ag(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ag(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eE=bs(Z3),tE=xr({},S0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a2=bs(tE),rE=xr({},Gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oy}),nE=bs(rE),sE=xr({},Bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),iE=bs(sE),aE=xr({},S0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oE=bs(aE),AE=[9,13,27,32],Ay=da&&"CompositionEvent"in window,Ru=null;da&&"documentMode"in document&&(Ru=document.documentMode);var lE=da&&"TextEvent"in window&&!Ru,l_=da&&(!Ay||Ru&&8<Ru&&11>=Ru),o2=" ",A2=!1;function c_(t,e){switch(t){case"keyup":return AE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tl=!1;function cE(t,e){switch(t){case"compositionend":return u_(e);case"keypress":return e.which!==32?null:(A2=!0,o2);case"textInput":return t=e.data,t===o2&&A2?null:t;default:return null}}function uE(t,e){if(Tl)return t==="compositionend"||!Ay&&c_(t,e)?(t=A_(),og=iy=to=null,Tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l_&&e.locale!=="ko"?null:e.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dE[t.type]:e==="textarea"}function d_(t,e,r,n){KC(n),e=Qg(e,"onChange"),0<e.length&&(r=new ay("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ku=null,vd=null;function hE(t){B_(t,0)}function j0(t){var e=Ml(t);if(PC(e))return t}function fE(t,e){if(t==="change")return e}var h_=!1;if(da){var hm;if(da){var fm="oninput"in document;if(!fm){var c2=document.createElement("div");c2.setAttribute("oninput","return;"),fm=typeof c2.oninput=="function"}hm=fm}else hm=!1;h_=hm&&(!document.documentMode||9<document.documentMode)}function u2(){Ku&&(Ku.detachEvent("onpropertychange",f_),vd=Ku=null)}function f_(t){if(t.propertyName==="value"&&j0(vd)){var e=[];d_(e,vd,t,ey(t)),WC(hE,e)}}function gE(t,e,r){t==="focusin"?(u2(),Ku=e,vd=r,Ku.attachEvent("onpropertychange",f_)):t==="focusout"&&u2()}function pE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return j0(vd)}function mE(t,e){if(t==="click")return j0(e)}function xE(t,e){if(t==="input"||t==="change")return j0(e)}function vE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var di=typeof Object.is=="function"?Object.is:vE;function wd(t,e){if(di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ox.call(e,s)||!di(t[s],e[s]))return!1}return!0}function d2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h2(t,e){var r=d2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=d2(r)}}function g_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p_(){for(var t=window,e=Sg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sg(t.document)}return e}function ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wE(t){var e=p_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&g_(r.ownerDocument.documentElement,r)){if(n!==null&&ly(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=h2(r,i);var a=h2(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yE=da&&"documentMode"in document&&11>=document.documentMode,Dl=null,sv=null,Vu=null,iv=!1;function f2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;iv||Dl==null||Dl!==Sg(n)||(n=Dl,"selectionStart"in n&&ly(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vu&&wd(Vu,n)||(Vu=n,n=Qg(sv,"onSelect"),0<n.length&&(e=new ay("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Dl)))}function tf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ol={animationend:tf("Animation","AnimationEnd"),animationiteration:tf("Animation","AnimationIteration"),animationstart:tf("Animation","AnimationStart"),transitionend:tf("Transition","TransitionEnd")},gm={},m_={};da&&(m_=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function F0(t){if(gm[t])return gm[t];if(!Ol[t])return t;var e=Ol[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in m_)return gm[t]=e[r];return t}var x_=F0("animationend"),v_=F0("animationiteration"),w_=F0("animationstart"),y_=F0("transitionend"),b_=new Map,g2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(t,e){b_.set(t,e),IA(e,[t])}for(var pm=0;pm<g2.length;pm++){var mm=g2[pm],bE=mm.toLowerCase(),BE=mm[0].toUpperCase()+mm.slice(1);Io(bE,"on"+BE)}Io(x_,"onAnimationEnd");Io(v_,"onAnimationIteration");Io(w_,"onAnimationStart");Io("dblclick","onDoubleClick");Io("focusin","onFocus");Io("focusout","onBlur");Io(y_,"onTransitionEnd");ic("onMouseEnter",["mouseout","mouseover"]);ic("onMouseLeave",["mouseout","mouseover"]);ic("onPointerEnter",["pointerout","pointerover"]);ic("onPointerLeave",["pointerout","pointerover"]);IA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));IA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));IA("onBeforeInput",["compositionend","keypress","textInput","paste"]);IA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));IA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));IA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ju));function p2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,b3(n,e,void 0,t),t.currentTarget=null}function B_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var A=n[a],l=A.instance,c=A.currentTarget;if(A=A.listener,l!==i&&s.isPropagationStopped())break e;p2(s,A,c),i=l}else for(a=0;a<n.length;a++){if(A=n[a],l=A.instance,c=A.currentTarget,A=A.listener,l!==i&&s.isPropagationStopped())break e;p2(s,A,c),i=l}}}if(Fg)throw t=ev,Fg=!1,ev=null,t}function lr(t,e){var r=e[cv];r===void 0&&(r=e[cv]=new Set);var n=t+"__bubble";r.has(n)||(C_(e,t,2,!1),r.add(n))}function xm(t,e,r){var n=0;e&&(n|=4),C_(r,t,n,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[rf]){t[rf]=!0,UC.forEach(function(r){r!=="selectionchange"&&(CE.has(r)||xm(r,!1,t),xm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rf]||(e[rf]=!0,xm("selectionchange",!1,e))}}function C_(t,e,r,n){switch(o_(e)){case 1:var s=D3;break;case 4:s=O3;break;default:s=sy}r=s.bind(null,e,r,t),s=void 0,!Zx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function vm(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var A=n.stateNode.containerInfo;if(A===s||A.nodeType===8&&A.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;A!==null;){if(a=dA(A),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}A=A.parentNode}}n=n.return}WC(function(){var c=i,u=ey(r),d=[];e:{var f=b_.get(t);if(f!==void 0){var g=ay,m=t;switch(t){case"keypress":if(Ag(r)===0)break e;case"keydown":case"keyup":g=eE;break;case"focusin":m="focus",g=dm;break;case"focusout":m="blur",g=dm;break;case"beforeblur":case"afterblur":g=dm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=s2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=R3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nE;break;case x_:case v_:case w_:g=z3;break;case y_:g=iE;break;case"scroll":g=M3;break;case"wheel":g=oE;break;case"copy":case"cut":case"paste":g=W3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=a2}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var x=c,C;x!==null;){C=x;var _=C.stateNode;if(C.tag===5&&_!==null&&(C=_,v!==null&&(_=gd(x,v),_!=null&&w.push(bd(x,_,C)))),b)break;x=x.return}0<w.length&&(f=new g(f,m,null,r,u),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Yx&&(m=r.relatedTarget||r.fromElement)&&(dA(m)||m[ha]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=c,m=m?dA(m):null,m!==null&&(b=PA(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(w=s2,_="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=a2,_="onPointerLeave",v="onPointerEnter",x="pointer"),b=g==null?f:Ml(g),C=m==null?f:Ml(m),f=new w(_,x+"leave",g,r,u),f.target=b,f.relatedTarget=C,_=null,dA(u)===c&&(w=new w(v,x+"enter",m,r,u),w.target=C,w.relatedTarget=b,_=w),b=_,g&&m)t:{for(w=g,v=m,x=0,C=w;C;C=dl(C))x++;for(C=0,_=v;_;_=dl(_))C++;for(;0<x-C;)w=dl(w),x--;for(;0<C-x;)v=dl(v),C--;for(;x--;){if(w===v||v!==null&&w===v.alternate)break t;w=dl(w),v=dl(v)}w=null}else w=null;g!==null&&m2(d,f,g,w,!1),m!==null&&b!==null&&m2(d,b,m,w,!0)}}e:{if(f=c?Ml(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var F=fE;else if(l2(f))if(h_)F=xE;else{F=pE;var P=gE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(F=mE);if(F&&(F=F(t,c))){d_(d,F,r,u);break e}P&&P(t,f,c),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&$x(f,"number",f.value)}switch(P=c?Ml(c):window,t){case"focusin":(l2(P)||P.contentEditable==="true")&&(Dl=P,sv=c,Vu=null);break;case"focusout":Vu=sv=Dl=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,f2(d,r,u);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":f2(d,r,u)}var E;if(Ay)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Tl?c_(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(l_&&r.locale!=="ko"&&(Tl||j!=="onCompositionStart"?j==="onCompositionEnd"&&Tl&&(E=A_()):(to=u,iy="value"in to?to.value:to.textContent,Tl=!0)),P=Qg(c,j),0<P.length&&(j=new i2(j,t,null,r,u),d.push({event:j,listeners:P}),E?j.data=E:(E=u_(r),E!==null&&(j.data=E)))),(E=lE?cE(t,r):uE(t,r))&&(c=Qg(c,"onBeforeInput"),0<c.length&&(u=new i2("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=E))}B_(d,e)})}function bd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Qg(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gd(t,r),i!=null&&n.unshift(bd(t,i,s)),i=gd(t,e),i!=null&&n.push(bd(t,i,s))),t=t.return}return n}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function m2(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var A=r,l=A.alternate,c=A.stateNode;if(l!==null&&l===n)break;A.tag===5&&c!==null&&(A=c,s?(l=gd(r,i),l!=null&&a.unshift(bd(r,l,A))):s||(l=gd(r,i),l!=null&&a.push(bd(r,l,A)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var _E=/\r\n?/g,NE=/\u0000|\uFFFD/g;function x2(t){return(typeof t=="string"?t:""+t).replace(_E,`
`).replace(NE,"")}function nf(t,e,r){if(e=x2(e),x2(t)!==e&&r)throw Error(Ge(425))}function Ig(){}var av=null,ov=null;function Av(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lv=typeof setTimeout=="function"?setTimeout:void 0,SE=typeof clearTimeout=="function"?clearTimeout:void 0,v2=typeof Promise=="function"?Promise:void 0,jE=typeof queueMicrotask=="function"?queueMicrotask:typeof v2<"u"?function(t){return v2.resolve(null).then(t).catch(FE)}:lv;function FE(t){setTimeout(function(){throw t})}function wm(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),xd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);xd(e)}function vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),ki="__reactFiber$"+Cc,Bd="__reactProps$"+Cc,ha="__reactContainer$"+Cc,cv="__reactEvents$"+Cc,EE="__reactListeners$"+Cc,UE="__reactHandles$"+Cc;function dA(t){var e=t[ki];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ha]||r[ki]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=w2(t);t!==null;){if(r=t[ki])return r;t=w2(t)}return e}t=r,r=t.parentNode}return null}function qd(t){return t=t[ki]||t[ha],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ml(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ge(33))}function E0(t){return t[Bd]||null}var uv=[],Hl=-1;function Po(t){return{current:t}}function dr(t){0>Hl||(t.current=uv[Hl],uv[Hl]=null,Hl--)}function Ar(t,e){Hl++,uv[Hl]=t.current,t.current=e}var Eo={},jn=Po(Eo),ts=Po(!1),FA=Eo;function ac(t,e){var r=t.type.contextTypes;if(!r)return Eo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rs(t){return t=t.childContextTypes,t!=null}function Pg(){dr(ts),dr(jn)}function y2(t,e,r){if(jn.current!==Eo)throw Error(Ge(168));Ar(jn,e),Ar(ts,r)}function __(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ge(108,g3(t)||"Unknown",s));return xr({},r,n)}function Tg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Eo,FA=jn.current,Ar(jn,t),Ar(ts,ts.current),!0}function b2(t,e,r){var n=t.stateNode;if(!n)throw Error(Ge(169));r?(t=__(t,e,FA),n.__reactInternalMemoizedMergedChildContext=t,dr(ts),dr(jn),Ar(jn,t)):dr(ts),Ar(ts,r)}var aa=null,U0=!1,ym=!1;function N_(t){aa===null?aa=[t]:aa.push(t)}function kE(t){U0=!0,N_(t)}function To(){if(!ym&&aa!==null){ym=!0;var t=0,e=Xt;try{var r=aa;for(Xt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}aa=null,U0=!1}catch(s){throw aa!==null&&(aa=aa.slice(t+1)),YC(ty,To),s}finally{Xt=e,ym=!1}}return null}var Rl=[],Kl=0,Dg=null,Og=0,Is=[],Ps=0,EA=null,Aa=1,la="";function nA(t,e){Rl[Kl++]=Og,Rl[Kl++]=Dg,Dg=t,Og=e}function S_(t,e,r){Is[Ps++]=Aa,Is[Ps++]=la,Is[Ps++]=EA,EA=t;var n=Aa;t=la;var s=32-li(n)-1;n&=~(1<<s),r+=1;var i=32-li(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Aa=1<<32-li(e)+s|r<<s|n,la=i+t}else Aa=1<<i|r<<s|n,la=t}function cy(t){t.return!==null&&(nA(t,1),S_(t,1,0))}function uy(t){for(;t===Dg;)Dg=Rl[--Kl],Rl[Kl]=null,Og=Rl[--Kl],Rl[Kl]=null;for(;t===EA;)EA=Is[--Ps],Is[Ps]=null,la=Is[--Ps],Is[Ps]=null,Aa=Is[--Ps],Is[Ps]=null}var vs=null,ps=null,fr=!1,oi=null;function j_(t,e){var r=Ds(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function B2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vs=t,ps=vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vs=t,ps=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=EA!==null?{id:Aa,overflow:la}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ds(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,vs=t,ps=null,!0):!1;default:return!1}}function dv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hv(t){if(fr){var e=ps;if(e){var r=e;if(!B2(t,e)){if(dv(t))throw Error(Ge(418));e=vo(r.nextSibling);var n=vs;e&&B2(t,e)?j_(n,r):(t.flags=t.flags&-4097|2,fr=!1,vs=t)}}else{if(dv(t))throw Error(Ge(418));t.flags=t.flags&-4097|2,fr=!1,vs=t}}}function C2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vs=t}function sf(t){if(t!==vs)return!1;if(!fr)return C2(t),fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Av(t.type,t.memoizedProps)),e&&(e=ps)){if(dv(t))throw F_(),Error(Ge(418));for(;e;)j_(t,e),e=vo(e.nextSibling)}if(C2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ps=vo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ps=null}}else ps=vs?vo(t.stateNode.nextSibling):null;return!0}function F_(){for(var t=ps;t;)t=vo(t.nextSibling)}function oc(){ps=vs=null,fr=!1}function dy(t){oi===null?oi=[t]:oi.push(t)}var LE=xa.ReactCurrentBatchConfig;function cu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ge(309));var n=r.stateNode}if(!n)throw Error(Ge(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var A=s.refs;a===null?delete A[i]:A[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ge(284));if(!r._owner)throw Error(Ge(290,t))}return t}function af(t,e){throw t=Object.prototype.toString.call(e),Error(Ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _2(t){var e=t._init;return e(t._payload)}function E_(t){function e(v,x){if(t){var C=v.deletions;C===null?(v.deletions=[x],v.flags|=16):C.push(x)}}function r(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=Bo(v,x),v.index=0,v.sibling=null,v}function i(v,x,C){return v.index=C,t?(C=v.alternate,C!==null?(C=C.index,C<x?(v.flags|=2,x):C):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function A(v,x,C,_){return x===null||x.tag!==6?(x=jm(C,v.mode,_),x.return=v,x):(x=s(x,C),x.return=v,x)}function l(v,x,C,_){var F=C.type;return F===Pl?u(v,x,C.props.children,_,C.key):x!==null&&(x.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ga&&_2(F)===x.type)?(_=s(x,C.props),_.ref=cu(v,x,C),_.return=v,_):(_=gg(C.type,C.key,C.props,null,v.mode,_),_.ref=cu(v,x,C),_.return=v,_)}function c(v,x,C,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=Fm(C,v.mode,_),x.return=v,x):(x=s(x,C.children||[]),x.return=v,x)}function u(v,x,C,_,F){return x===null||x.tag!==7?(x=yA(C,v.mode,_,F),x.return=v,x):(x=s(x,C),x.return=v,x)}function d(v,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return x=jm(""+x,v.mode,C),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gh:return C=gg(x.type,x.key,x.props,null,v.mode,C),C.ref=cu(v,null,x),C.return=v,C;case Il:return x=Fm(x,v.mode,C),x.return=v,x;case Ga:var _=x._init;return d(v,_(x._payload),C)}if(Nu(x)||iu(x))return x=yA(x,v.mode,C,null),x.return=v,x;af(v,x)}return null}function f(v,x,C,_){var F=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return F!==null?null:A(v,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Gh:return C.key===F?l(v,x,C,_):null;case Il:return C.key===F?c(v,x,C,_):null;case Ga:return F=C._init,f(v,x,F(C._payload),_)}if(Nu(C)||iu(C))return F!==null?null:u(v,x,C,_,null);af(v,C)}return null}function g(v,x,C,_,F){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(C)||null,A(x,v,""+_,F);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gh:return v=v.get(_.key===null?C:_.key)||null,l(x,v,_,F);case Il:return v=v.get(_.key===null?C:_.key)||null,c(x,v,_,F);case Ga:var P=_._init;return g(v,x,C,P(_._payload),F)}if(Nu(_)||iu(_))return v=v.get(C)||null,u(x,v,_,F,null);af(x,_)}return null}function m(v,x,C,_){for(var F=null,P=null,E=x,j=x=0,R=null;E!==null&&j<C.length;j++){E.index>j?(R=E,E=null):R=E.sibling;var Z=f(v,E,C[j],_);if(Z===null){E===null&&(E=R);break}t&&E&&Z.alternate===null&&e(v,E),x=i(Z,x,j),P===null?F=Z:P.sibling=Z,P=Z,E=R}if(j===C.length)return r(v,E),fr&&nA(v,j),F;if(E===null){for(;j<C.length;j++)E=d(v,C[j],_),E!==null&&(x=i(E,x,j),P===null?F=E:P.sibling=E,P=E);return fr&&nA(v,j),F}for(E=n(v,E);j<C.length;j++)R=g(E,v,j,C[j],_),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?j:R.key),x=i(R,x,j),P===null?F=R:P.sibling=R,P=R);return t&&E.forEach(function(Q){return e(v,Q)}),fr&&nA(v,j),F}function w(v,x,C,_){var F=iu(C);if(typeof F!="function")throw Error(Ge(150));if(C=F.call(C),C==null)throw Error(Ge(151));for(var P=F=null,E=x,j=x=0,R=null,Z=C.next();E!==null&&!Z.done;j++,Z=C.next()){E.index>j?(R=E,E=null):R=E.sibling;var Q=f(v,E,Z.value,_);if(Q===null){E===null&&(E=R);break}t&&E&&Q.alternate===null&&e(v,E),x=i(Q,x,j),P===null?F=Q:P.sibling=Q,P=Q,E=R}if(Z.done)return r(v,E),fr&&nA(v,j),F;if(E===null){for(;!Z.done;j++,Z=C.next())Z=d(v,Z.value,_),Z!==null&&(x=i(Z,x,j),P===null?F=Z:P.sibling=Z,P=Z);return fr&&nA(v,j),F}for(E=n(v,E);!Z.done;j++,Z=C.next())Z=g(E,v,j,Z.value,_),Z!==null&&(t&&Z.alternate!==null&&E.delete(Z.key===null?j:Z.key),x=i(Z,x,j),P===null?F=Z:P.sibling=Z,P=Z);return t&&E.forEach(function(I){return e(v,I)}),fr&&nA(v,j),F}function b(v,x,C,_){if(typeof C=="object"&&C!==null&&C.type===Pl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Gh:e:{for(var F=C.key,P=x;P!==null;){if(P.key===F){if(F=C.type,F===Pl){if(P.tag===7){r(v,P.sibling),x=s(P,C.props.children),x.return=v,v=x;break e}}else if(P.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ga&&_2(F)===P.type){r(v,P.sibling),x=s(P,C.props),x.ref=cu(v,P,C),x.return=v,v=x;break e}r(v,P);break}else e(v,P);P=P.sibling}C.type===Pl?(x=yA(C.props.children,v.mode,_,C.key),x.return=v,v=x):(_=gg(C.type,C.key,C.props,null,v.mode,_),_.ref=cu(v,x,C),_.return=v,v=_)}return a(v);case Il:e:{for(P=C.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){r(v,x.sibling),x=s(x,C.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else e(v,x);x=x.sibling}x=Fm(C,v.mode,_),x.return=v,v=x}return a(v);case Ga:return P=C._init,b(v,x,P(C._payload),_)}if(Nu(C))return m(v,x,C,_);if(iu(C))return w(v,x,C,_);af(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,x!==null&&x.tag===6?(r(v,x.sibling),x=s(x,C),x.return=v,v=x):(r(v,x),x=jm(C,v.mode,_),x.return=v,v=x),a(v)):r(v,x)}return b}var Ac=E_(!0),U_=E_(!1),Mg=Po(null),Hg=null,Vl=null,hy=null;function fy(){hy=Vl=Hg=null}function gy(t){var e=Mg.current;dr(Mg),t._currentValue=e}function fv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xl(t,e){Hg=t,hy=Vl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zn=!0),t.firstContext=null)}function Ks(t){var e=t._currentValue;if(hy!==t)if(t={context:t,memoizedValue:e,next:null},Vl===null){if(Hg===null)throw Error(Ge(308));Vl=t,Hg.dependencies={lanes:0,firstContext:t}}else Vl=Vl.next=t;return e}var hA=null;function py(t){hA===null?hA=[t]:hA.push(t)}function k_(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,py(e)):(r.next=s.next,s.next=r),e.interleaved=r,fa(t,n)}function fa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var qa=!1;function my(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,fa(t,r)}return s=n.interleaved,s===null?(e.next=e,py(n)):(e.next=s.next,s.next=e),n.interleaved=e,fa(t,r)}function lg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ry(t,r)}}function N2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Rg(t,e,r,n){var s=t.updateQueue;qa=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,A=s.shared.pending;if(A!==null){s.shared.pending=null;var l=A,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,A=u.lastBaseUpdate,A!==a&&(A===null?u.firstBaseUpdate=c:A.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,u=c=l=null,A=i;do{var f=A.lane,g=A.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var m=t,w=A;switch(f=e,g=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(g,d,f):m,f==null)break e;d=xr({},d,f);break e;case 2:qa=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[A]:f.push(A))}else g={eventTime:g,lane:f,tag:A.tag,payload:A.payload,callback:A.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,a|=f;if(A=A.next,A===null){if(A=s.shared.pending,A===null)break;f=A,A=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);kA|=a,t.lanes=a,t.memoizedState=d}}function S2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ge(191,s));s.call(n)}}}var Jd={},Ii=Po(Jd),Cd=Po(Jd),_d=Po(Jd);function fA(t){if(t===Jd)throw Error(Ge(174));return t}function xy(t,e){switch(Ar(_d,e),Ar(Cd,t),Ar(Ii,Jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gx(e,t)}dr(Ii),Ar(Ii,e)}function lc(){dr(Ii),dr(Cd),dr(_d)}function Q_(t){fA(_d.current);var e=fA(Ii.current),r=Gx(e,t.type);e!==r&&(Ar(Cd,t),Ar(Ii,r))}function vy(t){Cd.current===t&&(dr(Ii),dr(Cd))}var pr=Po(0);function Kg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bm=[];function wy(){for(var t=0;t<bm.length;t++)bm[t]._workInProgressVersionPrimary=null;bm.length=0}var cg=xa.ReactCurrentDispatcher,Bm=xa.ReactCurrentBatchConfig,UA=0,mr=null,$r=null,nn=null,Vg=!1,zu=!1,Nd=0,QE=0;function pn(){throw Error(Ge(321))}function yy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!di(t[r],e[r]))return!1;return!0}function by(t,e,r,n,s,i){if(UA=i,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cg.current=t===null||t.memoizedState===null?DE:OE,t=r(n,s),zu){i=0;do{if(zu=!1,Nd=0,25<=i)throw Error(Ge(301));i+=1,nn=$r=null,e.updateQueue=null,cg.current=ME,t=r(n,s)}while(zu)}if(cg.current=zg,e=$r!==null&&$r.next!==null,UA=0,nn=$r=mr=null,Vg=!1,e)throw Error(Ge(300));return t}function By(){var t=Nd!==0;return Nd=0,t}function ji(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?mr.memoizedState=nn=t:nn=nn.next=t,nn}function Vs(){if($r===null){var t=mr.alternate;t=t!==null?t.memoizedState:null}else t=$r.next;var e=nn===null?mr.memoizedState:nn.next;if(e!==null)nn=e,$r=t;else{if(t===null)throw Error(Ge(310));$r=t,t={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},nn===null?mr.memoizedState=nn=t:nn=nn.next=t}return nn}function Sd(t,e){return typeof e=="function"?e(t):e}function Cm(t){var e=Vs(),r=e.queue;if(r===null)throw Error(Ge(311));r.lastRenderedReducer=t;var n=$r,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var A=a=null,l=null,c=i;do{var u=c.lane;if((UA&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(A=l=d,a=n):l=l.next=d,mr.lanes|=u,kA|=u}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=A,di(n,e.memoizedState)||(Zn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,mr.lanes|=i,kA|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _m(t){var e=Vs(),r=e.queue;if(r===null)throw Error(Ge(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);di(i,e.memoizedState)||(Zn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function I_(){}function P_(t,e){var r=mr,n=Vs(),s=e(),i=!di(n.memoizedState,s);if(i&&(n.memoizedState=s,Zn=!0),n=n.queue,Cy(O_.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||nn!==null&&nn.memoizedState.tag&1){if(r.flags|=2048,jd(9,D_.bind(null,r,n,s,e),void 0,null),sn===null)throw Error(Ge(349));UA&30||T_(r,e,s)}return s}function T_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function D_(t,e,r,n){e.value=r,e.getSnapshot=n,M_(e)&&H_(t)}function O_(t,e,r){return r(function(){M_(e)&&H_(t)})}function M_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!di(t,r)}catch{return!0}}function H_(t){var e=fa(t,1);e!==null&&ci(e,t,1,-1)}function j2(t){var e=ji();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sd,lastRenderedState:t},e.queue=t,t=t.dispatch=TE.bind(null,mr,t),[e.memoizedState,t]}function jd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function R_(){return Vs().memoizedState}function ug(t,e,r,n){var s=ji();mr.flags|=t,s.memoizedState=jd(1|e,r,void 0,n===void 0?null:n)}function k0(t,e,r,n){var s=Vs();n=n===void 0?null:n;var i=void 0;if($r!==null){var a=$r.memoizedState;if(i=a.destroy,n!==null&&yy(n,a.deps)){s.memoizedState=jd(e,r,i,n);return}}mr.flags|=t,s.memoizedState=jd(1|e,r,i,n)}function F2(t,e){return ug(8390656,8,t,e)}function Cy(t,e){return k0(2048,8,t,e)}function K_(t,e){return k0(4,2,t,e)}function V_(t,e){return k0(4,4,t,e)}function z_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $_(t,e,r){return r=r!=null?r.concat([t]):null,k0(4,4,z_.bind(null,e,t),r)}function _y(){}function W_(t,e){var r=Vs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function G_(t,e){var r=Vs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function q_(t,e,r){return UA&21?(di(r,e)||(r=e_(),mr.lanes|=r,kA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zn=!0),t.memoizedState=r)}function IE(t,e){var r=Xt;Xt=r!==0&&4>r?r:4,t(!0);var n=Bm.transition;Bm.transition={};try{t(!1),e()}finally{Xt=r,Bm.transition=n}}function J_(){return Vs().memoizedState}function PE(t,e,r){var n=bo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Y_(t))X_(e,r);else if(r=k_(t,e,r,n),r!==null){var s=Dn();ci(r,t,n,s),Z_(r,e,n)}}function TE(t,e,r){var n=bo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Y_(t))X_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,A=i(a,r);if(s.hasEagerState=!0,s.eagerState=A,di(A,a)){var l=e.interleaved;l===null?(s.next=s,py(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=k_(t,e,s,n),r!==null&&(s=Dn(),ci(r,t,n,s),Z_(r,e,n))}}function Y_(t){var e=t.alternate;return t===mr||e!==null&&e===mr}function X_(t,e){zu=Vg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Z_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ry(t,r)}}var zg={readContext:Ks,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},DE={readContext:Ks,useCallback:function(t,e){return ji().memoizedState=[t,e===void 0?null:e],t},useContext:Ks,useEffect:F2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ug(4194308,4,z_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ug(4194308,4,t,e)},useInsertionEffect:function(t,e){return ug(4,2,t,e)},useMemo:function(t,e){var r=ji();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ji();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=PE.bind(null,mr,t),[n.memoizedState,t]},useRef:function(t){var e=ji();return t={current:t},e.memoizedState=t},useState:j2,useDebugValue:_y,useDeferredValue:function(t){return ji().memoizedState=t},useTransition:function(){var t=j2(!1),e=t[0];return t=IE.bind(null,t[1]),ji().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mr,s=ji();if(fr){if(r===void 0)throw Error(Ge(407));r=r()}else{if(r=e(),sn===null)throw Error(Ge(349));UA&30||T_(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,F2(O_.bind(null,n,i,t),[t]),n.flags|=2048,jd(9,D_.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ji(),e=sn.identifierPrefix;if(fr){var r=la,n=Aa;r=(n&~(1<<32-li(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Nd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=QE++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OE={readContext:Ks,useCallback:W_,useContext:Ks,useEffect:Cy,useImperativeHandle:$_,useInsertionEffect:K_,useLayoutEffect:V_,useMemo:G_,useReducer:Cm,useRef:R_,useState:function(){return Cm(Sd)},useDebugValue:_y,useDeferredValue:function(t){var e=Vs();return q_(e,$r.memoizedState,t)},useTransition:function(){var t=Cm(Sd)[0],e=Vs().memoizedState;return[t,e]},useMutableSource:I_,useSyncExternalStore:P_,useId:J_,unstable_isNewReconciler:!1},ME={readContext:Ks,useCallback:W_,useContext:Ks,useEffect:Cy,useImperativeHandle:$_,useInsertionEffect:K_,useLayoutEffect:V_,useMemo:G_,useReducer:_m,useRef:R_,useState:function(){return _m(Sd)},useDebugValue:_y,useDeferredValue:function(t){var e=Vs();return $r===null?e.memoizedState=t:q_(e,$r.memoizedState,t)},useTransition:function(){var t=_m(Sd)[0],e=Vs().memoizedState;return[t,e]},useMutableSource:I_,useSyncExternalStore:P_,useId:J_,unstable_isNewReconciler:!1};function ni(t,e){if(t&&t.defaultProps){e=xr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function gv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var L0={isMounted:function(t){return(t=t._reactInternals)?PA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Dn(),s=bo(t),i=ca(n,s);i.payload=e,r!=null&&(i.callback=r),e=wo(t,i,s),e!==null&&(ci(e,t,s,n),lg(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Dn(),s=bo(t),i=ca(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=wo(t,i,s),e!==null&&(ci(e,t,s,n),lg(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Dn(),n=bo(t),s=ca(r,n);s.tag=2,e!=null&&(s.callback=e),e=wo(t,s,n),e!==null&&(ci(e,t,n,r),lg(e,t,n))}};function E2(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!wd(r,n)||!wd(s,i):!0}function eN(t,e,r){var n=!1,s=Eo,i=e.contextType;return typeof i=="object"&&i!==null?i=Ks(i):(s=rs(e)?FA:jn.current,n=e.contextTypes,i=(n=n!=null)?ac(t,s):Eo),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=L0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function U2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&L0.enqueueReplaceState(e,e.state,null)}function pv(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},my(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ks(i):(i=rs(e)?FA:jn.current,s.context=ac(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gv(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&L0.enqueueReplaceState(s,s.state,null),Rg(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function cc(t,e){try{var r="",n=e;do r+=f3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Nm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var HE=typeof WeakMap=="function"?WeakMap:Map;function tN(t,e,r){r=ca(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Wg||(Wg=!0,Sv=n),mv(t,e)},r}function rN(t,e,r){r=ca(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){mv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){mv(t,e),typeof n!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function k2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new HE;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=tU.bind(null,t,e,r),e.then(t,t))}function L2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q2(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ca(-1,1),e.tag=2,wo(r,e,1))),r.lanes|=1),t)}var RE=xa.ReactCurrentOwner,Zn=!1;function Tn(t,e,r,n){e.child=t===null?U_(e,null,r,n):Ac(e,t.child,r,n)}function I2(t,e,r,n,s){r=r.render;var i=e.ref;return Xl(e,s),n=by(t,e,r,n,i,s),r=By(),t!==null&&!Zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ga(t,e,s)):(fr&&r&&cy(e),e.flags|=1,Tn(t,e,n,s),e.child)}function P2(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Ly(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,nN(t,e,i,n,s)):(t=gg(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:wd,r(a,n)&&t.ref===e.ref)return ga(t,e,s)}return e.flags|=1,t=Bo(i,n),t.ref=e.ref,t.return=e,e.child=t}function nN(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(wd(i,n)&&t.ref===e.ref)if(Zn=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Zn=!0);else return e.lanes=t.lanes,ga(t,e,s)}return xv(t,e,r,n,s)}function sN(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar($l,gs),gs|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ar($l,gs),gs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ar($l,gs),gs|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ar($l,gs),gs|=n;return Tn(t,e,s,r),e.child}function iN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xv(t,e,r,n,s){var i=rs(r)?FA:jn.current;return i=ac(e,i),Xl(e,s),r=by(t,e,r,n,i,s),n=By(),t!==null&&!Zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ga(t,e,s)):(fr&&n&&cy(e),e.flags|=1,Tn(t,e,r,s),e.child)}function T2(t,e,r,n,s){if(rs(r)){var i=!0;Tg(e)}else i=!1;if(Xl(e,s),e.stateNode===null)dg(t,e),eN(e,r,n),pv(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,A=e.memoizedProps;a.props=A;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ks(c):(c=rs(r)?FA:jn.current,c=ac(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==n||l!==c)&&U2(e,a,n,c),qa=!1;var f=e.memoizedState;a.state=f,Rg(e,n,a,s),l=e.memoizedState,A!==n||f!==l||ts.current||qa?(typeof u=="function"&&(gv(e,r,u,n),l=e.memoizedState),(A=qa||E2(e,r,A,n,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=A):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,L_(t,e),A=e.memoizedProps,c=e.type===e.elementType?A:ni(e.type,A),a.props=c,d=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ks(l):(l=rs(r)?FA:jn.current,l=ac(e,l));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==d||f!==l)&&U2(e,a,n,l),qa=!1,f=e.memoizedState,a.state=f,Rg(e,n,a,s);var m=e.memoizedState;A!==d||f!==m||ts.current||qa?(typeof g=="function"&&(gv(e,r,g,n),m=e.memoizedState),(c=qa||E2(e,r,c,n,f,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return vv(t,e,r,n,i,s)}function vv(t,e,r,n,s,i){iN(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&b2(e,r,!1),ga(t,e,i);n=e.stateNode,RE.current=e;var A=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ac(e,t.child,null,i),e.child=Ac(e,null,A,i)):Tn(t,e,A,i),e.memoizedState=n.state,s&&b2(e,r,!0),e.child}function aN(t){var e=t.stateNode;e.pendingContext?y2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&y2(t,e.context,!1),xy(t,e.containerInfo)}function D2(t,e,r,n,s){return oc(),dy(s),e.flags|=256,Tn(t,e,r,n),e.child}var wv={dehydrated:null,treeContext:null,retryLane:0};function yv(t){return{baseLanes:t,cachePool:null,transitions:null}}function oN(t,e,r){var n=e.pendingProps,s=pr.current,i=!1,a=(e.flags&128)!==0,A;if((A=a)||(A=t!==null&&t.memoizedState===null?!1:(s&2)!==0),A?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ar(pr,s&1),t===null)return hv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=P0(a,n,0,null),t=yA(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yv(r),e.memoizedState=wv,t):Ny(e,a));if(s=t.memoizedState,s!==null&&(A=s.dehydrated,A!==null))return KE(t,e,a,n,A,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,A=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Bo(s,l),n.subtreeFlags=s.subtreeFlags&14680064),A!==null?i=Bo(A,i):(i=yA(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?yv(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=wv,n}return i=t.child,t=i.sibling,n=Bo(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ny(t,e){return e=P0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function of(t,e,r,n){return n!==null&&dy(n),Ac(e,t.child,null,r),t=Ny(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KE(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=Nm(Error(Ge(422))),of(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=P0({mode:"visible",children:n.children},s,0,null),i=yA(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ac(e,t.child,null,a),e.child.memoizedState=yv(a),e.memoizedState=wv,i);if(!(e.mode&1))return of(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var A=n.dgst;return n=A,i=Error(Ge(419)),n=Nm(i,n,void 0),of(t,e,a,n)}if(A=(a&t.childLanes)!==0,Zn||A){if(n=sn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fa(t,s),ci(n,t,s,-1))}return ky(),n=Nm(Error(Ge(421))),of(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rU.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ps=vo(s.nextSibling),vs=e,fr=!0,oi=null,t!==null&&(Is[Ps++]=Aa,Is[Ps++]=la,Is[Ps++]=EA,Aa=t.id,la=t.overflow,EA=e),e=Ny(e,n.children),e.flags|=4096,e)}function O2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fv(t.return,e,r)}function Sm(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function AN(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Tn(t,e,n.children,r),n=pr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O2(t,r,e);else if(t.tag===19)O2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ar(pr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Kg(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Sm(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Kg(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Sm(e,!0,r,null,i);break;case"together":Sm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ga(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),kA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ge(153));if(e.child!==null){for(t=e.child,r=Bo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Bo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function VE(t,e,r){switch(e.tag){case 3:aN(e),oc();break;case 5:Q_(e);break;case 1:rs(e.type)&&Tg(e);break;case 4:xy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ar(Mg,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ar(pr,pr.current&1),e.flags|=128,null):r&e.child.childLanes?oN(t,e,r):(Ar(pr,pr.current&1),t=ga(t,e,r),t!==null?t.sibling:null);Ar(pr,pr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return AN(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ar(pr,pr.current),n)break;return null;case 22:case 23:return e.lanes=0,sN(t,e,r)}return ga(t,e,r)}var lN,bv,cN,uN;lN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bv=function(){};cN=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,fA(Ii.current);var i=null;switch(r){case"input":s=Vx(t,s),n=Vx(t,n),i=[];break;case"select":s=xr({},s,{value:void 0}),n=xr({},n,{value:void 0}),i=[];break;case"textarea":s=Wx(t,s),n=Wx(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ig)}qx(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var A=s[c];for(a in A)A.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(A=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==A&&(l!=null||A!=null))if(c==="style")if(A){for(a in A)!A.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&A[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,A=A?A.__html:void 0,l!=null&&A!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&lr("scroll",t),i||A===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};uN=function(t,e,r,n){r!==n&&(e.flags|=4)};function uu(t,e){if(!fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function zE(t,e,r){var n=e.pendingProps;switch(uy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return rs(e.type)&&Pg(),mn(e),null;case 3:return n=e.stateNode,lc(),dr(ts),dr(jn),wy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(sf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oi!==null&&(Ev(oi),oi=null))),bv(t,e),mn(e),null;case 5:vy(e);var s=fA(_d.current);if(r=e.type,t!==null&&e.stateNode!=null)cN(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ge(166));return mn(e),null}if(t=fA(Ii.current),sf(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ki]=e,n[Bd]=i,t=(e.mode&1)!==0,r){case"dialog":lr("cancel",n),lr("close",n);break;case"iframe":case"object":case"embed":lr("load",n);break;case"video":case"audio":for(s=0;s<ju.length;s++)lr(ju[s],n);break;case"source":lr("error",n);break;case"img":case"image":case"link":lr("error",n),lr("load",n);break;case"details":lr("toggle",n);break;case"input":G1(n,i),lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},lr("invalid",n);break;case"textarea":J1(n,i),lr("invalid",n)}qx(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var A=i[a];a==="children"?typeof A=="string"?n.textContent!==A&&(i.suppressHydrationWarning!==!0&&nf(n.textContent,A,t),s=["children",A]):typeof A=="number"&&n.textContent!==""+A&&(i.suppressHydrationWarning!==!0&&nf(n.textContent,A,t),s=["children",""+A]):hd.hasOwnProperty(a)&&A!=null&&a==="onScroll"&&lr("scroll",n)}switch(r){case"input":qh(n),q1(n,i,!0);break;case"textarea":qh(n),Y1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ig)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ki]=e,t[Bd]=n,lN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jx(r,n),r){case"dialog":lr("cancel",t),lr("close",t),s=n;break;case"iframe":case"object":case"embed":lr("load",t),s=n;break;case"video":case"audio":for(s=0;s<ju.length;s++)lr(ju[s],t);s=n;break;case"source":lr("error",t),s=n;break;case"img":case"image":case"link":lr("error",t),lr("load",t),s=n;break;case"details":lr("toggle",t),s=n;break;case"input":G1(t,n),s=Vx(t,n),lr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=xr({},n,{value:void 0}),lr("invalid",t);break;case"textarea":J1(t,n),s=Wx(t,n),lr("invalid",t);break;default:s=n}qx(r,s),A=s;for(i in A)if(A.hasOwnProperty(i)){var l=A[i];i==="style"?RC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MC(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&fd(t,l):typeof l=="number"&&fd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&lr("scroll",t):l!=null&&Jw(t,i,l,a))}switch(r){case"input":qh(t),q1(t,n,!1);break;case"textarea":qh(t),Y1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Fo(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Gl(t,!!n.multiple,i,!1):n.defaultValue!=null&&Gl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ig)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(t&&e.stateNode!=null)uN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ge(166));if(r=fA(_d.current),fA(Ii.current),sf(e)){if(n=e.stateNode,r=e.memoizedProps,n[ki]=e,(i=n.nodeValue!==r)&&(t=vs,t!==null))switch(t.tag){case 3:nf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nf(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ki]=e,e.stateNode=n}return mn(e),null;case 13:if(dr(pr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fr&&ps!==null&&e.mode&1&&!(e.flags&128))F_(),oc(),e.flags|=98560,i=!1;else if(i=sf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Ge(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ge(317));i[ki]=e}else oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),i=!1}else oi!==null&&(Ev(oi),oi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pr.current&1?Jr===0&&(Jr=3):ky())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return lc(),bv(t,e),t===null&&yd(e.stateNode.containerInfo),mn(e),null;case 10:return gy(e.type._context),mn(e),null;case 17:return rs(e.type)&&Pg(),mn(e),null;case 19:if(dr(pr),i=e.memoizedState,i===null)return mn(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)uu(i,!1);else{if(Jr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Kg(t),a!==null){for(e.flags|=128,uu(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ar(pr,pr.current&1|2),e.child}t=t.sibling}i.tail!==null&&Er()>uc&&(e.flags|=128,n=!0,uu(i,!1),e.lanes=4194304)}else{if(!n)if(t=Kg(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),uu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!fr)return mn(e),null}else 2*Er()-i.renderingStartTime>uc&&r!==1073741824&&(e.flags|=128,n=!0,uu(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Er(),e.sibling=null,r=pr.current,Ar(pr,n?r&1|2:r&1),e):(mn(e),null);case 22:case 23:return Uy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gs&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function $E(t,e){switch(uy(e),e.tag){case 1:return rs(e.type)&&Pg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lc(),dr(ts),dr(jn),wy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vy(e),null;case 13:if(dr(pr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dr(pr),null;case 4:return lc(),null;case 10:return gy(e.type._context),null;case 22:case 23:return Uy(),null;case 24:return null;default:return null}}var Af=!1,_n=!1,WE=typeof WeakSet=="function"?WeakSet:Set,lt=null;function zl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Br(t,e,n)}else r.current=null}function Bv(t,e,r){try{r()}catch(n){Br(t,e,n)}}var M2=!1;function GE(t,e){if(av=kg,t=p_(),ly(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,A=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(A=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++c===s&&(A=a),f===i&&++u===n&&(l=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=A===-1||l===-1?null:{start:A,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ov={focusedElem:t,selectionRange:r},kg=!1,lt=e;lt!==null;)if(e=lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,lt=t;else for(;lt!==null;){e=lt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,b=m.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:ni(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(_){Br(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}return m=M2,M2=!1,m}function $u(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bv(e,r,i)}s=s.next}while(s!==n)}}function Q0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Cv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function dN(t){var e=t.alternate;e!==null&&(t.alternate=null,dN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ki],delete e[Bd],delete e[cv],delete e[EE],delete e[UE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hN(t){return t.tag===5||t.tag===3||t.tag===4}function H2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _v(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ig));else if(n!==4&&(t=t.child,t!==null))for(_v(t,e,r),t=t.sibling;t!==null;)_v(t,e,r),t=t.sibling}function Nv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Nv(t,e,r),t=t.sibling;t!==null;)Nv(t,e,r),t=t.sibling}var An=null,ii=!1;function Da(t,e,r){for(r=r.child;r!==null;)fN(t,e,r),r=r.sibling}function fN(t,e,r){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(N0,r)}catch{}switch(r.tag){case 5:_n||zl(r,e);case 6:var n=An,s=ii;An=null,Da(t,e,r),An=n,ii=s,An!==null&&(ii?(t=An,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):An.removeChild(r.stateNode));break;case 18:An!==null&&(ii?(t=An,r=r.stateNode,t.nodeType===8?wm(t.parentNode,r):t.nodeType===1&&wm(t,r),xd(t)):wm(An,r.stateNode));break;case 4:n=An,s=ii,An=r.stateNode.containerInfo,ii=!0,Da(t,e,r),An=n,ii=s;break;case 0:case 11:case 14:case 15:if(!_n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Bv(r,e,a),s=s.next}while(s!==n)}Da(t,e,r);break;case 1:if(!_n&&(zl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(A){Br(r,e,A)}Da(t,e,r);break;case 21:Da(t,e,r);break;case 22:r.mode&1?(_n=(n=_n)||r.memoizedState!==null,Da(t,e,r),_n=n):Da(t,e,r);break;default:Da(t,e,r)}}function R2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new WE),e.forEach(function(n){var s=nU.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,A=a;e:for(;A!==null;){switch(A.tag){case 5:An=A.stateNode,ii=!1;break e;case 3:An=A.stateNode.containerInfo,ii=!0;break e;case 4:An=A.stateNode.containerInfo,ii=!0;break e}A=A.return}if(An===null)throw Error(Ge(160));fN(i,a,s),An=null,ii=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Br(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gN(e,t),e=e.sibling}function gN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xs(e,t),bi(t),n&4){try{$u(3,t,t.return),Q0(3,t)}catch(w){Br(t,t.return,w)}try{$u(5,t,t.return)}catch(w){Br(t,t.return,w)}}break;case 1:Xs(e,t),bi(t),n&512&&r!==null&&zl(r,r.return);break;case 5:if(Xs(e,t),bi(t),n&512&&r!==null&&zl(r,r.return),t.flags&32){var s=t.stateNode;try{fd(s,"")}catch(w){Br(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,A=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{A==="input"&&i.type==="radio"&&i.name!=null&&TC(s,i),Jx(A,a);var c=Jx(A,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?RC(s,d):u==="dangerouslySetInnerHTML"?MC(s,d):u==="children"?fd(s,d):Jw(s,u,d,c)}switch(A){case"input":zx(s,i);break;case"textarea":DC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Gl(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Gl(s,!!i.multiple,i.defaultValue,!0):Gl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bd]=i}catch(w){Br(t,t.return,w)}}break;case 6:if(Xs(e,t),bi(t),n&4){if(t.stateNode===null)throw Error(Ge(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Br(t,t.return,w)}}break;case 3:if(Xs(e,t),bi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xd(e.containerInfo)}catch(w){Br(t,t.return,w)}break;case 4:Xs(e,t),bi(t);break;case 13:Xs(e,t),bi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fy=Er())),n&4&&R2(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(_n=(c=_n)||u,Xs(e,t),_n=c):Xs(e,t),bi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(lt=t,u=t.child;u!==null;){for(d=lt=u;lt!==null;){switch(f=lt,g=f.child,f.tag){case 0:case 11:case 14:case 15:$u(4,f,f.return);break;case 1:zl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){Br(n,r,w)}}break;case 5:zl(f,f.return);break;case 22:if(f.memoizedState!==null){V2(d);continue}}g!==null?(g.return=f,lt=g):V2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(A=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,A.style.display=HC("display",a))}catch(w){Br(t,t.return,w)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){Br(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xs(e,t),bi(t),n&4&&R2(t);break;case 21:break;default:Xs(e,t),bi(t)}}function bi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hN(r)){var n=r;break e}r=r.return}throw Error(Ge(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fd(s,""),n.flags&=-33);var i=H2(t);Nv(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,A=H2(t);_v(t,A,a);break;default:throw Error(Ge(161))}}catch(l){Br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qE(t,e,r){lt=t,pN(t)}function pN(t,e,r){for(var n=(t.mode&1)!==0;lt!==null;){var s=lt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Af;if(!a){var A=s.alternate,l=A!==null&&A.memoizedState!==null||_n;A=Af;var c=_n;if(Af=a,(_n=l)&&!c)for(lt=s;lt!==null;)a=lt,l=a.child,a.tag===22&&a.memoizedState!==null?z2(s):l!==null?(l.return=a,lt=l):z2(s);for(;i!==null;)lt=i,pN(i),i=i.sibling;lt=s,Af=A,_n=c}K2(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,lt=i):K2(t)}}function K2(t){for(;lt!==null;){var e=lt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_n||Q0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_n)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ni(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&S2(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}S2(e,a,r)}break;case 5:var A=e.stateNode;if(r===null&&e.flags&4){r=A;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&xd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}_n||e.flags&512&&Cv(e)}catch(f){Br(e,e.return,f)}}if(e===t){lt=null;break}if(r=e.sibling,r!==null){r.return=e.return,lt=r;break}lt=e.return}}function V2(t){for(;lt!==null;){var e=lt;if(e===t){lt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,lt=r;break}lt=e.return}}function z2(t){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Q0(4,e)}catch(l){Br(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Br(e,s,l)}}var i=e.return;try{Cv(e)}catch(l){Br(e,i,l)}break;case 5:var a=e.return;try{Cv(e)}catch(l){Br(e,a,l)}}}catch(l){Br(e,e.return,l)}if(e===t){lt=null;break}var A=e.sibling;if(A!==null){A.return=e.return,lt=A;break}lt=e.return}}var JE=Math.ceil,$g=xa.ReactCurrentDispatcher,Sy=xa.ReactCurrentOwner,Hs=xa.ReactCurrentBatchConfig,Rt=0,sn=null,Rr=null,un=0,gs=0,$l=Po(0),Jr=0,Fd=null,kA=0,I0=0,jy=0,Wu=null,qn=null,Fy=0,uc=1/0,sa=null,Wg=!1,Sv=null,yo=null,lf=!1,ro=null,Gg=0,Gu=0,jv=null,hg=-1,fg=0;function Dn(){return Rt&6?Er():hg!==-1?hg:hg=Er()}function bo(t){return t.mode&1?Rt&2&&un!==0?un&-un:LE.transition!==null?(fg===0&&(fg=e_()),fg):(t=Xt,t!==0||(t=window.event,t=t===void 0?16:o_(t.type)),t):1}function ci(t,e,r,n){if(50<Gu)throw Gu=0,jv=null,Error(Ge(185));Wd(t,r,n),(!(Rt&2)||t!==sn)&&(t===sn&&(!(Rt&2)&&(I0|=r),Jr===4&&Xa(t,un)),ns(t,n),r===1&&Rt===0&&!(e.mode&1)&&(uc=Er()+500,U0&&To()))}function ns(t,e){var r=t.callbackNode;L3(t,e);var n=Ug(t,t===sn?un:0);if(n===0)r!==null&&e2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&e2(r),e===1)t.tag===0?kE($2.bind(null,t)):N_($2.bind(null,t)),jE(function(){!(Rt&6)&&To()}),r=null;else{switch(t_(n)){case 1:r=ty;break;case 4:r=XC;break;case 16:r=Eg;break;case 536870912:r=ZC;break;default:r=Eg}r=CN(r,mN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function mN(t,e){if(hg=-1,fg=0,Rt&6)throw Error(Ge(327));var r=t.callbackNode;if(Zl()&&t.callbackNode!==r)return null;var n=Ug(t,t===sn?un:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qg(t,n);else{e=n;var s=Rt;Rt|=2;var i=vN();(sn!==t||un!==e)&&(sa=null,uc=Er()+500,wA(t,e));do try{ZE();break}catch(A){xN(t,A)}while(!0);fy(),$g.current=i,Rt=s,Rr!==null?e=0:(sn=null,un=0,e=Jr)}if(e!==0){if(e===2&&(s=tv(t),s!==0&&(n=s,e=Fv(t,s))),e===1)throw r=Fd,wA(t,0),Xa(t,n),ns(t,Er()),r;if(e===6)Xa(t,n);else{if(s=t.current.alternate,!(n&30)&&!YE(s)&&(e=qg(t,n),e===2&&(i=tv(t),i!==0&&(n=i,e=Fv(t,i))),e===1))throw r=Fd,wA(t,0),Xa(t,n),ns(t,Er()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ge(345));case 2:sA(t,qn,sa);break;case 3:if(Xa(t,n),(n&130023424)===n&&(e=Fy+500-Er(),10<e)){if(Ug(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Dn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lv(sA.bind(null,t,qn,sa),e);break}sA(t,qn,sa);break;case 4:if(Xa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-li(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Er()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JE(n/1960))-n,10<n){t.timeoutHandle=lv(sA.bind(null,t,qn,sa),n);break}sA(t,qn,sa);break;case 5:sA(t,qn,sa);break;default:throw Error(Ge(329))}}}return ns(t,Er()),t.callbackNode===r?mN.bind(null,t):null}function Fv(t,e){var r=Wu;return t.current.memoizedState.isDehydrated&&(wA(t,e).flags|=256),t=qg(t,e),t!==2&&(e=qn,qn=r,e!==null&&Ev(e)),t}function Ev(t){qn===null?qn=t:qn.push.apply(qn,t)}function YE(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!di(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xa(t,e){for(e&=~jy,e&=~I0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-li(e),n=1<<r;t[r]=-1,e&=~n}}function $2(t){if(Rt&6)throw Error(Ge(327));Zl();var e=Ug(t,0);if(!(e&1))return ns(t,Er()),null;var r=qg(t,e);if(t.tag!==0&&r===2){var n=tv(t);n!==0&&(e=n,r=Fv(t,n))}if(r===1)throw r=Fd,wA(t,0),Xa(t,e),ns(t,Er()),r;if(r===6)throw Error(Ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sA(t,qn,sa),ns(t,Er()),null}function Ey(t,e){var r=Rt;Rt|=1;try{return t(e)}finally{Rt=r,Rt===0&&(uc=Er()+500,U0&&To())}}function LA(t){ro!==null&&ro.tag===0&&!(Rt&6)&&Zl();var e=Rt;Rt|=1;var r=Hs.transition,n=Xt;try{if(Hs.transition=null,Xt=1,t)return t()}finally{Xt=n,Hs.transition=r,Rt=e,!(Rt&6)&&To()}}function Uy(){gs=$l.current,dr($l)}function wA(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,SE(r)),Rr!==null)for(r=Rr.return;r!==null;){var n=r;switch(uy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pg();break;case 3:lc(),dr(ts),dr(jn),wy();break;case 5:vy(n);break;case 4:lc();break;case 13:dr(pr);break;case 19:dr(pr);break;case 10:gy(n.type._context);break;case 22:case 23:Uy()}r=r.return}if(sn=t,Rr=t=Bo(t.current,null),un=gs=e,Jr=0,Fd=null,jy=I0=kA=0,qn=Wu=null,hA!==null){for(e=0;e<hA.length;e++)if(r=hA[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}hA=null}return t}function xN(t,e){do{var r=Rr;try{if(fy(),cg.current=zg,Vg){for(var n=mr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vg=!1}if(UA=0,nn=$r=mr=null,zu=!1,Nd=0,Sy.current=null,r===null||r.return===null){Jr=1,Fd=e,Rr=null;break}e:{var i=t,a=r.return,A=r,l=e;if(e=un,A.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=A,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=L2(a);if(g!==null){g.flags&=-257,Q2(g,a,A,i,e),g.mode&1&&k2(i,c,e),e=g,l=c;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){k2(i,c,e),ky();break e}l=Error(Ge(426))}}else if(fr&&A.mode&1){var b=L2(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Q2(b,a,A,i,e),dy(cc(l,A));break e}}i=l=cc(l,A),Jr!==4&&(Jr=2),Wu===null?Wu=[i]:Wu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=tN(i,l,e);N2(i,v);break e;case 1:A=l;var x=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(yo===null||!yo.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=rN(i,A,e);N2(i,_);break e}}i=i.return}while(i!==null)}yN(r)}catch(F){e=F,Rr===r&&r!==null&&(Rr=r=r.return);continue}break}while(!0)}function vN(){var t=$g.current;return $g.current=zg,t===null?zg:t}function ky(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),sn===null||!(kA&268435455)&&!(I0&268435455)||Xa(sn,un)}function qg(t,e){var r=Rt;Rt|=2;var n=vN();(sn!==t||un!==e)&&(sa=null,wA(t,e));do try{XE();break}catch(s){xN(t,s)}while(!0);if(fy(),Rt=r,$g.current=n,Rr!==null)throw Error(Ge(261));return sn=null,un=0,Jr}function XE(){for(;Rr!==null;)wN(Rr)}function ZE(){for(;Rr!==null&&!C3();)wN(Rr)}function wN(t){var e=BN(t.alternate,t,gs);t.memoizedProps=t.pendingProps,e===null?yN(t):Rr=e,Sy.current=null}function yN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$E(r,e),r!==null){r.flags&=32767,Rr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jr=6,Rr=null;return}}else if(r=zE(r,e,gs),r!==null){Rr=r;return}if(e=e.sibling,e!==null){Rr=e;return}Rr=e=t}while(e!==null);Jr===0&&(Jr=5)}function sA(t,e,r){var n=Xt,s=Hs.transition;try{Hs.transition=null,Xt=1,eU(t,e,r,n)}finally{Hs.transition=s,Xt=n}return null}function eU(t,e,r,n){do Zl();while(ro!==null);if(Rt&6)throw Error(Ge(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ge(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Q3(t,i),t===sn&&(Rr=sn=null,un=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lf||(lf=!0,CN(Eg,function(){return Zl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Hs.transition,Hs.transition=null;var a=Xt;Xt=1;var A=Rt;Rt|=4,Sy.current=null,GE(t,r),gN(r,t),wE(ov),kg=!!av,ov=av=null,t.current=r,qE(r),_3(),Rt=A,Xt=a,Hs.transition=i}else t.current=r;if(lf&&(lf=!1,ro=t,Gg=s),i=t.pendingLanes,i===0&&(yo=null),j3(r.stateNode),ns(t,Er()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Wg)throw Wg=!1,t=Sv,Sv=null,t;return Gg&1&&t.tag!==0&&Zl(),i=t.pendingLanes,i&1?t===jv?Gu++:(Gu=0,jv=t):Gu=0,To(),null}function Zl(){if(ro!==null){var t=t_(Gg),e=Hs.transition,r=Xt;try{if(Hs.transition=null,Xt=16>t?16:t,ro===null)var n=!1;else{if(t=ro,ro=null,Gg=0,Rt&6)throw Error(Ge(331));var s=Rt;for(Rt|=4,lt=t.current;lt!==null;){var i=lt,a=i.child;if(lt.flags&16){var A=i.deletions;if(A!==null){for(var l=0;l<A.length;l++){var c=A[l];for(lt=c;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:$u(8,u,i)}var d=u.child;if(d!==null)d.return=u,lt=d;else for(;lt!==null;){u=lt;var f=u.sibling,g=u.return;if(dN(u),u===c){lt=null;break}if(f!==null){f.return=g,lt=f;break}lt=g}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}lt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,lt=a;else e:for(;lt!==null;){if(i=lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$u(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,lt=v;break e}lt=i.return}}var x=t.current;for(lt=x;lt!==null;){a=lt;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,lt=C;else e:for(a=x;lt!==null;){if(A=lt,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Q0(9,A)}}catch(F){Br(A,A.return,F)}if(A===a){lt=null;break e}var _=A.sibling;if(_!==null){_.return=A.return,lt=_;break e}lt=A.return}}if(Rt=s,To(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(N0,t)}catch{}n=!0}return n}finally{Xt=r,Hs.transition=e}}return!1}function W2(t,e,r){e=cc(r,e),e=tN(t,e,1),t=wo(t,e,1),e=Dn(),t!==null&&(Wd(t,1,e),ns(t,e))}function Br(t,e,r){if(t.tag===3)W2(t,t,r);else for(;e!==null;){if(e.tag===3){W2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yo===null||!yo.has(n))){t=cc(r,t),t=rN(e,t,1),e=wo(e,t,1),t=Dn(),e!==null&&(Wd(e,1,t),ns(e,t));break}}e=e.return}}function tU(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Dn(),t.pingedLanes|=t.suspendedLanes&r,sn===t&&(un&r)===r&&(Jr===4||Jr===3&&(un&130023424)===un&&500>Er()-Fy?wA(t,0):jy|=r),ns(t,e)}function bN(t,e){e===0&&(t.mode&1?(e=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):e=1);var r=Dn();t=fa(t,e),t!==null&&(Wd(t,e,r),ns(t,r))}function rU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),bN(t,r)}function nU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ge(314))}n!==null&&n.delete(e),bN(t,r)}var BN;BN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ts.current)Zn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Zn=!1,VE(t,e,r);Zn=!!(t.flags&131072)}else Zn=!1,fr&&e.flags&1048576&&S_(e,Og,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;dg(t,e),t=e.pendingProps;var s=ac(e,jn.current);Xl(e,r),s=by(null,e,n,t,s,r);var i=By();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rs(n)?(i=!0,Tg(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,my(e),s.updater=L0,e.stateNode=s,s._reactInternals=e,pv(e,n,t,r),e=vv(null,e,n,!0,i,r)):(e.tag=0,fr&&i&&cy(e),Tn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(dg(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=iU(n),t=ni(n,t),s){case 0:e=xv(null,e,n,t,r);break e;case 1:e=T2(null,e,n,t,r);break e;case 11:e=I2(null,e,n,t,r);break e;case 14:e=P2(null,e,n,ni(n.type,t),r);break e}throw Error(Ge(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ni(n,s),xv(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ni(n,s),T2(t,e,n,s,r);case 3:e:{if(aN(e),t===null)throw Error(Ge(387));n=e.pendingProps,i=e.memoizedState,s=i.element,L_(t,e),Rg(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=cc(Error(Ge(423)),e),e=D2(t,e,n,r,s);break e}else if(n!==s){s=cc(Error(Ge(424)),e),e=D2(t,e,n,r,s);break e}else for(ps=vo(e.stateNode.containerInfo.firstChild),vs=e,fr=!0,oi=null,r=U_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oc(),n===s){e=ga(t,e,r);break e}Tn(t,e,n,r)}e=e.child}return e;case 5:return Q_(e),t===null&&hv(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Av(n,s)?a=null:i!==null&&Av(n,i)&&(e.flags|=32),iN(t,e),Tn(t,e,a,r),e.child;case 6:return t===null&&hv(e),null;case 13:return oN(t,e,r);case 4:return xy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ac(e,null,n,r):Tn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ni(n,s),I2(t,e,n,s,r);case 7:return Tn(t,e,e.pendingProps,r),e.child;case 8:return Tn(t,e,e.pendingProps.children,r),e.child;case 12:return Tn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ar(Mg,n._currentValue),n._currentValue=a,i!==null)if(di(i.value,a)){if(i.children===s.children&&!ts.current){e=ga(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var A=i.dependencies;if(A!==null){a=i.child;for(var l=A.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ca(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),fv(i.return,r,e),A.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ge(341));a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),fv(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Tn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Xl(e,r),s=Ks(s),n=n(s),e.flags|=1,Tn(t,e,n,r),e.child;case 14:return n=e.type,s=ni(n,e.pendingProps),s=ni(n.type,s),P2(t,e,n,s,r);case 15:return nN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ni(n,s),dg(t,e),e.tag=1,rs(n)?(t=!0,Tg(e)):t=!1,Xl(e,r),eN(e,n,s),pv(e,n,s,r),vv(null,e,n,!0,t,r);case 19:return AN(t,e,r);case 22:return sN(t,e,r)}throw Error(Ge(156,e.tag))};function CN(t,e){return YC(t,e)}function sU(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(t,e,r,n){return new sU(t,e,r,n)}function Ly(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iU(t){if(typeof t=="function")return Ly(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xw)return 11;if(t===Zw)return 14}return 2}function Bo(t,e){var r=t.alternate;return r===null?(r=Ds(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function gg(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Ly(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Pl:return yA(r.children,s,i,e);case Yw:a=8,s|=8;break;case Mx:return t=Ds(12,r,e,s|2),t.elementType=Mx,t.lanes=i,t;case Hx:return t=Ds(13,r,e,s),t.elementType=Hx,t.lanes=i,t;case Rx:return t=Ds(19,r,e,s),t.elementType=Rx,t.lanes=i,t;case QC:return P0(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kC:a=10;break e;case LC:a=9;break e;case Xw:a=11;break e;case Zw:a=14;break e;case Ga:a=16,n=null;break e}throw Error(Ge(130,t==null?t:typeof t,""))}return e=Ds(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function yA(t,e,r,n){return t=Ds(7,t,n,e),t.lanes=r,t}function P0(t,e,r,n){return t=Ds(22,t,n,e),t.elementType=QC,t.lanes=r,t.stateNode={isHidden:!1},t}function jm(t,e,r){return t=Ds(6,t,null,e),t.lanes=r,t}function Fm(t,e,r){return e=Ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aU(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lm(0),this.expirationTimes=lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qy(t,e,r,n,s,i,a,A,l){return t=new aU(t,e,r,A,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ds(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},my(i),t}function oU(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function _N(t){if(!t)return Eo;t=t._reactInternals;e:{if(PA(t)!==t||t.tag!==1)throw Error(Ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(t.tag===1){var r=t.type;if(rs(r))return __(t,r,e)}return e}function NN(t,e,r,n,s,i,a,A,l){return t=Qy(r,n,!0,t,s,i,a,A,l),t.context=_N(null),r=t.current,n=Dn(),s=bo(r),i=ca(n,s),i.callback=e??null,wo(r,i,s),t.current.lanes=s,Wd(t,s,n),ns(t,n),t}function T0(t,e,r,n){var s=e.current,i=Dn(),a=bo(s);return r=_N(r),e.context===null?e.context=r:e.pendingContext=r,e=ca(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wo(s,e,a),t!==null&&(ci(t,s,a,i),lg(t,s,a)),a}function Jg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function G2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Iy(t,e){G2(t,e),(t=t.alternate)&&G2(t,e)}function AU(){return null}var SN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Py(t){this._internalRoot=t}D0.prototype.render=Py.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ge(409));T0(t,e,null,null)};D0.prototype.unmount=Py.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;LA(function(){T0(null,t,null,null)}),e[ha]=null}};function D0(t){this._internalRoot=t}D0.prototype.unstable_scheduleHydration=function(t){if(t){var e=s_();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ya.length&&e!==0&&e<Ya[r].priority;r++);Ya.splice(r,0,t),r===0&&a_(t)}};function Ty(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function O0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q2(){}function lU(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Jg(a);i.call(c)}}var a=NN(e,n,t,0,null,!1,!1,"",q2);return t._reactRootContainer=a,t[ha]=a.current,yd(t.nodeType===8?t.parentNode:t),LA(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var A=n;n=function(){var c=Jg(l);A.call(c)}}var l=Qy(t,0,!1,null,null,!1,!1,"",q2);return t._reactRootContainer=l,t[ha]=l.current,yd(t.nodeType===8?t.parentNode:t),LA(function(){T0(e,l,r,n)}),l}function M0(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var A=s;s=function(){var l=Jg(a);A.call(l)}}T0(e,a,t,s)}else a=lU(r,e,t,s,n);return Jg(a)}r_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Su(e.pendingLanes);r!==0&&(ry(e,r|1),ns(e,Er()),!(Rt&6)&&(uc=Er()+500,To()))}break;case 13:LA(function(){var n=fa(t,1);if(n!==null){var s=Dn();ci(n,t,1,s)}}),Iy(t,1)}};ny=function(t){if(t.tag===13){var e=fa(t,134217728);if(e!==null){var r=Dn();ci(e,t,134217728,r)}Iy(t,134217728)}};n_=function(t){if(t.tag===13){var e=bo(t),r=fa(t,e);if(r!==null){var n=Dn();ci(r,t,e,n)}Iy(t,e)}};s_=function(){return Xt};i_=function(t,e){var r=Xt;try{return Xt=t,e()}finally{Xt=r}};Xx=function(t,e,r){switch(e){case"input":if(zx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=E0(n);if(!s)throw Error(Ge(90));PC(n),zx(n,s)}}}break;case"textarea":DC(t,r);break;case"select":e=r.value,e!=null&&Gl(t,!!r.multiple,e,!1)}};zC=Ey;$C=LA;var cU={usingClientEntryPoint:!1,Events:[qd,Ml,E0,KC,VC,Ey]},du={findFiberByHostInstance:dA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uU={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qC(t),t===null?null:t.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||AU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{N0=cf.inject(uU),Qi=cf}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cU;ys.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ty(e))throw Error(Ge(200));return oU(t,e,null,r)};ys.createRoot=function(t,e){if(!Ty(t))throw Error(Ge(299));var r=!1,n="",s=SN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Qy(t,1,!1,null,null,r,!1,n,s),t[ha]=e.current,yd(t.nodeType===8?t.parentNode:t),new Py(e)};ys.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ge(188)):(t=Object.keys(t).join(","),Error(Ge(268,t)));return t=qC(e),t=t===null?null:t.stateNode,t};ys.flushSync=function(t){return LA(t)};ys.hydrate=function(t,e,r){if(!O0(e))throw Error(Ge(200));return M0(null,t,e,!0,r)};ys.hydrateRoot=function(t,e,r){if(!Ty(t))throw Error(Ge(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=SN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=NN(e,null,t,1,r??null,s,!1,i,a),t[ha]=e.current,yd(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new D0(e)};ys.render=function(t,e,r){if(!O0(e))throw Error(Ge(200));return M0(null,t,e,!1,r)};ys.unmountComponentAtNode=function(t){if(!O0(t))throw Error(Ge(40));return t._reactRootContainer?(LA(function(){M0(null,null,t,!1,function(){t._reactRootContainer=null,t[ha]=null})}),!0):!1};ys.unstable_batchedUpdates=Ey;ys.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!O0(r))throw Error(Ge(200));if(t==null||t._reactInternals===void 0)throw Error(Ge(38));return M0(t,e,r,!1,n)};ys.version="18.3.1-next-f1338f8080-20240426";function jN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jN)}catch(t){console.error(t)}}jN(),jC.exports=ys;var dU=jC.exports,J2=dU;Dx.createRoot=J2.createRoot,Dx.hydrateRoot=J2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ed.apply(this,arguments)}var no;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(no||(no={}));const Y2="popstate";function hU(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:A}=n.location;return Uv("",{pathname:i,search:a,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Yg(s)}return gU(e,r,null,t)}function Cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fU(){return Math.random().toString(36).substr(2,8)}function X2(t,e){return{usr:t.state,key:t.key,idx:e}}function Uv(t,e,r,n){return r===void 0&&(r=null),Ed({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_c(e):e,{state:r,key:e&&e.key||n||fU()})}function Yg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _c(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function gU(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,A=no.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Ed({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){A=no.Pop;let b=u(),v=b==null?null:b-c;c=b,l&&l({action:A,location:w.location,delta:v})}function f(b,v){A=no.Push;let x=Uv(w.location,b,v);c=u()+1;let C=X2(x,c),_=w.createHref(x);try{a.pushState(C,"",_)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(_)}i&&l&&l({action:A,location:w.location,delta:1})}function g(b,v){A=no.Replace;let x=Uv(w.location,b,v);c=u();let C=X2(x,c),_=w.createHref(x);a.replaceState(C,"",_),i&&l&&l({action:A,location:w.location,delta:0})}function m(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Yg(b);return x=x.replace(/ $/,"%20"),Cr(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let w={get action(){return A},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Y2,d),l=b,()=>{s.removeEventListener(Y2,d),l=null}},createHref(b){return e(s,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(b){return a.go(b)}};return w}var Z2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Z2||(Z2={}));function pU(t,e,r){return r===void 0&&(r="/"),mU(t,e,r)}function mU(t,e,r,n){let s=typeof e=="string"?_c(e):e,i=dc(s.pathname||"/",r);if(i==null)return null;let a=EN(t);xU(a);let A=null;for(let l=0;A==null&&l<a.length;++l){let c=FU(i);A=SU(a[l],c)}return A}function EN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,A)=>{let l={relativePath:A===void 0?i.path||"":A,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Cr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Co([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Cr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),EN(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_U(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var A;if(i.path===""||!((A=i.path)!=null&&A.includes("?")))s(i,a);else for(let l of UN(i.path))s(i,a,l)}),e}function UN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=UN(n.join("/")),A=[];return A.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&A.push(...a),A.map(l=>t.startsWith("/")&&l===""?"/":l)}function xU(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:NU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vU=/^:[\w-]+$/,wU=3,yU=2,bU=1,BU=10,CU=-2,eb=t=>t==="*";function _U(t,e){let r=t.split("/"),n=r.length;return r.some(eb)&&(n+=CU),e&&(n+=yU),r.filter(s=>!eb(s)).reduce((s,i)=>s+(vU.test(i)?wU:i===""?bU:BU),n)}function NU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function SU(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let A=0;A<n.length;++A){let l=n[A],c=A===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=kv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Co([i,d.pathname]),pathnameBase:LU(Co([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Co([i,d.pathnameBase]))}return a}function kv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jU(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),A=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let w=A[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=A[d];return g&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function jU(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),FN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,A,l)=>(n.push({paramName:A,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function FU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function EU(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?_c(t):t;return{pathname:r?r.startsWith("/")?r:UU(r,e):e,search:QU(n),hash:IU(s)}}function UU(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Em(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kN(t,e){let r=kU(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function LN(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=_c(t):(s=Ed({},t),Cr(!s.pathname||!s.pathname.includes("?"),Em("?","pathname","search",s)),Cr(!s.pathname||!s.pathname.includes("#"),Em("#","pathname","hash",s)),Cr(!s.search||!s.search.includes("#"),Em("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,A;if(a==null)A=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}A=d>=0?e[d]:"/"}let l=EU(s,A),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Co=t=>t.join("/").replace(/\/\/+/g,"/"),LU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QN=["post","put","patch","delete"];new Set(QN);const TU=["get",...QN];new Set(TU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ud.apply(this,arguments)}const H0=T.createContext(null),IN=T.createContext(null),Do=T.createContext(null),R0=T.createContext(null),TA=T.createContext({outlet:null,matches:[],isDataRoute:!1}),PN=T.createContext(null);function DU(t,e){let{relative:r}=e===void 0?{}:e;Yd()||Cr(!1);let{basename:n,navigator:s}=T.useContext(Do),{hash:i,pathname:a,search:A}=K0(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Co([n,a])),s.createHref({pathname:l,search:A,hash:i})}function Yd(){return T.useContext(R0)!=null}function Xd(){return Yd()||Cr(!1),T.useContext(R0).location}function TN(t){T.useContext(Do).static||T.useLayoutEffect(t)}function DN(){let{isDataRoute:t}=T.useContext(TA);return t?YU():OU()}function OU(){Yd()||Cr(!1);let t=T.useContext(H0),{basename:e,future:r,navigator:n}=T.useContext(Do),{matches:s}=T.useContext(TA),{pathname:i}=Xd(),a=JSON.stringify(kN(s,r.v7_relativeSplatPath)),A=T.useRef(!1);return TN(()=>{A.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!A.current)return;if(typeof c=="number"){n.go(c);return}let d=LN(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Co([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}function K0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(Do),{matches:s}=T.useContext(TA),{pathname:i}=Xd(),a=JSON.stringify(kN(s,n.v7_relativeSplatPath));return T.useMemo(()=>LN(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function MU(t,e){return HU(t,e)}function HU(t,e,r,n){Yd()||Cr(!1);let{navigator:s}=T.useContext(Do),{matches:i}=T.useContext(TA),a=i[i.length-1],A=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Xd(),u;if(e){var d;let b=typeof e=="string"?_c(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||Cr(!1),u=b}else u=c;let f=u.pathname||"/",g=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=pU(t,{pathname:g}),w=$U(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},A,b.params),pathname:Co([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Co([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&w?T.createElement(R0.Provider,{value:{location:Ud({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:no.Pop}},w):w}function RU(){let t=JU(),e=PU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:s},r):null,null)}const KU=T.createElement(RU,null);class VU extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(TA.Provider,{value:this.props.routeContext},T.createElement(PN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zU(t){let{routeContext:e,match:r,children:n}=t,s=T.useContext(H0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(TA.Provider,{value:e},n)}function $U(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,A=(s=r)==null?void 0:s.errors;if(A!=null){let u=a.findIndex(d=>d.route.id&&(A==null?void 0:A[d.route.id])!==void 0);u>=0||Cr(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let g,m=!1,w=null,b=null;r&&(g=A&&d.route.id?A[d.route.id]:void 0,w=d.route.errorElement||KU,l&&(c<0&&f===0?(XU("route-fallback"),m=!0,b=null):c===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,f+1)),x=()=>{let C;return g?C=w:m?C=b:d.route.Component?C=T.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,T.createElement(zU,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:C})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement(VU,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var ON=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ON||{}),MN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(MN||{});function WU(t){let e=T.useContext(H0);return e||Cr(!1),e}function GU(t){let e=T.useContext(IN);return e||Cr(!1),e}function qU(t){let e=T.useContext(TA);return e||Cr(!1),e}function HN(t){let e=qU(),r=e.matches[e.matches.length-1];return r.route.id||Cr(!1),r.route.id}function JU(){var t;let e=T.useContext(PN),r=GU(),n=HN();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function YU(){let{router:t}=WU(ON.UseNavigateStable),e=HN(MN.UseNavigateStable),r=T.useRef(!1);return TN(()=>{r.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ud({fromRouteId:e},i)))},[t,e])}const tb={};function XU(t,e,r){tb[t]||(tb[t]=!0)}function ZU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bn(t){Cr(!1)}function ek(t){let{basename:e="/",children:r=null,location:n,navigationType:s=no.Pop,navigator:i,static:a=!1,future:A}=t;Yd()&&Cr(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:a,future:Ud({v7_relativeSplatPath:!1},A)}),[l,A,i,a]);typeof n=="string"&&(n=_c(n));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:m="default"}=n,w=T.useMemo(()=>{let b=dc(u,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:g,key:m},navigationType:s}},[l,u,d,f,g,m,s]);return w==null?null:T.createElement(Do.Provider,{value:c},T.createElement(R0.Provider,{children:r,value:w}))}function tk(t){let{children:e,location:r}=t;return MU(Lv(e),r)}new Promise(()=>{});function Lv(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,s)=>{if(!T.isValidElement(n))return;let i=[...e,s];if(n.type===T.Fragment){r.push.apply(r,Lv(n.props.children,i));return}n.type!==bn&&Cr(!1),!n.props.index||!n.props.children||Cr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Lv(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xg.apply(this,arguments)}function RN(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function rk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nk(t,e){return t.button===0&&(!e||e==="_self")&&!rk(t)}const sk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ik=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ak="6";try{window.__reactRouterVersion=ak}catch{}const ok=T.createContext({isTransitioning:!1}),Ak="startTransition",rb=t3[Ak];function lk(t){let{basename:e,children:r,future:n,window:s}=t,i=T.useRef();i.current==null&&(i.current=hU({window:s,v5Compat:!0}));let a=i.current,[A,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=T.useCallback(d=>{c&&rb?rb(()=>l(d)):l(d)},[l,c]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.useEffect(()=>ZU(n),[n]),T.createElement(ek,{basename:e,children:r,location:A.location,navigationType:A.action,navigator:a,future:n})}const ck=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pg=T.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:A,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=RN(e,sk),{basename:g}=T.useContext(Do),m,w=!1;if(typeof c=="string"&&uk.test(c)&&(m=c,ck))try{let C=new URL(window.location.href),_=c.startsWith("//")?new URL(C.protocol+c):new URL(c),F=dc(_.pathname,g);_.origin===C.origin&&F!=null?c=F+_.search+_.hash:w=!0}catch{}let b=DU(c,{relative:s}),v=hk(c,{replace:a,state:A,target:l,preventScrollReset:u,relative:s,viewTransition:d});function x(C){n&&n(C),C.defaultPrevented||v(C)}return T.createElement("a",Xg({},f,{href:m||b,onClick:w||i?n:x,ref:r,target:l}))}),er=T.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:A,to:l,viewTransition:c,children:u}=e,d=RN(e,ik),f=K0(l,{relative:d.relative}),g=Xd(),m=T.useContext(IN),{navigator:w,basename:b}=T.useContext(Do),v=m!=null&&fk(f)&&c===!0,x=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,C=g.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(C=C.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&b&&(_=dc(_,b)||_);const F=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=C===x||!a&&C.startsWith(x)&&C.charAt(F)==="/",E=_!=null&&(_===x||!a&&_.startsWith(x)&&_.charAt(x.length)==="/"),j={isActive:P,isPending:E,isTransitioning:v},R=P?n:void 0,Z;typeof i=="function"?Z=i(j):Z=[i,P?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let Q=typeof A=="function"?A(j):A;return T.createElement(pg,Xg({},d,{"aria-current":R,className:Z,ref:r,style:Q,to:l,viewTransition:c}),typeof u=="function"?u(j):u)});var Qv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qv||(Qv={}));var nb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nb||(nb={}));function dk(t){let e=T.useContext(H0);return e||Cr(!1),e}function hk(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:A}=e===void 0?{}:e,l=DN(),c=Xd(),u=K0(t,{relative:a});return T.useCallback(d=>{if(nk(d,r)){d.preventDefault();let f=n!==void 0?n:Yg(c)===Yg(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:A})}},[c,l,u,n,s,r,t,i,a,A])}function fk(t,e){e===void 0&&(e={});let r=T.useContext(ok);r==null&&Cr(!1);let{basename:n}=dk(Qv.useViewTransitionState),s=K0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=dc(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=dc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return kv(s.pathname,a)!=null||kv(s.pathname,i)!=null}const gk="modulepreload",pk=function(t){return"/"+t},sb={},Yn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),A=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=pk(l),l in sb)return;sb[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":gk,c||(d.as="script"),d.crossOrigin="",d.href=l,A&&d.setAttribute("nonce",A),document.head.appendChild(d),c)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=a,window.dispatchEvent(A),!A.defaultPrevented)throw a}return s.then(a=>{for(const A of a||[])A.status==="rejected"&&i(A.reason);return e().catch(i)})},mk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Yn(async()=>{const{default:n}=await Promise.resolve().then(()=>Nc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Dy extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ib extends Dy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ab extends Dy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ob extends Dy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Iv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Iv||(Iv={}));var xk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class vk{constructor(e,{headers:r={},customFetch:n,region:s=Iv.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=mk(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xk(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:a,body:A,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;A&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&A instanceof Blob||A instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=A):typeof A=="string"?(c["Content-Type"]="text/plain",f=A):typeof FormData<"u"&&A instanceof FormData?f=A:(c["Content-Type"]="application/json",f=JSON.stringify(A)));const g=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new ib(v)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new ab(g);if(!g.ok)throw new ob(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return w==="application/json"?b=yield g.json():w==="application/octet-stream"?b=yield g.blob():w==="text/event-stream"?b=g:w==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ib(i)}:{data:null,error:i,response:i instanceof ob||i instanceof ab?i.context:void 0}}})}}var Jn={},Oy={},V0={},Zd={},z0={},$0={},wk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hc=wk();const yk=hc.fetch,KN=hc.fetch.bind(hc),VN=hc.Headers,bk=hc.Request,Bk=hc.Response,Nc=Object.freeze(Object.defineProperty({__proto__:null,Headers:VN,Request:bk,Response:Bk,default:KN,fetch:yk},Symbol.toStringTag,{value:"Module"})),Ck=OF(Nc);var W0={};Object.defineProperty(W0,"__esModule",{value:!0});let _k=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};W0.default=_k;var zN=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($0,"__esModule",{value:!0});const Nk=zN(Ck),Sk=zN(W0);let jk=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Nk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,A,l,c;let u=null,d=null,f=null,g=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?d=x:d=JSON.parse(x))}const b=(A=this.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,g=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,m="OK")}catch{i.status===404&&b===""?(g=204,m="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,g=200,m="OK"),u&&this.shouldThrowOnError)throw new Sk.default(u)}return{error:u,data:d,count:f,status:g,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,A,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(A=i==null?void 0:i.stack)!==null&&A!==void 0?A:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};$0.default=jk;var Fk=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z0,"__esModule",{value:!0});const Ek=Fk($0);let Uk=class extends Ek.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",A=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${A?`${A},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var A;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(A=this.headers.get("Accept"))!==null&&A!==void 0?A:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};z0.default=Uk;var kk=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zd,"__esModule",{value:!0});const Lk=kk(z0);let Qk=class extends Lk.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Zd.default=Qk;var Ik=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(V0,"__esModule",{value:!0});const hu=Ik(Zd);let Pk=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,r){const{head:n=!1,count:s}=r??{},i=n?"HEAD":"GET";let a=!1;const A=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",A),s&&this.headers.append("Prefer",`count=${s}`),new hu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((A,l)=>A.concat(Object.keys(l)),[]);if(a.length>0){const A=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",A.join(","))}}return new hu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const A="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new hu.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new hu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new hu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};V0.default=Pk;var $N=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oy,"__esModule",{value:!0});const Tk=$N(V0),Dk=$N(Zd);let Ok=class WN{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Tk.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new WN(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let A;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(A=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(A="POST",c=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new Dk.default({method:A,url:l,headers:u,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Oy.default=Ok;var Sc=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.PostgrestError=Jn.PostgrestBuilder=Jn.PostgrestTransformBuilder=Jn.PostgrestFilterBuilder=Jn.PostgrestQueryBuilder=Jn.PostgrestClient=void 0;const GN=Sc(Oy);Jn.PostgrestClient=GN.default;const qN=Sc(V0);Jn.PostgrestQueryBuilder=qN.default;const JN=Sc(Zd);Jn.PostgrestFilterBuilder=JN.default;const YN=Sc(z0);Jn.PostgrestTransformBuilder=YN.default;const XN=Sc($0);Jn.PostgrestBuilder=XN.default;const ZN=Sc(W0);Jn.PostgrestError=ZN.default;var Mk=Jn.default={PostgrestClient:GN.default,PostgrestQueryBuilder:qN.default,PostgrestFilterBuilder:JN.default,PostgrestTransformBuilder:YN.default,PostgrestBuilder:XN.default,PostgrestError:ZN.default};const{PostgrestClient:Hk,PostgrestQueryBuilder:hK,PostgrestFilterBuilder:fK,PostgrestTransformBuilder:gK,PostgrestBuilder:pK,PostgrestError:mK}=Mk;class Rk{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Kk="2.75.0",Vk=`realtime-js/${Kk}`,zk="1.0.0",Pv=1e4,$k=1e3,Wk=100;var qu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qu||(qu={}));var zr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zr||(zr={}));var ai;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ai||(ai={}));var Tv;(function(t){t.websocket="websocket"})(Tv||(Tv={}));var lA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(lA||(lA={}));class Gk{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const A=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:A,event:l,payload:c}}}class e4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ar;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ar||(ar={}));const Ab=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=qk(a,t,e,s),i),{}):{}},qk=(t,e,r,n)=>{const s=e.find(A=>A.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?t4(i,a):Dv(a)},t4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Zk(e,r)}switch(t){case ar.bool:return Jk(e);case ar.float4:case ar.float8:case ar.int2:case ar.int4:case ar.int8:case ar.numeric:case ar.oid:return Yk(e);case ar.json:case ar.jsonb:return Xk(e);case ar.timestamp:return eL(e);case ar.abstime:case ar.date:case ar.daterange:case ar.int4range:case ar.int8range:case ar.money:case ar.reltime:case ar.text:case ar.time:case ar.timestamptz:case ar.timetz:case ar.tsrange:case ar.tstzrange:return Dv(e);default:return Dv(e)}},Dv=t=>t,Jk=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Yk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Xk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Zk=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(A=>t4(e,A))}return t},eL=t=>typeof t=="string"?t.replace(" ","T"):t,r4=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Um{constructor(e,r,n={},s=Pv){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(lb||(lb={}));class Ju{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ju.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Ju.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],A()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ju.syncDiff(this.state,s,i,a),A())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),A={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const f=u.map(b=>b.presence_ref),g=d.map(b=>b.presence_ref),m=u.filter(b=>g.indexOf(b.presence_ref)<0),w=d.filter(b=>f.indexOf(b.presence_ref)<0);m.length>0&&(A[c]=m),w.length>0&&(l[c]=w)}else A[c]=u}),this.syncDiff(i,{joins:A,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(A,l)=>{var c;const u=(c=e[A])!==null&&c!==void 0?c:[];if(e[A]=this.cloneDeep(l),u.length>0){const d=e[A].map(g=>g.presence_ref),f=u.filter(g=>d.indexOf(g.presence_ref)<0);e[A].unshift(...f)}n(A,u,l)}),this.map(a,(A,l)=>{let c=e[A];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[A]=c,s(A,c,l),c.length===0&&delete e[A]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cb||(cb={}));var Yu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yu||(Yu={}));var ia;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ia||(ia={}));class My{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Um(this,ai.join,this.params,this.timeout),this.rejoinTimer=new e4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ai.reply,{},(a,A)=>{this._trigger(this._replyEventName(A),a)}),this.presence=new Ju(this),this.broadcastEndpointURL=r4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==zr.closed){const{config:{broadcast:a,presence:A,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Yu.PRESENCE]&&this.bindings[Yu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},A),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(ia.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(ia.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket.setAuth(),g===void 0){e==null||e(ia.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,v=[];for(let x=0;x<b;x++){const C=w[x],{filter:{event:_,schema:F,table:P,filter:E}}=C,j=g&&g[x];if(j&&j.event===_&&j.schema===F&&j.table===P&&j.filter===E)v.push(Object.assign(Object.assign({},C),{id:j.id}));else{this.unsubscribe(),this.state=zr.errored,e==null||e(ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ia.SUBSCRIBED);return}}).receive("error",g=>{this.state=zr.errored,e==null||e(ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===zr.joined&&e===Yu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,A,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(A=(a=this.params)===null||a===void 0?void 0:a.config)===null||A===void 0?void 0:A.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ai.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Um(this,ai.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Um(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Wk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:A,error:l,leave:c,join:u}=ai;if(n&&[A,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var m,w,b;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(w=g.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var m,w,b,v,x,C;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const _=g.id,F=(m=g.filter)===null||m===void 0?void 0:m.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(x=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((C=r==null?void 0:r.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:w,table:b,commit_timestamp:v,type:x,errors:C}=m;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:v,eventType:x,new:{},old:{},errors:C}),this._getPayloadRecords(m))}g.callback(f,n)})}_isClosed(){return this.state===zr.closed}_isJoined(){return this.state===zr.joined}_isJoining(){return this.state===zr.joining}_isLeaving(){return this.state===zr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&My.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ai.close,{},e)}_onError(e){this._on(ai.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ab(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ab(e.columns,e.old_record)),r}}const km=()=>{},uf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tL=[1e3,2e3,5e3,1e4],rL=1e4,nL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sL{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pv,this.transport=null,this.heartbeatIntervalMs=uf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=km,this.ref=0,this.reconnectTimer=null,this.logger=km,this.conn=null,this.sendBuffer=[],this.serializer=new Gk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Yn(async()=>{const{default:A}=await Promise.resolve().then(()=>Nc);return{default:A}},void 0).then(({default:A})=>A(...a)).catch(A=>{throw new Error(`Failed to load @supabase/node-fetch: ${A.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Tv.websocket}`,this.httpEndpoint=r4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zk}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qu.connecting:return lA.Connecting;case qu.open:return lA.Open;case qu.closing:return lA.Closing;default:return lA.Closed}}isConnected(){return this.connectionState()===lA.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new My(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,A=>{var l;(l=this.conn)===null||l===void 0||l.send(A)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($k,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,A=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${A}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ai.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([nL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Vk};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ai.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new e4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,A,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Pv,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:uf.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(A=e==null?void 0:e.heartbeatCallback)!==null&&A!==void 0?A:km,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>tL[d-1]||rL,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Hy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Mr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iL extends Hy{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ov extends Hy{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var aL=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};const n4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Yn(async()=>{const{default:n}=await Promise.resolve().then(()=>Nc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},oL=()=>aL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yn(()=>Promise.resolve().then(()=>Nc),void 0)).Response:Response}),Mv=t=>{if(Array.isArray(t))return t.map(r=>Mv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Mv(n)}),e},AL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var DA=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};const Lm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lL=(t,e,r)=>DA(void 0,void 0,void 0,function*(){const n=yield oL();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new iL(Lm(s),i,a))}).catch(s=>{e(new Ov(Lm(s),s))}):e(new Ov(Lm(t),t))}),cL=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(AL(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function eh(t,e,r,n,s,i){return DA(this,void 0,void 0,function*(){return new Promise((a,A)=>{t(r,cL(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>lL(l,A,n))})})}function Zg(t,e,r,n){return DA(this,void 0,void 0,function*(){return eh(t,"GET",e,r,n)})}function Fi(t,e,r,n,s){return DA(this,void 0,void 0,function*(){return eh(t,"POST",e,n,s,r)})}function Hv(t,e,r,n,s){return DA(this,void 0,void 0,function*(){return eh(t,"PUT",e,n,s,r)})}function uL(t,e,r,n){return DA(this,void 0,void 0,function*(){return eh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function s4(t,e,r,n,s){return DA(this,void 0,void 0,function*(){return eh(t,"DELETE",e,n,s,r)})}var dL=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class hL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return dL(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Mr(e))return{data:null,error:e};throw e}})}}var fL=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class gL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new hL(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return fL(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Mr(e))return{data:null,error:e};throw e}})}}var $n=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};const pL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ub={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mL{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=n4(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return $n(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},ub),s);let A=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,A["cache-control"]=`max-age=${a.cacheControl}`,A["content-type"]=a.contentType,l&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(A=Object.assign(Object.assign({},A),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(e=="PUT"?Hv:Fi)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:A},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Mr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return $n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return $n(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),A=new URL(this.url+`/object/upload/sign/${a}`);A.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:ub.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Hv(this.fetch,A.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Mr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return $n(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Fi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),A=a.searchParams.get("token");if(!A)throw new Hy("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:A},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}update(e,r,n){return $n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return $n(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mr(s))return{data:null,error:s};throw s}})}copy(e,r,n){return $n(this,void 0,void 0,function*(){try{return{data:{path:(yield Fi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return $n(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Fi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return $n(this,void 0,void 0,function*(){try{const s=yield Fi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mr(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",A=this._getFinalPath(e),l=()=>Zg(this.fetch,`${this.url}/${s}/${A}${a}`,{headers:this.headers,noResolveJson:!0});return new gL(l,this.shouldThrowOnError)}info(e){return $n(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Zg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}exists(e){return $n(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield uL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n)&&n instanceof Ov){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const A=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${n}${c}`)}}}remove(e){return $n(this,void 0,void 0,function*(){try{return{data:yield s4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mr(r))return{data:null,error:r};throw r}})}list(e,r,n){return $n(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pL),r),{prefix:e||""});return{data:yield Fi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mr(s))return{data:null,error:s};throw s}})}listV2(e,r){return $n(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Fi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const xL="2.75.0",vL={"X-Client-Info":`storage-js/${xL}`};var hl=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class wL{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vL),r),this.fetch=n4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return hl(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Mr(e))return{data:null,error:e};throw e}})}getBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mr(r))return{data:null,error:r};throw r}})}createBucket(e){return hl(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Fi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mr(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return hl(this,void 0,void 0,function*(){try{return{data:yield Hv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return hl(this,void 0,void 0,function*(){try{return{data:yield s4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mr(r))return{data:null,error:r};throw r}})}}class yL extends wL{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new mL(this.url,this.headers,e,this.fetch)}}const bL="2.75.0";let Fu="";typeof Deno<"u"?Fu="deno":typeof document<"u"?Fu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fu="react-native":Fu="node";const BL={"X-Client-Info":`supabase-js-${Fu}/${bL}`},CL={headers:BL},_L={schema:"public"},NL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SL={};var jL=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};const FL=t=>{let e;return t?e=t:typeof fetch>"u"?e=KN:e=fetch,(...r)=>e(...r)},EL=()=>typeof Headers>"u"?VN:Headers,UL=(t,e,r)=>{const n=FL(r),s=EL();return(i,a)=>jL(void 0,void 0,void 0,function*(){var A;const l=(A=yield e())!==null&&A!==void 0?A:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var kL=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};function LL(t){return t.endsWith("/")?t:t+"/"}function QL(t,e){var r,n;const{db:s,auth:i,realtime:a,global:A}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),A),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=A==null?void 0:A.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>kL(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function IL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(LL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i4="2.75.0",Fl=30*1e3,Rv=3,Qm=Rv*Fl,PL="http://localhost:9999",TL="supabase.auth.token",DL={"X-Client-Info":`gotrue-js/${i4}`},Kv="X-Supabase-Api-Version",a4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ML=10*60*1e3;class kd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function vt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class HL extends kd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function RL(t){return vt(t)&&t.name==="AuthApiError"}class cA extends kd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Oo extends kd{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class za extends Oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KL(t){return vt(t)&&t.name==="AuthSessionMissingError"}class fl extends Oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class df extends Oo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hf extends Oo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VL(t){return vt(t)&&t.name==="AuthImplicitGrantRedirectError"}class db extends Oo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vv extends Oo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Im(t){return vt(t)&&t.name==="AuthRetryableFetchError"}class hb extends Oo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zv extends Oo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fb=` 	
\r=`.split(""),zL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fb.length;e+=1)t[fb[e].charCodeAt(0)]=-2;for(let e=0;e<e0.length;e+=1)t[e0[e].charCodeAt(0)]=e;return t})();function gb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(e0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(e0[n]),e.queuedBits-=6}}function o4(t,e,r){const n=zL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pb(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{GL(a,n,r)};for(let a=0;a<t.length;a+=1)o4(t.charCodeAt(a),s,i);return e.join("")}function $L(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function WL(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$L(n,e)}}function GL(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ec(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)o4(t.charCodeAt(s),r,n);return new Uint8Array(e)}function qL(t){const e=[];return WL(t,r=>e.push(r)),new Uint8Array(e)}function gA(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>gb(s,r,n)),gb(null,r,n),e.join("")}function JL(t){return Math.round(Date.now()/1e3)+t}function YL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const hs=()=>typeof window<"u"&&typeof document<"u",Yo={tested:!1,writable:!1},A4=()=>{if(!hs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yo.tested)return Yo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yo.tested=!0,Yo.writable=!0}catch{Yo.tested=!0,Yo.writable=!1}return Yo.writable};function XL(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const l4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Yn(async()=>{const{default:n}=await Promise.resolve().then(()=>Nc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ZL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",El=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Xo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Oa=async(t,e)=>{await t.removeItem(e)};class G0{constructor(){this.promise=new G0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}G0.promiseConstructor=Promise;function Pm(t){const e=t.split(".");if(e.length!==3)throw new zv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!OL.test(e[n]))throw new zv("JWT not in base64url format");return{header:JSON.parse(pb(e[0])),payload:JSON.parse(pb(e[1])),signature:ec(e[2]),raw:{header:e[0],payload:e[1]}}}async function eQ(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tQ(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function rQ(t){return("0"+t.toString(16)).substr(-2)}function nQ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,rQ).join("")}async function sQ(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iQ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await sQ(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gl(t,e,r=!1){const n=nQ();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await El(t,`${e}-code-verifier`,s);const i=await iQ(n);return[i,n===i?"plain":"s256"]}const aQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oQ(t){const e=t.headers.get(Kv);if(!e||!e.match(aQ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AQ(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lQ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pl(t){if(!cQ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mb(t){return JSON.parse(JSON.stringify(t))}var uQ=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const iA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dQ=[502,503,504];async function xb(t){var e;if(!ZL(t))throw new Vv(iA(t),0);if(dQ.includes(t.status))throw new Vv(iA(t),t.status);let r;try{r=await t.json()}catch(i){throw new cA(iA(i),i)}let n;const s=oQ(t);if(s&&s.getTime()>=a4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hb(iA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new za}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new hb(iA(r),t.status,r.weak_password.reasons);throw new HL(iA(r),t.status||500,n)}const hQ=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Nt(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Kv]||(i[Kv]=a4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const A=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await fQ(t,e,r+A,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function fQ(t,e,r,n,s,i){const a=hQ(e,n,s,i);let A;try{A=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Vv(iA(l),0)}if(A.ok||await xb(A),n!=null&&n.noResolveJson)return A;try{return await A.json()}catch(l){await xb(l)}}function ti(t){var e;let r=null;mQ(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=JL(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function vb(t){const e=ti(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Za(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gQ(t){return{data:t,error:null}}function pQ(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=uQ(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:A,user:l},error:null}}function wb(t){return t}function mQ(t){return t.access_token&&t.refresh_token&&t.expires_in}const Dm=["global","local","others"];var xQ=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class vQ{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=l4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Dm[0]){if(Dm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dm.join(", ")}`);try{return await Nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Za})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=xQ(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pQ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(vt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Za})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wb});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(vt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){pl(e);try{return await Nt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Za})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){pl(e);try{return await Nt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Za})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){pl(e);try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Za})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){pl(e.userId);try{const{data:r,error:n}=await Nt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){pl(e.userId),pl(e.id);try{return{data:await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Nt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wb});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(vt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Nt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Nt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Nt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}}function yb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ml={debug:!!(globalThis&&A4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wQ extends c4{}async function yQ(t,e,r){ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ml.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wQ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ml.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function bQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function u4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function BQ(t){return parseInt(t,16)}function CQ(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function _Q(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:A,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=u4(t.address),m=u?`${u}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${m} wants you to sign in with your Ethereum account:
${g}

${w}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),A&&(v+=`
Not Before: ${A.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const C of c){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);x+=`
- ${C}`}v+=x}return`${b}
${v}`}class Or extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class t0 extends Or{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function NQ({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Or({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Or({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Or({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Or({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Or({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Or({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new Or({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Or({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(h4(a)){if(i.rp.id!==a)return new Or({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Or({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Or({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Or({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Or({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function SQ({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Or({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Or({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(h4(n)){if(r.rpId!==n)return new Or({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Or({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Or({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Or({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var d4=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class jQ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const FQ=new jQ;function EQ(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=d4(t,["challenge","user","excludeCredentials"]),i=ec(e).buffer,a=Object.assign(Object.assign({},r),{id:ec(r.id).buffer}),A=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){A.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];A.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:ec(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return A}function UQ(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=d4(t,["challenge","allowCredentials"]),s=ec(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const A=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},A),{id:ec(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return i}function kQ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:gA(new Uint8Array(t.response.attestationObject)),clientDataJSON:gA(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LQ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:gA(new Uint8Array(s.authenticatorData)),clientDataJSON:gA(new Uint8Array(s.clientDataJSON)),signature:gA(new Uint8Array(s.signature)),userHandle:s.userHandle?gA(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function h4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function bb(){var t,e;return!!(hs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QQ(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new t0("Browser returned unexpected credential type",e)}:{data:null,error:new t0("Empty credential response",e)}}catch(e){return{data:null,error:NQ({error:e,options:t})}}}async function IQ(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new t0("Browser returned unexpected credential type",e)}:{data:null,error:new t0("Empty credential response",e)}}catch(e){return{data:null,error:SQ({error:e,options:t})}}}const PQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},TQ={userVerification:"preferred",hints:["security-key"]};function r0(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const A=n[i];e(A)?n[i]=r0(A,a):n[i]=r0(a)}else n[i]=a}return n}function DQ(t,e){return r0(PQ,t,e||{})}function OQ(t,e){return r0(TQ,t,e||{})}class MQ{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:A}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:A};const l=s??FQ.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=DQ(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await QQ({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=OQ(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await IQ(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(a){return vt(a)?{data:null,error:a}:{data:null,error:new cA("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new kd("rpId is required for WebAuthn authentication")};try{if(!bb())return{data:null,error:new cA("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:A};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return vt(a)?{data:null,error:a}:{data:null,error:new cA("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new kd("rpId is required for WebAuthn registration")};try{if(!bb())return{data:null,error:new cA("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:A};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return vt(a)?{data:null,error:a}:{data:null,error:new cA("Unexpected error in register",a)}}}}bQ();const HQ={url:PL,storageKey:TL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bb(t,e,r){return await r()}const xl={};class Ld{get jwks(){var e,r;return(r=(e=xl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){xl[this.storageKey]=Object.assign(Object.assign({},xl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=xl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xl[this.storageKey]=Object.assign(Object.assign({},xl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ld.nextInstanceID,Ld.nextInstanceID+=1,this.instanceID>0&&hs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},HQ),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vQ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=l4(s.fetch),this.lock=s.lock||Bb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yQ:this.lock=Bb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MQ(this)},this.persistSession?(s.storage?this.storage=s.storage:A4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=yb(this.memoryStorage)),hs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${i4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=XL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),hs()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),VL(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:A}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",A),await this._saveSession(a),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return vt(r)?{error:r}:{error:new cA("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ti}),{data:a,error:A}=i;if(A||!a)return{data:{user:null,session:null},error:A};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(vt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await gl(this.storage,this.storageKey)),i=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:m},xform:ti})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ti})}else throw new df("You must provide either an email or phone number and a password");const{data:a,error:A}=i;if(A||!a)return{data:{user:null,session:null},error:A};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(vt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:A}=e;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:vb})}else if("phone"in e){const{phone:i,password:a,options:A}=e;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:vb})}else throw new df("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,A,l,c,u,d,f;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:w,wallet:b,statement:v,options:x}=e;let C;if(hs())if(typeof b=="object")C=b;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")C=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=b}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),F=await C.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=u4(F[0]);let E=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const R=await C.request({method:"eth_chainId"});E=BQ(R)}const j={domain:_.host,address:P,statement:v,uri:_.href,version:"1",chainId:E,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(A=x==null?void 0:x.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=_Q(j),m=await C.request({method:"personal_sign",params:[CQ(g),P]})}try{const{data:w,error:b}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ti});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new fl}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(vt(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var r,n,s,i,a,A,l,c,u,d,f,g;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:b,wallet:v,statement:x,options:C}=e;let _;if(hs())if(typeof v=="object")_=v;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const F=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),x?{statement:x}:null));let E;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")E=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)E=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${F.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(s=(n=C==null?void 0:C.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=C==null?void 0:C.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((A=C==null?void 0:C.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((d=(u=C==null?void 0:C.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...C.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:b,error:v}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:gA(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ti});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new fl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(vt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Xo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ti});if(await Oa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(vt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,A=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ti}),{data:l,error:c}=A;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:A,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await gl(this.storage,this.storageKey));const{error:d}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:A,options:l}=e,{data:c,error:u}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new df("You must provide either an email or phone number.")}catch(A){if(vt(A))return{data:{user:null,session:null},error:A};throw A}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:A}=await Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ti});if(A)throw A;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await gl(this.storage,this.storageKey)),await Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:gQ})}catch(i){if(vt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new za;const{error:s}=await Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(vt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:A}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:A}}throw new df("You must provide either an email or phone number and a type")}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Xo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Qm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Xo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Tm()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Za}):await this._useSession(async r=>{var n,s,i;const{data:a,error:A}=r;if(A)throw A;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new za}:await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Za})})}catch(r){if(vt(r))return KL(r)&&(await this._removeSession(),await Oa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new za;const a=s.session;let A=null,l=null;this.flowType==="pkce"&&e.email!=null&&([A,l]=await gl(this.storage,this.storageKey));const{data:c,error:u}=await Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:A,code_challenge_method:l}),jwt:a.access_token,xform:Za});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new za;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Pm(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:A,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!A)return{data:{user:null,session:null},error:null};i=A}else{const{data:A,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:A.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(vt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:A}=r;if(A)throw A;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new za;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!hs())throw new hf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new db("No code detected.");const{data:x,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:A,expires_at:l,token_type:c}=e;if(!i||!A||!a||!c)throw new hf("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(A);let f=u+d;l&&(f=parseInt(l));const g=f-u;g*1e3<=Fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(vt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Xo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:A}=await this.admin.signOut(a,e);if(A&&!(RL(A)&&(A.status===404||A.status===401||A.status===403)))return{error:A}}return e!=="others"&&(await this._removeSession(),await Oa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=YL(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await gl(this.storage,this.storageKey,!0));try{return await Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(vt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,A,l,c,u;const{data:d,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(A=e.options)===null||A===void 0?void 0:A.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Nt(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return hs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(vt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:A,token:l,access_token:c,nonce:u}=e,d=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:A,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ti}),{data:f,error:g}=d;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new fl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Nt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tQ(async s=>(s>0&&await eQ(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ti})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Im(i)&&Date.now()+a-n<Fl})}catch(n){if(this._debug(r,"error",n),vt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),hs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Xo(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Xo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await El(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Tm()}else if(s&&!s.user&&!s.user){const a=await Xo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Oa(this.storage,this.storageKey+"-user"),await El(this.storage,this.storageKey,s)):s.user=Tm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Qm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Im(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:A}=await this._getUser(s.access_token);!A&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new za;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new G0;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new za;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const A={data:i.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(i){if(this._debug(s,"error",i),vt(i)){const a={data:null,error:i};return Im(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let A=0;A<i.length;A+=1)console.error(i[A]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await El(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=mb(s);await El(this.storage,this.storageKey,i)}else{const s=mb(r);await El(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Oa(this.storage,this.storageKey),await Oa(this.storage,this.storageKey+"-code-verifier"),await Oa(this.storage,this.storageKey+"-user"),this.userStorage&&await Oa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fl}ms, refresh threshold is ${Rv} ticks`),s<=Rv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof c4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await gl(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(A.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Nt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const A=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Nt(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kQ(e.webauthn.credential_response):LQ(e.webauthn.credential_response)})}:{code:e.code}),{data:A,error:l}=await Nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),{data:A,error:l})})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=await Nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:A}=a;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:EQ(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:UQ(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Pm(s.access_token);let A=null;a.aal&&(A=a.aal);let l=A;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:A,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(A=>A.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(A=>A.kid===e),n&&this.jwks_cached_at+ML>s)return n;const{data:i,error:a}=await Nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(A=>A.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:A,payload:l}}=Pm(n);r!=null&&r.allowExpired||AQ(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const u=lQ(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,qL(`${A}.${l}`)))throw new zv("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}}Ld.nextInstanceID=0;const RQ=Ld;class KQ extends RQ{constructor(e){super(e)}}var VQ=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class zQ{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const A=IL(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const l=`sb-${A.hostname.split(".")[0]}-auth-token`,c={db:_L,realtime:SL,auth:Object.assign(Object.assign({},NL),{storageKey:l}),global:CL},u=QL(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=UL(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Hk(new URL("rest/v1",A).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new yL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new vk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return VQ(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:A,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:A,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $Q=(t,e,r)=>new zQ(t,e,r);function WQ(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WQ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $v="https://blgvfnhpnieqzcyfgtnn.supabase.co",f4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJsZ3ZmbmhwbmllcXpjeWZndG5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1MTI3OTMsImV4cCI6MjA3NjA4ODc5M30.O5HIskUBqArBQNPMeQ8inEu6RzSAzCVaGo0pkCQ4xu4";if(!$v.startsWith("https://")||!$v.includes(".supabase.co"))throw new Error("Missing or invalid VITE_SUPABASE_URL. Set it to your project URL, e.g. https://YOUR_PROJECT.supabase.co");if(f4.length<20)throw new Error("Missing or invalid VITE_SUPABASE_ANON_KEY. Copy the anon public key from your Supabase project settings.");const $e=$Q($v,f4);function g4({onClose:t}){const[e,r]=T.useState([]),[n,s]=T.useState(!0),[i,a]=T.useState(!1),A=m=>{const w=new Date,b=new Date(m);b.getFullYear()!==w.getFullYear()&&(b.setFullYear(w.getFullYear()),b<w&&b.setFullYear(w.getFullYear()+1));const v=b.getTime()-w.getTime();return Math.ceil(v/(1e3*60*60*24))},l=(m,w)=>{const b=[],v=new Date;return m.forEach(x=>{if(x.birthdate){const C=A(x.birthdate);C>=0&&C<=30&&b.push({id:`birthday-${x.id}`,type:"birthday",employee:x,date:x.birthdate,daysUntil:C,message:C===0?` Today is ${x.name}'s birthday!`:C===1?` ${x.name}'s birthday is tomorrow`:` ${x.name}'s birthday is in ${C} days`})}if(x.employment_status==="probationary"&&x.date_hired){const C=new Date(x.date_hired),_=new Date(C);_.setMonth(_.getMonth()+6);const F=Math.ceil((_.getTime()-v.getTime())/(1e3*60*60*24));F>=0&&F<=30&&b.push({id:`regularization-${x.id}`,type:"regularization",employee:x,date:_.toISOString().split("T")[0],daysUntil:F,message:F===0?` ${x.name} is eligible for regularization today!`:F===1?` ${x.name} is eligible for regularization tomorrow`:` ${x.name} is eligible for regularization in ${F} days`})}if(x.date_hired){const C=new Date(x.date_hired),_=new Date(v.getFullYear(),C.getMonth(),C.getDate());_<v&&_.setFullYear(v.getFullYear()+1);const F=Math.ceil((_.getTime()-v.getTime())/(1e3*60*60*24)),P=v.getFullYear()-C.getFullYear();if(P>=1&&F>=0&&F<=30){const E=P+(_.getFullYear()>v.getFullYear()?0:1);b.push({id:`anniversary-${x.id}`,type:"anniversary",employee:x,date:_.toISOString().split("T")[0],daysUntil:F,message:F===0?` Today is ${x.name}'s ${E} year work anniversary!`:F===1?` ${x.name}'s ${E} year work anniversary is tomorrow`:` ${x.name}'s ${E} year work anniversary is in ${F} days`})}}}),w.forEach(x=>{const C=m.find(P=>P.id===x.employee_id);if(!C||x.status!=="approved")return;const _=new Date(x.start_date),F=Math.ceil((_.getTime()-v.getTime())/(1e3*60*60*24));if(F>=0&&F<=7){const E={sick:"Sick Leave",vacation:"Vacation Leave",birthday:"Birthday Leave",emergency:"Emergency Leave",unpaid:"Unpaid Leave",paternity:"Paternity Leave",maternity:"Maternity Leave"}[x.leave_type]||x.leave_type,j=x.days_count>1;b.push({id:`leave-${x.id}`,type:"leave",employee:C,date:x.start_date,daysUntil:F,leaveType:x.leave_type,leaveDays:x.days_count,message:F===0?` ${C.name} is on ${E} today${j?` (${x.days_count} days)`:""}`:F===1?` ${C.name} starts ${E} tomorrow${j?` (${x.days_count} days)`:""}`:` ${C.name} starts ${E} in ${F} days${j?` (${x.days_count} days)`:""}`})}}),b.sort((x,C)=>x.daysUntil-C.daysUntil)},c=async()=>{s(!0);try{const{data:m,error:w}=await $e.from("employees").select("*").order("name");if(w)throw w;const b=new Date,v=new Date;v.setDate(b.getDate()+7);const{data:x,error:C}=await $e.from("leave_requests").select("*").eq("status","approved").gte("start_date",b.toISOString().split("T")[0]).lte("start_date",v.toISOString().split("T")[0]).order("start_date");if(C)throw C;const _=l(m||[],x||[]);r(_)}catch(m){console.error("Error fetching notifications:",m)}finally{s(!1)}};T.useEffect(()=>{c()},[]);const u=e.filter(m=>m.daysUntil<=7),d=e.filter(m=>m.daysUntil>7),f=(m,w)=>{if(w===0)return"bg-red-50 border-red-200 text-red-800";if(w<=3)return"bg-orange-50 border-orange-200 text-orange-800";if(w<=7)return"bg-yellow-50 border-yellow-200 text-yellow-800";switch(m){case"birthday":return"bg-pink-50 border-pink-200 text-pink-800";case"regularization":return"bg-blue-50 border-blue-200 text-blue-800";case"anniversary":return"bg-purple-50 border-purple-200 text-purple-800";case"leave":return"bg-green-50 border-green-200 text-green-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},g=m=>{const w=new Date(m);return w.toLocaleDateString("en-US",{month:"short",day:"numeric",year:w.getFullYear()!==new Date().getFullYear()?"numeric":void 0})};return n?o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-3"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 bg-slate-200 rounded"}),o.jsx("div",{className:"h-3 bg-slate-200 rounded w-5/6"})]})]})}):e.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:" Notifications"}),t&&o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:""})]}),o.jsx("p",{className:"text-sm text-slate-600",children:"No upcoming birthdays, regularizations, or anniversaries."})]}):o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-900",children:[" Notifications (",e.length,")"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>a(!i),className:"text-sm text-blue-600 hover:text-blue-800",children:i?"Show Less":"Show All"}),t&&o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:""})]})]}),o.jsxs("div",{className:"space-y-3",children:[u.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:" Urgent (Within 7 days)"}),o.jsx("div",{className:"space-y-2",children:u.map(m=>o.jsx("div",{className:`p-3 rounded-lg border ${f(m.type,m.daysUntil)}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:m.message}),o.jsxs("p",{className:"text-xs mt-1 opacity-75",children:[m.employee.position&&`${m.employee.position}  `,g(m.date)]})]}),o.jsx("span",{className:"text-xs font-medium ml-2",children:m.daysUntil===0?"Today":`${m.daysUntil}d`})]})},m.id))})]}),i&&d.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:" Upcoming (8-30 days)"}),o.jsx("div",{className:"space-y-2",children:d.map(m=>o.jsx("div",{className:`p-3 rounded-lg border ${f(m.type,m.daysUntil)}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:m.message}),o.jsxs("p",{className:"text-xs mt-1 opacity-75",children:[m.employee.position&&`${m.employee.position}  `,g(m.date)]})]}),o.jsxs("span",{className:"text-xs font-medium ml-2",children:[m.daysUntil,"d"]})]})},m.id))})]}),!i&&d.length>0&&o.jsxs("p",{className:"text-xs text-slate-500 text-center",children:["+",d.length," more upcoming notifications"]})]})]})}function Cb(){const[t,e]=T.useState([]),[r,n]=T.useState(!1),[s,i]=T.useState(!0),a=d=>{const f=new Date,g=new Date(d);g.getFullYear()!==f.getFullYear()&&(g.setFullYear(f.getFullYear()),g<f&&g.setFullYear(f.getFullYear()+1));const m=g.getTime()-f.getTime();return Math.ceil(m/(1e3*60*60*24))},A=(d,f)=>{const g=[],m=new Date;return d.forEach(w=>{if(w.birthdate){const b=a(w.birthdate);b>=0&&b<=30&&g.push({id:`birthday-${w.id}`,type:"birthday",employee:w,date:w.birthdate,daysUntil:b,message:b===0?` Today is ${w.name}'s birthday!`:b===1?` ${w.name}'s birthday is tomorrow`:` ${w.name}'s birthday is in ${b} days`})}if(w.employment_status==="probationary"&&w.date_hired){const b=new Date(w.date_hired),v=new Date(b);v.setMonth(v.getMonth()+6);const x=Math.ceil((v.getTime()-m.getTime())/(1e3*60*60*24));x>=0&&x<=30&&g.push({id:`regularization-${w.id}`,type:"regularization",employee:w,date:v.toISOString().split("T")[0],daysUntil:x,message:x===0?` ${w.name} is eligible for regularization today!`:x===1?` ${w.name} is eligible for regularization tomorrow`:` ${w.name} is eligible for regularization in ${x} days`})}if(w.date_hired){const b=new Date(w.date_hired),v=new Date(m.getFullYear(),b.getMonth(),b.getDate());v<m&&v.setFullYear(m.getFullYear()+1);const x=Math.ceil((v.getTime()-m.getTime())/(1e3*60*60*24)),C=m.getFullYear()-b.getFullYear();if(C>=1&&x>=0&&x<=30){const _=C+(v.getFullYear()>m.getFullYear()?0:1);g.push({id:`anniversary-${w.id}`,type:"anniversary",employee:w,date:v.toISOString().split("T")[0],daysUntil:x,message:x===0?` Today is ${w.name}'s ${_} year work anniversary!`:x===1?` ${w.name}'s ${_} year work anniversary is tomorrow`:` ${w.name}'s ${_} year work anniversary is in ${x} days`})}}}),f.forEach(w=>{const b=d.find(C=>C.id===w.employee_id);if(!b||w.status!=="approved")return;const v=new Date(w.start_date),x=Math.ceil((v.getTime()-m.getTime())/(1e3*60*60*24));if(x>=0&&x<=7){const _={sick:"Sick Leave",vacation:"Vacation Leave",birthday:"Birthday Leave",emergency:"Emergency Leave",unpaid:"Unpaid Leave",paternity:"Paternity Leave",maternity:"Maternity Leave"}[w.leave_type]||w.leave_type,F=w.days_count>1;g.push({id:`leave-${w.id}`,type:"leave",employee:b,date:w.start_date,daysUntil:x,leaveType:w.leave_type,leaveDays:w.days_count,message:x===0?` ${b.name} is on ${_} today${F?` (${w.days_count} days)`:""}`:x===1?` ${b.name} starts ${_} tomorrow${F?` (${w.days_count} days)`:""}`:` ${b.name} starts ${_} in ${x} days${F?` (${w.days_count} days)`:""}`})}}),g.sort((w,b)=>w.daysUntil-b.daysUntil)},l=async()=>{i(!0);try{const{data:d,error:f}=await $e.from("employees").select("*").order("name");if(f)throw f;const g=new Date,m=new Date;m.setDate(g.getDate()+7);const{data:w,error:b}=await $e.from("leave_requests").select("*").eq("status","approved").gte("start_date",g.toISOString().split("T")[0]).lte("start_date",m.toISOString().split("T")[0]).order("start_date");if(b)throw b;const v=A(d||[],w||[]);e(v)}catch(d){console.error("Error fetching notifications:",d)}finally{i(!1)}};T.useEffect(()=>{l()},[]);const c=t.filter(d=>d.daysUntil<=7).length,u=t.length>0;return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>n(!r),className:`relative rounded-lg p-2 transition-all ${u?"bg-red-100 text-red-600 hover:bg-red-200":"bg-white text-gray-600 hover:bg-gray-100"} shadow-sm hover:shadow-md`,children:[o.jsxs("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM11 19H6.5A2.5 2.5 0 014 16.5v-9A2.5 2.5 0 016.5 5h11A2.5 2.5 0 0120 7.5v3.5"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7v6l4 4"})]}),u&&o.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white",children:t.length>9?"9+":t.length}),c>0&&o.jsx("span",{className:"absolute -top-1 -left-1 h-3 w-3 rounded-full bg-orange-500 animate-pulse"})]}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),o.jsx("div",{className:"absolute right-0 top-full z-20 mt-2 w-80 max-h-96 overflow-y-auto",children:o.jsx(g4,{onClose:()=>n(!1)})})]})]})}function GQ({transactions:t}){const e=t.reduce((i,a)=>(a.type==="in"&&(i.in+=a.amount),a.type==="out"&&(i.out+=a.amount),a.type==="expense"&&(i.expense+=a.amount),i),{in:0,out:0,expense:0}),r=e.in-(e.out+e.expense),n=i=>i.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),s=(i,a,A,l,c,u)=>o.jsxs("div",{className:`group relative overflow-hidden rounded-xl border bg-white p-6 shadow-sm transition-all hover:shadow-md ${l}`,children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:i}),o.jsxs("div",{className:`mt-3 text-3xl font-bold ${c}`,children:["",n(a)]})]}),o.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${u} transition-transform group-hover:scale-110`,children:A})]}),o.jsx("div",{className:"mt-4 flex items-center gap-1 text-xs text-gray-500",children:o.jsxs("span",{children:[t.filter(d=>i==="Cash In"&&d.type==="in"||i==="Cash Out"&&d.type==="out"||i==="Expenses"&&d.type==="expense").length," transactions"]})})]});return o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s("Cash In",e.in,o.jsx("svg",{className:"h-6 w-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),"border-emerald-100 hover:border-emerald-200","text-emerald-700","bg-emerald-100"),s("Cash Out",e.out,o.jsx("svg",{className:"h-6 w-6 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),"border-amber-100 hover:border-amber-200","text-amber-700","bg-amber-100"),s("Expenses",e.expense,o.jsx("svg",{className:"h-6 w-6 text-rose-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"border-rose-100 hover:border-rose-200","text-rose-700","bg-rose-100"),s("Balance",r,o.jsx("svg",{className:`h-6 w-6 ${r>=0?"text-emerald-600":"text-rose-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r>=0?"border-emerald-200 hover:border-emerald-300":"border-rose-200 hover:border-rose-300",r>=0?"text-emerald-700":"text-rose-700",r>=0?"bg-emerald-100":"bg-rose-100")]})}function qQ({onCreated:t}){const[e,r]=T.useState(()=>new Date().toISOString().slice(0,10)),[n,s]=T.useState("in"),[i,a]=T.useState(""),[A,l]=T.useState(""),[c,u]=T.useState(""),[d,f]=T.useState(null),[g,m]=T.useState(!1),[w,b]=T.useState(null),v=async x=>{x.preventDefault(),b(null);const C=Number(i);if(!i||isNaN(C)||C<=0){b("Amount must be a positive number");return}m(!0);let _=null;if(d)try{const P=d;if(!""){const{error:j}=await $e.storage.from("receipts").list("",{limit:1});if(j){console.error("Storage bucket error:",j),b(`Storage bucket 'receipts' not found or not accessible. Please create it in Supabase Dashboard:

1. Go to Storage  New bucket
2. Name: receipts
3. Check "Public bucket"
4. Click Create

Error details: ${j.message||String(j)}`),m(!1);return}const R=P.name.includes(".")?P.name.split(".").pop():"bin",Z=`receipt-${Date.now()}.${R}`,{data:Q,error:I}=await $e.storage.from("receipts").upload(Z,P,{cacheControl:"3600",upsert:!1,contentType:P.type||"application/octet-stream"});if(I){console.error("Upload error details:",I);const $=(I==null?void 0:I.message)||String(I);b(`Upload failed: ${$}

Common causes:
- Bucket 'receipts' doesn't exist (create it in Supabase Dashboard)
- Bucket is not public or lacks proper policies
- File size exceeds bucket limit
- Invalid file type

See STORAGE_SETUP_GUIDE.md for detailed setup instructions.`),m(!1);return}if(!Q||!Q.path){b("Unexpected upload result"),m(!1);return}const{data:z}=$e.storage.from("receipts").getPublicUrl(Q.path);_=(z==null?void 0:z.publicUrl)??null}}catch(P){b((P==null?void 0:P.message)||String(P)),m(!1);return}const{error:F}=await $e.from("transactions").insert({date:e,type:n,amount:C,category:A||null,note:c||null,receipt_url:_});if(m(!1),F){b(F.message);return}a(""),l(""),u(""),f(null),t()};return o.jsxs("form",{onSubmit:v,className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Add Transaction"}),o.jsx("span",{className:"text-xs text-slate-500",children:"Quick entry"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-5",children:[o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Date"}),o.jsx("input",{type:"date",value:e,onChange:x=>r(x.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Type"}),o.jsxs("select",{value:n,onChange:x=>s(x.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"in",children:"Cash In"}),o.jsx("option",{value:"out",children:"Cash Out"}),o.jsx("option",{value:"expense",children:"Expense"})]})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Amount"}),o.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[o.jsx("span",{className:"inline-flex items-center rounded-l-md border border-r-0 border-slate-300 bg-slate-50 px-3 text-slate-500",children:""}),o.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:i,onChange:x=>a(x.target.value),className:"w-full rounded-r-md border border-slate-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Category"}),o.jsx("input",{type:"text",placeholder:"e.g. Salary, Supplies",value:A,onChange:x=>l(x.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Note"}),o.jsx("input",{type:"text",placeholder:"Optional",value:c,onChange:x=>u(x.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Receipt (photo)"}),o.jsx("input",{type:"file",accept:"image/*",onChange:x=>{var C;return f(((C=x.target.files)==null?void 0:C[0])??null)},className:"mt-1 w-full"})]})]}),w&&o.jsx("p",{className:"mt-3 text-sm text-rose-600",children:w}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{disabled:g,type:"submit",className:"inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-60",children:g?"Saving...":"Add Transaction"})})]})}const JQ=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function YQ({refreshKey:t,onChanged:e}){const[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(null);T.useEffect(()=>{let b=!1;return(async()=>{i(!0),A(null);const{data:x,error:C}=await $e.from("transactions").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});b||(C?A(C.message):n(x??[]),i(!1))})(),()=>{b=!0}},[t]);const l=async b=>{if(!confirm("Delete this transaction?"))return;const{error:v}=await $e.from("transactions").delete().eq("id",b);v?alert(v.message):e()},[c,u]=T.useState(null),[d,f]=T.useState({date:"",type:"in",amount:"",category:"",note:"",receipt:"",receiptFile:null}),g=b=>{u(b.id),f({date:b.date,type:b.type,amount:b.amount,category:b.category??"",note:b.note??"",receipt:b.receipt_url??"",receiptFile:null})},m=()=>{u(null),f({date:"",type:"in",amount:"",category:"",note:"",receipt:"",receiptFile:null})},w=async()=>{if(!d.amount||Number(d.amount)<=0)return alert("Enter a positive amount");let b;if(d.receiptFile)try{const C=d.receiptFile.name.split(".").pop(),_=`receipt-${Date.now()}.${C}`,{data:F,error:P}=await $e.storage.from("receipts").upload(_,d.receiptFile,{cacheControl:"3600",upsert:!1});if(P)throw P;const{data:E}=$e.storage.from("receipts").getPublicUrl(F.path);b=E.publicUrl}catch(C){return alert(C.message||String(C))}else d.receipt===""&&(b=null);const v={date:d.date,type:d.type,amount:Number(d.amount),category:d.category||null,note:d.note||null};b!==void 0&&(v.receipt_url=b);const{error:x}=await $e.from("transactions").update(v).eq("id",c);if(x)return alert(x.message);m(),e()};return s?o.jsx("div",{className:"mt-4 text-sm text-slate-600",children:"Loading..."}):a?o.jsx("div",{className:"mt-4 text-sm text-rose-600",children:a}):o.jsx("div",{className:"mt-4 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[o.jsx("thead",{className:"bg-slate-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Type"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Amount"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Category"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Note"}),o.jsx("th",{className:"px-4 py-2"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[r.map((b,v)=>o.jsx("tr",{className:v%2===0?"bg-white":"bg-slate-50 hover:bg-slate-100",children:c===b.id?o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("input",{type:"date",value:d.date,onChange:x=>f(C=>({...C,date:x.target.value})),className:"w-full rounded border px-2 py-1"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsxs("select",{value:d.type,onChange:x=>f(C=>({...C,type:x.target.value})),className:"w-full rounded border px-2 py-1",children:[o.jsx("option",{value:"in",children:"in"}),o.jsx("option",{value:"out",children:"out"}),o.jsx("option",{value:"expense",children:"expense"})]})}),o.jsx("td",{className:"px-4 py-2 text-right text-sm",children:o.jsx("input",{type:"number",step:"0.01",value:d.amount,onChange:x=>f(C=>({...C,amount:x.target.value===""?"":Number(x.target.value)})),className:"w-full rounded border px-2 py-1 text-right"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("input",{type:"text",value:d.category,onChange:x=>f(C=>({...C,category:x.target.value})),className:"w-full rounded border px-2 py-1"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsxs("div",{children:[o.jsx("input",{type:"text",value:d.note,onChange:x=>f(C=>({...C,note:x.target.value})),className:"w-full rounded border px-2 py-1"}),o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[d.receipt?o.jsx("img",{src:d.receipt,alt:"receipt",className:"h-12 w-12 rounded object-cover border"}):null,o.jsx("input",{type:"file",accept:"image/*",onChange:x=>f(C=>{var _;return{...C,receiptFile:((_=x.target.files)==null?void 0:_[0])??null}})}),d.receipt&&o.jsx("button",{type:"button",className:"rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>f(x=>({...x,receipt:"",receiptFile:null})),children:"Remove"})]})]})}),o.jsxs("td",{className:"px-4 py-2 text-right flex gap-2",children:[o.jsx("button",{type:"button",className:"rounded bg-blue-600 px-2 py-1 text-white",onClick:w,children:"Save"}),o.jsx("button",{type:"button",className:"rounded bg-gray-400 px-2 py-1 text-white",onClick:m,children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-slate-800",children:JQ(b.date)}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("span",{className:b.type==="in"?"rounded bg-emerald-100 px-2 py-1 text-emerald-800":b.type==="out"?"rounded bg-amber-100 px-2 py-1 text-amber-800":"rounded bg-rose-100 px-2 py-1 text-rose-800",children:b.type})}),o.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-slate-900",children:[""," ",b.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-700",children:b.category??""}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-700",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{children:b.note??""}),b.receipt_url?o.jsx("a",{href:b.receipt_url,target:"_blank",rel:"noreferrer",children:o.jsx("img",{src:b.receipt_url,alt:"receipt",className:"h-8 w-8 rounded object-cover border"})}):null]})}),o.jsxs("td",{className:"px-4 py-2 text-right flex gap-2",children:[o.jsx("button",{type:"button",className:"rounded bg-yellow-500 px-2 py-1 text-white",onClick:()=>g(b),children:"Edit"}),o.jsx("button",{onClick:()=>l(b.id),className:"rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",children:"Delete"})]})]})},b.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-slate-500",children:"No transactions yet."})})]})]})})}function XQ(){const[t,e]=T.useState("checking"),[r,n]=T.useState("");T.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:i,error:a}=await $e.storage.listBuckets();if(a){e("error"),n(`Cannot access storage: ${a.message}`);return}if(!(i==null?void 0:i.find(c=>c.name==="receipts"))){e("error"),n("Receipts bucket not found. Please create it in Supabase Dashboard.");return}const{error:l}=await $e.storage.from("receipts").list("",{limit:1});if(l){e("error"),n(`Receipts bucket exists but not accessible: ${l.message}`);return}e("ok"),n("Storage is configured correctly")}catch(i){e("error"),n(`Storage check failed: ${i}`)}};return t==="checking"?o.jsx("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-3 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"}),o.jsx("span",{className:"text-blue-800",children:"Checking storage configuration..."})]})}):t==="error"?o.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-3 text-sm",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-red-800 mb-1",children:"Storage Configuration Issue"}),o.jsx("p",{className:"text-red-700 mb-2",children:r}),o.jsxs("div",{className:"text-xs text-red-600 space-y-1",children:[o.jsx("p",{className:"font-medium",children:"Quick Fix:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"Go to Supabase Dashboard  Storage"}),o.jsx("li",{children:'Click "New bucket"'}),o.jsxs("li",{children:["Name: ",o.jsx("code",{className:"bg-red-100 px-1 rounded",children:"receipts"})]}),o.jsx("li",{children:'Check "Public bucket"'}),o.jsx("li",{children:'Click "Create"'}),o.jsx("li",{children:"Refresh this page"})]})]}),o.jsx("button",{onClick:s,className:"mt-3 text-xs bg-red-600 text-white px-3 py-1.5 rounded hover:bg-red-700",children:"Recheck Storage"})]})]})}):o.jsx("div",{className:"rounded-lg bg-green-50 border border-green-200 p-3 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),o.jsx("span",{className:"text-green-800",children:r})]})})}const ZQ=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function _b(){const[t,e]=T.useState(0),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState("");T.useEffect(()=>{let m=!1;return(async()=>{i(!0),A(null);const{data:b,error:v}=await $e.from("transactions").select("*");m||(v?A(v.message):n(b??[]),i(!1))})(),()=>{m=!0}},[t]),T.useEffect(()=>{(async()=>{var b,v;const{data:{session:w}}=await $e.auth.getSession();if(w){const{data:x}=await $e.from("users").select("full_name").eq("id",w.user.id).single();if(x!=null&&x.full_name)d(x.full_name);else{const C=((b=w.user.user_metadata)==null?void 0:b.full_name)||((v=w.user.email)==null?void 0:v.split("@")[0])||"User";d(C)}}})()},[]);const f=()=>e(m=>m+1),g=r.sort((m,w)=>new Date(w.date).getTime()-new Date(m.date).getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700 p-8 text-white shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold",children:["Welcome Back",u?`, ${u}`:"","!"]}),o.jsx("p",{className:"mt-2 text-blue-100",children:"Track your finances and manage your business accounting with ease"})]}),o.jsx("div",{className:"hidden md:block",children:o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-blue-100",children:"Today"}),o.jsx("div",{className:"text-2xl font-semibold",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})})]})}),o.jsx(g4,{}),o.jsx("div",{children:s?o.jsx("div",{className:"flex items-center justify-center rounded-xl border border-gray-200 bg-white p-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),o.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Loading your financial summary..."})]})}):a?o.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-red-900",children:"Connection Error"}),o.jsx("p",{className:"mt-1 text-sm text-red-700",children:a}),o.jsx("p",{className:"mt-2 text-xs text-red-600",children:"Please check your Supabase configuration in .env.local"})]})]})}):o.jsx(GQ,{transactions:r})}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("button",{onClick:()=>c(!l),className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-blue-500 hover:bg-blue-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:"Add Transaction"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Record income or expense"})]})]}),o.jsxs(pg,{to:"/invoice",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-emerald-500 hover:bg-emerald-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-emerald-100 text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:"Create Invoice"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Generate client invoice"})]})]}),o.jsxs(pg,{to:"/reports",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-purple-500 hover:bg-purple-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600 group-hover:bg-purple-600 group-hover:text-white",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:"View Reports"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Financial insights"})]})]}),o.jsxs(pg,{to:"/payroll",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-amber-500 hover:bg-amber-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 text-amber-600 group-hover:bg-amber-600 group-hover:text-white",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:"Manage Payroll"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Employee payments"})]})]})]}),l&&o.jsxs("div",{className:"animate-fadeIn space-y-4",children:[o.jsx(XQ,{}),o.jsx(qQ,{onCreated:()=>{f(),c(!1)}})]}),!s&&!a&&g.length>0&&o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[g.length," recent transactions"]})]}),o.jsx("div",{className:"space-y-3",children:g.map(m=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 p-4 hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${m.type==="in"?"bg-emerald-100 text-emerald-600":m.type==="out"?"bg-amber-100 text-amber-600":"bg-rose-100 text-rose-600"}`,children:m.type==="in"?"":""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:m.category||"Uncategorized"}),o.jsxs("div",{className:"text-xs text-gray-500",children:[ZQ(m.date)," ",m.note&&` ${m.note}`]})]})]}),o.jsxs("div",{className:`text-lg font-semibold ${m.type==="in"?"text-emerald-600":"text-gray-900"}`,children:[m.type==="in"?"+":"-","",m.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]},m.id))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Transactions"}),o.jsx("button",{onClick:()=>c(!l),className:"text-sm text-blue-600 hover:text-blue-700",children:l?"Hide Form":"Add New"})]}),o.jsx(YQ,{refreshKey:t,onChanged:f})]})]})}function e6(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${e}-${r}`}function Nb(t){const[e,r]=t.split("-").map(Number),n=new Date(e,r-1,1),s=new Date(e,r,0),i=a=>a.toISOString().slice(0,10);return{first:i(n),last:i(s)}}function t6(){const[t,e]=T.useState(()=>e6(new Date)),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState([]),[f,g]=T.useState(!1),[m,w]=T.useState(!1),[b,v]=T.useState("");T.useEffect(()=>{let j=!1;return(async()=>{i(!0),A(null);const{first:Z,last:Q}=Nb(t),{data:I,error:z}=await $e.from("transactions").select("*").gte("date",Z).lte("date",Q).order("date",{ascending:!1}).order("created_at",{ascending:!1});j||(z?A(z.message):n(I??[]),i(!1))})(),()=>{j=!0}},[t]);const{credit:x,debit:C,remaining:_}=T.useMemo(()=>{const j=r.reduce((R,Z)=>(Z.type==="in"?R.credit+=Z.amount:R.debit+=Z.amount,R),{credit:0,debit:0});return{...j,remaining:j.credit-j.debit}},[r]),F=()=>{if(!b.trim()){A("Please paste some text first");return}c(!0),A(null);try{const j=P(b);j.length===0?A("No transactions found. Please check the format."):(d(j),g(!0),w(!1),v(""))}catch(j){A("Failed to parse text. Please check the format."),console.error(j)}finally{c(!1)}},P=j=>{const R=j.split(`
`).filter(I=>I.trim()),Z=[],Q=/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/;for(let I=0;I<R.length;I++){const z=R[I].trim();if(z.match(/^(DATE|DESCRIPTION|DEBIT|CREDIT|TOTAL|CASH ON HAND)/i))continue;const $=z.match(Q);if($){const ce=$[1],ie=z.substring($.index+ce.length).trim(),fe=ie.match(/[\d,]+\.?\d*/g),te=(fe==null?void 0:fe.map(S=>parseFloat(S.replace(/,/g,""))))||[];let W=ie;if(te.length>0&&fe){const S=ie.indexOf(fe[0]);S>0&&(W=ie.substring(0,S).trim())}const J=ce.split(/[\/\-]/);let ee="";if(J.length===3){const[S,M,K]=J;ee=`${K.length===2?`20${K}`:K}-${S.padStart(2,"0")}-${M.padStart(2,"0")}`}if(ee&&W&&te.length>0){let S=0,M=0;te.length>=2?(S=te[0],M=te[1]):te.length===1&&(M=te[0]),Z.push({date:ee,description:W,debit:S,credit:M})}}}return Z},E=async()=>{if(u.length!==0){c(!0),A(null);try{const j=u.map(z=>({date:z.date,type:z.credit>0&&z.debit===0?"in":z.debit>0?"expense":"out",amount:z.credit>0&&z.debit===0?z.credit:z.debit,category:"Imported",note:z.description})),{error:R}=await $e.from("transactions").insert(j);if(R)throw R;const{first:Z,last:Q}=Nb(t),{data:I}=await $e.from("transactions").select("*").gte("date",Z).lte("date",Q).order("date",{ascending:!1}).order("created_at",{ascending:!1});n(I??[]),g(!1),d([])}catch(j){A(j.message||"Failed to import transactions")}finally{c(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Summary"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Credit, debit, and remaining for selected month."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Month"}),o.jsx("input",{type:"month",value:t,onChange:j=>e(j.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Import Data"}),o.jsxs("button",{onClick:()=>w(!m),className:"mt-1 flex items-center gap-2 rounded border bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:[o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Paste Text"]})]})]})]}),l&&o.jsx("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-center text-blue-800",children:"Processing data..."}),m&&o.jsxs("div",{className:"rounded-lg border border-blue-200 bg-white p-6 shadow-sm",children:[o.jsx("h3",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Paste Transaction Data"}),o.jsx("p",{className:"mb-3 text-sm text-gray-600",children:"Copy text from your PDF (Date | Description | Debit | Credit format) and paste below:"}),o.jsx("textarea",{value:b,onChange:j=>v(j.target.value),placeholder:`Example:
01/15/2024 Cash on hand 5000.00
01/16/2024 Payroll 2000.00 1500.00`,className:"mb-3 h-48 w-full rounded border p-3 font-mono text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{w(!1),v("")},className:"rounded border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:F,disabled:l||!b.trim(),className:"rounded bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700 disabled:opacity-50",children:"Parse Data"})]})]}),f&&u.length>0&&o.jsxs("div",{className:"rounded-lg border border-green-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Preview Imported Data (",u.length," transactions)"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{g(!1),d([])},className:"rounded border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:E,disabled:l,className:"rounded bg-green-600 px-4 py-2 text-sm text-white hover:bg-green-700 disabled:opacity-50",children:"Import All"})]})]}),o.jsx("div",{className:"max-h-96 overflow-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-600",children:"Description"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase text-gray-600",children:"Debit"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase text-gray-600",children:"Credit"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map((j,R)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:j.date}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:j.description}),o.jsx("td",{className:"px-4 py-2 text-right text-sm text-gray-900",children:j.debit>0?` ${j.debit.toLocaleString(void 0,{maximumFractionDigits:2})}`:"-"}),o.jsx("td",{className:"px-4 py-2 text-right text-sm text-gray-900",children:j.credit>0?` ${j.credit.toLocaleString(void 0,{maximumFractionDigits:2})}`:"-"})]},R))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Credit (Cash In)"}),o.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",x.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Debit (Cash Out + Expenses)"}),o.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",C.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),o.jsxs("div",{className:`rounded-lg border p-4 shadow-sm ${_>=0?"border-green-200 bg-white":"border-red-200 bg-white"}`,children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Remaining"}),o.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",_.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Type"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Category"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Note"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-600",children:"Loading..."})}),a&&!s&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-red-600",children:a})}),!s&&!a&&r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No transactions for this month."})}),!s&&!a&&r.map(j=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:j.date}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("span",{className:j.type==="in"?"rounded bg-green-100 px-2 py-1 text-green-800":j.type==="out"?"rounded bg-yellow-100 px-2 py-1 text-yellow-800":"rounded bg-red-100 px-2 py-1 text-red-800",children:j.type})}),o.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:[" ",j.amount.toLocaleString(void 0,{maximumFractionDigits:2})]}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:j.category??""}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:j.note??""})]},j.id))]})]})})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wv=function(t,e){return Wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Wv(t,e)};function fi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gv=function(){return Gv=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Gv.apply(this,arguments)};function Pn(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,[])).next())})}function Bn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ff(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var pa=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),q0=function(t,e){return pa.fromClientRect(t,e.getBoundingClientRect())},r6=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new pa(0,0,n,s)},J0=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},Fr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Sb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gf=0;gf<Sb.length;gf++)n6[Sb.charCodeAt(gf)]=gf;var jb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pf=0;pf<jb.length;pf++)Eu[jb.charCodeAt(pf)]=pf;var s6=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Eu[t.charCodeAt(n)],a=Eu[t.charCodeAt(n+1)],A=Eu[t.charCodeAt(n+2)],l=Eu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},i6=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},a6=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},bA=5,Ry=11,Om=2,o6=Ry-bA,p4=65536>>bA,A6=1<<bA,Mm=A6-1,l6=1024>>bA,c6=p4+l6,u6=c6,d6=32,h6=u6+d6,f6=65536>>Ry,g6=1<<o6,p6=g6-1,Fb=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},m6=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},x6=function(t,e){var r=s6(t),n=Array.isArray(r)?a6(r):new Uint32Array(r),s=Array.isArray(r)?i6(r):new Uint16Array(r),i=24,a=Fb(s,i/2,n[4]/2),A=n[5]===2?Fb(s,(i+n[4])/2):m6(n,Math.ceil((i+n[4])/4));return new v6(n[0],n[1],n[2],n[3],a,A)},v6=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>bA],r=(r<<Om)+(e&Mm),this.data[r];if(e<=65535)return r=this.index[p4+(e-55296>>bA)],r=(r<<Om)+(e&Mm),this.data[r];if(e<this.highStart)return r=h6-f6+(e>>Ry),r=this.index[r],r+=e>>bA&p6,r=this.index[r],r=(r<<Om)+(e&Mm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Eb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mf=0;mf<Eb.length;mf++)w6[Eb.charCodeAt(mf)]=mf;var y6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ub=50,b6=1,m4=2,x4=3,B6=4,C6=5,kb=7,v4=8,Lb=9,so=10,qv=11,Qb=12,Jv=13,_6=14,Uu=15,Yv=16,xf=17,fu=18,N6=19,Ib=20,Xv=21,gu=22,Hm=23,vl=24,ds=25,ku=26,Lu=27,wl=28,S6=29,uA=30,j6=31,vf=32,wf=33,Zv=34,ew=35,tw=36,Qd=37,rw=38,mg=39,xg=40,Rm=41,w4=42,F6=43,E6=[9001,65288],y4="!",Dt="",yf="",nw=x6(y6),Xi=[uA,tw],sw=[b6,m4,x4,C6],b4=[so,v4],Pb=[Lu,ku],U6=sw.concat(b4),Tb=[rw,mg,xg,Zv,ew],k6=[Uu,Jv],L6=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,a){var A=nw.get(i);if(A>Ub?(s.push(!0),A-=Ub):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),r.push(Yv);if(A===B6||A===qv){if(a===0)return n.push(a),r.push(uA);var l=r[a-1];return U6.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(uA))}if(n.push(a),A===j6)return r.push(e==="strict"?Xv:Qd);if(A===w4||A===S6)return r.push(uA);if(A===F6)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Qd):r.push(uA);r.push(A)}),[n,r,s]},Km=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var a=n[i];if(a===e)return!0;if(a!==so)break}if(s===so)for(var i=r;i>0;){i--;var A=n[i];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==so)break}if(A!==so)break}return!1},Db=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===so)r--;else return n}return 0},Q6=function(t,e,r,n,s){if(r[n]===0)return Dt;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Dt;var a=i-1,A=i+1,l=e[i],c=a>=0?e[a]:0,u=e[A];if(l===m4&&u===x4)return Dt;if(sw.indexOf(l)!==-1)return y4;if(sw.indexOf(u)!==-1||b4.indexOf(u)!==-1)return Dt;if(Db(i,e)===v4)return yf;if(nw.get(t[i])===qv||(l===vf||l===wf)&&nw.get(t[A])===qv||l===kb||u===kb||l===Lb||[so,Jv,Uu].indexOf(l)===-1&&u===Lb||[xf,fu,N6,vl,wl].indexOf(u)!==-1||Db(i,e)===gu||Km(Hm,gu,i,e)||Km([xf,fu],Xv,i,e)||Km(Qb,Qb,i,e))return Dt;if(l===so)return yf;if(l===Hm||u===Hm)return Dt;if(u===Yv||l===Yv)return yf;if([Jv,Uu,Xv].indexOf(u)!==-1||l===_6||c===tw&&k6.indexOf(l)!==-1||l===wl&&u===tw||u===Ib||Xi.indexOf(u)!==-1&&l===ds||Xi.indexOf(l)!==-1&&u===ds||l===Lu&&[Qd,vf,wf].indexOf(u)!==-1||[Qd,vf,wf].indexOf(l)!==-1&&u===ku||Xi.indexOf(l)!==-1&&Pb.indexOf(u)!==-1||Pb.indexOf(l)!==-1&&Xi.indexOf(u)!==-1||[Lu,ku].indexOf(l)!==-1&&(u===ds||[gu,Uu].indexOf(u)!==-1&&e[A+1]===ds)||[gu,Uu].indexOf(l)!==-1&&u===ds||l===ds&&[ds,wl,vl].indexOf(u)!==-1)return Dt;if([ds,wl,vl,xf,fu].indexOf(u)!==-1)for(var d=i;d>=0;){var f=e[d];if(f===ds)return Dt;if([wl,vl].indexOf(f)!==-1)d--;else break}if([Lu,ku].indexOf(u)!==-1)for(var d=[xf,fu].indexOf(l)!==-1?a:i;d>=0;){var f=e[d];if(f===ds)return Dt;if([wl,vl].indexOf(f)!==-1)d--;else break}if(rw===l&&[rw,mg,Zv,ew].indexOf(u)!==-1||[mg,Zv].indexOf(l)!==-1&&[mg,xg].indexOf(u)!==-1||[xg,ew].indexOf(l)!==-1&&u===xg||Tb.indexOf(l)!==-1&&[Ib,ku].indexOf(u)!==-1||Tb.indexOf(u)!==-1&&l===Lu||Xi.indexOf(l)!==-1&&Xi.indexOf(u)!==-1||l===vl&&Xi.indexOf(u)!==-1||Xi.concat(ds).indexOf(l)!==-1&&u===gu&&E6.indexOf(t[A])===-1||Xi.concat(ds).indexOf(u)!==-1&&l===fu)return Dt;if(l===Rm&&u===Rm){for(var g=r[i],m=1;g>0&&(g--,e[g]===Rm);)m++;if(m%2!==0)return Dt}return l===vf&&u===wf?Dt:yf},I6=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=L6(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(A){return[ds,uA,w4].indexOf(A)!==-1?Qd:A}));var a=e.wordBreak==="keep-all"?i.map(function(A,l){return A&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,a]},P6=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===y4,this.start=n,this.end=s}return t.prototype.slice=function(){return Fr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),T6=function(t,e){var r=J0(t),n=I6(r,e),s=n[0],i=n[1],a=n[2],A=r.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var u=Dt;c<A&&(u=Q6(r,i,s,++c,a))===Dt;);if(u!==Dt||c===A){var d=new P6(r,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},D6=1,O6=2,th=4,Ob=8,n0=10,Mb=47,Xu=92,M6=9,H6=32,bf=34,pu=61,R6=35,K6=36,V6=37,Bf=39,Cf=40,mu=41,z6=95,Gn=45,$6=33,W6=60,G6=62,q6=64,J6=91,Y6=93,X6=61,Z6=123,_f=63,eI=125,Hb=124,tI=126,rI=128,Rb=65533,Vm=42,pA=43,nI=44,sI=58,iI=59,Id=46,aI=0,oI=8,AI=11,lI=14,cI=31,uI=127,Bi=-1,B4=48,C4=97,_4=101,dI=102,hI=117,fI=122,N4=65,S4=69,j4=70,gI=85,pI=90,Cn=function(t){return t>=B4&&t<=57},mI=function(t){return t>=55296&&t<=57343},yl=function(t){return Cn(t)||t>=N4&&t<=j4||t>=C4&&t<=dI},xI=function(t){return t>=C4&&t<=fI},vI=function(t){return t>=N4&&t<=pI},wI=function(t){return xI(t)||vI(t)},yI=function(t){return t>=rI},Nf=function(t){return t===n0||t===M6||t===H6},s0=function(t){return wI(t)||yI(t)||t===z6},Kb=function(t){return s0(t)||Cn(t)||t===Gn},bI=function(t){return t>=aI&&t<=oI||t===AI||t>=lI&&t<=cI||t===uI},Ja=function(t,e){return t!==Xu?!1:e!==n0},Sf=function(t,e,r){return t===Gn?s0(e)||Ja(e,r):s0(t)?!0:!!(t===Xu&&Ja(t,e))},zm=function(t,e,r){return t===pA||t===Gn?Cn(e)?!0:e===Id&&Cn(r):Cn(t===Id?e:t)},BI=function(t){var e=0,r=1;(t[e]===pA||t[e]===Gn)&&(t[e]===Gn&&(r=-1),e++);for(var n=[];Cn(t[e]);)n.push(t[e++]);var s=n.length?parseInt(Fr.apply(void 0,n),10):0;t[e]===Id&&e++;for(var i=[];Cn(t[e]);)i.push(t[e++]);var a=i.length,A=a?parseInt(Fr.apply(void 0,i),10):0;(t[e]===S4||t[e]===_4)&&e++;var l=1;(t[e]===pA||t[e]===Gn)&&(t[e]===Gn&&(l=-1),e++);for(var c=[];Cn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(Fr.apply(void 0,c),10):0;return r*(s+A*Math.pow(10,-a))*Math.pow(10,l*u)},CI={type:2},_I={type:3},NI={type:4},SI={type:13},jI={type:8},FI={type:21},EI={type:9},UI={type:10},kI={type:11},LI={type:12},QI={type:14},jf={type:23},II={type:1},PI={type:25},TI={type:24},DI={type:26},OI={type:27},MI={type:28},HI={type:29},RI={type:31},iw={type:32},F4=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(J0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==iw;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case bf:return this.consumeStringToken(bf);case R6:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Kb(r)||Ja(n,s)){var i=Sf(r,n,s)?O6:D6,a=this.consumeName();return{type:5,value:a,flags:i}}break;case K6:if(this.peekCodePoint(0)===pu)return this.consumeCodePoint(),SI;break;case Bf:return this.consumeStringToken(Bf);case Cf:return CI;case mu:return _I;case Vm:if(this.peekCodePoint(0)===pu)return this.consumeCodePoint(),QI;break;case pA:if(zm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case nI:return NI;case Gn:var A=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(zm(A,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Sf(A,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Gn&&c===G6)return this.consumeCodePoint(),this.consumeCodePoint(),TI;break;case Id:if(zm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Mb:if(this.peekCodePoint(0)===Vm)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Vm&&(u=this.consumeCodePoint(),u===Mb))return this.consumeToken();if(u===Bi)return this.consumeToken()}break;case sI:return DI;case iI:return OI;case W6:if(this.peekCodePoint(0)===$6&&this.peekCodePoint(1)===Gn&&this.peekCodePoint(2)===Gn)return this.consumeCodePoint(),this.consumeCodePoint(),PI;break;case q6:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Sf(d,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case J6:return MI;case Xu:if(Ja(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Y6:return HI;case X6:if(this.peekCodePoint(0)===pu)return this.consumeCodePoint(),jI;break;case Z6:return kI;case eI:return LI;case hI:case gI:var m=this.peekCodePoint(0),w=this.peekCodePoint(1);return m===pA&&(yl(w)||w===_f)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Hb:if(this.peekCodePoint(0)===pu)return this.consumeCodePoint(),EI;if(this.peekCodePoint(0)===Hb)return this.consumeCodePoint(),FI;break;case tI:if(this.peekCodePoint(0)===pu)return this.consumeCodePoint(),UI;break;case Bi:return iw}return Nf(e)?(this.consumeWhiteSpace(),RI):Cn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):s0(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Fr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();yl(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===_f&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Fr.apply(void 0,e.map(function(l){return l===_f?B4:l})),16),i=parseInt(Fr.apply(void 0,e.map(function(l){return l===_f?j4:l})),16);return{type:30,start:s,end:i}}var a=parseInt(Fr.apply(void 0,e),16);if(this.peekCodePoint(0)===Gn&&yl(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];yl(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var i=parseInt(Fr.apply(void 0,A),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Cf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Cf?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Bi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Bf||r===bf){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Bi||this.peekCodePoint(0)===mu)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),jf)}for(;;){var s=this.consumeCodePoint();if(s===Bi||s===mu)return{type:22,value:Fr.apply(void 0,e)};if(Nf(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Bi||this.peekCodePoint(0)===mu?(this.consumeCodePoint(),{type:22,value:Fr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),jf);if(s===bf||s===Bf||s===Cf||bI(s))return this.consumeBadUrlRemnants(),jf;if(s===Xu)if(Ja(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jf;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Nf(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===mu||e===Bi)return;Ja(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=Fr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===Bi||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===n0)return this._value.splice(0,n),II;if(s===Xu){var i=this._value[n+1];i!==Bi&&i!==void 0&&(i===n0?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ja(s,i)&&(r+=this.consumeStringSlice(n),r+=Fr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=th,n=this.peekCodePoint(0);for((n===pA||n===Gn)&&e.push(this.consumeCodePoint());Cn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Id&&Cn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Ob;Cn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===S4||n===_4)&&((s===pA||s===Gn)&&Cn(i)||Cn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Ob;Cn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[BI(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Sf(s,i,a)){var A=this.consumeName();return{type:15,number:r,flags:n,unit:A}}return s===V6?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(yl(e)){for(var r=Fr(e);yl(this.peekCodePoint(0))&&r.length<6;)r+=Fr(this.consumeCodePoint());Nf(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||mI(n)||n>1114111?Rb:n}return e===Bi?Rb:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(Kb(r))e+=Fr(r);else if(Ja(r,this.peekCodePoint(0)))e+=Fr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),E4=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new F4;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||VI(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?iw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),rh=function(t){return t.type===15},jc=function(t){return t.type===17},tr=function(t){return t.type===20},KI=function(t){return t.type===0},aw=function(t,e){return tr(t)&&t.value===e},U4=function(t){return t.type!==31},fc=function(t){return t.type!==31&&t.type!==4},Di=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},VI=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Uo=function(t){return t.type===17||t.type===15},Hr=function(t){return t.type===16||Uo(t)},k4=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},cn={type:17,number:0,flags:th},Ky={type:16,number:50,flags:th},io={type:16,number:100,flags:th},Qu=function(t,e,r){var n=t[0],s=t[1];return[or(n,e),or(typeof s<"u"?s:n,r)]},or=function(t,e){if(t.type===16)return t.number/100*e;if(rh(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},L4="deg",Q4="grad",I4="rad",P4="turn",Y0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case L4:return Math.PI*e.number/180;case Q4:return Math.PI/200*e.number;case I4:return e.number;case P4:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},T4=function(t){return t.type===15&&(t.unit===L4||t.unit===Q4||t.unit===I4||t.unit===P4)},D4=function(t){var e=t.filter(tr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[cn,cn];case"to top":case"bottom":return Os(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[cn,io];case"to right":case"left":return Os(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[io,io];case"to bottom":case"top":return Os(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[io,cn];case"to left":case"right":return Os(270)}return 0},Os=function(t){return Math.PI*t/180},_o={name:"color",parse:function(t,e){if(e.type===18){var r=zI[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return ao(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return ao(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return ao(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return ao(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var A=ua[e.value.toUpperCase()];if(typeof A<"u")return A}return ua.TRANSPARENT}},No=function(t){return(255&t)===0},rn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},ao=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},Vb=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},zb=function(t,e){var r=e.filter(fc);if(r.length===3){var n=r.map(Vb),s=n[0],i=n[1],a=n[2];return ao(s,i,a,1)}if(r.length===4){var A=r.map(Vb),s=A[0],i=A[1],a=A[2],l=A[3];return ao(s,i,a,l)}return 0};function $m(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var $b=function(t,e){var r=e.filter(fc),n=r[0],s=r[1],i=r[2],a=r[3],A=(n.type===17?Os(n.number):Y0.parse(t,n))/(Math.PI*2),l=Hr(s)?s.number/100:0,c=Hr(i)?i.number/100:0,u=typeof a<"u"&&Hr(a)?or(a,1):1;if(l===0)return ao(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,f=c*2-d,g=$m(f,d,A+1/3),m=$m(f,d,A),w=$m(f,d,A-1/3);return ao(g*255,m*255,w*255,u)},zI={hsl:$b,hsla:$b,rgb:zb,rgba:zb},Zu=function(t,e){return _o.parse(t,E4.create(e).parseComponentValue())},ua={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},$I={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(tr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},WI={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},X0=function(t,e){var r=_o.parse(t,e[0]),n=e[1];return n&&Hr(n)?{color:r,stop:n}:{color:r,stop:null}},Wb=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=cn),n.stop===null&&(n.stop=io);for(var s=[],i=0,a=0;a<t.length;a++){var A=t[a].stop;if(A!==null){var l=or(A,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,a=0;a<s.length;a++){var u=s[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var d=a-c,f=s[c-1],g=(u-f)/(d+1),m=1;m<=d;m++)s[c+m-1]=g*m;c=null}}return t.map(function(w,b){var v=w.color;return{color:v,stop:Math.max(Math.min(1,s[b]/e),0)}})},GI=function(t,e,r){var n=e/2,s=r/2,i=or(t[0],e)-n,a=s-or(t[1],r);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},qI=function(t,e,r){var n=typeof t=="number"?t:GI(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,a=r/2,A=s/2,l=Math.sin(n-Math.PI/2)*A,c=Math.cos(n-Math.PI/2)*A;return[s,i-c,i+c,a-l,a+l]},ri=function(t,e){return Math.sqrt(t*t+e*e)},Gb=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(a,A){var l=A[0],c=A[1],u=ri(r-l,n-c);return(s?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:A,optimumDistance:u}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},JI=function(t,e,r,n,s){var i=0,a=0;switch(t.size){case 0:t.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=a=Math.min(ri(e,r),ri(e,r-s),ri(e-n,r),ri(e-n,r-s));else if(t.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=Gb(n,s,e,r,!0),c=l[0],u=l[1];i=ri(c-e,(u-r)/A),a=A*i}break;case 1:t.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=a=Math.max(ri(e,r),ri(e,r-s),ri(e-n,r),ri(e-n,r-s));else if(t.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),d=Gb(n,s,e,r,!1),c=d[0],u=d[1];i=ri(c-e,(u-r)/A),a=A*i}break}return Array.isArray(t.size)&&(i=or(t.size[0],n),a=t.size.length===2?or(t.size[1],s):i),[i,a]},YI=function(t,e){var r=Os(180),n=[];return Di(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){r=D4(s);return}else if(T4(a)){r=Y0.parse(t,a);return}}var A=X0(t,s);n.push(A)}),{angle:r,stops:n,type:1}},Ff=function(t,e){var r=Os(180),n=[];return Di(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=D4(s);return}else if(T4(a)){r=(Y0.parse(t,a)+Os(270))%Os(360);return}}var A=X0(t,s);n.push(A)}),{angle:r,stops:n,type:1}},XI=function(t,e){var r=Os(180),n=[],s=1,i=0,a=3,A=[];return Di(e).forEach(function(l,c){var u=l[0];if(c===0){if(tr(u)&&u.value==="linear"){s=1;return}else if(tr(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var d=_o.parse(t,u.values[0]);n.push({stop:cn,color:d})}else if(u.name==="to"){var d=_o.parse(t,u.values[0]);n.push({stop:io,color:d})}else if(u.name==="color-stop"){var f=u.values.filter(fc);if(f.length===2){var d=_o.parse(t,f[1]),g=f[0];jc(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),s===1?{angle:(r+Os(180))%Os(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:A,type:s}},O4="closest-side",M4="farthest-side",H4="closest-corner",R4="farthest-corner",K4="circle",V4="ellipse",z4="cover",$4="contain",ZI=function(t,e){var r=0,n=3,s=[],i=[];return Di(e).forEach(function(a,A){var l=!0;if(A===0){var c=!1;l=a.reduce(function(d,f){if(c)if(tr(f))switch(f.value){case"center":return i.push(Ky),d;case"top":case"left":return i.push(cn),d;case"right":case"bottom":return i.push(io),d}else(Hr(f)||Uo(f))&&i.push(f);else if(tr(f))switch(f.value){case K4:return r=0,!1;case V4:return r=1,!1;case"at":return c=!0,!1;case O4:return n=0,!1;case z4:case M4:return n=1,!1;case $4:case H4:return n=2,!1;case R4:return n=3,!1}else if(Uo(f)||Hr(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},l)}if(l){var u=X0(t,a);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},Ef=function(t,e){var r=0,n=3,s=[],i=[];return Di(e).forEach(function(a,A){var l=!0;if(A===0?l=a.reduce(function(u,d){if(tr(d))switch(d.value){case"center":return i.push(Ky),!1;case"top":case"left":return i.push(cn),!1;case"right":case"bottom":return i.push(io),!1}else if(Hr(d)||Uo(d))return i.push(d),!1;return u},l):A===1&&(l=a.reduce(function(u,d){if(tr(d))switch(d.value){case K4:return r=0,!1;case V4:return r=1,!1;case $4:case O4:return n=0,!1;case M4:return n=1,!1;case H4:return n=2,!1;case z4:case R4:return n=3,!1}else if(Uo(d)||Hr(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},l)),l){var c=X0(t,a);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},eP=function(t){return t.type===1},tP=function(t){return t.type===2},Vy={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=W4[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function rP(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!W4[t.name])}var W4={"linear-gradient":YI,"-moz-linear-gradient":Ff,"-ms-linear-gradient":Ff,"-o-linear-gradient":Ff,"-webkit-linear-gradient":Ff,"radial-gradient":ZI,"-moz-radial-gradient":Ef,"-ms-radial-gradient":Ef,"-o-radial-gradient":Ef,"-webkit-radial-gradient":Ef,"-webkit-gradient":XI},nP={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return fc(n)&&rP(n)}).map(function(n){return Vy.parse(t,n)})}},sP={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(tr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},iP={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Di(e).map(function(r){return r.filter(Hr)}).map(k4)}},aP={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Di(e).map(function(r){return r.filter(tr).map(function(n){return n.value}).join(" ")}).map(oP)}},oP=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},tc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(tc||(tc={}));var AP={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Di(e).map(function(r){return r.filter(lP)})}},lP=function(t){return tr(t)||Hr(t)},Z0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},cP=Z0("top"),uP=Z0("right"),dP=Z0("bottom"),hP=Z0("left"),ep=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return k4(r.filter(Hr))}}},fP=ep("top-left"),gP=ep("top-right"),pP=ep("bottom-right"),mP=ep("bottom-left"),tp=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},xP=tp("top"),vP=tp("right"),wP=tp("bottom"),yP=tp("left"),rp=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return rh(r)?r.number:0}}},bP=rp("top"),BP=rp("right"),CP=rp("bottom"),_P=rp("left"),NP={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SP={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},jP={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(tr).reduce(function(r,n){return r|FP(n.value)},0)}},FP=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},EP={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},UP={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},i0;(function(t){t.NORMAL="normal",t.STRICT="strict"})(i0||(i0={}));var kP={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return i0.STRICT;case"normal":default:return i0.NORMAL}}},LP={name:"line-height",initialValue:"normal",prefix:!1,type:4},qb=function(t,e){return tr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Hr(t)?or(t,e):e},QP={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Vy.parse(t,e)}},IP={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},ow={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},np=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},PP=np("top"),TP=np("right"),DP=np("bottom"),OP=np("left"),MP={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(tr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},HP={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},sp=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},RP=sp("top"),KP=sp("right"),VP=sp("bottom"),zP=sp("left"),$P={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},WP={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},GP={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&aw(e[0],"none")?[]:Di(e).map(function(r){for(var n={color:ua.TRANSPARENT,offsetX:cn,offsetY:cn,blur:cn},s=0,i=0;i<r.length;i++){var a=r[i];Uo(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=_o.parse(t,a)}return n})}},qP={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},JP={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=ZP[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},YP=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},XP=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],e.length===16?[r,n,s,i,a,A]:null},ZP={matrix:YP,matrix3d:XP},Jb={type:16,number:50,flags:th},eT=[Jb,Jb],tT={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Hr);return r.length!==2?eT:[r[0],r[1]]}},rT={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ed;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(ed||(ed={}));var nT={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return ed.BREAK_ALL;case"keep-all":return ed.KEEP_ALL;case"normal":default:return ed.NORMAL}}},sT={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(jc(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},G4={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},iT={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return jc(e)?e.number:1}},aT={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oT={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(tr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},AT={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},lT={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},cT={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(jc(e))return e.number;if(tr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},uT={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(tr).map(function(r){return r.value})}},dT={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Gr=function(t,e){return(t&e)!==0},hT={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},fT={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(U4),i=0;i<s.length;i++){var a=s[i],A=s[i+1];if(a.type===20){var l=A&&jc(A)?A.number:1;n.push({counter:a.value,increment:l})}}return n}},gT={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(U4),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if(tr(i)&&i.value!=="none"){var A=a&&jc(a)?a.number:0;r.push({counter:i.value,reset:A})}}return r}},pT={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(rh).map(function(r){return G4.parse(t,r)})}},mT={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(KI);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,A=s[i+1].value;n.push({open:a,close:A})}return n}},Yb=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},xT={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&aw(e[0],"none")?[]:Di(e).map(function(r){for(var n={color:255,offsetX:cn,offsetY:cn,blur:cn,spread:cn,inset:!1},s=0,i=0;i<r.length;i++){var a=r[i];aw(a,"inset")?n.inset=!0:Uo(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=_o.parse(t,a)}return n})}},vT={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(tr).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},wT={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},yT={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return rh(e)?e.number:0}},bT=function(){function t(e,r){var n,s;this.animationDuration=At(e,pT,r.animationDuration),this.backgroundClip=At(e,$I,r.backgroundClip),this.backgroundColor=At(e,WI,r.backgroundColor),this.backgroundImage=At(e,nP,r.backgroundImage),this.backgroundOrigin=At(e,sP,r.backgroundOrigin),this.backgroundPosition=At(e,iP,r.backgroundPosition),this.backgroundRepeat=At(e,aP,r.backgroundRepeat),this.backgroundSize=At(e,AP,r.backgroundSize),this.borderTopColor=At(e,cP,r.borderTopColor),this.borderRightColor=At(e,uP,r.borderRightColor),this.borderBottomColor=At(e,dP,r.borderBottomColor),this.borderLeftColor=At(e,hP,r.borderLeftColor),this.borderTopLeftRadius=At(e,fP,r.borderTopLeftRadius),this.borderTopRightRadius=At(e,gP,r.borderTopRightRadius),this.borderBottomRightRadius=At(e,pP,r.borderBottomRightRadius),this.borderBottomLeftRadius=At(e,mP,r.borderBottomLeftRadius),this.borderTopStyle=At(e,xP,r.borderTopStyle),this.borderRightStyle=At(e,vP,r.borderRightStyle),this.borderBottomStyle=At(e,wP,r.borderBottomStyle),this.borderLeftStyle=At(e,yP,r.borderLeftStyle),this.borderTopWidth=At(e,bP,r.borderTopWidth),this.borderRightWidth=At(e,BP,r.borderRightWidth),this.borderBottomWidth=At(e,CP,r.borderBottomWidth),this.borderLeftWidth=At(e,_P,r.borderLeftWidth),this.boxShadow=At(e,xT,r.boxShadow),this.color=At(e,NP,r.color),this.direction=At(e,SP,r.direction),this.display=At(e,jP,r.display),this.float=At(e,EP,r.cssFloat),this.fontFamily=At(e,AT,r.fontFamily),this.fontSize=At(e,lT,r.fontSize),this.fontStyle=At(e,dT,r.fontStyle),this.fontVariant=At(e,uT,r.fontVariant),this.fontWeight=At(e,cT,r.fontWeight),this.letterSpacing=At(e,UP,r.letterSpacing),this.lineBreak=At(e,kP,r.lineBreak),this.lineHeight=At(e,LP,r.lineHeight),this.listStyleImage=At(e,QP,r.listStyleImage),this.listStylePosition=At(e,IP,r.listStylePosition),this.listStyleType=At(e,ow,r.listStyleType),this.marginTop=At(e,PP,r.marginTop),this.marginRight=At(e,TP,r.marginRight),this.marginBottom=At(e,DP,r.marginBottom),this.marginLeft=At(e,OP,r.marginLeft),this.opacity=At(e,iT,r.opacity);var i=At(e,MP,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=At(e,HP,r.overflowWrap),this.paddingTop=At(e,RP,r.paddingTop),this.paddingRight=At(e,KP,r.paddingRight),this.paddingBottom=At(e,VP,r.paddingBottom),this.paddingLeft=At(e,zP,r.paddingLeft),this.paintOrder=At(e,vT,r.paintOrder),this.position=At(e,WP,r.position),this.textAlign=At(e,$P,r.textAlign),this.textDecorationColor=At(e,aT,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=At(e,oT,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=At(e,GP,r.textShadow),this.textTransform=At(e,qP,r.textTransform),this.transform=At(e,JP,r.transform),this.transformOrigin=At(e,tT,r.transformOrigin),this.visibility=At(e,rT,r.visibility),this.webkitTextStrokeColor=At(e,wT,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=At(e,yT,r.webkitTextStrokeWidth),this.wordBreak=At(e,nT,r.wordBreak),this.zIndex=At(e,sT,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return No(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Gr(this.display,4)||Gr(this.display,33554432)||Gr(this.display,268435456)||Gr(this.display,536870912)||Gr(this.display,67108864)||Gr(this.display,134217728)},t}(),BT=function(){function t(e,r){this.content=At(e,hT,r.content),this.quotes=At(e,mT,r.quotes)}return t}(),Xb=function(){function t(e,r){this.counterIncrement=At(e,fT,r.counterIncrement),this.counterReset=At(e,gT,r.counterReset)}return t}(),At=function(t,e,r){var n=new F4,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new E4(n.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(t,tr(a)?a.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return Y0.parse(t,i.parseComponentValue());case"color":return _o.parse(t,i.parseComponentValue());case"image":return Vy.parse(t,i.parseComponentValue());case"length":var A=i.parseComponentValue();return Uo(A)?A:cn;case"length-percentage":var l=i.parseComponentValue();return Hr(l)?l:cn;case"time":return G4.parse(t,i.parseComponentValue())}break}},CT="data-html2canvas-debug",_T=function(t){var e=t.getAttribute(CT);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Aw=function(t,e){var r=_T(t);return r===1||e===r},Oi=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Aw(r,3))debugger;this.styles=new bT(e,window.getComputedStyle(r,null)),uw(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=q0(this.context,r),Aw(r,4)&&(this.flags|=16)}return t}(),NT="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Zb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Iu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uf=0;Uf<Zb.length;Uf++)Iu[Zb.charCodeAt(Uf)]=Uf;var ST=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Iu[t.charCodeAt(n)],a=Iu[t.charCodeAt(n+1)],A=Iu[t.charCodeAt(n+2)],l=Iu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},jT=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},FT=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},BA=5,zy=11,Wm=2,ET=zy-BA,q4=65536>>BA,UT=1<<BA,Gm=UT-1,kT=1024>>BA,LT=q4+kT,QT=LT,IT=32,PT=QT+IT,TT=65536>>zy,DT=1<<ET,OT=DT-1,eB=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},MT=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},HT=function(t,e){var r=ST(t),n=Array.isArray(r)?FT(r):new Uint32Array(r),s=Array.isArray(r)?jT(r):new Uint16Array(r),i=24,a=eB(s,i/2,n[4]/2),A=n[5]===2?eB(s,(i+n[4])/2):MT(n,Math.ceil((i+n[4])/4));return new RT(n[0],n[1],n[2],n[3],a,A)},RT=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>BA],r=(r<<Wm)+(e&Gm),this.data[r];if(e<=65535)return r=this.index[q4+(e-55296>>BA)],r=(r<<Wm)+(e&Gm),this.data[r];if(e<this.highStart)return r=PT-TT+(e>>zy),r=this.index[r],r+=e>>BA&OT,r=this.index[r],r=(r<<Wm)+(e&Gm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),tB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kf=0;kf<tB.length;kf++)KT[tB.charCodeAt(kf)]=kf;var VT=1,qm=2,Jm=3,rB=4,nB=5,zT=7,sB=8,Ym=9,Xm=10,iB=11,aB=12,oB=13,AB=14,Zm=15,$T=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},WT=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},GT=HT(NT),Qs="",ex="",qT=function(t){return GT.get(t)},JT=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],a=e[r];if(i===qm&&a===Jm)return Qs;if(i===qm||i===Jm||i===rB||a===qm||a===Jm||a===rB)return ex;if(i===sB&&[sB,Ym,iB,aB].indexOf(a)!==-1||(i===iB||i===Ym)&&(a===Ym||a===Xm)||(i===aB||i===Xm)&&a===Xm||a===oB||a===nB||a===zT||i===VT)return Qs;if(i===oB&&a===AB){for(;s===nB;)s=e[--n];if(s===AB)return Qs}if(i===Zm&&a===Zm){for(var A=0;s===Zm;)A++,s=e[--n];if(A%2===0)return Qs}return ex},YT=function(t){var e=$T(t),r=e.length,n=0,s=0,i=e.map(qT);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Qs;n<r&&(a=JT(e,i,++n))===Qs;);if(a!==Qs||n===r){var A=WT.apply(null,e.slice(s,n));return s=n,{value:A,done:!1}}return{done:!0,value:null}}}},XT=function(t){for(var e=YT(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},ZT=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},eD=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=J0(n.data).map(function(l){return Fr(l)}),i=0,a={},A=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var u=r.getBoundingClientRect();i+=l.length;var d=u.x>a.x||u.y>a.y;return a=u,c===0?!0:d});return t.body.removeChild(e),A},tD=function(){return typeof new Image().crossOrigin<"u"},rD=function(){return typeof new XMLHttpRequest().responseType=="string"},nD=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},lB=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},sD=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var a=lw(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),cB(a).then(function(A){n.drawImage(A,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",lB(l)?cB(lw(r,r,0,0,c)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),lB(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},lw=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",n.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(s),a},cB=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ln={get SUPPORT_RANGE_BOUNDS(){var t=ZT(document);return Object.defineProperty(ln,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ln.SUPPORT_RANGE_BOUNDS&&eD(document);return Object.defineProperty(ln,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=nD(document);return Object.defineProperty(ln,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?sD(document):Promise.resolve(!1);return Object.defineProperty(ln,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=tD();return Object.defineProperty(ln,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=rD();return Object.defineProperty(ln,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ln,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ln,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},td=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),iD=function(t,e,r,n){var s=AD(e,r),i=[],a=0;return s.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(ln.SUPPORT_RANGE_BOUNDS){var l=uB(n,a,A.length).getClientRects();if(l.length>1){var c=$y(A),u=0;c.forEach(function(f){i.push(new td(f,pa.fromDOMRectList(t,uB(n,u+a,f.length).getClientRects()))),u+=f.length})}else i.push(new td(A,pa.fromDOMRectList(t,l)))}else{var d=n.splitText(A.length);i.push(new td(A,aD(t,n))),n=d}else ln.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));a+=A.length}),i},aD=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=q0(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return pa.EMPTY},uB=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},$y=function(t){if(ln.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return XT(t)},oD=function(t,e){if(ln.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return cD(t,e)},AD=function(t,e){return e.letterSpacing!==0?$y(t):oD(t,e)},lD=[32,160,4961,65792,65793,4153,4241],cD=function(t,e){for(var r=T6(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),A=J0(a),l="";A.forEach(function(c){lD.indexOf(c)===-1?l+=Fr(c):(l.length&&n.push(l),n.push(Fr(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},uD=function(){function t(e,r,n){this.text=dD(r.data,n.textTransform),this.textBounds=iD(e,this.text,n,r)}return t}(),dD=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(hD,fD);case 2:return t.toUpperCase();default:return t}},hD=/(^|\s|:|-|\(|\))([a-z])/g,fD=function(t,e,r){return t.length>0?e+r.toUpperCase():t},J4=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Oi),Y4=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Oi),X4=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,a=q0(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Oi),Z4=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Oi),cw=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Oi),gD=[{type:15,flags:0,unit:"px",number:3}],pD=[{type:16,flags:0,number:50}],mD=function(t){return t.width>t.height?new pa(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new pa(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},xD=function(t){var e=t.type===vD?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},a0="checkbox",o0="radio",vD="password",dB=707406591,Wy=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=xD(n),(s.type===a0||s.type===o0)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=mD(s.bounds)),s.type){case a0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=gD;break;case o0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=pD;break}return s}return e}(Oi),eS=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Oi),tS=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Oi),rS=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=sS(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Zu(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ua.TRANSPARENT,a=n.contentWindow.document.body?Zu(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ua.TRANSPARENT;s.backgroundColor=No(i)?No(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e}(Oi),wD=["OL","UL","MENU"],vg=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,iS(s)&&s.data.trim().length>0)r.textNodes.push(new uD(t,s,r.styles));else if(Wl(s))if(lS(s)&&s.assignedNodes)s.assignedNodes().forEach(function(A){return vg(t,A,r,n)});else{var a=nS(t,s);a.styles.isVisible()&&(yD(s,a,n)?a.flags|=4:bD(a.styles)&&(a.flags|=2),wD.indexOf(s.tagName)!==-1&&(a.flags|=8),r.elements.push(a),s.slot,s.shadowRoot?vg(t,s.shadowRoot,a,n):!A0(s)&&!aS(s)&&!l0(s)&&vg(t,s,a,n))}},nS=function(t,e){return dw(e)?new J4(t,e):oS(e)?new Y4(t,e):aS(e)?new X4(t,e):BD(e)?new Z4(t,e):CD(e)?new cw(t,e):_D(e)?new Wy(t,e):l0(e)?new eS(t,e):A0(e)?new tS(t,e):AS(e)?new rS(t,e):new Oi(t,e)},sS=function(t,e){var r=nS(t,e);return r.flags|=4,vg(t,e,r,r),r},yD=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Gy(t)&&r.styles.isTransparent()},bD=function(t){return t.isPositioned()||t.isFloating()},iS=function(t){return t.nodeType===Node.TEXT_NODE},Wl=function(t){return t.nodeType===Node.ELEMENT_NODE},uw=function(t){return Wl(t)&&typeof t.style<"u"&&!wg(t)},wg=function(t){return typeof t.className=="object"},BD=function(t){return t.tagName==="LI"},CD=function(t){return t.tagName==="OL"},_D=function(t){return t.tagName==="INPUT"},ND=function(t){return t.tagName==="HTML"},aS=function(t){return t.tagName==="svg"},Gy=function(t){return t.tagName==="BODY"},oS=function(t){return t.tagName==="CANVAS"},hB=function(t){return t.tagName==="VIDEO"},dw=function(t){return t.tagName==="IMG"},AS=function(t){return t.tagName==="IFRAME"},fB=function(t){return t.tagName==="STYLE"},SD=function(t){return t.tagName==="SCRIPT"},A0=function(t){return t.tagName==="TEXTAREA"},l0=function(t){return t.tagName==="SELECT"},lS=function(t){return t.tagName==="SLOT"},gB=function(t){return t.tagName.indexOf("-")>0},jD=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(A){var l=r.counters[A.counter];l&&A.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var a=[];return i&&s.forEach(function(A){var l=r.counters[A.counter];a.push(A.counter),l||(l=r.counters[A.counter]=[]),l.push(A.reset)}),a},t}(),pB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},FD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ED={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},bl=function(t,e,r,n,s,i){return t<e||t>r?Pd(t,s,i.length>0):n.integers.reduce(function(a,A,l){for(;t>=A;)t-=A,a+=n.values[l];return a},"")+i},cS=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},jr=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(cS(Math.abs(t),i,n,function(a){return Fr(Math.floor(a%i)+e)})+s)},Zo=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return cS(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},Ul=1,$a=2,Wa=4,Pu=8,Zi=function(t,e,r,n,s,i){if(t<-9999||t>9999)return Pd(t,4,s.length>0);var a=Math.abs(t),A=s;if(a===0)return e[0]+A;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&Gr(i,Ul)&&A!==""?A=e[c]+A:c>1||c===1&&l===0||c===1&&l===1&&Gr(i,$a)||c===1&&l===1&&Gr(i,Wa)&&t>100||c===1&&l>1&&Gr(i,Pu)?A=e[c]+(l>0?r[l-1]:"")+A:c===1&&l>0&&(A=r[l-1]+A),a=Math.floor(a/10)}return(t<0?n:"")+A},xB="",vB="",wB="",tx="",Pd=function(t,e,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=jr(t,48,57,!0,n);return A.length<4?"0"+A:A;case 4:return Zo(t,"",s);case 6:return bl(t,1,3999,pB,3,n).toLowerCase();case 7:return bl(t,1,3999,pB,3,n);case 8:return jr(t,945,969,!1,n);case 9:return jr(t,97,122,!1,n);case 10:return jr(t,65,90,!1,n);case 11:return jr(t,1632,1641,!0,n);case 12:case 49:return bl(t,1,9999,mB,3,n);case 35:return bl(t,1,9999,mB,3,n).toLowerCase();case 13:return jr(t,2534,2543,!0,n);case 14:case 30:return jr(t,6112,6121,!0,n);case 15:return Zo(t,"",s);case 16:return Zo(t,"",s);case 17:case 48:return Zi(t,"",xB,"",s,$a|Wa|Pu);case 47:return Zi(t,"",vB,"",s,Ul|$a|Wa|Pu);case 42:return Zi(t,"",xB,"",s,$a|Wa|Pu);case 41:return Zi(t,"",vB,"",s,Ul|$a|Wa|Pu);case 26:return Zi(t,"","",wB,s,0);case 25:return Zi(t,"","",wB,s,Ul|$a|Wa);case 31:return Zi(t,"","",tx,i,Ul|$a|Wa);case 33:return Zi(t,"","",tx,i,0);case 32:return Zi(t,"","",tx,i,Ul|$a|Wa);case 18:return jr(t,2406,2415,!0,n);case 20:return bl(t,1,19999,ED,3,n);case 21:return jr(t,2790,2799,!0,n);case 22:return jr(t,2662,2671,!0,n);case 22:return bl(t,1,10999,FD,3,n);case 23:return Zo(t,"");case 24:return Zo(t,"");case 27:return jr(t,3302,3311,!0,n);case 28:return Zo(t,"",s);case 29:return Zo(t,"",s);case 34:return jr(t,3792,3801,!0,n);case 37:return jr(t,6160,6169,!0,n);case 38:return jr(t,4160,4169,!0,n);case 39:return jr(t,2918,2927,!0,n);case 40:return jr(t,1776,1785,!0,n);case 43:return jr(t,3046,3055,!0,n);case 44:return jr(t,3174,3183,!0,n);case 45:return jr(t,3664,3673,!0,n);case 46:return jr(t,3872,3881,!0,n);case 3:default:return jr(t,48,57,!0,n)}},uS="data-html2canvas-ignore",yB=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new jD,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=UD(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=s.contentWindow,l=A.document,c=QD(s).then(function(){return Pn(n,void 0,void 0,function(){var u,d;return Bn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(DD),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,LD(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(PD(document.doctype)+"<html></html>"),TD(this.referenceElement.ownerDocument,i,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(Aw(e,2))debugger;if(oS(e))return this.createCanvasClone(e);if(hB(e))return this.createVideoClone(e);if(fB(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return dw(r)&&(dw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),gB(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return rx(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var A=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!Wl(r)||!SD(r)&&!r.hasAttribute(uS)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Wl(r)||!fB(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Wl(i)&&lS(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(A){return s.appendChildNode(r,A,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(iS(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Wl(e)&&(uw(e)||wg(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),A=n.getComputedStyle(e,":after");this.referenceElement===e&&uw(s)&&(this.clonedReferenceElement=s),Gy(s)&&HD(s);var l=this.counters.parse(new Xb(this.context,i)),c=this.resolvePseudoContent(e,s,a,rd.BEFORE);gB(e)&&(r=!0),hB(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,A,rd.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||wg(e))&&!AS(e)||r)&&rx(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(A0(e)||l0(e))&&(A0(s)||l0(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var a=n.content,A=r.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Xb(this.context,n));var l=new BT(this.context,n),c=A.createElement("html2canvaspseudoelement");rx(n,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(A.createTextNode(d.value));else if(d.type===22){var f=A.createElement("img");f.src=d.value,f.style.opacity="1",c.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(tr);g.length&&c.appendChild(A.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(fc),w=m[0],b=m[1];if(w&&tr(w)){var v=i.counters.getCounterValue(w.value),x=b&&tr(b)?ow.parse(i.context,b.value):3;c.appendChild(A.createTextNode(Pd(v,x,!1)))}}else if(d.name==="counters"){var C=d.values.filter(fc),w=C[0],_=C[1],b=C[2];if(w&&tr(w)){var F=i.counters.getCounterValues(w.value),P=b&&tr(b)?ow.parse(i.context,b.value):3,E=_&&_.type===0?_.value:"",j=F.map(function(Q){return Pd(Q,P,!1)}).join(E);c.appendChild(A.createTextNode(j))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(A.createTextNode(Yb(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(Yb(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(d.value))}}),c.className=hw+" "+fw;var u=s===rd.BEFORE?" "+hw:" "+fw;return wg(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),rd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(rd||(rd={}));var UD=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(uS,"true"),t.body.appendChild(r),r},kD=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},LD=function(t){return Promise.all([].slice.call(t.images,0).map(kD))},QD=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},ID=["all","d","content"],rx=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);ID.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},PD=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},TD=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},DD=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},OD=":before",MD=":after",hw="___html2canvas___pseudoelement_before",fw="___html2canvas___pseudoelement_after",bB=`{
    content: "" !important;
    display: none !important;
}`,HD=function(t){RD(t,"."+hw+OD+bB+`
         .`+fw+MD+bB)},RD=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},dS=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),KD=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(sx(e)||WD(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Pn(this,void 0,void 0,function(){var r,n,s,i,a=this;return Bn(this,function(A){switch(A.label){case 0:return r=dS.isSameOrigin(e),n=!nx(e)&&this._options.useCORS===!0&&ln.SUPPORT_CORS_IMAGES&&!r,s=!nx(e)&&!r&&!sx(e)&&typeof this._options.proxy=="string"&&ln.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!nx(e)&&!sx(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(GD(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var A=ln.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")i(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+s)}}l.send()})},t}(),VD=/^data:image\/svg\+xml/i,zD=/^data:image\/.*;base64,/i,$D=/^data:image\/.*/i,WD=function(t){return ln.SUPPORT_SVG_DRAWING||!qD(t)},nx=function(t){return $D.test(t)},GD=function(t){return zD.test(t)},sx=function(t){return t.substr(0,4)==="blob"},qD=function(t){return t.substr(-3).toLowerCase()==="svg"||VD.test(t)},it=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Bl=function(t,e,r){return new it(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Lf=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=Bl(this.start,this.startControl,e),s=Bl(this.startControl,this.endControl,e),i=Bl(this.endControl,this.end,e),a=Bl(n,s,e),A=Bl(s,i,e),l=Bl(a,A,e);return r?new t(this.start,n,a,l):new t(l,A,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ts=function(t){return t.type===1},JD=function(){function t(e){var r=e.styles,n=e.bounds,s=Qu(r.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],A=Qu(r.borderTopRightRadius,n.width,n.height),l=A[0],c=A[1],u=Qu(r.borderBottomRightRadius,n.width,n.height),d=u[0],f=u[1],g=Qu(r.borderBottomLeftRadius,n.width,n.height),m=g[0],w=g[1],b=[];b.push((i+l)/n.width),b.push((m+d)/n.width),b.push((a+w)/n.height),b.push((c+f)/n.height);var v=Math.max.apply(Math,b);v>1&&(i/=v,a/=v,l/=v,c/=v,d/=v,f/=v,m/=v,w/=v);var x=n.width-l,C=n.height-f,_=n.width-d,F=n.height-w,P=r.borderTopWidth,E=r.borderRightWidth,j=r.borderBottomWidth,R=r.borderLeftWidth,Z=or(r.paddingTop,e.bounds.width),Q=or(r.paddingRight,e.bounds.width),I=or(r.paddingBottom,e.bounds.width),z=or(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?hr(n.left+R/3,n.top+P/3,i-R/3,a-P/3,$t.TOP_LEFT):new it(n.left+R/3,n.top+P/3),this.topRightBorderDoubleOuterBox=i>0||a>0?hr(n.left+x,n.top+P/3,l-E/3,c-P/3,$t.TOP_RIGHT):new it(n.left+n.width-E/3,n.top+P/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?hr(n.left+_,n.top+C,d-E/3,f-j/3,$t.BOTTOM_RIGHT):new it(n.left+n.width-E/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=m>0||w>0?hr(n.left+R/3,n.top+F,m-R/3,w-j/3,$t.BOTTOM_LEFT):new it(n.left+R/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?hr(n.left+R*2/3,n.top+P*2/3,i-R*2/3,a-P*2/3,$t.TOP_LEFT):new it(n.left+R*2/3,n.top+P*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?hr(n.left+x,n.top+P*2/3,l-E*2/3,c-P*2/3,$t.TOP_RIGHT):new it(n.left+n.width-E*2/3,n.top+P*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?hr(n.left+_,n.top+C,d-E*2/3,f-j*2/3,$t.BOTTOM_RIGHT):new it(n.left+n.width-E*2/3,n.top+n.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||w>0?hr(n.left+R*2/3,n.top+F,m-R*2/3,w-j*2/3,$t.BOTTOM_LEFT):new it(n.left+R*2/3,n.top+n.height-j*2/3),this.topLeftBorderStroke=i>0||a>0?hr(n.left+R/2,n.top+P/2,i-R/2,a-P/2,$t.TOP_LEFT):new it(n.left+R/2,n.top+P/2),this.topRightBorderStroke=i>0||a>0?hr(n.left+x,n.top+P/2,l-E/2,c-P/2,$t.TOP_RIGHT):new it(n.left+n.width-E/2,n.top+P/2),this.bottomRightBorderStroke=d>0||f>0?hr(n.left+_,n.top+C,d-E/2,f-j/2,$t.BOTTOM_RIGHT):new it(n.left+n.width-E/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=m>0||w>0?hr(n.left+R/2,n.top+F,m-R/2,w-j/2,$t.BOTTOM_LEFT):new it(n.left+R/2,n.top+n.height-j/2),this.topLeftBorderBox=i>0||a>0?hr(n.left,n.top,i,a,$t.TOP_LEFT):new it(n.left,n.top),this.topRightBorderBox=l>0||c>0?hr(n.left+x,n.top,l,c,$t.TOP_RIGHT):new it(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?hr(n.left+_,n.top+C,d,f,$t.BOTTOM_RIGHT):new it(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||w>0?hr(n.left,n.top+F,m,w,$t.BOTTOM_LEFT):new it(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?hr(n.left+R,n.top+P,Math.max(0,i-R),Math.max(0,a-P),$t.TOP_LEFT):new it(n.left+R,n.top+P),this.topRightPaddingBox=l>0||c>0?hr(n.left+Math.min(x,n.width-E),n.top+P,x>n.width+E?0:Math.max(0,l-E),Math.max(0,c-P),$t.TOP_RIGHT):new it(n.left+n.width-E,n.top+P),this.bottomRightPaddingBox=d>0||f>0?hr(n.left+Math.min(_,n.width-R),n.top+Math.min(C,n.height-j),Math.max(0,d-E),Math.max(0,f-j),$t.BOTTOM_RIGHT):new it(n.left+n.width-E,n.top+n.height-j),this.bottomLeftPaddingBox=m>0||w>0?hr(n.left+R,n.top+Math.min(F,n.height-j),Math.max(0,m-R),Math.max(0,w-j),$t.BOTTOM_LEFT):new it(n.left+R,n.top+n.height-j),this.topLeftContentBox=i>0||a>0?hr(n.left+R+z,n.top+P+Z,Math.max(0,i-(R+z)),Math.max(0,a-(P+Z)),$t.TOP_LEFT):new it(n.left+R+z,n.top+P+Z),this.topRightContentBox=l>0||c>0?hr(n.left+Math.min(x,n.width+R+z),n.top+P+Z,x>n.width+R+z?0:l-R+z,c-(P+Z),$t.TOP_RIGHT):new it(n.left+n.width-(E+Q),n.top+P+Z),this.bottomRightContentBox=d>0||f>0?hr(n.left+Math.min(_,n.width-(R+z)),n.top+Math.min(C,n.height+P+Z),Math.max(0,d-(E+Q)),f-(j+I),$t.BOTTOM_RIGHT):new it(n.left+n.width-(E+Q),n.top+n.height-(j+I)),this.bottomLeftContentBox=m>0||w>0?hr(n.left+R+z,n.top+F,Math.max(0,m-(R+z)),w-(j+I),$t.BOTTOM_LEFT):new it(n.left+R+z,n.top+n.height-(j+I))}return t}(),$t;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})($t||($t={}));var hr=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),a=r*i,A=n*i,l=t+r,c=e+n;switch(s){case $t.TOP_LEFT:return new Lf(new it(t,c),new it(t,c-A),new it(l-a,e),new it(l,e));case $t.TOP_RIGHT:return new Lf(new it(t,e),new it(t+a,e),new it(l,c-A),new it(l,c));case $t.BOTTOM_RIGHT:return new Lf(new it(l,e),new it(l,e+A),new it(t+a,c),new it(t,c));case $t.BOTTOM_LEFT:default:return new Lf(new it(l,c),new it(l-a,c),new it(t,e+A),new it(t,e))}},c0=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},YD=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},u0=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},XD=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Qf=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),ZD=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),e8=function(t){return t.type===0},hS=function(t){return t.type===1},t8=function(t){return t.type===2},BB=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},r8=function(t,e,r,n,s){return t.map(function(i,a){switch(a){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},fS=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),gS=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new JD(this.container),this.container.styles.opacity<1&&this.effects.push(new ZD(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new XD(n,s,i))}if(this.container.styles.overflowX!==0){var a=c0(this.curves),A=u0(this.curves);BB(a,A)?this.effects.push(new Qf(a,6)):(this.effects.push(new Qf(a,2)),this.effects.push(new Qf(A,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!hS(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=c0(n.curves),A=u0(n.curves);BB(a,A)||s.unshift(new Qf(A,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return Gr(l.target,e)})},t}(),gw=function(t,e,r,n){t.container.elements.forEach(function(s){var i=Gr(s.flags,4),a=Gr(s.flags,2),A=new gS(s,t);Gr(s.styles.display,2048)&&n.push(A);var l=Gr(s.flags,8)?[]:n;if(i||a){var c=i||s.styles.isPositioned()?r:e,u=new fS(A);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var f=0;c.negativeZIndex.some(function(m,w){return d>m.element.container.styles.zIndex.order?(f=w,!1):f>0}),c.negativeZIndex.splice(f,0,u)}else if(d>0){var g=0;c.positiveZIndex.some(function(m,w){return d>=m.element.container.styles.zIndex.order?(g=w+1,!1):g>0}),c.positiveZIndex.splice(g,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);gw(A,u,i?u:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),gw(A,e,r,l);Gr(s.flags,8)&&pS(s,l)})},pS=function(t,e){for(var r=t instanceof cw?t.start:1,n=t instanceof cw?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof Z4&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Pd(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},n8=function(t){var e=new gS(t,null),r=new fS(e),n=[];return gw(e,r,r,n),pS(e.container,n),r},CB=function(t,e){switch(e){case 0:return Ms(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ms(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ms(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ms(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},s8=function(t,e){switch(e){case 0:return Ms(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ms(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ms(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ms(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},i8=function(t,e){switch(e){case 0:return Ms(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ms(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ms(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ms(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},a8=function(t,e){switch(e){case 0:return If(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return If(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return If(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return If(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},If=function(t,e){var r=[];return Ts(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ts(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ms=function(t,e,r,n){var s=[];return Ts(t)?s.push(t.subdivide(.5,!1)):s.push(t),Ts(r)?s.push(r.subdivide(.5,!0)):s.push(r),Ts(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Ts(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},mS=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},d0=function(t){var e=t.styles,r=t.bounds,n=or(e.paddingLeft,r.width),s=or(e.paddingRight,r.width),i=or(e.paddingTop,r.width),a=or(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},o8=function(t,e){return t===0?e.bounds:t===2?d0(e):mS(e)},A8=function(t,e){return t===0?e.bounds:t===2?d0(e):mS(e)},ix=function(t,e,r){var n=o8(kl(t.styles.backgroundOrigin,e),t),s=A8(kl(t.styles.backgroundClip,e),t),i=l8(kl(t.styles.backgroundSize,e),r,n),a=i[0],A=i[1],l=Qu(kl(t.styles.backgroundPosition,e),n.width-a,n.height-A),c=c8(kl(t.styles.backgroundRepeat,e),l,i,n,s),u=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[c,u,d,a,A]},Cl=function(t){return tr(t)&&t.value===tc.AUTO},Pf=function(t){return typeof t=="number"},l8=function(t,e,r){var n=e[0],s=e[1],i=e[2],a=t[0],A=t[1];if(!a)return[0,0];if(Hr(a)&&A&&Hr(A))return[or(a,r.width),or(A,r.height)];var l=Pf(i);if(tr(a)&&(a.value===tc.CONTAIN||a.value===tc.COVER)){if(Pf(i)){var c=r.width/r.height;return c<i!=(a.value===tc.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=Pf(n),d=Pf(s),f=u||d;if(Cl(a)&&(!A||Cl(A))){if(u&&d)return[n,s];if(!l&&!f)return[r.width,r.height];if(f&&l){var g=u?n:s*i,m=d?s:n/i;return[g,m]}var w=u?n:r.width,b=d?s:r.height;return[w,b]}if(l){var v=0,x=0;return Hr(a)?v=or(a,r.width):Hr(A)&&(x=or(A,r.height)),Cl(a)?v=x*i:(!A||Cl(A))&&(x=v/i),[v,x]}var C=null,_=null;if(Hr(a)?C=or(a,r.width):A&&Hr(A)&&(_=or(A,r.height)),C!==null&&(!A||Cl(A))&&(_=u&&d?C/n*s:r.height),_!==null&&Cl(a)&&(C=u&&d?_/s*n:r.width),C!==null&&_!==null)return[C,_];throw new Error("Unable to calculate background-size for element")},kl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},c8=function(t,e,r,n,s){var i=e[0],a=e[1],A=r[0],l=r[1];switch(t){case 2:return[new it(Math.round(n.left),Math.round(n.top+a)),new it(Math.round(n.left+n.width),Math.round(n.top+a)),new it(Math.round(n.left+n.width),Math.round(l+n.top+a)),new it(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new it(Math.round(n.left+i),Math.round(n.top)),new it(Math.round(n.left+i+A),Math.round(n.top)),new it(Math.round(n.left+i+A),Math.round(n.height+n.top)),new it(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new it(Math.round(n.left+i),Math.round(n.top+a)),new it(Math.round(n.left+i+A),Math.round(n.top+a)),new it(Math.round(n.left+i+A),Math.round(n.top+a+l)),new it(Math.round(n.left+i),Math.round(n.top+a+l))];default:return[new it(Math.round(s.left),Math.round(s.top)),new it(Math.round(s.left+s.width),Math.round(s.top)),new it(Math.round(s.left+s.width),Math.round(s.height+s.top)),new it(Math.round(s.left),Math.round(s.height+s.top))]}},u8="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",_B="Hidden Text",d8=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=u8,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(_B)),n.appendChild(i),n.appendChild(s);var A=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(_B)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:A,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),xS=function(){function t(e,r){this.context=e,this.options=r}return t}(),h8=1e4,f8=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new d8(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),t8(r)&&(this.ctx.globalAlpha=r.opacity),e8(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),hS(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Pn(this,void 0,void 0,function(){var n;return Bn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Pn(this,void 0,void 0,function(){return Bn(this,function(n){switch(n.label){case 0:if(Gr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var a=$y(r.text);a.reduce(function(A,l){return i.ctx.fillText(l,A,r.bounds.top+s),A+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=v8(r.fontFamily).join(", "),i=rh(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return Pn(this,void 0,void 0,function(){var s,i,a,A,l,c,u,d,f=this;return Bn(this,function(g){return s=this.createFontStyle(n),i=s[0],a=s[1],A=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,A),c=l.baseline,u=l.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(w){switch(w){case 0:f.ctx.fillStyle=rn(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,c);var b=n.textShadow;b.length&&m.text.trim().length&&(b.slice(0).reverse().forEach(function(v){f.ctx.shadowColor=rn(v.color),f.ctx.shadowOffsetX=v.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=v.offsetY.number*f.options.scale,f.ctx.shadowBlur=v.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=rn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=rn(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=d0(r),a=u0(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Pn(this,void 0,void 0,function(){var n,s,i,a,A,l,x,x,c,u,d,f,_,g,m,F,w,b,v,x,C,_,F;return Bn(this,function(P){switch(P.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,a=0,A=n.textNodes,P.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,i)]):[3,4];case 2:P.sent(),P.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof J4))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return x=P.sent(),this.renderReplacedElement(n,s,x),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Y4&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof X4))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return x=P.sent(),this.renderReplacedElement(n,s,x),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof rS&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=P.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),P.label=14;case 14:if(n instanceof Wy&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===a0?n.checked&&(this.ctx.save(),this.path([new it(n.bounds.left+d*.39363,n.bounds.top+d*.79),new it(n.bounds.left+d*.16,n.bounds.top+d*.5549),new it(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new it(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new it(n.bounds.left+d*.72983,n.bounds.top+d*.23),new it(n.bounds.left+d*.84,n.bounds.top+d*.34085),new it(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=rn(dB),this.ctx.fill(),this.ctx.restore()):n.type===o0&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=rn(dB),this.ctx.fill(),this.ctx.restore())),g8(n)&&n.value.length){switch(f=this.createFontStyle(i),_=f[0],g=f[1],m=this.fontMetrics.getMetrics(_,g).baseline,this.ctx.font=_,this.ctx.fillStyle=rn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=m8(n.styles.textAlign),F=d0(n),w=0,n.styles.textAlign){case 1:w+=F.width/2;break;case 2:w+=F.width;break}b=F.add(w,0,0,-F.height/2+1),this.ctx.save(),this.path([new it(F.left,F.top),new it(F.left+F.width,F.top),new it(F.left+F.width,F.top+F.height),new it(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new td(n.value,b),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Gr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];x=void 0,C=v.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return x=P.sent(),this.ctx.drawImage(x,n.bounds.left-(x.width+10),n.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(i)[0],this.ctx.font=_,this.ctx.fillStyle=rn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new pa(n.bounds.left,n.bounds.top+or(n.styles.paddingTop,n.bounds.width),n.bounds.width,qb(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new td(r.listValue,F),i.letterSpacing,qb(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Pn(this,void 0,void 0,function(){var n,s,v,i,a,v,A,l,v,c,u,v,d,f,v,g,m,v,w,b,v;return Bn(this,function(x){switch(x.label){case 0:if(Gr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:x.sent(),n=0,s=r.negativeZIndex,x.label=2;case 2:return n<s.length?(v=s[n],[4,this.renderStack(v)]):[3,5];case 3:x.sent(),x.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:x.sent(),i=0,a=r.nonInlineLevel,x.label=7;case 7:return i<a.length?(v=a[i],[4,this.renderNode(v)]):[3,10];case 8:x.sent(),x.label=9;case 9:return i++,[3,7];case 10:A=0,l=r.nonPositionedFloats,x.label=11;case 11:return A<l.length?(v=l[A],[4,this.renderStack(v)]):[3,14];case 12:x.sent(),x.label=13;case 13:return A++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,x.label=15;case 15:return c<u.length?(v=u[c],[4,this.renderStack(v)]):[3,18];case 16:x.sent(),x.label=17;case 17:return c++,[3,15];case 18:d=0,f=r.inlineLevel,x.label=19;case 19:return d<f.length?(v=f[d],[4,this.renderNode(v)]):[3,22];case 20:x.sent(),x.label=21;case 21:return d++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return g<m.length?(v=m[g],[4,this.renderStack(v)]):[3,26];case 24:x.sent(),x.label=25;case 25:return g++,[3,23];case 26:w=0,b=r.positiveZIndex,x.label=27;case 27:return w<b.length?(v=b[w],[4,this.renderStack(v)]):[3,30];case 28:x.sent(),x.label=29;case 29:return w++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var a=Ts(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Ts(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=a.createElement("canvas");A.width=Math.max(1,n),A.height=Math.max(1,s);var l=A.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),A},e.prototype.renderBackgroundImage=function(r){return Pn(this,void 0,void 0,function(){var n,s,i,a,A,l;return Bn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(u){var d,f,g,Z,ie,fe,z,$,j,m,Z,ie,fe,z,$,w,b,v,x,C,_,F,P,E,j,R,Z,Q,I,z,$,ce,ie,fe,te,W,J,ee,S,M,K,G;return Bn(this,function(re){switch(re.label){case 0:if(u.type!==0)return[3,5];d=void 0,f=u.url,re.label=1;case 1:return re.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return d=re.sent(),[3,4];case 3:return re.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(g=ix(r,n,[d.width,d.height,d.width/d.height]),Z=g[0],ie=g[1],fe=g[2],z=g[3],$=g[4],j=i.ctx.createPattern(i.resizeImage(d,z,$),"repeat"),i.renderRepeat(Z,j,ie,fe)),[3,6];case 5:eP(u)?(m=ix(r,n,[null,null,null]),Z=m[0],ie=m[1],fe=m[2],z=m[3],$=m[4],w=qI(u.angle,z,$),b=w[0],v=w[1],x=w[2],C=w[3],_=w[4],F=document.createElement("canvas"),F.width=z,F.height=$,P=F.getContext("2d"),E=P.createLinearGradient(v,C,x,_),Wb(u.stops,b).forEach(function(ae){return E.addColorStop(ae.stop,rn(ae.color))}),P.fillStyle=E,P.fillRect(0,0,z,$),z>0&&$>0&&(j=i.ctx.createPattern(F,"repeat"),i.renderRepeat(Z,j,ie,fe))):tP(u)&&(R=ix(r,n,[null,null,null]),Z=R[0],Q=R[1],I=R[2],z=R[3],$=R[4],ce=u.position.length===0?[Ky]:u.position,ie=or(ce[0],z),fe=or(ce[ce.length-1],$),te=JI(u,ie,fe,z,$),W=te[0],J=te[1],W>0&&J>0&&(ee=i.ctx.createRadialGradient(Q+ie,I+fe,0,Q+ie,I+fe,W),Wb(u.stops,W*2).forEach(function(ae){return ee.addColorStop(ae.stop,rn(ae.color))}),i.path(Z),i.ctx.fillStyle=ee,W!==J?(S=r.bounds.left+.5*r.bounds.width,M=r.bounds.top+.5*r.bounds.height,K=J/W,G=1/K,i.ctx.save(),i.ctx.translate(S,M),i.ctx.transform(1,0,0,K,0,0),i.ctx.translate(-S,-M),i.ctx.fillRect(Q,G*(I-M)+M,z,$*G),i.ctx.restore()):i.ctx.fill())),re.label=6;case 6:return n--,[2]}})},i=this,a=0,A=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<A.length?(l=A[a],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return Pn(this,void 0,void 0,function(){return Bn(this,function(i){return this.path(CB(s,n)),this.ctx.fillStyle=rn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return Pn(this,void 0,void 0,function(){var a,A;return Bn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return a=s8(i,s),this.path(a),this.ctx.fillStyle=rn(r),this.ctx.fill(),A=i8(i,s),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Pn(this,void 0,void 0,function(){var n,s,i,a,A,l,c,u,d=this;return Bn(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!No(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=p8(kl(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),No(n.backgroundColor)||(this.ctx.fillStyle=rn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var m=c0(r.curves),w=g.inset?0:h8,b=r8(m,-w+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(m),d.ctx.clip(),d.mask(b)):(d.mask(m),d.ctx.clip(),d.path(b)),d.ctx.shadowOffsetX=g.offsetX.number+w,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=rn(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?rn(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:A=0,l=0,c=i,f.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!No(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,A,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,A,r.curves)];case 10:f.sent(),f.label=11;case 11:A++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,a){return Pn(this,void 0,void 0,function(){var A,l,c,u,d,f,g,m,w,b,v,x,C,_,F,P,F,P;return Bn(this,function(E){return this.ctx.save(),A=a8(i,s),l=CB(i,s),a===2&&(this.path(l),this.ctx.clip()),Ts(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Ts(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),s===0||s===2?g=Math.abs(c-d):g=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(l.slice(0,2)),m=n<3?n*3:n*2,w=n<3?n*2:n,a===3&&(m=n,w=n),b=!0,g<=m*2?b=!1:g<=m*2+w?(v=g/(2*m+w),m*=v,w*=v):(x=Math.floor((g+w)/(m+w)),C=(g-x*m)/(x-1),_=(g-(x+1)*m)/x,w=_<=0||Math.abs(w-C)<Math.abs(w-_)?C:_),b&&(a===3?this.ctx.setLineDash([0,m+w]):this.ctx.setLineDash([m,w])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=rn(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Ts(l[0])&&(F=l[3],P=l[0],this.ctx.beginPath(),this.formatPath([new it(F.end.x,F.end.y),new it(P.start.x,P.start.y)]),this.ctx.stroke()),Ts(l[1])&&(F=l[1],P=l[2],this.ctx.beginPath(),this.formatPath([new it(F.end.x,F.end.y),new it(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Pn(this,void 0,void 0,function(){var n;return Bn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=n8(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(xS),g8=function(t){return t instanceof tS||t instanceof eS?!0:t instanceof Wy&&t.type!==o0&&t.type!==a0},p8=function(t,e){switch(t){case 0:return c0(e);case 2:return YD(e);case 1:default:return u0(e)}},m8=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},x8=["-apple-system","system-ui"],v8=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return x8.indexOf(e)===-1}):t},w8=function(t){fi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return Pn(this,void 0,void 0,function(){var n,s;return Bn(this,function(i){switch(i.label){case 0:return n=lw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,y8(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(xS),y8=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},b8=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ff([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ff([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ff([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ff([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),B8=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new b8({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new KD(this,e)}return t.instanceCount=1,t}(),ip=function(t,e){return e===void 0&&(e={}),C8(t,e)};typeof window<"u"&&dS.setContext(window);var C8=function(t,e){return Pn(void 0,void 0,void 0,function(){var r,n,s,i,a,A,l,c,u,d,f,g,m,w,b,v,x,C,_,F,E,P,E,j,R,Z,Q,I,z,$,ce,ie,fe,te,W,J,ee,S,M,K;return Bn(this,function(G){switch(G.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(R=e.imageTimeout)!==null&&R!==void 0?R:15e3,proxy:e.proxy,useCORS:(Z=e.useCORS)!==null&&Z!==void 0?Z:!1},i=Gv({logging:(Q=e.logging)!==null&&Q!==void 0?Q:!0,cache:e.cache},s),a={windowWidth:(I=e.windowWidth)!==null&&I!==void 0?I:n.innerWidth,windowHeight:(z=e.windowHeight)!==null&&z!==void 0?z:n.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:n.pageXOffset,scrollY:(ce=e.scrollY)!==null&&ce!==void 0?ce:n.pageYOffset},A=new pa(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new B8(i,A),c=(ie=e.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,u={allowTaint:(fe=e.allowTaint)!==null&&fe!==void 0?fe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),d=new yB(l,t,u),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=G.sent(),m=Gy(f)||ND(f)?r6(f.ownerDocument):q0(l,f),w=m.width,b=m.height,v=m.left,x=m.top,C=_8(l,f,e.backgroundColor),_={canvas:e.canvas,backgroundColor:C,scale:(W=(te=e.scale)!==null&&te!==void 0?te:n.devicePixelRatio)!==null&&W!==void 0?W:1,x:((J=e.x)!==null&&J!==void 0?J:0)+v,y:((ee=e.y)!==null&&ee!==void 0?ee:0)+x,width:(S=e.width)!==null&&S!==void 0?S:Math.ceil(w),height:(M=e.height)!==null&&M!==void 0?M:Math.ceil(b)},c?(l.logger.debug("Document cloned, using foreign object rendering"),E=new w8(l,_),[4,E.render(f)]):[3,3];case 2:return F=G.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+v+","+x+" with size "+w+"x"+b+" using computed rendering"),l.logger.debug("Starting DOM parsing"),P=sS(l,f),C===P.styles.backgroundColor&&(P.styles.backgroundColor=ua.TRANSPARENT),l.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),E=new f8(l,_),[4,E.render(P)];case 4:F=G.sent(),G.label=5;case 5:return(!((K=e.removeContainer)!==null&&K!==void 0)||K)&&(yB.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,F]}})})},_8=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?Zu(t,getComputedStyle(n.documentElement).backgroundColor):ua.TRANSPARENT,i=n.body?Zu(t,getComputedStyle(n.body).backgroundColor):ua.TRANSPARENT,a=typeof r=="string"?Zu(t,r):r===null?ua.TRANSPARENT:4294967295;return e===n.documentElement?No(s)?No(i)?a:i:s:a};const pw=Object.freeze(Object.defineProperty({__proto__:null,default:ip},Symbol.toStringTag,{value:"Module"}));function Yt(t){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(t)}var Nn=Uint8Array,ms=Uint16Array,qy=Int32Array,ap=new Nn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),op=new Nn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mw=new Nn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vS=function(t,e){for(var r=new ms(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new qy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},wS=vS(ap,2),yS=wS.b,xw=wS.r;yS[28]=258,xw[258]=28;var bS=vS(op,0),N8=bS.b,NB=bS.r,vw=new ms(32768);for(var ur=0;ur<32768;++ur){var Ma=(ur&43690)>>1|(ur&21845)<<1;Ma=(Ma&52428)>>2|(Ma&13107)<<2,Ma=(Ma&61680)>>4|(Ma&3855)<<4,vw[ur]=((Ma&65280)>>8|(Ma&255)<<8)>>1}var Pi=function(t,e,r){for(var n=t.length,s=0,i=new ms(e);s<n;++s)t[s]&&++i[t[s]-1];var a=new ms(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var A;if(r){A=new ms(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],d=a[t[s]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)A[vw[d]>>l]=c}else for(A=new ms(n),s=0;s<n;++s)t[s]&&(A[s]=vw[a[t[s]-1]++]>>15-t[s]);return A},ko=new Nn(288);for(var ur=0;ur<144;++ur)ko[ur]=8;for(var ur=144;ur<256;++ur)ko[ur]=9;for(var ur=256;ur<280;++ur)ko[ur]=7;for(var ur=280;ur<288;++ur)ko[ur]=8;var Td=new Nn(32);for(var ur=0;ur<32;++ur)Td[ur]=5;var S8=Pi(ko,9,0),j8=Pi(ko,9,1),F8=Pi(Td,5,0),E8=Pi(Td,5,1),ax=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Zs=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},ox=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Jy=function(t){return(t+7)/8|0},BS=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Nn(t.subarray(e,r))},U8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],si=function(t,e,r){var n=new Error(e||U8[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,si),!r)throw n;return n},k8=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new Nn(0);var a=!r,A=a||e.i!=2,l=e.i;a&&(r=new Nn(s*3));var c=function(Ue){var pe=r.length;if(Ue>pe){var ve=new Nn(Math.max(pe*2,Ue));ve.set(r),r=ve}},u=e.f||0,d=e.p||0,f=e.b||0,g=e.l,m=e.d,w=e.m,b=e.n,v=s*8;do{if(!g){u=Zs(t,d,1);var x=Zs(t,d+1,3);if(d+=3,x)if(x==1)g=j8,m=E8,w=9,b=5;else if(x==2){var P=Zs(t,d,31)+257,E=Zs(t,d+10,15)+4,j=P+Zs(t,d+5,31)+1;d+=14;for(var R=new Nn(j),Z=new Nn(19),Q=0;Q<E;++Q)Z[mw[Q]]=Zs(t,d+Q*3,7);d+=E*3;for(var I=ax(Z),z=(1<<I)-1,$=Pi(Z,I,1),Q=0;Q<j;){var ce=$[Zs(t,d,z)];d+=ce&15;var C=ce>>4;if(C<16)R[Q++]=C;else{var ie=0,fe=0;for(C==16?(fe=3+Zs(t,d,3),d+=2,ie=R[Q-1]):C==17?(fe=3+Zs(t,d,7),d+=3):C==18&&(fe=11+Zs(t,d,127),d+=7);fe--;)R[Q++]=ie}}var te=R.subarray(0,P),W=R.subarray(P);w=ax(te),b=ax(W),g=Pi(te,w,1),m=Pi(W,b,1)}else si(1);else{var C=Jy(d)+4,_=t[C-4]|t[C-3]<<8,F=C+_;if(F>s){l&&si(0);break}A&&c(f+_),r.set(t.subarray(C,F),f),e.b=f+=_,e.p=d=F*8,e.f=u;continue}if(d>v){l&&si(0);break}}A&&c(f+131072);for(var J=(1<<w)-1,ee=(1<<b)-1,S=d;;S=d){var ie=g[ox(t,d)&J],M=ie>>4;if(d+=ie&15,d>v){l&&si(0);break}if(ie||si(2),M<256)r[f++]=M;else if(M==256){S=d,g=null;break}else{var K=M-254;if(M>264){var Q=M-257,G=ap[Q];K=Zs(t,d,(1<<G)-1)+yS[Q],d+=G}var re=m[ox(t,d)&ee],ae=re>>4;re||si(3),d+=re&15;var W=N8[ae];if(ae>3){var G=op[ae];W+=ox(t,d)&(1<<G)-1,d+=G}if(d>v){l&&si(0);break}A&&c(f+131072);var Ae=f+K;if(f<W){var se=i-W,Ne=Math.min(W,Ae);for(se+f<0&&si(3);f<Ne;++f)r[f]=n[se+f]}for(;f<Ae;++f)r[f]=r[f-W]}}e.l=g,e.p=S,e.b=f,e.f=u,g&&(u=1,e.m=w,e.d=m,e.n=b)}while(!u);return f!=r.length&&a?BS(r,0,f):r.subarray(0,f)},ea=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},xu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Ax=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:_S,l:0};if(s==1){var a=new Nn(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(F,P){return F.f-P.f}),r.push({s:-1,f:25001});var A=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:A.f+l.f,l:A,r:l};u!=s-1;)A=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:A.f+l.f,l:A,r:l};for(var f=i[0].s,n=1;n<s;++n)i[n].s>f&&(f=i[n].s);var g=new ms(f+1),m=ww(r[u-1],g,0);if(m>e){var n=0,w=0,b=m-e,v=1<<b;for(i.sort(function(P,E){return g[E.s]-g[P.s]||P.f-E.f});n<s;++n){var x=i[n].s;if(g[x]>e)w+=v-(1<<m-g[x]),g[x]=e;else break}for(w>>=b;w>0;){var C=i[n].s;g[C]<e?w-=1<<e-g[C]++-1:++n}for(;n>=0&&w;--n){var _=i[n].s;g[_]==e&&(--g[_],++w)}m=e}return{t:new Nn(g),l:m}},ww=function(t,e,r){return t.s==-1?Math.max(ww(t.l,e,r+1),ww(t.r,e,r+1)):e[t.s]=r},SB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ms(++e),n=0,s=t[0],i=1,a=function(l){r[n++]=l},A=1;A<=e;++A)if(t[A]==s&&A!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[A]}return{c:r.subarray(0,n),n:e}},vu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},CS=function(t,e,r){var n=r.length,s=Jy(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},jB=function(t,e,r,n,s,i,a,A,l,c,u){ea(e,u++,r),++s[256];for(var d=Ax(s,15),f=d.t,g=d.l,m=Ax(i,15),w=m.t,b=m.l,v=SB(f),x=v.c,C=v.n,_=SB(w),F=_.c,P=_.n,E=new ms(19),j=0;j<x.length;++j)++E[x[j]&31];for(var j=0;j<F.length;++j)++E[F[j]&31];for(var R=Ax(E,7),Z=R.t,Q=R.l,I=19;I>4&&!Z[mw[I-1]];--I);var z=c+5<<3,$=vu(s,ko)+vu(i,Td)+a,ce=vu(s,f)+vu(i,w)+a+14+3*I+vu(E,Z)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&z<=$&&z<=ce)return CS(e,u,t.subarray(l,l+c));var ie,fe,te,W;if(ea(e,u,1+(ce<$)),u+=2,ce<$){ie=Pi(f,g,0),fe=f,te=Pi(w,b,0),W=w;var J=Pi(Z,Q,0);ea(e,u,C-257),ea(e,u+5,P-1),ea(e,u+10,I-4),u+=14;for(var j=0;j<I;++j)ea(e,u+3*j,Z[mw[j]]);u+=3*I;for(var ee=[x,F],S=0;S<2;++S)for(var M=ee[S],j=0;j<M.length;++j){var K=M[j]&31;ea(e,u,J[K]),u+=Z[K],K>15&&(ea(e,u,M[j]>>5&127),u+=M[j]>>12)}}else ie=S8,fe=ko,te=F8,W=Td;for(var j=0;j<A;++j){var G=n[j];if(G>255){var K=G>>18&31;xu(e,u,ie[K+257]),u+=fe[K+257],K>7&&(ea(e,u,G>>23&31),u+=ap[K]);var re=G&31;xu(e,u,te[re]),u+=W[re],re>3&&(xu(e,u,G>>5&8191),u+=op[re])}else xu(e,u,ie[G]),u+=fe[G]}return xu(e,u,ie[256]),u+fe[256]},L8=new qy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_S=new Nn(0),Q8=function(t,e,r,n,s,i){var a=i.z||t.length,A=new Nn(n+a+5*(1+Math.ceil(a/7e3))+s),l=A.subarray(n,A.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var d=L8[e-1],f=d>>13,g=d&8191,m=(1<<r)-1,w=i.p||new ms(32768),b=i.h||new ms(m+1),v=Math.ceil(r/3),x=2*v,C=function(je){return(t[je]^t[je+1]<<v^t[je+2]<<x)&m},_=new qy(25e3),F=new ms(288),P=new ms(32),E=0,j=0,R=i.i||0,Z=0,Q=i.w||0,I=0;R+2<a;++R){var z=C(R),$=R&32767,ce=b[z];if(w[$]=ce,b[z]=$,Q<=R){var ie=a-R;if((E>7e3||Z>24576)&&(ie>423||!c)){u=jB(t,l,0,_,F,P,j,Z,I,R-I,u),Z=E=j=0,I=R;for(var fe=0;fe<286;++fe)F[fe]=0;for(var fe=0;fe<30;++fe)P[fe]=0}var te=2,W=0,J=g,ee=$-ce&32767;if(ie>2&&z==C(R-ee))for(var S=Math.min(f,ie)-1,M=Math.min(32767,R),K=Math.min(258,ie);ee<=M&&--J&&$!=ce;){if(t[R+te]==t[R+te-ee]){for(var G=0;G<K&&t[R+G]==t[R+G-ee];++G);if(G>te){if(te=G,W=ee,G>S)break;for(var re=Math.min(ee,G-2),ae=0,fe=0;fe<re;++fe){var Ae=R-ee+fe&32767,se=w[Ae],Ne=Ae-se&32767;Ne>ae&&(ae=Ne,ce=Ae)}}}$=ce,ce=w[$],ee+=$-ce&32767}if(W){_[Z++]=268435456|xw[te]<<18|NB[W];var Ue=xw[te]&31,pe=NB[W]&31;j+=ap[Ue]+op[pe],++F[257+Ue],++P[pe],Q=R+te,++E}else _[Z++]=t[R],++F[t[R]]}}for(R=Math.max(R,Q);R<a;++R)_[Z++]=t[R],++F[t[R]];u=jB(t,l,c,_,F,P,j,Z,I,R-I,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=b,i.p=w,i.i=R,i.w=Q)}else{for(var R=i.w||0;R<a+c;R+=65535){var ve=R+65535;ve>=a&&(l[u/8|0]=c,ve=a),u=CS(l,u+1,t.subarray(R,ve))}i.i=a}return BS(A,0,n+Jy(u)+s)},NS=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,a=0;a!=i;){for(var A=Math.min(a+2655,i);a<A;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},I8=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new Nn(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return Q8(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},SS=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},P8=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=NS();s.p(e.dictionary),SS(t,2,s.d())}},T8=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&si(6,"invalid zlib data"),(t[1]>>5&1)==1&&si(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function yw(t,e){e||(e={});var r=NS();r.p(t);var n=I8(t,e,e.dictionary?6:2,4);return P8(n,e),SS(n,n.length-4,r.d()),n}function D8(t,e){return k8(t.subarray(T8(t),-4),{i:2},e,e)}var O8=typeof TextDecoder<"u"&&new TextDecoder,M8=0;try{O8.decode(_S,{stream:!0}),M8=1}catch{}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function lx(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var nr={log:lx,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):lx.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):lx(t))}};function cx(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){aA(n.response,e,r)},n.onerror=function(){nr.error("could not download file")},n.send()}function FB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Tf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var nd,bw,aA=wt.saveAs||((typeof window>"u"?"undefined":Yt(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=wt.URL||wt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?FB(s.href)?cx(t,e,r):Tf(s,s.target="_blank"):Tf(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Tf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(FB(t))cx(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Tf(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Yt(i)!=="object"&&(nr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return cx(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(wt.HTMLElement)||wt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Yt(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var u=A.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},A.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function jS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ux(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=xn(r,n,s,i,e[0],7,-680876936),i=xn(i,r,n,s,e[1],12,-389564586),s=xn(s,i,r,n,e[2],17,606105819),n=xn(n,s,i,r,e[3],22,-1044525330),r=xn(r,n,s,i,e[4],7,-176418897),i=xn(i,r,n,s,e[5],12,1200080426),s=xn(s,i,r,n,e[6],17,-1473231341),n=xn(n,s,i,r,e[7],22,-45705983),r=xn(r,n,s,i,e[8],7,1770035416),i=xn(i,r,n,s,e[9],12,-1958414417),s=xn(s,i,r,n,e[10],17,-42063),n=xn(n,s,i,r,e[11],22,-1990404162),r=xn(r,n,s,i,e[12],7,1804603682),i=xn(i,r,n,s,e[13],12,-40341101),s=xn(s,i,r,n,e[14],17,-1502002290),r=vn(r,n=xn(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=vn(i,r,n,s,e[6],9,-1069501632),s=vn(s,i,r,n,e[11],14,643717713),n=vn(n,s,i,r,e[0],20,-373897302),r=vn(r,n,s,i,e[5],5,-701558691),i=vn(i,r,n,s,e[10],9,38016083),s=vn(s,i,r,n,e[15],14,-660478335),n=vn(n,s,i,r,e[4],20,-405537848),r=vn(r,n,s,i,e[9],5,568446438),i=vn(i,r,n,s,e[14],9,-1019803690),s=vn(s,i,r,n,e[3],14,-187363961),n=vn(n,s,i,r,e[8],20,1163531501),r=vn(r,n,s,i,e[13],5,-1444681467),i=vn(i,r,n,s,e[2],9,-51403784),s=vn(s,i,r,n,e[7],14,1735328473),r=wn(r,n=vn(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=wn(i,r,n,s,e[8],11,-2022574463),s=wn(s,i,r,n,e[11],16,1839030562),n=wn(n,s,i,r,e[14],23,-35309556),r=wn(r,n,s,i,e[1],4,-1530992060),i=wn(i,r,n,s,e[4],11,1272893353),s=wn(s,i,r,n,e[7],16,-155497632),n=wn(n,s,i,r,e[10],23,-1094730640),r=wn(r,n,s,i,e[13],4,681279174),i=wn(i,r,n,s,e[0],11,-358537222),s=wn(s,i,r,n,e[3],16,-722521979),n=wn(n,s,i,r,e[6],23,76029189),r=wn(r,n,s,i,e[9],4,-640364487),i=wn(i,r,n,s,e[12],11,-421815835),s=wn(s,i,r,n,e[15],16,530742520),r=yn(r,n=wn(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=yn(i,r,n,s,e[7],10,1126891415),s=yn(s,i,r,n,e[14],15,-1416354905),n=yn(n,s,i,r,e[5],21,-57434055),r=yn(r,n,s,i,e[12],6,1700485571),i=yn(i,r,n,s,e[3],10,-1894986606),s=yn(s,i,r,n,e[10],15,-1051523),n=yn(n,s,i,r,e[1],21,-2054922799),r=yn(r,n,s,i,e[8],6,1873313359),i=yn(i,r,n,s,e[15],10,-30611744),s=yn(s,i,r,n,e[6],15,-1560198380),n=yn(n,s,i,r,e[13],21,1309151649),r=yn(r,n,s,i,e[4],6,-145523070),i=yn(i,r,n,s,e[11],10,-1120210379),s=yn(s,i,r,n,e[2],15,718787259),n=yn(n,s,i,r,e[9],21,-343485551),t[0]=oo(r,t[0]),t[1]=oo(n,t[1]),t[2]=oo(s,t[2]),t[3]=oo(i,t[3])}function Ap(t,e,r,n,s,i){return e=oo(oo(e,t),oo(n,i)),oo(e<<s|e>>>32-s,r)}function xn(t,e,r,n,s,i,a){return Ap(e&r|~e&n,t,e,s,i,a)}function vn(t,e,r,n,s,i,a){return Ap(e&n|r&~n,t,e,s,i,a)}function wn(t,e,r,n,s,i,a){return Ap(e^r^n,t,e,s,i,a)}function yn(t,e,r,n,s,i,a){return Ap(r^(e|~n),t,e,s,i,a)}function FS(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ux(n,H8(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(ux(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,ux(n,s),n}function H8(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}nd=wt.atob.bind(wt),bw=wt.btoa.bind(wt);var EB="0123456789abcdef".split("");function R8(t){for(var e="",r=0;r<4;r++)e+=EB[t>>8*r+4&15]+EB[t>>8*r&15];return e}function K8(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Bw(t){return FS(t).map(K8).join("")}var V8=function(t){for(var e=0;e<t.length;e++)t[e]=R8(t[e]);return t.join("")}(FS("hello"))!="5d41402abc4b2a76b9719d911017c592";function oo(t,e){if(V8){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Cw(t,e){var r,n,s,i;if(t!==r){for(var a=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var u=A[l];c=(c+u+a.charCodeAt(l))%256,A[l]=A[c],A[c]=u}r=t,n=A}else A=n;var d=e.length,f=0,g=0,m="";for(l=0;l<d;l++)g=(g+(u=A[f=(f+1)%256]))%256,A[f]=A[g],A[g]=u,a=A[(A[f]+A[g])%256],m+=String.fromCharCode(e.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var UB={print:4,modify:8,copy:16,"annot-forms":32};function Ll(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(A){if(UB.perm!==void 0)throw new Error("Invalid permission: "+A);s+=UB[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Bw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Cw(this.encryptionKey,this.padding)}function Ql(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function kB(t){if(Yt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var a=e[r][i];try{a[0].apply(t,n)}catch(A){wt.console&&nr.error("jsPDF PubSub Error",A.message,A)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dd(t){if(!(this instanceof Dd))return new Dd(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function ES(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function eo(t,e,r,n,s){if(!(this instanceof eo))return new eo(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,ES.call(this,n,s)}function mA(t,e,r,n,s){if(!(this instanceof mA))return new mA(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,ES.call(this,n,s)}function mt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],A=1,l=16,c="S",u=null;Yt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),A=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},g={internal:{},__private__:{}};g.__private__.PubSub=kB;var m="1.3",w=g.__private__.getPdfVersion=function(){return m};g.__private__.setPdfVersion=function(y){m=y};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return b};var v=g.__private__.getPageFormat=function(y){return b[y]};s=s||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},C=x.COMPAT;function _(){this.saveGraphicsState(),Y(new ut(Se,0,0,-Se,0,Na()*Se).toString()+" cm"),this.setFontSize(this.getFontSize()/Se),c="n",C=x.ADVANCED}function F(){this.restoreGraphicsState(),c="S",C=x.COMPAT}var P=g.__private__.combineFontStyleAndFontWeight=function(y,L){if(y=="bold"&&L=="normal"||y=="bold"&&L==400||y=="normal"&&L=="italic"||y=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(y=L==400||L==="normal"?y==="italic"?"italic":"normal":L!=700&&L!=="bold"||y!=="normal"?(L==700?"bold":L)+""+y:"bold"),y};g.advancedAPI=function(y){var L=C===x.COMPAT;return L&&_.call(this),typeof y!="function"||(y(this),L&&F.call(this)),this},g.compatAPI=function(y){var L=C===x.ADVANCED;return L&&F.call(this),typeof y!="function"||(y(this),L&&_.call(this)),this},g.isAdvancedAPI=function(){return C===x.ADVANCED};var E,j=function(y){if(C!==x.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=g.roundToPrecision=g.__private__.roundToPrecision=function(y,L){var ne=e||L;if(isNaN(y)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(ne).replace(/0+$/,"")};E=g.hpf=g.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,16)};var Z=g.f2=g.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return R(y,2)},Q=g.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return R(y,3)},I=g.scale=g.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return C===x.COMPAT?y*Se:C===x.ADVANCED?y:void 0},z=function(y){return C===x.COMPAT?Na()-y:C===x.ADVANCED?y:void 0},$=function(y){return I(z(y))};g.__private__.setPrecision=g.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var ce,ie="00000000000000000000000000000000",fe=g.__private__.getFileId=function(){return ie},te=g.__private__.setFileId=function(y){return ie=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(fn=new Ll(u.userPermissions,u.userPassword,u.ownerPassword,ie)),ie};g.setFileId=function(y){return te(y),this},g.getFileId=function(){return fe()};var W=g.__private__.convertDateToPDFDate=function(y){var L=y.getTimezoneOffset(),ne=L<0?"+":"-",le=Math.floor(Math.abs(L/60)),be=Math.abs(L%60),Le=[ne,K(le),"'",K(be),"'"].join("");return["D:",y.getFullYear(),K(y.getMonth()+1),K(y.getDate()),K(y.getHours()),K(y.getMinutes()),K(y.getSeconds()),Le].join("")},J=g.__private__.convertPDFDateToDate=function(y){var L=parseInt(y.substr(2,4),10),ne=parseInt(y.substr(6,2),10)-1,le=parseInt(y.substr(8,2),10),be=parseInt(y.substr(10,2),10),Le=parseInt(y.substr(12,2),10),ze=parseInt(y.substr(14,2),10);return new Date(L,ne,le,be,Le,ze,0)},ee=g.__private__.setCreationDate=function(y){var L;if(y===void 0&&(y=new Date),y instanceof Date)L=W(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=y}return ce=L},S=g.__private__.getCreationDate=function(y){var L=ce;return y==="jsDate"&&(L=J(ce)),L};g.setCreationDate=function(y){return ee(y),this},g.getCreationDate=function(y){return S(y)};var M,K=g.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},G=g.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},re=0,ae=[],Ae=[],se=0,Ne=[],Ue=[],pe=!1,ve=Ae,je=function(){re=0,se=0,Ae=[],ae=[],Ne=[],zs=vr(),is=vr()};g.__private__.setCustomOutputDestination=function(y){pe=!0,ve=y};var ge=function(y){pe||(ve=y)};g.__private__.resetCustomOutputDestination=function(){pe=!1,ve=Ae};var Y=g.__private__.out=function(y){return y=y.toString(),se+=y.length+1,ve.push(y),ve},tt=g.__private__.write=function(y){return Y(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Re=g.__private__.getArrayBuffer=function(y){for(var L=y.length,ne=new ArrayBuffer(L),le=new Uint8Array(ne);L--;)le[L]=y.charCodeAt(L);return ne},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ie};var Ve=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(y){return Ve=C===x.ADVANCED?y/Se:y,this};var Ee,Pe=g.__private__.getFontSize=g.getFontSize=function(){return C===x.COMPAT?Ve:Ve*Se},qe=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(y){return qe=y,this},g.__private__.getR2L=g.getR2L=function(){return qe};var et,ye=g.__private__.setZoomMode=function(y){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Ee=y;else if(isNaN(y)){if(L.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Ee=y}else Ee=parseInt(y,10)};g.__private__.getZoomMode=function(){return Ee};var Oe,U=g.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');et=y};g.__private__.getPageMode=function(){return et};var ue=g.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Oe=y};g.__private__.getLayoutMode=function(){return Oe},g.__private__.setDisplayMode=g.setDisplayMode=function(y,L,ne){return ye(y),ue(L),U(ne),this};var oe={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(y){if(Object.keys(oe).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return oe[y]},g.__private__.getDocumentProperties=function(){return oe},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(y){for(var L in oe)oe.hasOwnProperty(L)&&y[L]&&(oe[L]=y[L]);return this},g.__private__.setDocumentProperty=function(y,L){if(Object.keys(oe).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return oe[y]=L};var Be,Se,Xe,ke,Je,We={},nt={},pt=[],X={},Qe={},Ye={},dt={},Et=null,ht=0,st=[],ft=new kB(g),Te=t.hotfixes||[],Ft={},It={},Pt=[],ut=function y(L,ne,le,be,Le,ze){if(!(this instanceof y))return new y(L,ne,le,be,Le,ze);isNaN(L)&&(L=1),isNaN(ne)&&(ne=0),isNaN(le)&&(le=0),isNaN(be)&&(be=1),isNaN(Le)&&(Le=0),isNaN(ze)&&(ze=0),this._matrix=[L,ne,le,be,Le,ze]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(y)},ut.prototype.multiply=function(y){var L=y.sx*this.sx+y.shy*this.shx,ne=y.sx*this.shy+y.shy*this.sy,le=y.shx*this.sx+y.sy*this.shx,be=y.shx*this.shy+y.sy*this.sy,Le=y.tx*this.sx+y.ty*this.shx+this.tx,ze=y.tx*this.shy+y.ty*this.sy+this.ty;return new ut(L,ne,le,be,Le,ze)},ut.prototype.decompose=function(){var y=this.sx,L=this.shy,ne=this.shx,le=this.sy,be=this.tx,Le=this.ty,ze=Math.sqrt(y*y+L*L),at=(y/=ze)*ne+(L/=ze)*le;ne-=y*at,le-=L*at;var gt=Math.sqrt(ne*ne+le*le);return at/=gt,y*(le/=gt)<L*(ne/=gt)&&(y=-y,L=-L,at=-at,ze=-ze),{scale:new ut(ze,0,0,gt,0,0),translate:new ut(1,0,0,1,be,Le),rotate:new ut(y,L,-L,y,0,0),skew:new ut(1,0,at,1,0,0)}},ut.prototype.toString=function(y){return this.join(" ")},ut.prototype.inversed=function(){var y=this.sx,L=this.shy,ne=this.shx,le=this.sy,be=this.tx,Le=this.ty,ze=1/(y*le-L*ne),at=le*ze,gt=-L*ze,St=-ne*ze,Ct=y*ze;return new ut(at,gt,St,Ct,-at*be-St*Le,-gt*be-Ct*Le)},ut.prototype.applyToPoint=function(y){var L=y.x*this.sx+y.y*this.shx+this.tx,ne=y.x*this.shy+y.y*this.sy+this.ty;return new JA(L,ne)},ut.prototype.applyToRectangle=function(y){var L=this.applyToPoint(y),ne=this.applyToPoint(new JA(y.x+y.w,y.y+y.h));return new Oc(L.x,L.y,ne.x-L.x,ne.y-L.y)},ut.prototype.clone=function(){var y=this.sx,L=this.shy,ne=this.shx,le=this.sy,be=this.tx,Le=this.ty;return new ut(y,L,ne,le,be,Le)},g.Matrix=ut;var Kr=g.matrixMult=function(y,L){return L.multiply(y)},Yr=new ut(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Yr;var Ir=function(y,L){if(!Qe[y]){var ne=(L instanceof eo?"Sh":"P")+(Object.keys(X).length+1).toString(10);L.id=ne,Qe[y]=ne,X[ne]=L,ft.publish("addPattern",L)}};g.ShadingPattern=eo,g.TilingPattern=mA,g.addShadingPattern=function(y,L){return j("addShadingPattern()"),Ir(y,L),this},g.beginTilingPattern=function(y){j("beginTilingPattern()"),yh(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},g.endTilingPattern=function(y,L){j("endTilingPattern()"),L.stream=Ue[M].join(`
`),Ir(y,L),ft.publish("endTilingPattern",L),Pt.pop().restore()};var Vt=g.__private__.newObject=function(){var y=vr();return En(y,!0),y},vr=g.__private__.newObjectDeferred=function(){return re++,ae[re]=function(){return se},re},En=function(y,L){return L=typeof L=="boolean"&&L,ae[y]=se,L&&Y(y+" 0 obj"),y},va=g.__private__.newAdditionalObject=function(){var y={objId:vr(),content:""};return Ne.push(y),y},zs=vr(),is=vr(),hn=g.__private__.decodeColorString=function(y){var L=y.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var ne=parseFloat(L[0]);L=[ne,ne,ne,"r"]}for(var le="#",be=0;be<3;be++)le+=("0"+Math.floor(255*parseFloat(L[be])).toString(16)).slice(-2);return le},as=g.__private__.encodeColorString=function(y){var L;typeof y=="string"&&(y={ch1:y});var ne=y.ch1,le=y.ch2,be=y.ch3,Le=y.ch4,ze=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var at=new jS(ne);if(at.ok)ne=at.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var gt=parseInt(ne.substr(1),16);ne=gt>>16&255,le=gt>>8&255,be=255&gt}if(le===void 0||Le===void 0&&ne===le&&le===be)if(typeof ne=="string")L=ne+" "+ze[0];else switch(y.precision){case 2:L=Z(ne/255)+" "+ze[0];break;case 3:default:L=Q(ne/255)+" "+ze[0]}else if(Le===void 0||Yt(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return L=["1.","1.","1.",ze[1]].join(" ");if(typeof ne=="string")L=[ne,le,be,ze[1]].join(" ");else switch(y.precision){case 2:L=[Z(ne/255),Z(le/255),Z(be/255),ze[1]].join(" ");break;default:case 3:L=[Q(ne/255),Q(le/255),Q(be/255),ze[1]].join(" ")}}else if(typeof ne=="string")L=[ne,le,be,Le,ze[2]].join(" ");else switch(y.precision){case 2:L=[Z(ne),Z(le),Z(be),Z(Le),ze[2]].join(" ");break;case 3:default:L=[Q(ne),Q(le),Q(be),Q(Le),ze[2]].join(" ")}return L},Cs=g.__private__.getFilters=function(){return a},Un=g.__private__.putStream=function(y){var L=(y=y||{}).data||"",ne=y.filters||Cs(),le=y.alreadyAppliedFilters||[],be=y.addLength1||!1,Le=L.length,ze=y.objectId,at=function(gn){return gn};if(u!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(at=fn.encryptor(ze,0));var gt={};ne===!0&&(ne=["FlateEncode"]);var St=y.additionalKeyValues||[],Ct=(gt=mt.API.processDataByFilters!==void 0?mt.API.processDataByFilters(L,ne):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(gt.data.length!==0&&(St.push({key:"Length",value:gt.data.length}),be===!0&&St.push({key:"Length1",value:Le})),Ct.length!=0)if(Ct.split("/").length-1==1)St.push({key:"Filter",value:Ct});else{St.push({key:"Filter",value:"["+Ct+"]"});for(var Mt=0;Mt<St.length;Mt+=1)if(St[Mt].key==="DecodeParms"){for(var gr=[],wr=0;wr<gt.reverseChain.split("/").length-1;wr+=1)gr.push("null");gr.push(St[Mt].value),St[Mt].value="["+gr.join(" ")+"]"}}Y("<<");for(var Pr=0;Pr<St.length;Pr++)Y("/"+St[Pr].key+" "+St[Pr].value);Y(">>"),gt.data.length!==0&&(Y("stream"),Y(at(gt.data)),Y("endstream"))},_s=g.__private__.putPage=function(y){var L=y.number,ne=y.data,le=y.objId,be=y.contentsObjId;En(le,!0),Y("<</Type /Page"),Y("/Parent "+y.rootDictionaryObjId+" 0 R"),Y("/Resources "+y.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(E(y.mediaBox.bottomLeftX))+" "+parseFloat(E(y.mediaBox.bottomLeftY))+" "+E(y.mediaBox.topRightX)+" "+E(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&Y("/CropBox ["+E(y.cropBox.bottomLeftX)+" "+E(y.cropBox.bottomLeftY)+" "+E(y.cropBox.topRightX)+" "+E(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&Y("/BleedBox ["+E(y.bleedBox.bottomLeftX)+" "+E(y.bleedBox.bottomLeftY)+" "+E(y.bleedBox.topRightX)+" "+E(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&Y("/TrimBox ["+E(y.trimBox.bottomLeftX)+" "+E(y.trimBox.bottomLeftY)+" "+E(y.trimBox.topRightX)+" "+E(y.trimBox.topRightY)+"]"),y.artBox!==null&&Y("/ArtBox ["+E(y.artBox.bottomLeftX)+" "+E(y.artBox.bottomLeftY)+" "+E(y.artBox.topRightX)+" "+E(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&Y("/UserUnit "+y.userUnit),ft.publish("putPage",{objId:le,pageContext:st[L],pageNumber:L,page:ne}),Y("/Contents "+be+" 0 R"),Y(">>"),Y("endobj");var Le=ne.join(`
`);return C===x.ADVANCED&&(Le+=`
Q`),En(be,!0),Un({data:Le,filters:Cs(),objectId:be}),Y("endobj"),le},Ri=g.__private__.putPages=function(){var y,L,ne=[];for(y=1;y<=ht;y++)st[y].objId=vr(),st[y].contentsObjId=vr();for(y=1;y<=ht;y++)ne.push(_s({number:y,data:Ue[y],objId:st[y].objId,contentsObjId:st[y].contentsObjId,mediaBox:st[y].mediaBox,cropBox:st[y].cropBox,bleedBox:st[y].bleedBox,trimBox:st[y].trimBox,artBox:st[y].artBox,userUnit:st[y].userUnit,rootDictionaryObjId:zs,resourceDictionaryObjId:is}));En(zs,!0),Y("<</Type /Pages");var le="/Kids [";for(L=0;L<ht;L++)le+=ne[L]+" 0 R ";Y(le+"]"),Y("/Count "+ht),Y(">>"),Y("endobj"),ft.publish("postPutPages")},wa=function(y){ft.publish("putFont",{font:y,out:Y,newObject:Vt,putStream:Un}),y.isAlreadyPutted!==!0&&(y.objectNumber=Vt(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Ql(y.postScriptName)),Y("/Subtype /Type1"),typeof y.encoding=="string"&&Y("/Encoding /"+y.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},ya=function(){for(var y in We)We.hasOwnProperty(y)&&(d===!1||d===!0&&f.hasOwnProperty(y))&&wa(We[y])},ba=function(y){y.objectNumber=Vt();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[E(y.x),E(y.y),E(y.x+y.width),E(y.y+y.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var ne=y.pages[1].join(`
`);Un({data:ne,additionalKeyValues:L,objectId:y.objectNumber}),Y("endobj")},Ba=function(){for(var y in Ft)Ft.hasOwnProperty(y)&&ba(Ft[y])},HA=function(y,L){var ne,le=[],be=1/(L-1);for(ne=0;ne<1;ne+=be)le.push(ne);if(le.push(1),y[0].offset!=0){var Le={offset:0,color:y[0].color};y.unshift(Le)}if(y[y.length-1].offset!=1){var ze={offset:1,color:y[y.length-1].color};y.push(ze)}for(var at="",gt=0,St=0;St<le.length;St++){for(ne=le[St];ne>y[gt+1].offset;)gt++;var Ct=y[gt].offset,Mt=(ne-Ct)/(y[gt+1].offset-Ct),gr=y[gt].color,wr=y[gt+1].color;at+=G(Math.round((1-Mt)*gr[0]+Mt*wr[0]).toString(16))+G(Math.round((1-Mt)*gr[1]+Mt*wr[1]).toString(16))+G(Math.round((1-Mt)*gr[2]+Mt*wr[2]).toString(16))}return at.trim()},me=function(y,L){L||(L=21);var ne=Vt(),le=HA(y.colors,L),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+L+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Un({data:le,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),Y("endobj"),y.objectNumber=Vt(),Y("<< /ShadingType "+y.type),Y("/ColorSpace /DeviceRGB");var Le="/Coords ["+E(parseFloat(y.coords[0]))+" "+E(parseFloat(y.coords[1]))+" ";y.type===2?Le+=E(parseFloat(y.coords[2]))+" "+E(parseFloat(y.coords[3])):Le+=E(parseFloat(y.coords[2]))+" "+E(parseFloat(y.coords[3]))+" "+E(parseFloat(y.coords[4]))+" "+E(parseFloat(y.coords[5])),Y(Le+="]"),y.matrix&&Y("/Matrix ["+y.matrix.toString()+"]"),Y("/Function "+ne+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Bt=function(y,L){var ne=vr(),le=Vt();L.push({resourcesOid:ne,objectOid:le}),y.objectNumber=le;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+y.boundingBox.map(E).join(" ")+"]"}),be.push({key:"XStep",value:E(y.xStep)}),be.push({key:"YStep",value:E(y.yStep)}),be.push({key:"Resources",value:ne+" 0 R"}),y.matrix&&be.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Un({data:y.stream,additionalKeyValues:be,objectId:y.objectNumber}),Y("endobj")},Ut=function(y){var L;for(L in X)X.hasOwnProperty(L)&&(X[L]instanceof eo?me(X[L]):X[L]instanceof mA&&Bt(X[L],y))},kn=function(y){for(var L in y.objectNumber=Vt(),Y("<<"),y)switch(L){case"opacity":Y("/ca "+Z(y[L]));break;case"stroke-opacity":Y("/CA "+Z(y[L]))}Y(">>"),Y("endobj")},$s=function(){var y;for(y in Ye)Ye.hasOwnProperty(y)&&kn(Ye[y])},mi=function(){for(var y in Y("/XObject <<"),Ft)Ft.hasOwnProperty(y)&&Ft[y].objectNumber>=0&&Y("/"+y+" "+Ft[y].objectNumber+" 0 R");ft.publish("putXobjectDict"),Y(">>")},RA=function(){fn.oid=Vt(),Y("<<"),Y("/Filter /Standard"),Y("/V "+fn.v),Y("/R "+fn.r),Y("/U <"+fn.toHexString(fn.U)+">"),Y("/O <"+fn.toHexString(fn.O)+">"),Y("/P "+fn.P),Y(">>"),Y("endobj")},ih=function(){for(var y in Y("/Font <<"),We)We.hasOwnProperty(y)&&(d===!1||d===!0&&f.hasOwnProperty(y))&&Y("/"+y+" "+We[y].objectNumber+" 0 R");Y(">>")},wp=function(){if(Object.keys(X).length>0){for(var y in Y("/Shading <<"),X)X.hasOwnProperty(y)&&X[y]instanceof eo&&X[y].objectNumber>=0&&Y("/"+y+" "+X[y].objectNumber+" 0 R");ft.publish("putShadingPatternDict"),Y(">>")}},KA=function(y){if(Object.keys(X).length>0){for(var L in Y("/Pattern <<"),X)X.hasOwnProperty(L)&&X[L]instanceof g.TilingPattern&&X[L].objectNumber>=0&&X[L].objectNumber<y&&Y("/"+L+" "+X[L].objectNumber+" 0 R");ft.publish("putTilingPatternDict"),Y(">>")}},yp=function(){if(Object.keys(Ye).length>0){var y;for(y in Y("/ExtGState <<"),Ye)Ye.hasOwnProperty(y)&&Ye[y].objectNumber>=0&&Y("/"+y+" "+Ye[y].objectNumber+" 0 R");ft.publish("putGStateDict"),Y(">>")}},_r=function(y){En(y.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ih(),wp(),KA(y.objectOid),yp(),mi(),Y(">>"),Y("endobj")},ah=function(){var y=[];ya(),$s(),Ba(),Ut(y),ft.publish("putResources"),y.forEach(_r),_r({resourcesOid:is,objectOid:Number.MAX_SAFE_INTEGER}),ft.publish("postPutResources")},oh=function(){ft.publish("putAdditionalObjects");for(var y=0;y<Ne.length;y++){var L=Ne[y];En(L.objId,!0),Y(L.content),Y("endobj")}ft.publish("postPutAdditionalObjects")},Ah=function(y){nt[y.fontName]=nt[y.fontName]||{},nt[y.fontName][y.fontStyle]=y.id},Ec=function(y,L,ne,le,be){var Le={id:"F"+(Object.keys(We).length+1).toString(10),postScriptName:y,fontName:L,fontStyle:ne,encoding:le,isStandardFont:be||!1,metadata:{}};return ft.publish("addFont",{font:Le,instance:this}),We[Le.id]=Le,Ah(Le),Le.id},bp=function(y){for(var L=0,ne=Ie.length;L<ne;L++){var le=Ec.call(this,y[L][0],y[L][1],y[L][2],Ie[L][3],!0);d===!1&&(f[le]=!0);var be=y[L][0].split("-");Ah({id:le,fontName:be[0],fontStyle:be[1]||""})}ft.publish("addFonts",{fonts:We,dictionary:nt})},Ws=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(le){var L=le.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var ne="Error in function "+L.split(`
`)[0].split("<")[0]+": "+le.message;if(!wt.console)throw new Error(ne);wt.console.error(ne,le),wt.alert&&alert(ne)}},y.foo.bar=y,y.foo},VA=function(y,L){var ne,le,be,Le,ze,at,gt,St,Ct;if(be=(L=L||{}).sourceEncoding||"Unicode",ze=L.outputEncoding,(L.autoencode||ze)&&We[Be].metadata&&We[Be].metadata[be]&&We[Be].metadata[be].encoding&&(Le=We[Be].metadata[be].encoding,!ze&&We[Be].encoding&&(ze=We[Be].encoding),!ze&&Le.codePages&&(ze=Le.codePages[0]),typeof ze=="string"&&(ze=Le[ze]),ze)){for(gt=!1,at=[],ne=0,le=y.length;ne<le;ne++)(St=ze[y.charCodeAt(ne)])?at.push(String.fromCharCode(St)):at.push(y[ne]),at[ne].charCodeAt(0)>>8&&(gt=!0);y=at.join("")}for(ne=y.length;gt===void 0&&ne!==0;)y.charCodeAt(ne-1)>>8&&(gt=!0),ne--;if(!gt)return y;for(at=L.noBOM?[]:[254,255],ne=0,le=y.length;ne<le;ne++){if((Ct=(St=y.charCodeAt(ne))>>8)>>8)throw new Error("Character at position "+ne+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(Ct),at.push(St-(Ct<<8))}return String.fromCharCode.apply(void 0,at)},Hn=g.__private__.pdfEscape=g.pdfEscape=function(y,L){return VA(y,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uc=g.__private__.beginPage=function(y){Ue[++ht]=[],st[ht]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},ch(ht),ge(Ue[M])},lh=function(y,L){var ne,le,be;switch(r=L||r,typeof y=="string"&&(ne=v(y.toLowerCase()),Array.isArray(ne)&&(le=ne[0],be=ne[1])),Array.isArray(y)&&(le=y[0]*Se,be=y[1]*Se),isNaN(le)&&(le=s[0],be=s[1]),(le>14400||be>14400)&&(nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),be=Math.min(14400,be)),s=[le,be],r.substr(0,1)){case"l":be>le&&(s=[be,le]);break;case"p":le>be&&(s=[be,le])}Uc(s),ph(Ic),Y(Gs),Tc!==0&&Y(Tc+" J"),Dc!==0&&Y(Dc+" j"),ft.publish("addPage",{pageNumber:ht})},Bp=function(y){y>0&&y<=ht&&(Ue.splice(y,1),st.splice(y,1),ht--,M>ht&&(M=ht),this.setPage(M))},ch=function(y){y>0&&y<=ht&&(M=y)},Cp=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ue.length-1},uh=function(y,L,ne){var le,be=void 0;return ne=ne||{},y=y!==void 0?y:We[Be].fontName,L=L!==void 0?L:We[Be].fontStyle,le=y.toLowerCase(),nt[le]!==void 0&&nt[le][L]!==void 0?be=nt[le][L]:nt[y]!==void 0&&nt[y][L]!==void 0?be=nt[y][L]:ne.disableWarning===!1&&nr.warn("Unable to look up font label for font '"+y+"', '"+L+"'. Refer to getFontList() for available fonts."),be||ne.noFallback||(be=nt.times[L])==null&&(be=nt.times.normal),be},_p=g.__private__.putInfo=function(){var y=Vt(),L=function(le){return le};for(var ne in u!==null&&(L=fn.encryptor(y,0)),Y("<<"),Y("/Producer ("+Hn(L("jsPDF "+mt.version))+")"),oe)oe.hasOwnProperty(ne)&&oe[ne]&&Y("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Hn(L(oe[ne]))+")");Y("/CreationDate ("+Hn(L(ce))+")"),Y(">>"),Y("endobj")},kc=g.__private__.putCatalog=function(y){var L=(y=y||{}).rootDictionaryObjId||zs;switch(Vt(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+L+" 0 R"),Ee||(Ee="fullwidth"),Ee){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Ee;ne.substr(ne.length-1)==="%"&&(Ee=parseInt(Ee)/100),typeof Ee=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+Z(Ee)+"]")}switch(Oe||(Oe="continuous"),Oe){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}et&&Y("/PageMode /"+et),ft.publish("putCatalog"),Y(">>"),Y("endobj")},Np=g.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(re+1)),Y("/Root "+re+" 0 R"),Y("/Info "+(re-1)+" 0 R"),u!==null&&Y("/Encrypt "+fn.oid+" 0 R"),Y("/ID [ <"+ie+"> <"+ie+"> ]"),Y(">>")},Sp=g.__private__.putHeader=function(){Y("%PDF-"+m),Y("%")},jp=g.__private__.putXRef=function(){var y="0000000000";Y("xref"),Y("0 "+(re+1)),Y("0000000000 65535 f ");for(var L=1;L<=re;L++)typeof ae[L]=="function"?Y((y+ae[L]()).slice(-10)+" 00000 n "):ae[L]!==void 0?Y((y+ae[L]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Ki=g.__private__.buildDocument=function(){je(),ge(Ae),ft.publish("buildDocument"),Sp(),Ri(),oh(),ah(),u!==null&&RA(),_p(),kc();var y=se;return jp(),Np(),Y("startxref"),Y(""+y),Y("%%EOF"),ge(Ue[M]),Ae.join(`
`)},zA=g.__private__.getBlob=function(y){return new Blob([Re(y)],{type:"application/pdf"})},$A=g.output=g.__private__.output=Ws(function(y,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",y){case void 0:return Ki();case"save":g.save(L.filename);break;case"arraybuffer":return Re(Ki());case"blob":return zA(Ki());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(zA(Ki()))||void 0;nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",le=Ki();try{ne=bw(le)}catch{ne=bw(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+L.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(be=L.pdfObjectUrl,Le="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",at=wt.open();return at!==null&&at.document.write(ze),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',St=wt.open();if(St!==null){St.document.write(gt);var Ct=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=L.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',gr=wt.open();if(gr!==null&&(gr.document.write(Mt),gr.document.title=L.filename),gr||typeof safari>"u")return gr;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",L);default:return null}}),dh=function(y){return Array.isArray(Te)===!0&&Te.indexOf(y)>-1};switch(n){case"pt":Se=1;break;case"mm":Se=72/25.4;break;case"cm":Se=72/2.54;break;case"in":Se=72;break;case"px":Se=dh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Se=12;break;case"ex":Se=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Se=n}var fn=null;ee(),te();var Fp=function(y){return u!==null?fn.encryptor(y,0):function(L){return L}},hh=g.__private__.getPageInfo=g.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[y].objId,pageNumber:y,pageContext:st[y]}},bt=g.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in st)if(st[L].objId===y)break;return hh(L)},Ep=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:st[M].objId,pageNumber:M,pageContext:st[M]}};g.addPage=function(){return lh.apply(this,arguments),this},g.setPage=function(){return ch.apply(this,arguments),ge.call(this,Ue[M]),this},g.insertPage=function(y){return this.addPage(),this.movePage(M,y),this},g.movePage=function(y,L){var ne,le;if(y>L){ne=Ue[y],le=st[y];for(var be=y;be>L;be--)Ue[be]=Ue[be-1],st[be]=st[be-1];Ue[L]=ne,st[L]=le,this.setPage(L)}else if(y<L){ne=Ue[y],le=st[y];for(var Le=y;Le<L;Le++)Ue[Le]=Ue[Le+1],st[Le]=st[Le+1];Ue[L]=ne,st[L]=le,this.setPage(L)}return this},g.deletePage=function(){return Bp.apply(this,arguments),this},g.__private__.text=g.text=function(y,L,ne,le,be){var Le,ze,at,gt,St,Ct,Mt,gr,wr,Pr=(le=le||{}).scope||this;if(typeof y=="number"&&typeof L=="number"&&(typeof ne=="string"||Array.isArray(ne))){var gn=ne;ne=L,L=y,y=gn}if(arguments[3]instanceof ut?(j("The transform parameter of text() with a Matrix value"),wr=be):(at=arguments[4],gt=arguments[5],Yt(Mt=arguments[3])==="object"&&Mt!==null||(typeof at=="string"&&(gt=at,at=null),typeof Mt=="string"&&(gt=Mt,Mt=null),typeof Mt=="number"&&(at=Mt,Mt=null),le={flags:Mt,angle:at,align:gt})),isNaN(L)||isNaN(ne)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Pr;var Xr="",qs=!1,os=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:Ro,wi=Pr.internal.scaleFactor;function bh(sr){return sr=sr.split("	").join(Array(le.TabLen||9).join(" ")),Hn(sr,Mt)}function Kc(sr){for(var ir,Sr=sr.concat(),Vr=[],Gi=Sr.length;Gi--;)typeof(ir=Sr.shift())=="string"?Vr.push(ir):Array.isArray(sr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?Vr.push(ir[0]):Vr.push([ir[0],ir[1],ir[2]]);return Vr}function Vc(sr,ir){var Sr;if(typeof sr=="string")Sr=ir(sr)[0];else if(Array.isArray(sr)){for(var Vr,Gi,Xc=sr.concat(),ol=[],Sh=Xc.length;Sh--;)typeof(Vr=Xc.shift())=="string"?ol.push(ir(Vr)[0]):Array.isArray(Vr)&&typeof Vr[0]=="string"&&(Gi=ir(Vr[0],Vr[1],Vr[2]),ol.push([Gi[0],Gi[1],Gi[2]]));Sr=ol}return Sr}var XA=!1,zc=!0;if(typeof y=="string")XA=!0;else if(Array.isArray(y)){var $c=y.concat();ze=[];for(var ZA,an=$c.length;an--;)(typeof(ZA=$c.shift())!="string"||Array.isArray(ZA)&&typeof ZA[0]!="string")&&(zc=!1);XA=zc}if(XA===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var el=Ve/Pr.internal.scaleFactor,tl=el*(os-1);switch(le.baseline){case"bottom":ne-=tl;break;case"top":ne+=el-tl;break;case"hanging":ne+=el-2*tl;break;case"middle":ne+=el/2-tl}if((Ct=le.maxWidth||0)>0&&(typeof y=="string"?y=Pr.splitTextToSize(y,Ct):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(sr,ir){return sr.concat(Pr.splitTextToSize(ir,Ct))},[]))),Le={text:y,x:L,y:ne,options:le,mutex:{pdfEscape:Hn,activeFontKey:Be,fonts:We,activeFontSize:Ve}},ft.publish("preProcessText",Le),y=Le.text,at=(le=Le.options).angle,!(wr instanceof ut)&&at&&typeof at=="number"){at*=Math.PI/180,le.rotationDirection===0&&(at=-at),C===x.ADVANCED&&(at=-at);var rl=Math.cos(at),Wc=Math.sin(at);wr=new ut(rl,Wc,-Wc,rl,0,0)}else at&&at instanceof ut&&(wr=at);C!==x.ADVANCED||wr||(wr=Yr),(St=le.charSpace||qA)!==void 0&&(Xr+=E(I(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gr=le.horizontalScale)!==void 0&&(Xr+=E(100*gr)+` Tz
`),le.lang;var Rn=-1,Mp=le.renderingMode!==void 0?le.renderingMode:le.stroke,Gc=Pr.internal.getCurrentPageInfo().pageContext;switch(Mp){case 0:case!1:case"fill":Rn=0;break;case 1:case!0:case"stroke":Rn=1;break;case 2:case"fillThenStroke":Rn=2;break;case 3:case"invisible":Rn=3;break;case 4:case"fillAndAddForClipping":Rn=4;break;case 5:case"strokeAndAddPathForClipping":Rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rn=6;break;case 7:case"addToPathForClipping":Rn=7}var Bh=Gc.usedRenderingMode!==void 0?Gc.usedRenderingMode:-1;Rn!==-1?Xr+=Rn+` Tr
`:Bh!==-1&&(Xr+=`0 Tr
`),Rn!==-1&&(Gc.usedRenderingMode=Rn),gt=le.align||"left";var Ns,nl=Ve*os,Ch=Pr.internal.pageSize.getWidth(),_h=We[Be];St=le.charSpace||qA,Ct=le.maxWidth||0,Mt=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Sa=[],zo=function(sr){return Pr.getStringUnitWidth(sr,{font:_h,charSpace:St,fontSize:Ve,doKerning:!1})*Ve/wi};if(Object.prototype.toString.call(y)==="[object Array]"){var Kn;ze=Kc(y),gt!=="left"&&(Ns=ze.map(zo));var Ln,ja=0;if(gt==="right"){L-=Ns[0],y=[],an=ze.length;for(var zi=0;zi<an;zi++)zi===0?(Ln=vi(L),Kn=Vi(ne)):(Ln=I(ja-Ns[zi]),Kn=-nl),y.push([ze[zi],Ln,Kn]),ja=Ns[zi]}else if(gt==="center"){L-=Ns[0]/2,y=[],an=ze.length;for(var $i=0;$i<an;$i++)$i===0?(Ln=vi(L),Kn=Vi(ne)):(Ln=I((ja-Ns[$i])/2),Kn=-nl),y.push([ze[$i],Ln,Kn]),ja=Ns[$i]}else if(gt==="left"){y=[],an=ze.length;for(var sl=0;sl<an;sl++)y.push(ze[sl])}else if(gt==="justify"&&_h.encoding==="Identity-H"){y=[],an=ze.length,Ct=Ct!==0?Ct:Ch;for(var Wi=0,Nr=0;Nr<an;Nr++)if(Kn=Nr===0?Vi(ne):-nl,Ln=Nr===0?vi(L):Wi,Nr<an-1){var qc=I((Ct-Ns[Nr])/(ze[Nr].split(" ").length-1)),Qn=ze[Nr].split(" ");y.push([Qn[0]+" ",Ln,Kn]),Wi=0;for(var Ss=1;Ss<Qn.length;Ss++){var il=(zo(Qn[Ss-1]+" "+Qn[Ss])-zo(Qn[Ss]))*wi+qc;Ss==Qn.length-1?y.push([Qn[Ss],il,0]):y.push([Qn[Ss]+" ",il,0]),Wi-=il}}else y.push([ze[Nr],Ln,Kn]);y.push(["",Wi,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],an=ze.length,Ct=Ct!==0?Ct:Ch,Nr=0;Nr<an;Nr++)Kn=Nr===0?Vi(ne):-nl,Ln=Nr===0?vi(L):0,Nr<an-1?Sa.push(E(I((Ct-Ns[Nr])/(ze[Nr].split(" ").length-1)))):Sa.push(0),y.push([ze[Nr],Ln,Kn])}}var Nh=typeof le.R2L=="boolean"?le.R2L:qe;Nh===!0&&(y=Vc(y,function(sr,ir,Sr){return[sr.split("").reverse().join(""),ir,Sr]})),Le={text:y,x:L,y:ne,options:le,mutex:{pdfEscape:Hn,activeFontKey:Be,fonts:We,activeFontSize:Ve}},ft.publish("postProcessText",Le),y=Le.text,qs=Le.mutex.isHex||!1;var Jc=We[Be].encoding;Jc!=="WinAnsiEncoding"&&Jc!=="StandardEncoding"||(y=Vc(y,function(sr,ir,Sr){return[bh(sr),ir,Sr]})),ze=Kc(y),y=[];for(var $o,Wo,Fa,Go=0,al=1,qo=Array.isArray(ze[0])?al:Go,Ea="",Yc=function(sr,ir,Sr){var Vr="";return Sr instanceof ut?(Sr=typeof le.angle=="number"?Kr(Sr,new ut(1,0,0,1,sr,ir)):Kr(new ut(1,0,0,1,sr,ir),Sr),C===x.ADVANCED&&(Sr=Kr(new ut(1,0,0,-1,0,0),Sr)),Vr=Sr.join(" ")+` Tm
`):Vr=E(sr)+" "+E(ir)+` Td
`,Vr},js=0;js<ze.length;js++){switch(Ea="",qo){case al:Fa=(qs?"<":"(")+ze[js][0]+(qs?">":")"),$o=parseFloat(ze[js][1]),Wo=parseFloat(ze[js][2]);break;case Go:Fa=(qs?"<":"(")+ze[js]+(qs?">":")"),$o=vi(L),Wo=Vi(ne)}Sa!==void 0&&Sa[js]!==void 0&&(Ea=Sa[js]+` Tw
`),js===0?y.push(Ea+Yc($o,Wo,wr)+Fa):qo===Go?y.push(Ea+Fa):qo===al&&y.push(Ea+Yc($o,Wo,wr)+Fa)}y=qo===Go?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Fs=`BT
/`;return Fs+=Be+" "+Ve+` Tf
`,Fs+=E(Ve*os)+` TL
`,Fs+=Ko+`
`,Fs+=Xr,Fs+=y,Y(Fs+="ET"),f[Be]=!0,Pr};var Up=g.__private__.clip=g.clip=function(y){return Y(y==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Up("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Y("n"),this};var xi=g.__private__.isValidStyle=function(y){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(L=!0),L};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(y){return xi(y)&&(c=y),this};var fh=g.__private__.getStyle=g.getStyle=function(y){var L=c;switch(y){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=y}return L},gh=g.close=function(){return Y("h"),this};g.stroke=function(){return Y("S"),this},g.fill=function(y){return WA("f",y),this},g.fillEvenOdd=function(y){return WA("f*",y),this},g.fillStroke=function(y){return WA("B",y),this},g.fillStrokeEvenOdd=function(y){return WA("B*",y),this};var WA=function(y,L){Yt(L)==="object"?Lp(L,y):Y(y)},Lc=function(y){y===null||C===x.ADVANCED&&y===void 0||(y=fh(y),Y(y))};function kp(y,L,ne,le,be){var Le=new mA(L||this.boundingBox,ne||this.xStep,le||this.yStep,this.gState,be||this.matrix);Le.stream=this.stream;var ze=y+"$$"+this.cloneIndex+++"$$";return Ir(ze,Le),Le}var Lp=function(y,L){var ne=Qe[y.key],le=X[ne];if(le instanceof eo)Y("q"),Y(Qp(L)),le.gState&&g.setGState(le.gState),Y(y.matrix.toString()+" cm"),Y("/"+ne+" sh"),Y("Q");else if(le instanceof mA){var be=new ut(1,0,0,-1,0,Na());y.matrix&&(be=be.multiply(y.matrix||Yr),ne=kp.call(le,y.key,y.boundingBox,y.xStep,y.yStep,be).id),Y("q"),Y("/Pattern cs"),Y("/"+ne+" scn"),le.gState&&g.setGState(le.gState),Y(L),Y("Q")}},Qp=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Qc=g.moveTo=function(y,L){return Y(E(I(y))+" "+E($(L))+" m"),this},Ho=g.lineTo=function(y,L){return Y(E(I(y))+" "+E($(L))+" l"),this},Ca=g.curveTo=function(y,L,ne,le,be,Le){return Y([E(I(y)),E($(L)),E(I(ne)),E($(le)),E(I(be)),E($(Le)),"c"].join(" ")),this};g.__private__.line=g.line=function(y,L,ne,le,be){if(isNaN(y)||isNaN(L)||isNaN(ne)||isNaN(le)||!xi(be))throw new Error("Invalid arguments passed to jsPDF.line");return C===x.COMPAT?this.lines([[ne-y,le-L]],y,L,[1,1],be||"S"):this.lines([[ne-y,le-L]],y,L,[1,1]).stroke()},g.__private__.lines=g.lines=function(y,L,ne,le,be,Le){var ze,at,gt,St,Ct,Mt,gr,wr,Pr,gn,Xr,qs;if(typeof y=="number"&&(qs=ne,ne=L,L=y,y=qs),le=le||[1,1],Le=Le||!1,isNaN(L)||isNaN(ne)||!Array.isArray(y)||!Array.isArray(le)||!xi(be)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qc(L,ne),ze=le[0],at=le[1],St=y.length,gn=L,Xr=ne,gt=0;gt<St;gt++)(Ct=y[gt]).length===2?(gn=Ct[0]*ze+gn,Xr=Ct[1]*at+Xr,Ho(gn,Xr)):(Mt=Ct[0]*ze+gn,gr=Ct[1]*at+Xr,wr=Ct[2]*ze+gn,Pr=Ct[3]*at+Xr,gn=Ct[4]*ze+gn,Xr=Ct[5]*at+Xr,Ca(Mt,gr,wr,Pr,gn,Xr));return Le&&gh(),Lc(be),this},g.path=function(y){for(var L=0;L<y.length;L++){var ne=y[L],le=ne.c;switch(ne.op){case"m":Qc(le[0],le[1]);break;case"l":Ho(le[0],le[1]);break;case"c":Ca.apply(this,le);break;case"h":gh()}}return this},g.__private__.rect=g.rect=function(y,L,ne,le,be){if(isNaN(y)||isNaN(L)||isNaN(ne)||isNaN(le)||!xi(be))throw new Error("Invalid arguments passed to jsPDF.rect");return C===x.COMPAT&&(le=-le),Y([E(I(y)),E($(L)),E(I(ne)),E(I(le)),"re"].join(" ")),Lc(be),this},g.__private__.triangle=g.triangle=function(y,L,ne,le,be,Le,ze){if(isNaN(y)||isNaN(L)||isNaN(ne)||isNaN(le)||isNaN(be)||isNaN(Le)||!xi(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-y,le-L],[be-ne,Le-le],[y-be,L-Le]],y,L,[1,1],ze,!0),this},g.__private__.roundedRect=g.roundedRect=function(y,L,ne,le,be,Le,ze){if(isNaN(y)||isNaN(L)||isNaN(ne)||isNaN(le)||isNaN(be)||isNaN(Le)||!xi(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*ne),Le=Math.min(Le,.5*le),this.lines([[ne-2*be,0],[be*at,0,be,Le-Le*at,be,Le],[0,le-2*Le],[0,Le*at,-be*at,Le,-be,Le],[2*be-ne,0],[-be*at,0,-be,-Le*at,-be,-Le],[0,2*Le-le],[0,-Le*at,be*at,-Le,be,-Le]],y+be,L,[1,1],ze,!0),this},g.__private__.ellipse=g.ellipse=function(y,L,ne,le,be){if(isNaN(y)||isNaN(L)||isNaN(ne)||isNaN(le)||!xi(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*ne,ze=4/3*(Math.SQRT2-1)*le;return Qc(y+ne,L),Ca(y+ne,L-ze,y+Le,L-le,y,L-le),Ca(y-Le,L-le,y-ne,L-ze,y-ne,L),Ca(y-ne,L+ze,y-Le,L+le,y,L+le),Ca(y+Le,L+le,y+ne,L+ze,y+ne,L),Lc(be),this},g.__private__.circle=g.circle=function(y,L,ne,le){if(isNaN(y)||isNaN(L)||isNaN(ne)||!xi(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,L,ne,ne,le)},g.setFont=function(y,L,ne){return ne&&(L=P(L,ne)),Be=uh(y,L,{disableWarning:!1}),this};var Ip=g.__private__.getFont=g.getFont=function(){return We[uh.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var y,L,ne={};for(y in nt)if(nt.hasOwnProperty(y))for(L in ne[y]=[],nt[y])nt[y].hasOwnProperty(L)&&ne[y].push(L);return ne},g.addFont=function(y,L,ne,le,be){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(ne=P(ne,le)),be=be||"Identity-H",Ec.call(this,y,L,ne,be)};var Ro,Ic=t.lineWidth||.200025,GA=g.__private__.getLineWidth=g.getLineWidth=function(){return Ic},ph=g.__private__.setLineWidth=g.setLineWidth=function(y){return Ic=y,Y(E(I(y))+" w"),this};g.__private__.setLineDash=mt.API.setLineDash=mt.API.setLineDashPattern=function(y,L){if(y=y||[],L=L||0,isNaN(L)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(ne){return E(I(ne))}).join(" "),L=E(I(L)),Y("["+y+"] "+L+" d"),this};var mh=g.__private__.getLineHeight=g.getLineHeight=function(){return Ve*Ro};g.__private__.getLineHeight=g.getLineHeight=function(){return Ve*Ro};var xh=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Ro=y),this},vh=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ro};xh(t.lineHeight);var vi=g.__private__.getHorizontalCoordinate=function(y){return I(y)},Vi=g.__private__.getVerticalCoordinate=function(y){return C===x.ADVANCED?y:st[M].mediaBox.topRightY-st[M].mediaBox.bottomLeftY-I(y)},Pp=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(y){return E(vi(y))},_a=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(y){return E(Vi(y))},Gs=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return hn(Gs)},g.__private__.setStrokeColor=g.setDrawColor=function(y,L,ne,le){return Gs=as({ch1:y,ch2:L,ch3:ne,ch4:le,pdfColorType:"draw",precision:2}),Y(Gs),this};var Pc=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return hn(Pc)},g.__private__.setFillColor=g.setFillColor=function(y,L,ne,le){return Pc=as({ch1:y,ch2:L,ch3:ne,ch4:le,pdfColorType:"fill",precision:2}),Y(Pc),this};var Ko=t.textColor||"0 g",Tp=g.__private__.getTextColor=g.getTextColor=function(){return hn(Ko)};g.__private__.setTextColor=g.setTextColor=function(y,L,ne,le){return Ko=as({ch1:y,ch2:L,ch3:ne,ch4:le,pdfColorType:"text",precision:3}),this};var qA=t.charSpace,Dp=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(qA||0)};g.__private__.setCharSpace=g.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qA=y,this};var Tc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(y){var L=g.CapJoinStyles[y];if(L===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tc=L,Y(L+" J"),this};var Dc=0;g.__private__.setLineJoin=g.setLineJoin=function(y){var L=g.CapJoinStyles[y];if(L===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dc=L,Y(L+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(E(I(y))+" M"),this},g.GState=Dd,g.setGState=function(y){(y=typeof y=="string"?Ye[dt[y]]:wh(null,y)).equals(Et)||(Y("/"+y.id+" gs"),Et=y)};var wh=function(y,L){if(!y||!dt[y]){var ne=!1;for(var le in Ye)if(Ye.hasOwnProperty(le)&&Ye[le].equals(L)){ne=!0;break}if(ne)L=Ye[le];else{var be="GS"+(Object.keys(Ye).length+1).toString(10);Ye[be]=L,L.id=be}return y&&(dt[y]=L.id),ft.publish("addGState",L),L}};g.addGState=function(y,L){return wh(y,L),this},g.saveGraphicsState=function(){return Y("q"),pt.push({key:Be,size:Ve,color:Ko}),this},g.restoreGraphicsState=function(){Y("Q");var y=pt.pop();return Be=y.key,Ve=y.size,Ko=y.color,Et=null,this},g.setCurrentTransformationMatrix=function(y){return Y(y.toString()+" cm"),this},g.comment=function(y){return Y("#"+y),this};var JA=function(y,L){var ne=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Le){isNaN(Le)||(ne=parseFloat(Le))}});var le=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Le){isNaN(Le)||(le=parseFloat(Le))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Le){be=Le.toString()}}),this},Oc=function(y,L,ne,le){JA.call(this,y,L),this.type="rect";var be=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(ze){isNaN(ze)||(be=parseFloat(ze))}});var Le=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(ze){isNaN(ze)||(Le=parseFloat(ze))}}),this},Mc=function(){this.page=ht,this.currentPage=M,this.pages=Ue.slice(0),this.pagesContext=st.slice(0),this.x=Xe,this.y=ke,this.matrix=Je,this.width=Vo(M),this.height=Na(M),this.outputDestination=ve,this.id="",this.objectNumber=-1};Mc.prototype.restore=function(){ht=this.page,M=this.currentPage,st=this.pagesContext,Ue=this.pages,Xe=this.x,ke=this.y,Je=this.matrix,Hc(M,this.width),Rc(M,this.height),ve=this.outputDestination};var yh=function(y,L,ne,le,be){Pt.push(new Mc),ht=M=0,Ue=[],Xe=y,ke=L,Je=be,Uc([ne,le])},Op=function(y){if(It[y])Pt.pop().restore();else{var L=new Mc,ne="Xo"+(Object.keys(Ft).length+1).toString(10);L.id=ne,It[y]=ne,Ft[ne]=L,ft.publish("addFormObject",L),Pt.pop().restore()}};for(var YA in g.beginFormObject=function(y,L,ne,le,be){return yh(y,L,ne,le,be),this},g.endFormObject=function(y){return Op(y),this},g.doFormObject=function(y,L){var ne=Ft[It[y]];return Y("q"),Y(L.toString()+" cm"),Y("/"+ne.id+" Do"),Y("Q"),this},g.getFormObject=function(y){var L=Ft[It[y]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},g.save=function(y,L){return y=y||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(aA(zA(Ki()),y),typeof aA.unload=="function"&&wt.setTimeout&&setTimeout(aA.unload,911),this):new Promise(function(ne,le){try{var be=aA(zA(Ki()),y);typeof aA.unload=="function"&&wt.setTimeout&&setTimeout(aA.unload,911),ne(be)}catch(Le){le(Le.message)}})},mt.API)mt.API.hasOwnProperty(YA)&&(YA==="events"&&mt.API.events.length?function(y,L){var ne,le,be;for(be=L.length-1;be!==-1;be--)ne=L[be][0],le=L[be][1],y.subscribe.apply(y,[ne].concat(typeof le=="function"?[le]:le))}(ft,mt.API.events):g[YA]=mt.API[YA]);var Vo=g.getPageWidth=function(y){return(st[y=y||M].mediaBox.topRightX-st[y].mediaBox.bottomLeftX)/Se},Hc=g.setPageWidth=function(y,L){st[y].mediaBox.topRightX=L*Se+st[y].mediaBox.bottomLeftX},Na=g.getPageHeight=function(y){return(st[y=y||M].mediaBox.topRightY-st[y].mediaBox.bottomLeftY)/Se},Rc=g.setPageHeight=function(y,L){st[y].mediaBox.topRightY=L*Se+st[y].mediaBox.bottomLeftY};return g.internal={pdfEscape:Hn,getStyle:fh,getFont:Ip,getFontSize:Pe,getCharSpace:Dp,getTextColor:Tp,getLineHeight:mh,getLineHeightFactor:vh,getLineWidth:GA,write:tt,getHorizontalCoordinate:vi,getVerticalCoordinate:Vi,getCoordinateString:Pp,getVerticalCoordinateString:_a,collections:{},newObject:Vt,newAdditionalObject:va,newObjectDeferred:vr,newObjectDeferredBegin:En,getFilters:Cs,putStream:Un,events:ft,scaleFactor:Se,pageSize:{getWidth:function(){return Vo(M)},setWidth:function(y){Hc(M,y)},getHeight:function(){return Na(M)},setHeight:function(y){Rc(M,y)}},encryptionOptions:u,encryption:fn,getEncryptor:Fp,output:$A,getNumberOfPages:Cp,pages:Ue,out:Y,f2:Z,f3:Q,getPageInfo:hh,getPageInfoByObjId:bt,getCurrentPageInfo:Ep,getPDFVersion:w,Point:JA,Rectangle:Oc,Matrix:ut,hasHotfix:dh},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Vo(M)},set:function(y){Hc(M,y)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Na(M)},set:function(y){Rc(M,y)},enumerable:!0,configurable:!0}),bp.call(g,Ie),Be="F1",lh(s,r),ft.publish("initialized"),g}Ll.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Ll.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ll.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Ll.prototype.processOwnerPassword=function(t,e){return Cw(Bw(e).substr(0,5),t)},Ll.prototype.encryptor=function(t,e){var r=Bw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Cw(r,n)}},Dd.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Yt(t)!==Yt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},mt.API={events:[]},mt.version="2.5.2";var br=mt.API,Yy=1,OA=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_l=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_t=function(t){return t.toFixed(2)},Ha=function(t){return t.toFixed(5)};br.__acroform__={};var ss=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},LB=function(t){return t*Yy},Ni=function(t){var e=new kS,r=ct.internal.getHeight(t)||0,n=ct.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_t(n)),Number(_t(r))],e},z8=br.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},$8=br.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},W8=br.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ur=br.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return W8(t,e-1)},kr=br.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return z8(t,e-1)},Lr=br.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $8(t,e-1)},G8=br.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],A=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+A)||0,l.upperRight_X=r(s+a)||0,l.upperRight_Y=n(i)||0,[Number(_t(l.lowerLeft_X)),Number(_t(l.lowerLeft_Y)),Number(_t(l.upperRight_X)),Number(_t(l.upperRight_Y))]},q8=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=_w(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+_t(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Ni(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},_w=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(Q){return Q.split(`
`)}):s.map(function(Q){return[Q]});var i=r,a=ct.internal.getHeight(t)||0;a=a<0?-a:a;var A=ct.internal.getWidth(t)||0;A=A<0?-A:A;var l=function(Q,I,z){if(Q+1<s.length){var $=I+" "+s[Q+1][0];return Df($,t,z).width<=A-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,d=Df("3",t,i).height,f=t.multiline?a-i:(a-d)/2,g=f+=2,m=0,w=0,b=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Df(e,t,i=12).width+", FieldWidth:"+A+`
`;break}for(var v="",x=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var _=!1;if(s[C].length!==1&&b!==s[C].length-1){if((d+2)*(x+2)+2>a)continue e;v+=s[C][b],_=!0,w=C,C--}else{v=(v+=s[C][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var F=parseInt(C),P=l(F,v,i),E=C>=s.length-1;if(P&&!E){v+=" ",b=0;continue}if(P||E){if(E)w=F;else if(t.multiline&&(d+2)*(x+2)+2>a)continue e}else{if(!t.multiline||(d+2)*(x+2)+2>a)continue e;w=F}}for(var j="",R=m;R<=w;R++){var Z=s[R];if(t.multiline){if(R===w){j+=Z[b]+" ",b=(b+1)%Z.length;continue}if(R===m){j+=Z[Z.length-1]+" ";continue}}j+=Z[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,u=Df(j,t,i).width,t.textAlign){case"right":c=A-u-2;break;case"center":c=(A-u)/2;break;case"left":default:c=2}e+=_t(c)+" "+_t(g)+` Td
`,e+="("+OA(j)+`) Tj
`,e+=-_t(c)+` 0 Td
`,g=-(i+2),u=0,m=_?w:w+1,x++,v=""}break}return n.text=e,n.fontSize=i,n},Df=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},J8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Y8=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},X8=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Yt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},Z8=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(gi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(J8)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Yy=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new LS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&Y8(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var A=n[a],l=[],c=A.Rect;if(A.Rect&&(A.Rect=G8(A.Rect,s)),s.internal.newObjectDeferredBegin(A.objId,!0),A.DA=ct.createDefaultAppearanceStream(A),Yt(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var u=q8(A);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(A.appearanceStreamContent){var d="";for(var f in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(f)){var g=A.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var m=g[a];typeof m=="function"&&(m=m.call(s,A)),d+="/"+a+" "+m+" ",s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m)}}else typeof(m=g)=="function"&&(m=m.call(s,A)),d+="/"+a+" "+m,s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:A.objId}),s.internal.out("endobj")}i&&X8(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},US=br.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Yt(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+OA(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},dx=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+OA(n(t))+")"},Li=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Li.prototype.toString=function(){return this.objId+" 0 R"},Li.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Li.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:US(s,this.objId,this.scope)}):s instanceof Li?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var kS=function(){Li.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ss(kS,Li);var LS=function(){Li.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+OA(r(t))+")"}},set:function(r){t=r}})};ss(LS,Li);var gi=function t(){Li.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ur(e,3)},set:function(v){v?this.F=kr(e,3):this.F=Lr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof h0)return;i="FieldObject"+t.FieldNum++}var v=function(x){return x};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+OA(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(v){A=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Yy:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof h0||this instanceof So))return dx(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Wr?f:dx(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Wr?v:v.substr(0,1)==="("?_l(v.substr(1,v.length-2)):_l(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wr?_l(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Wr?"/"+v:v}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Wr?g:dx(g,this.objId,this.scope)},set:function(v){v=v.toString(),g=this instanceof Wr?v:v.substr(0,1)==="("?_l(v.substr(1,v.length-2)):_l(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wr?_l(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof Wr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(v){v=!!v,w=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,1)},set:function(v){v?this.Ff=kr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,2)},set:function(v){v?this.Ff=kr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,3)},set:function(v){v?this.Ff=kr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};ss(gi,Li);var CA=function(){gi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return US(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,A){A||(A=1);for(var l,c=[];l=a.exec(i);)c.push(l[A]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,18)},set:function(r){r?this.Ff=kr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=kr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,20)},set:function(r){r?(this.Ff=kr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,22)},set:function(r){r?this.Ff=kr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,23)},set:function(r){r?this.Ff=kr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,27)},set:function(r){r?this.Ff=kr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};ss(CA,gi);var _A=function(){CA.call(this),this.fontName="helvetica",this.combo=!1};ss(_A,CA);var NA=function(){_A.call(this),this.combo=!0};ss(NA,_A);var sd=function(){NA.call(this),this.edit=!0};ss(sd,NA);var Wr=function(){gi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,15)},set:function(r){r?this.Ff=kr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,16)},set:function(r){r?this.Ff=kr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,17)},set:function(r){r?this.Ff=kr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,26)},set:function(r){r?this.Ff=kr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+OA(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Yt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ss(Wr,gi);var id=function(){Wr.call(this),this.pushButton=!0};ss(id,Wr);var SA=function(){Wr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ss(SA,Wr);var h0=function(){var t,e;gi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(A){return A};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+OA(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Yt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ss(h0,gi),SA.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},SA.prototype.createOption=function(t){var e=new h0;return e.Parent=this,e.optionName=t,this.Kids.push(e),eO.call(this.scope,e),e};var ad=function(){Wr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};ss(ad,Wr);var So=function(){gi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,13)},set:function(e){e?this.Ff=kr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,21)},set:function(e){e?this.Ff=kr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,23)},set:function(e){e?this.Ff=kr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,24)},set:function(e){e?this.Ff=kr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,25)},set:function(e){e?this.Ff=kr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,26)},set:function(e){e?this.Ff=kr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ss(So,gi);var od=function(){So.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ur(this.Ff,14)},set:function(t){t?this.Ff=kr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};ss(od,So);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=_w(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+_t(ct.internal.getWidth(t))+" "+_t(ct.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+_t(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ni(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=ct.internal.getHeight(t),a=ct.internal.getWidth(t),A=_w(t,t.caption);return s.push("1 g"),s.push("0 0 "+_t(a)+" "+_t(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+_t(a-1)+" "+_t(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+_t(A.fontSize)+" Tf "+n),s.push(A.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(ct.internal.getWidth(t))+" "+_t(ct.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Circle.YesNormal,e.D[t]=ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=ct.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ha(ct.internal.getWidth(t)/2)+" "+Ha(ct.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ct.internal.Bezier_C).toFixed(5)),a=Number((n*ct.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ha(ct.internal.getWidth(t)/2)+" "+Ha(ct.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ha(ct.internal.getWidth(t)/2)+" "+Ha(ct.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ct.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ha(ct.internal.getWidth(t)/2)+" "+Ha(ct.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Cross.YesNormal,e.D[t]=ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=ct.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+_t(ct.internal.getWidth(t)-2)+" "+_t(ct.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_t(n.x1.x)+" "+_t(n.x1.y)+" m"),r.push(_t(n.x2.x)+" "+_t(n.x2.y)+" l"),r.push(_t(n.x4.x)+" "+_t(n.x4.y)+" m"),r.push(_t(n.x3.x)+" "+_t(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=ct.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(ct.internal.getWidth(t))+" "+_t(ct.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+_t(ct.internal.getWidth(t)-2)+" "+_t(ct.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_t(r.x1.x)+" "+_t(r.x1.y)+" m"),n.push(_t(r.x2.x)+" "+_t(r.x2.y)+" l"),n.push(_t(r.x4.x)+" "+_t(r.x4.y)+" m"),n.push(_t(r.x3.x)+" "+_t(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(ct.internal.getWidth(t))+" "+_t(ct.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ct.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ct.internal.getWidth(t),r=ct.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ct.internal.getWidth=function(t){var e=0;return Yt(t)==="object"&&(e=LB(t.Rect[2])),e},ct.internal.getHeight=function(t){var e=0;return Yt(t)==="object"&&(e=LB(t.Rect[3])),e};var eO=br.addField=function(t){if(Z8(this,t),!(t instanceof gi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};br.AcroFormChoiceField=CA,br.AcroFormListBox=_A,br.AcroFormComboBox=NA,br.AcroFormEditBox=sd,br.AcroFormButton=Wr,br.AcroFormPushButton=id,br.AcroFormRadioButton=SA,br.AcroFormCheckBox=ad,br.AcroFormTextField=So,br.AcroFormPasswordField=od,br.AcroFormAppearance=ct,br.AcroForm={ChoiceField:CA,ListBox:_A,ComboBox:NA,EditBox:sd,Button:Wr,PushButton:id,RadioButton:SA,CheckBox:ad,TextField:So,PasswordField:od,Appearance:ct},mt.AcroForm={ChoiceField:CA,ListBox:_A,ComboBox:NA,EditBox:sd,Button:Wr,PushButton:id,RadioButton:SA,CheckBox:ad,TextField:So,PasswordField:od,Appearance:ct};var tO=mt.AcroForm;function QS(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(Q,I){var z,$,ce,ie,fe,te=e;if((I=I||e)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(P(Q))for(fe in r)for(ce=r[fe],z=0;z<ce.length;z+=1){for(ie=!0,$=0;$<ce[z].length;$+=1)if(ce[z][$]!==void 0&&ce[z][$]!==Q[$]){ie=!1;break}if(ie===!0){te=fe;break}}else for(fe in r)for(ce=r[fe],z=0;z<ce.length;z+=1){for(ie=!0,$=0;$<ce[z].length;$+=1)if(ce[z][$]!==void 0&&ce[z][$]!==Q.charCodeAt($)){ie=!1;break}if(ie===!0){te=fe;break}}return te===e&&I!==e&&(te=I),te},s=function Q(I){for(var z=this.internal.write,$=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:I.width}),ie.push({key:"Height",value:I.height}),I.colorSpace===b.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===b.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var fe="",te=0,W=I.transparency.length;te<W;te++)fe+=I.transparency[te]+" "+I.transparency[te]+" ";ie.push({key:"Mask",value:"["+fe+"]"})}I.sMask!==void 0&&ie.push({key:"SMask",value:I.objectId+1+" 0 R"});var J=I.filter!==void 0?["/"+I.filter]:void 0;if($({data:I.data,additionalKeyValues:ie,alreadyAppliedFilters:J,objectId:I.objectId}),z("endobj"),"sMask"in I&&I.sMask!==void 0){var ee="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,S={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ee,data:I.sMask};"filter"in I&&(S.filter=I.filter),Q.call(this,S)}if(I.colorSpace===b.INDEXED){var M=this.internal.newObject();$({data:j(new Uint8Array(I.palette)),objectId:M}),z("endobj")}},i=function(){var Q=this.internal.collections.addImage_images;for(var I in Q)s.call(this,Q[I])},a=function(){var Q,I=this.internal.collections.addImage_images,z=this.internal.write;for(var $ in I)z("/I"+(Q=I[$]).index,Q.objectId,"0","R")},A=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var Q=this.internal.collections.addImage_images;return A.call(this),Q},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(Q){return typeof t["process"+Q.toUpperCase()]=="function"},d=function(Q){return Yt(Q)==="object"&&Q.nodeType===1},f=function(Q,I){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var z=""+Q.getAttribute("src");if(z.indexOf("data:image/")===0)return nd(unescape(z).split("base64,").pop());var $=t.loadFile(z,!0);if($!==void 0)return $}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var ce;switch(I){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return nd(Q.toDataURL(ce,1).split("base64,").pop())}},g=function(Q){var I=this.internal.collections.addImage_images;if(I){for(var z in I)if(Q===I[z].alias)return I[z]}},m=function(Q,I,z){return Q||I||(Q=-96,I=-96),Q<0&&(Q=-1*z.width*72/Q/this.internal.scaleFactor),I<0&&(I=-1*z.height*72/I/this.internal.scaleFactor),Q===0&&(Q=I*z.width/z.height),I===0&&(I=Q*z.height/z.width),[Q,I]},w=function(Q,I,z,$,ce,ie){var fe=m.call(this,z,$,ce),te=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,J=l.call(this);if(z=fe[0],$=fe[1],J[ce.index]=ce,ie){ie*=Math.PI/180;var ee=Math.cos(ie),S=Math.sin(ie),M=function(G){return G.toFixed(4)},K=[M(ee),M(S),M(-1*S),M(ee),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,te(Q),W(I+$),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([te(z),"0","0",te($),"0","0","cm"].join(" "))):this.internal.write([te(z),"0","0",te($),te(Q),W(I+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(Q){var I,z,$=0;if(typeof Q=="string")for(z=Q.length,I=0;I<z;I++)$=($<<5)-$+Q.charCodeAt(I),$|=0;else if(P(Q))for(z=Q.byteLength/2,I=0;I<z;I++)$=($<<5)-$+Q[I],$|=0;return $},C=t.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var I=!0;return Q.length===0&&(I=!1),Q.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&(I=!1),I},_=t.__addimage__.extractImageFromDataUrl=function(Q){var I=(Q=Q||"").split("base64,"),z=null;if(I.length===2){var $=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray($)&&(z={mimeType:$[1],charset:$[2],data:I[1]})}return z},F=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(Q){return F()&&Q instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(Q){return F()&&typeof Uint32Array<"u"&&(Q instanceof Int8Array||Q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(Q){for(var I=Q.length,z=new Uint8Array(I),$=0;$<I;$++)z[$]=Q.charCodeAt($);return z},j=t.__addimage__.arrayBufferToBinaryString=function(Q){for(var I="",z=P(Q)?Q:new Uint8Array(Q),$=0;$<z.length;$+=8192)I+=String.fromCharCode.apply(null,z.subarray($,$+8192));return I};t.addImage=function(){var Q,I,z,$,ce,ie,fe,te,W;if(typeof arguments[1]=="number"?(I=e,z=arguments[1],$=arguments[2],ce=arguments[3],ie=arguments[4],fe=arguments[5],te=arguments[6],W=arguments[7]):(I=arguments[1],z=arguments[2],$=arguments[3],ce=arguments[4],ie=arguments[5],fe=arguments[6],te=arguments[7],W=arguments[8]),Yt(Q=arguments[0])==="object"&&!d(Q)&&"imageData"in Q){var J=Q;Q=J.imageData,I=J.format||I||e,z=J.x||z||0,$=J.y||$||0,ce=J.w||J.width||ce,ie=J.h||J.height||ie,fe=J.alias||fe,te=J.compression||te,W=J.rotation||J.angle||W}var ee=this.internal.getFilters();if(te===void 0&&ee.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(z)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var S=R.call(this,Q,I,fe,te);return w.call(this,z,$,ce,ie,S,W),this};var R=function(Q,I,z,$){var ce,ie,fe;if(typeof Q=="string"&&n(Q)===e){Q=unescape(Q);var te=Z(Q,!1);(te!==""||(te=t.loadFile(Q,!0))!==void 0)&&(Q=te)}if(d(Q)&&(Q=f(Q,I)),I=n(Q,I),!u(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((fe=z)==null||fe.length===0)&&(z=function(W){return typeof W=="string"||P(W)?x(W):P(W.data)?x(W.data):null}(Q)),(ce=g.call(this,z))||(F()&&(Q instanceof Uint8Array||I==="RGBA"||(ie=Q,Q=E(Q))),ce=this["process"+I.toUpperCase()](Q,c.call(this),z,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in t.image_compression?W:v.NONE}($),ie)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},Z=t.__addimage__.convertBase64ToBinaryString=function(Q,I){var z;I=typeof I!="boolean"||I;var $,ce="";if(typeof Q=="string"){$=(z=_(Q))!==null?z.data:Q;try{ce=nd($)}catch(ie){if(I)throw C($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(Q){var I,z,$="";if(d(Q)&&(Q=f(Q)),typeof Q=="string"&&n(Q)===e&&(($=Z(Q,!1))===""&&($=t.loadFile(Q)||""),Q=$),z=n(Q),!u(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!F()||Q instanceof Uint8Array||(Q=E(Q)),!(I=this["process"+z.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=z,I}})(mt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};mt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){n=c[f];var g=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(w.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y)+"] ")+"/Contents ("+g(v(n.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+g(v(x))+") >>",w.content=i;var C=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+A(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(w.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var P=A(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,a){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:a,type:"link"})},t.textWithLink=function(r,n,s,i){var a,A,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){A=i.maxWidth;var u=this.splitTextToSize(r,A).length;a=Math.ceil(c*u)}else A=l,a=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,A,a,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(mt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},A=t.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&s.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(w){var b=0,v=r,x="",C=0;for(b=0;b<w.length;b+=1)v[w.charCodeAt(b)]!==void 0?(C++,typeof(v=v[w.charCodeAt(b)])=="number"&&(x+=String.fromCharCode(v),v=r,C=0),b===w.length-1&&(v=r,x+=w.charAt(b-(C-1)),b-=C-1,C=0)):(v=r,x+=w.charAt(b-C),b-=C,C=0);return x};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(w,b,v){return a(w)?i(w)===!1?-1:!c(w)||!a(b)&&!a(v)||!a(v)&&A(b)||A(w)&&!a(b)||A(w)&&l(b)||A(w)&&A(b)?0:u(w)&&a(b)&&!A(b)&&a(v)&&c(v)?3:A(w)||!a(v)?1:2:-1},g=function(w){var b=0,v=0,x=0,C="",_="",F="",P=(w=w||"").split("\\s+"),E=[];for(b=0;b<P.length;b+=1){for(E.push(""),v=0;v<P[b].length;v+=1)C=P[b][v],_=P[b][v-1],F=P[b][v+1],a(C)?(x=f(C,_,F),E[b]+=x!==-1?String.fromCharCode(e[C.charCodeAt(0)][x]):C):E[b]+=C;E[b]=d(E[b])}return E.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var w,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var x=0;for(v=[],x=0;x<b.length;x+=1)Array.isArray(b[x])?v.push([g(b[x][0]),b[x][1],b[x][2]]):v.push([g(b[x])]);w=v}else w=g(b);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",m])}(mt.API),mt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(A){s=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(A){i=A}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(A){a=A}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(mt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(w){m=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,g=0,m=0,w=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,_){return C.concat(b.splitTextToSize(_,v))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)g<(w=this.getStringUnitWidth(l[x],{font:d})*u)&&(g=w);return g!==0&&(m=l.length),{w:g/=f,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,g&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var g,m,w,b,v=[],x=[],C=[],_={},F={},P=[],E=[],j=(f=f||{}).autoSize||!1,R=f.printHeaders!==!1,Z=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,Q=f.margins||Object.assign({width:this.getPageWidth()},e),I=typeof f.padding=="number"?f.padding:3,z=f.headerBackgroundColor||"#c8c8c8",$=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=$,this.setFontSize(Z),d==null)x=v=Object.keys(u[0]),C=v.map(function(){return"left"});else if(Array.isArray(d)&&Yt(d[0])==="object")for(v=d.map(function(J){return J.name}),x=d.map(function(J){return J.prompt||J.name||""}),C=d.map(function(J){return J.align||"left"}),g=0;g<d.length;g+=1)F[d[g].name]=d[g].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(x=v=d,C=v.map(function(){return"left"}));if(j||Array.isArray(d)&&typeof d[0]=="string")for(g=0;g<v.length;g+=1){for(_[b=v[g]]=u.map(function(J){return J[b]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=_[b],this.setFont(void 0,"normal"),w=0;w<m.length;w+=1)P.push(this.getTextDimensions(m[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[b]=Math.max.apply(null,P)+I+I,P=[]}if(R){var ce={};for(g=0;g<v.length;g+=1)ce[v[g]]={},ce[v[g]].text=x[g],ce[v[g]].align=C[g];var ie=A.call(this,ce,F);E=v.map(function(J){return new i(l,c,F[J],ie,ce[J].text,void 0,ce[J].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var fe=d.reduce(function(J,ee){return J[ee.name]=ee.align,J},{});for(g=0;g<u.length;g+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:g,data:u[g]},this);var te=A.call(this,u[g],F);for(w=0;w<v.length;w+=1){var W=u[g][v[w]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:g,col:w,data:W},this),a.call(this,new i(l,c,F[v[w]],te,W,g+2,fe[v[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(g){var m=l[g];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*d/f+u+u},this).reduce(function(g,m){return Math.max(g,m)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(mt.API);var IS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},PS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Nw=QS(PS),TS=[100,200,300,400,500,600,700,800,900],rO=QS(TS);function Sw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return IS[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Nw[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function QB(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var nO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function sO(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},nO,r.genericFontFamilies||{}),i=null,a=null,A=0;A<e.length;++A)if(s[(i=Sw(e[A])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){a=t[i.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+PB(i)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var u=Nw[l],d=u<=Nw.normal?-1:1,f=QB(c,PS,u,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(i.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=IS[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=rO[l],d=QB(c,TS,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+PB(i)+"'.");return a}function TB(t){return t.trimLeft()}function iO(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function aO(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Of,DB,OB,hx=["times"];(function(t){var e,r,n,s,i,a,A,l,c,u=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new l,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new a,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new a,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=S;Object.defineProperty(this,"pdf",{get:function(){return M}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ge){K=!!ge}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(ge){G=!!ge}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(ge){isNaN(ge)||(re=ge)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(ge){isNaN(ge)||(ae=ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ge){var Y;typeof ge=="number"?Y=[ge,ge,ge,ge]:((Y=new Array(4))[0]=ge[0],Y[1]=ge.length>=2?ge[1]:Y[0],Y[2]=ge.length>=3?ge[2]:Y[0],Y[3]=ge.length>=4?ge[3]:Y[1]),c.margin=Y}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(ge){Ae=ge}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(ge){se=ge}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ge){Ne=ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ge){ge instanceof u&&(c=ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ge){c.path=ge}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(ge){Ue=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var Y;Y=f(ge),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var Y=f(ge);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var pe=null;function ve(ge,Y){if(pe===null){var tt=function(Re){var Ie=[];return Object.keys(Re).forEach(function(Ve){Re[Ve].forEach(function(Ee){var Pe=null;switch(Ee){case"bold":Pe={family:Ve,weight:"bold"};break;case"italic":Pe={family:Ve,style:"italic"};break;case"bolditalic":Pe={family:Ve,weight:"bold",style:"italic"};break;case"":case"normal":Pe={family:Ve}}Pe!==null&&(Pe.ref={name:Ve,style:Ee},Ie.push(Pe))})}),Ie}(ge.getFontList());pe=function(Re){for(var Ie={},Ve=0;Ve<Re.length;++Ve){var Ee=Sw(Re[Ve]),Pe=Ee.family,qe=Ee.stretch,et=Ee.style,ye=Ee.weight;Ie[Pe]=Ie[Pe]||{},Ie[Pe][qe]=Ie[Pe][qe]||{},Ie[Pe][qe][et]=Ie[Pe][qe][et]||{},Ie[Pe][qe][et][ye]=Ee}return Ie}(tt.concat(Y))}return pe}var je=null;Object.defineProperty(this,"fontFaces",{get:function(){return je},set:function(ge){pe=null,je=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var Y;if(this.ctx.font=ge,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var tt=Y[1],Re=(Y[2],Y[3]),Ie=Y[4],Ve=(Y[5],Y[6]),Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Ee==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Pe=function(oe){var Be,Se,Xe=[],ke=oe.trim();if(ke==="")return hx;if(ke in IB)return[IB[ke]];for(;ke!=="";){switch(Se=null,Be=(ke=TB(ke)).charAt(0)){case'"':case"'":Se=iO(ke.substring(1),Be);break;default:Se=aO(ke)}if(Se===null||(Xe.push(Se[0]),(ke=TB(Se[1]))!==""&&ke.charAt(0)!==","))return hx;ke=ke.replace(/^,/,"")}return Xe}(Ve);if(this.fontFaces){var qe=sO(ve(this.pdf,this.fontFaces),Pe.map(function(oe){return{family:oe,stretch:"normal",weight:Re,style:tt}}));this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var et="";(Re==="bold"||parseInt(Re,10)>=700||tt==="bold")&&(et="bold"),tt==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var ye="",Oe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},U=0;U<Pe.length;U++){if(this.pdf.internal.getFont(Pe[U],et,{noFallback:!0,disableWarning:!0})!==void 0){ye=Pe[U];break}if(et==="bolditalic"&&this.pdf.internal.getFont(Pe[U],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ye=Pe[U],et="bold";else if(this.pdf.internal.getFont(Pe[U],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ye=Pe[U],et="normal";break}}if(ye===""){for(var ue=0;ue<Pe.length;ue++)if(Oe[Pe[ue]]){ye=Oe[Pe[ue]];break}}ye=ye===""?"Times":ye,this.pdf.setFont(ye,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};d.prototype.setLineDash=function(S){this.lineDash=S},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){_.call(this,"fill",!1)},d.prototype.stroke=function(){_.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(S,M){if(isNaN(S)||isNaN(M))throw nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new a(S,M));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(S,M)},d.prototype.closePath=function(){var S=new a(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Yt(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){S=new a(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(S.x,S.y)},d.prototype.lineTo=function(S,M){if(isNaN(S)||isNaN(M))throw nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new a(S,M));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(K.x,K.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},d.prototype.quadraticCurveTo=function(S,M,K,G){if(isNaN(K)||isNaN(G)||isNaN(S)||isNaN(M))throw nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new a(K,G)),ae=this.ctx.transform.applyToPoint(new a(S,M));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},d.prototype.bezierCurveTo=function(S,M,K,G,re,ae){if(isNaN(re)||isNaN(ae)||isNaN(S)||isNaN(M)||isNaN(K)||isNaN(G))throw nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new a(re,ae)),se=this.ctx.transform.applyToPoint(new a(S,M)),Ne=this.ctx.transform.applyToPoint(new a(K,G));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:Ne.x,y2:Ne.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new a(Ae.x,Ae.y)},d.prototype.arc=function(S,M,K,G,re,ae){if(isNaN(S)||isNaN(M)||isNaN(K)||isNaN(G)||isNaN(re))throw nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new a(S,M));S=Ae.x,M=Ae.y;var se=this.ctx.transform.applyToPoint(new a(0,K)),Ne=this.ctx.transform.applyToPoint(new a(0,0));K=Math.sqrt(Math.pow(se.x-Ne.x,2)+Math.pow(se.y-Ne.y,2))}Math.abs(re-G)>=2*Math.PI&&(G=0,re=2*Math.PI),this.path.push({type:"arc",x:S,y:M,radius:K,startAngle:G,endAngle:re,counterclockwise:ae})},d.prototype.arcTo=function(S,M,K,G,re){throw new Error("arcTo not implemented.")},d.prototype.rect=function(S,M,K,G){if(isNaN(S)||isNaN(M)||isNaN(K)||isNaN(G))throw nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,M),this.lineTo(S+K,M),this.lineTo(S+K,M+G),this.lineTo(S,M+G),this.lineTo(S,M),this.lineTo(S+K,M),this.lineTo(S,M)},d.prototype.fillRect=function(S,M,K,G){if(isNaN(S)||isNaN(M)||isNaN(K)||isNaN(G))throw nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,M,K,G),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},d.prototype.strokeRect=function(S,M,K,G){if(isNaN(S)||isNaN(M)||isNaN(K)||isNaN(G))throw nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(S,M,K,G),this.stroke())},d.prototype.clearRect=function(S,M,K,G){if(isNaN(S)||isNaN(M)||isNaN(K)||isNaN(G))throw nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,M,K,G))},d.prototype.save=function(S){S=typeof S!="boolean"||S;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},d.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(M),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(S){var M,K,G,re;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))M=0,K=0,G=0,re=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(ae!==null)M=parseInt(ae[1]),K=parseInt(ae[2]),G=parseInt(ae[3]),re=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)M=parseInt(ae[1]),K=parseInt(ae[2]),G=parseInt(ae[3]),re=parseFloat(ae[4]);else{if(re=1,typeof S=="string"&&S.charAt(0)!=="#"){var Ae=new jS(S);S=Ae.ok?Ae.toHex():"#000000"}S.length===4?(M=S.substring(1,2),M+=M,K=S.substring(2,3),K+=K,G=S.substring(3,4),G+=G):(M=S.substring(1,3),K=S.substring(3,5),G=S.substring(5,7)),M=parseInt(M,16),K=parseInt(K,16),G=parseInt(G,16)}}return{r:M,g:K,b:G,a:re,style:S}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(S,M,K,G){if(isNaN(M)||isNaN(K)||typeof S!="string")throw nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!g.call(this)){var re=te(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;I.call(this,{text:S,x:M,y:K,scale:ae,angle:re,align:this.textAlign,maxWidth:G})}},d.prototype.strokeText=function(S,M,K,G){if(isNaN(M)||isNaN(K)||typeof S!="string")throw nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){G=isNaN(G)?void 0:G;var re=te(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;I.call(this,{text:S,x:M,y:K,scale:ae,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:G})}},d.prototype.measureText=function(S){if(typeof S!="string")throw nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,K=this.pdf.internal.scaleFactor,G=M.internal.getFontSize(),re=M.getStringUnitWidth(S)*G/M.internal.scaleFactor,ae=function(Ae){var se=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return se}}),this};return new ae({width:re*=Math.round(96*K/72*1e4)/1e4})},d.prototype.scale=function(S,M){if(isNaN(S)||isNaN(M))throw nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(S,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.rotate=function(S){if(isNaN(S))throw nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.translate=function(S,M){if(isNaN(S)||isNaN(M))throw nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,S,M);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.transform=function(S,M,K,G,re,ae){if(isNaN(S)||isNaN(M)||isNaN(K)||isNaN(G)||isNaN(re)||isNaN(ae))throw nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new l(S,M,K,G,re,ae);this.ctx.transform=this.ctx.transform.multiply(Ae)},d.prototype.setTransform=function(S,M,K,G,re,ae){S=isNaN(S)?1:S,M=isNaN(M)?0:M,K=isNaN(K)?0:K,G=isNaN(G)?1:G,re=isNaN(re)?0:re,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(S,M,K,G,re,ae)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(S,M,K,G,re,ae,Ae,se,Ne){var Ue=this.pdf.getImageProperties(S),pe=1,ve=1,je=1,ge=1;G!==void 0&&se!==void 0&&(je=se/G,ge=Ne/re,pe=Ue.width/G*se/G,ve=Ue.height/re*Ne/re),ae===void 0&&(ae=M,Ae=K,M=0,K=0),G!==void 0&&se===void 0&&(se=G,Ne=re),G===void 0&&se===void 0&&(se=Ue.width,Ne=Ue.height);for(var Y,tt=this.ctx.transform.decompose(),Re=te(tt.rotate.shx),Ie=new l,Ve=(Ie=(Ie=(Ie=Ie.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new A(ae-M*je,Ae-K*ge,G*pe,re*ve)),Ee=b.call(this,Ve),Pe=[],qe=0;qe<Ee.length;qe+=1)Pe.indexOf(Ee[qe])===-1&&Pe.push(Ee[qe]);if(C(Pe),this.autoPaging)for(var et=Pe[0],ye=Pe[Pe.length-1],Oe=et;Oe<ye+1;Oe++){this.pdf.setPage(Oe);var U=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ue=Oe===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=Oe===1?0:oe+(Oe-2)*Be;if(this.ctx.clip_path.length!==0){var Xe=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Y,this.posX+this.margin[3],-Se+ue+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Xe}var ke=JSON.parse(JSON.stringify(Ve));ke=x([ke],this.posX+this.margin[3],-Se+ue+this.ctx.prevPageLastElemOffset)[0];var Je=(Oe>et||Oe<ye)&&w.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],U,Be,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,Re),Je&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,Re)};var b=function(S,M,K){var G=[];M=M||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":G.push(Math.floor((S.y+re)/K)+1);break;case"arc":G.push(Math.floor((S.y+re-S.radius)/K)+1),G.push(Math.floor((S.y+re+S.radius)/K)+1);break;case"qct":var ae=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);G.push(Math.floor((ae.y+re)/K)+1),G.push(Math.floor((ae.y+ae.h+re)/K)+1);break;case"bct":var Ae=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);G.push(Math.floor((Ae.y+re)/K)+1),G.push(Math.floor((Ae.y+Ae.h+re)/K)+1);break;case"rect":G.push(Math.floor((S.y+re)/K)+1),G.push(Math.floor((S.y+S.h+re)/K)+1)}for(var se=0;se<G.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<G[se];)v.call(this);return G},v=function(){var S=this.fillStyle,M=this.strokeStyle,K=this.font,G=this.lineCap,re=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=M,this.font=K,this.lineCap=G,this.lineWidth=re,this.lineJoin=ae},x=function(S,M,K){for(var G=0;G<S.length;G++)switch(S[G].type){case"bct":S[G].x2+=M,S[G].y2+=K;case"qct":S[G].x1+=M,S[G].y1+=K;case"mt":case"lt":case"arc":default:S[G].x+=M,S[G].y+=K}return S},C=function(S){return S.sort(function(M,K){return M-K})},_=function(S,M){for(var K,G,re=this.fillStyle,ae=this.strokeStyle,Ae=this.lineCap,se=this.lineWidth,Ne=Math.abs(se*this.ctx.transform.scaleX),Ue=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),ve=JSON.parse(JSON.stringify(this.path)),je=[],ge=0;ge<ve.length;ge++)if(ve[ge].x!==void 0)for(var Y=b.call(this,ve[ge]),tt=0;tt<Y.length;tt+=1)je.indexOf(Y[tt])===-1&&je.push(Y[tt]);for(var Re=0;Re<je.length;Re++)for(;this.pdf.internal.getNumberOfPages()<je[Re];)v.call(this);if(C(je),this.autoPaging)for(var Ie=je[0],Ve=je[je.length-1],Ee=Ie;Ee<Ve+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=re,this.strokeStyle=ae,this.lineCap=Ae,this.lineWidth=Ne,this.lineJoin=Ue;var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=Ee===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Oe=Ee===1?0:et+(Ee-2)*ye;if(this.ctx.clip_path.length!==0){var U=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(K,this.posX+this.margin[3],-Oe+qe+this.ctx.prevPageLastElemOffset),F.call(this,S,!0),this.path=U}if(G=JSON.parse(JSON.stringify(pe)),this.path=x(G,this.posX+this.margin[3],-Oe+qe+this.ctx.prevPageLastElemOffset),M===!1||Ee===0){var ue=(Ee>Ie||Ee<Ve)&&w.call(this);ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,ye,null).clip().discardPath()),F.call(this,S,M),ue&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=Ne,F.call(this,S,M),this.lineWidth=se;this.path=pe},F=function(S,M){if((S!=="stroke"||M||!m.call(this))&&(S==="stroke"||M||!g.call(this))){for(var K,G,re=[],ae=this.path,Ae=0;Ae<ae.length;Ae++){var se=ae[Ae];switch(se.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:se,deltas:[],abs:[]});break;case"lt":var Ne=re.length;if(ae[Ae-1]&&!isNaN(ae[Ae-1].x)&&(K=[se.x-ae[Ae-1].x,se.y-ae[Ae-1].y],Ne>0)){for(;Ne>=0;Ne--)if(re[Ne-1].close!==!0&&re[Ne-1].begin!==!0){re[Ne-1].deltas.push(K),re[Ne-1].abs.push(se);break}}break;case"bct":K=[se.x1-ae[Ae-1].x,se.y1-ae[Ae-1].y,se.x2-ae[Ae-1].x,se.y2-ae[Ae-1].y,se.x-ae[Ae-1].x,se.y-ae[Ae-1].y],re[re.length-1].deltas.push(K);break;case"qct":var Ue=ae[Ae-1].x+2/3*(se.x1-ae[Ae-1].x),pe=ae[Ae-1].y+2/3*(se.y1-ae[Ae-1].y),ve=se.x+2/3*(se.x1-se.x),je=se.y+2/3*(se.y1-se.y),ge=se.x,Y=se.y;K=[Ue-ae[Ae-1].x,pe-ae[Ae-1].y,ve-ae[Ae-1].x,je-ae[Ae-1].y,ge-ae[Ae-1].x,Y-ae[Ae-1].y],re[re.length-1].deltas.push(K);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(se)}}G=M?null:S==="stroke"?"stroke":"fill";for(var tt=!1,Re=0;Re<re.length;Re++)if(re[Re].arc)for(var Ie=re[Re].abs,Ve=0;Ve<Ie.length;Ve++){var Ee=Ie[Ve];Ee.type==="arc"?j.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,M,!tt):z.call(this,Ee.x,Ee.y),tt=!0}else if(re[Re].close===!0)this.pdf.internal.out("h"),tt=!1;else if(re[Re].begin!==!0){var Pe=re[Re].start.x,qe=re[Re].start.y;$.call(this,re[Re].deltas,Pe,qe),tt=!0}G&&R.call(this,G),M&&Z.call(this)}},P=function(S){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-K;case"top":return S+M-K;case"hanging":return S+M-2*K;case"middle":return S+M/2-K;case"ideographic":return S;case"alphabetic":default:return S}},E=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(M,K){this.colorStops.push([M,K])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(S,M,K,G,re,ae,Ae,se,Ne){for(var Ue=ie.call(this,K,G,re,ae),pe=0;pe<Ue.length;pe++){var ve=Ue[pe];pe===0&&(Ne?Q.call(this,ve.x1+S,ve.y1+M):z.call(this,ve.x1+S,ve.y1+M)),ce.call(this,S,M,ve.x2,ve.y2,ve.x3,ve.y3,ve.x4,ve.y4)}se?Z.call(this):R.call(this,Ae)},R=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(S,M){this.pdf.internal.out(r(S)+" "+n(M)+" m")},I=function(S){var M;switch(S.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var K=this.pdf.getTextDimensions(S.text),G=P.call(this,S.y),re=E.call(this,G)-K.h,ae=this.ctx.transform.applyToPoint(new a(S.x,G)),Ae=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Ne,Ue,pe,ve=this.ctx.transform.applyToRectangle(new A(S.x,G,K.w,K.h)),je=se.applyToRectangle(new A(S.x,re,K.w,K.h)),ge=b.call(this,je),Y=[],tt=0;tt<ge.length;tt+=1)Y.indexOf(ge[tt])===-1&&Y.push(ge[tt]);if(C(Y),this.autoPaging)for(var Re=Y[0],Ie=Y[Y.length-1],Ve=Re;Ve<Ie+1;Ve++){this.pdf.setPage(Ve);var Ee=Ve===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],et=qe-this.margin[0],ye=this.pdf.internal.pageSize.width-this.margin[1],Oe=ye-this.margin[3],U=Ve===1?0:Pe+(Ve-2)*et;if(this.ctx.clip_path.length!==0){var ue=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ne,this.posX+this.margin[3],-1*U+Ee),F.call(this,"fill",!0),this.path=ue}var oe=x([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-U+Ee+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*S.scale),pe=this.lineWidth,this.lineWidth=pe*S.scale);var Be=this.autoPaging!=="text";if(Be||oe.y+oe.h<=qe){if(Be||oe.y>=Ee&&oe.x<=ye){var Se=Be?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||ye-oe.x)[0],Xe=x([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-U+Ee+this.ctx.prevPageLastElemOffset)[0],ke=Be&&(Ve>Re||Ve<Ie)&&w.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,et,null).clip().discardPath()),this.pdf.text(Se,Xe.x,Xe.y,{angle:S.angle,align:M,renderingMode:S.renderingMode}),ke&&this.pdf.restoreGraphicsState()}}else oe.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-oe.y);S.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=pe)}else S.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*S.scale),pe=this.lineWidth,this.lineWidth=pe*S.scale),this.pdf.text(S.text,ae.x+this.posX,ae.y+this.posY,{angle:S.angle,align:M,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=pe)},z=function(S,M,K,G){K=K||0,G=G||0,this.pdf.internal.out(r(S+K)+" "+n(M+G)+" l")},$=function(S,M,K){return this.pdf.lines(S,M,K,null,null)},ce=function(S,M,K,G,re,ae,Ae,se){this.pdf.internal.out([e(s(K+S)),e(i(G+M)),e(s(re+S)),e(i(ae+M)),e(s(Ae+S)),e(i(se+M)),"c"].join(" "))},ie=function(S,M,K,G){for(var re=2*Math.PI,ae=Math.PI/2;M>K;)M-=re;var Ae=Math.abs(K-M);Ae<re&&G&&(Ae=re-Ae);for(var se=[],Ne=G?-1:1,Ue=M;Ae>1e-5;){var pe=Ue+Ne*Math.min(Ae,ae);se.push(fe.call(this,S,Ue,pe)),Ae-=Math.abs(pe-Ue),Ue=pe}return se},fe=function(S,M,K){var G=(K-M)/2,re=S*Math.cos(G),ae=S*Math.sin(G),Ae=re,se=-ae,Ne=Ae*Ae+se*se,Ue=Ne+Ae*re+se*ae,pe=4/3*(Math.sqrt(2*Ne*Ue)-Ue)/(Ae*ae-se*re),ve=Ae-pe*se,je=se+pe*Ae,ge=ve,Y=-je,tt=G+M,Re=Math.cos(tt),Ie=Math.sin(tt);return{x1:S*Math.cos(M),y1:S*Math.sin(M),x2:ve*Re-je*Ie,y2:ve*Ie+je*Re,x3:ge*Re-Y*Ie,y3:ge*Ie+Y*Re,x4:S*Math.cos(K),y4:S*Math.sin(K)}},te=function(S){return 180*S/Math.PI},W=function(S,M,K,G,re,ae){var Ae=S+.5*(K-S),se=M+.5*(G-M),Ne=re+.5*(K-re),Ue=ae+.5*(G-ae),pe=Math.min(S,re,Ae,Ne),ve=Math.max(S,re,Ae,Ne),je=Math.min(M,ae,se,Ue),ge=Math.max(M,ae,se,Ue);return new A(pe,je,ve-pe,ge-je)},J=function(S,M,K,G,re,ae,Ae,se){var Ne,Ue,pe,ve,je,ge,Y,tt,Re,Ie,Ve,Ee,Pe,qe,et=K-S,ye=G-M,Oe=re-K,U=ae-G,ue=Ae-re,oe=se-ae;for(Ue=0;Ue<41;Ue++)Re=(Y=(pe=S+(Ne=Ue/40)*et)+Ne*((je=K+Ne*Oe)-pe))+Ne*(je+Ne*(re+Ne*ue-je)-Y),Ie=(tt=(ve=M+Ne*ye)+Ne*((ge=G+Ne*U)-ve))+Ne*(ge+Ne*(ae+Ne*oe-ge)-tt),Ue==0?(Ve=Re,Ee=Ie,Pe=Re,qe=Ie):(Ve=Math.min(Ve,Re),Ee=Math.min(Ee,Ie),Pe=Math.max(Pe,Re),qe=Math.max(qe,Ie));return new A(Math.round(Ve),Math.round(Ee),Math.round(Pe-Ve),Math.round(qe-Ee))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,M,K=(S=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:M}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(mt.API),function(t){var e=function(i){var a,A,l,c,u,d,f,g,m,w;for(A=[],l=0,c=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(w=u%85))/85)-(m=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)%85,A.push(d+33,f+33,g+33,m+33,w+33)):A.push(122);return function(b,v){for(var x=v;x>0;x--)b.pop()}(A,a.length),String.fromCharCode.apply(String,A)+"~>"},r=function(i){var a,A,l,c,u,d=String,f="length",g=255,m="charCodeAt",w="slice",b="replace";for(i[w](-2),i=i[w](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],c=0,u=(i+=a="uuuuu"[w](i[f]%5||5))[f];u>c;c+=5)A=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(g&A>>24,g&A>>16,g&A>>8,g&A);return function(v,x){for(var C=x;C>0;C--)v.pop()}(l,a[f]),d.fromCharCode.apply(d,l)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var A="",l=0;l<i.length;l+=2)A+=String.fromCharCode("0x"+(i[l]+i[l+1]));return A},s=function(i){for(var a=new Uint8Array(i.length),A=i.length;A--;)a[A]=i.charCodeAt(A);return i=(a=yw(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,a){var A=0,l=i||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),A=0;A<a.length;A+=1)switch(a[A]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(mt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var A=void 0;try{A=function(l,c,u){var d=new XMLHttpRequest,f=0,g=function(m){var w=m.length,b=[],v=String.fromCharCode;for(f=0;f<w;f+=1)b.push(v(255&m.charCodeAt(f)));return b.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(g(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return g(d.responseText)}(s,i,a)}catch{}return A}(e,r,n)},t.loadImageFile=t.loadFile}(mt.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):Yn(()=>Promise.resolve().then(()=>pw),void 0)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):Yn(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var A=Yt(a);return A==="undefined"?"undefined":A==="string"||a instanceof String?"string":A==="number"||a instanceof Number?"number":A==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(a,A){var l=document.createElement(a);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},i=function a(A){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(A)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,A){return a.__proto__=A||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,A){return this.then(function(){switch(A=A||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var g=c[f],m=g.src.find(function(w){return w.format==="truetype"});m&&l.addFont(m.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),A(this.prop.container,d)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,A):this.outputPdf(a,A)},i.prototype.outputPdf=function(a,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,A)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var A=Object.keys(a||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(A)})},i.prototype.get=function(a,A){return this.then(function(){var l=a in i.template.prop?this.prop[a]:this.opt[a];return A?A(l):l})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:A(a.inner.width,a.k),height:A(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,A,l,c){return a!=null&&(this.progress.val=a),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,A,l,c){return this.setProgress(a?this.progress.val+a:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(a,A){var l=this;return this.thenCore(a,A,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(a,A,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),A&&(A=A.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,A);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(a,A){return Promise.prototype.then.call(this,a,A)},i.prototype.thenList=function(a){var A=this;return a.forEach(function(l){A=A.thenCore(l)}),A},i.prototype.catch=function(a){a&&(a=a.bind(this));var A=Promise.prototype.catch.call(this,a);return i.convert(A,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,mt.getPageSize=function(a,A,l){if(Yt(a)==="object"){var c=a;a=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+A}var g,m=0,w=0;if(f.hasOwnProperty(d))m=f[d][1]/u,w=f[d][0]/u;else try{m=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",w>m&&(g=w,w=m,m=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>w&&(g=w,w=m,m=g)}return{width:w,height:m,unit:A,k:u,orientation:a}},t.html=function(a,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(Sw):null;var l=new i(A);return A.worker?l:l.from(a).doCallback()}}(mt.API),mt.API.addJS=function(t){return OB=t,this.internal.events.subscribe("postPutResources",function(){Of=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Of+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),DB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Of!==void 0&&DB!==void 0&&this.internal.out("/Names <</JavaScript "+Of+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],A=n.exec(a);if(A!=null){var l=A[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=r.internal.newObject();u.push(d);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var A=this.count=this.count_r({count:0},a);if(A>0&&this.line("/Count "+A),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(mt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,a,A){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var f,g=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,w={width:0,height:0,numcomponents:1},b=4;b<m;b+=2){if(b+=g,e.indexOf(d.charCodeAt(b+1))!==-1){f=256*d.charCodeAt(b+5)+d.charCodeAt(b+6),w={width:256*d.charCodeAt(b+7)+d.charCodeAt(b+8),height:f,numcomponents:d.charCodeAt(b+9)};break}g=256*d.charCodeAt(b+2)+d.charCodeAt(b+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(mt.API);var Nl,Mf,MB,HB,RB,oO=function(){var t,e,r;function n(i){var a,A,l,c,u,d,f,g,m,w,b,v,x,C;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),m=(function(){var _,F;for(F=[],_=0;_<4;++_)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,a-=4),i=(d!=null?d.data:void 0)||this.imgData,v=0;0<=a?v<a:v>a;0<=a?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(x=0;0<=w?x<w:x>w;0<=w?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(b=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,b.slice(0,f)),this.text[g]=String.fromCharCode.apply(String,b.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,A=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*A,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,A;for(A=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)A.push(this.data[this.pos++]);return A},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,A=new Uint8Array(this.width*this.height*a),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,f,g,m){var w,b,v,x,C,_,F,P,E,j,R,Z,Q,I,z,$,ce,ie,fe,te,W,J=Math.ceil((c.width-d)/g),ee=Math.ceil((c.height-f)/m),S=c.width==J&&c.height==ee;for(I=a*J,Z=S?A:new Uint8Array(I*ee),_=i.length,Q=0,b=0;Q<ee&&l<_;){switch(i[l++]){case 0:for(x=ce=0;ce<I;x=ce+=1)Z[b++]=i[l++];break;case 1:for(x=ie=0;ie<I;x=ie+=1)w=i[l++],C=x<a?0:Z[b-a],Z[b++]=(w+C)%256;break;case 2:for(x=fe=0;fe<I;x=fe+=1)w=i[l++],v=(x-x%a)/a,z=Q&&Z[(Q-1)*I+v*a+x%a],Z[b++]=(z+w)%256;break;case 3:for(x=te=0;te<I;x=te+=1)w=i[l++],v=(x-x%a)/a,C=x<a?0:Z[b-a],z=Q&&Z[(Q-1)*I+v*a+x%a],Z[b++]=(w+Math.floor((C+z)/2))%256;break;case 4:for(x=W=0;W<I;x=W+=1)w=i[l++],v=(x-x%a)/a,C=x<a?0:Z[b-a],Q===0?z=$=0:(z=Z[(Q-1)*I+v*a+x%a],$=v&&Z[(Q-1)*I+(v-1)*a+x%a]),F=C+z-$,P=Math.abs(F-C),j=Math.abs(F-z),R=Math.abs(F-$),E=P<=j&&P<=R?C:j<=R?z:$,Z[b++]=(w+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!S){var M=((f+Q*m)*c.width+d)*a,K=Q*I;for(x=0;x<J;x+=1){for(var G=0;G<a;G+=1)A[M++]=Z[K++];M+=(g-1)*a}}Q++}}return i=D8(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),A},n.prototype.decodePalette=function(){var i,a,A,l,c,u,d,f,g;for(A=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+A.length),l=0,i=0,a=d=0,f=A.length;d<f;a=d+=3)c[l++]=A[a],c[l++]=A[a+1],c[l++]=A[a+2],c[l++]=(g=u[i++])!=null?g:255;return c},n.prototype.copyToImageData=function(i,a){var A,l,c,u,d,f,g,m,w,b,v;if(l=this.colors,w=null,A=this.hasAlphaChannel,this.palette.length&&(w=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,A=!0),m=(c=i.data||i).length,d=w||a,u=f=0,l===1)for(;u<m;)g=w?4*a[u/4]:f,b=d[g++],c[u++]=b,c[u++]=b,c[u++]=b,c[u++]=A?d[g++]:255,f=g;else for(;u<m;)g=w?4*a[u/4]:f,c[u++]=d[g++],c[u++]=d[g++],c[u++]=d[g++],c[u++]=A?d[g++]:255,f=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(wt)==="[object Window]"){try{e=wt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,A,l,c,u,d,f,g;if(this.animation){for(g=[],A=u=0,d=(f=this.animation.frames).length;u<d;A=++u)a=f[A],l=i.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,g.push(a.image=t(l));return g}},n.prototype.renderFrame=function(i,a){var A,l,c;return A=(l=this.animation.frames)[a],c=l[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),A.blendOp===0&&i.clearRect(A.xOffset,A.yOffset,A.width,A.height),i.drawImage(A.image,A.xOffset,A.yOffset)},n.prototype.animate=function(i){var a,A,l,c,u,d,f=this;return A=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(a=function(){var g,m;if(g=A++%c,m=l[g],f.renderFrame(i,g),c>1&&A/c<u)return f.animation._timeout=setTimeout(a,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,A;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(A=a.createImageData(this.width,this.height),this.copyToImageData(A,this.decodePixels()),a.putImageData(A,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function AO(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<(7&s)+1;t[e++],t[e++];var A=null,l=null;i&&(A=e,l=a,e+=3*a);var c=!0,u=[],d=0,f=null,g=0,m=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],!(1&w)&&(f=null),g=w>>2&7,e++;break;case 254:for(;;){if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,_=t[e++],F=_>>6&1,P=1<<(7&_)+1,E=A,j=l,R=!1;_>>7&&(R=!0,E=e,j=P,e+=3*P);var Z=e;for(e++;;){var Q;if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}u.push({x:b,y:v,width:x,height:C,has_local_palette:R,palette_offset:E,palette_size:j,data_offset:Z,data_length:e-Z,transparent_index:f,interlaced:!!F,delay:d,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,z){var $=this.frameInfo(I),ce=$.width*$.height,ie=new Uint8Array(ce);KB(t,$.data_offset,ie,ce);var fe=$.palette_offset,te=$.transparent_index;te===null&&(te=256);var W=$.width,J=r-W,ee=W,S=4*($.y*r+$.x),M=4*(($.y+$.height)*r+$.x),K=S,G=4*J;$.interlaced===!0&&(G+=4*r*7);for(var re=8,ae=0,Ae=ie.length;ae<Ae;++ae){var se=ie[ae];if(ee===0&&(ee=W,(K+=G)>=M&&(G=4*J+4*r*(re-1),K=S+(W+J)*(re<<1),re>>=1)),se===te)K+=4;else{var Ne=t[fe+3*se],Ue=t[fe+3*se+1],pe=t[fe+3*se+2];z[K++]=pe,z[K++]=Ue,z[K++]=Ne,z[K++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(I,z){var $=this.frameInfo(I),ce=$.width*$.height,ie=new Uint8Array(ce);KB(t,$.data_offset,ie,ce);var fe=$.palette_offset,te=$.transparent_index;te===null&&(te=256);var W=$.width,J=r-W,ee=W,S=4*($.y*r+$.x),M=4*(($.y+$.height)*r+$.x),K=S,G=4*J;$.interlaced===!0&&(G+=4*r*7);for(var re=8,ae=0,Ae=ie.length;ae<Ae;++ae){var se=ie[ae];if(ee===0&&(ee=W,(K+=G)>=M&&(G=4*J+4*r*(re-1),K=S+(W+J)*(re<<1),re>>=1)),se===te)K+=4;else{var Ne=t[fe+3*se],Ue=t[fe+3*se+1],pe=t[fe+3*se+2];z[K++]=Ne,z[K++]=Ue,z[K++]=pe,z[K++]=255}--ee}}}function KB(t,e,r,n){for(var s=t[e++],i=1<<s,a=i+1,A=a+1,l=s+1,c=(1<<l)-1,u=0,d=0,f=0,g=t[e++],m=new Int32Array(4096),w=null;;){for(;u<16&&g!==0;)d|=t[e++]<<u,u+=8,g===1?g=t[e++]:--g;if(u<l)break;var b=d&c;if(d>>=l,u-=l,b!==i){if(b===a)break;for(var v=b<A?b:w,x=0,C=v;C>i;)C=m[C]>>8,++x;var _=C;if(f+x+(v!==b?1:0)>n)return void nr.log("Warning, gif stream longer than expected.");r[f++]=_;var F=f+=x;for(v!==b&&(r[f++]=_),C=v;x--;)C=m[C],r[--F]=255&C,C>>=8;w!==null&&A<4096&&(m[A++]=w<<8|_,A>=c+1&&l<12&&(++l,c=c<<1|1)),w=b}else A=a+1,c=(1<<(l=s+1))-1,w=null}return f!==n&&nr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fx(t){var e,r,n,s,i,a=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),g=new Array(64),m=new Array(64),w=[],b=0,v=7,x=new Array(64),C=new Array(64),_=new Array(64),F=new Array(256),P=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(S,M){for(var K=0,G=0,re=new Array,ae=1;ae<=16;ae++){for(var Ae=1;Ae<=S[ae];Ae++)re[M[G]]=[],re[M[G]][0]=K,re[M[G]][1]=ae,G++,K++;K*=2}return re}function fe(S){for(var M=S[0],K=S[1]-1;K>=0;)M&1<<K&&(b|=1<<v),K--,--v<0&&(b==255?(te(255),te(0)):te(b),v=7,b=0)}function te(S){w.push(S)}function W(S){te(S>>8&255),te(255&S)}function J(S,M,K,G,re){for(var ae,Ae=re[0],se=re[240],Ne=function(Ie,Ve){var Ee,Pe,qe,et,ye,Oe,U,ue,oe,Be,Se=0;for(oe=0;oe<8;++oe){Ee=Ie[Se],Pe=Ie[Se+1],qe=Ie[Se+2],et=Ie[Se+3],ye=Ie[Se+4],Oe=Ie[Se+5],U=Ie[Se+6];var Xe=Ee+(ue=Ie[Se+7]),ke=Ee-ue,Je=Pe+U,We=Pe-U,nt=qe+Oe,pt=qe-Oe,X=et+ye,Qe=et-ye,Ye=Xe+X,dt=Xe-X,Et=Je+nt,ht=Je-nt;Ie[Se]=Ye+Et,Ie[Se+4]=Ye-Et;var st=.707106781*(ht+dt);Ie[Se+2]=dt+st,Ie[Se+6]=dt-st;var ft=.382683433*((Ye=Qe+pt)-(ht=We+ke)),Te=.5411961*Ye+ft,Ft=1.306562965*ht+ft,It=.707106781*(Et=pt+We),Pt=ke+It,ut=ke-It;Ie[Se+5]=ut+Te,Ie[Se+3]=ut-Te,Ie[Se+1]=Pt+Ft,Ie[Se+7]=Pt-Ft,Se+=8}for(Se=0,oe=0;oe<8;++oe){Ee=Ie[Se],Pe=Ie[Se+8],qe=Ie[Se+16],et=Ie[Se+24],ye=Ie[Se+32],Oe=Ie[Se+40],U=Ie[Se+48];var Kr=Ee+(ue=Ie[Se+56]),Yr=Ee-ue,Ir=Pe+U,Vt=Pe-U,vr=qe+Oe,En=qe-Oe,va=et+ye,zs=et-ye,is=Kr+va,hn=Kr-va,as=Ir+vr,Cs=Ir-vr;Ie[Se]=is+as,Ie[Se+32]=is-as;var Un=.707106781*(Cs+hn);Ie[Se+16]=hn+Un,Ie[Se+48]=hn-Un;var _s=.382683433*((is=zs+En)-(Cs=Vt+Yr)),Ri=.5411961*is+_s,wa=1.306562965*Cs+_s,ya=.707106781*(as=En+Vt),ba=Yr+ya,Ba=Yr-ya;Ie[Se+40]=Ba+Ri,Ie[Se+24]=Ba-Ri,Ie[Se+8]=ba+wa,Ie[Se+56]=ba-wa,Se++}for(oe=0;oe<64;++oe)Be=Ie[oe]*Ve[oe],g[oe]=Be>0?Be+.5|0:Be-.5|0;return g}(S,M),Ue=0;Ue<64;++Ue)m[E[Ue]]=Ne[Ue];var pe=m[0]-K;K=m[0],pe==0?fe(G[0]):(fe(G[f[ae=32767+pe]]),fe(d[ae]));for(var ve=63;ve>0&&m[ve]==0;)ve--;if(ve==0)return fe(Ae),K;for(var je,ge=1;ge<=ve;){for(var Y=ge;m[ge]==0&&ge<=ve;)++ge;var tt=ge-Y;if(tt>=16){je=tt>>4;for(var Re=1;Re<=je;++Re)fe(se);tt&=15}ae=32767+m[ge],fe(re[(tt<<4)+f[ae]]),fe(d[ae]),ge++}return ve!=63&&fe(Ae),K}function ee(S){S=Math.min(Math.max(S,1),100),i!=S&&(function(M){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var re=a((K[G]*M+50)/100);re=Math.min(Math.max(re,1),255),A[E[G]]=re}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var se=a((ae[Ae]*M+50)/100);se=Math.min(Math.max(se,1),255),l[E[Ae]]=se}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,pe=0;pe<8;pe++)for(var ve=0;ve<8;ve++)c[Ue]=1/(A[E[Ue]]*Ne[pe]*Ne[ve]*8),u[Ue]=1/(l[E[Ue]]*Ne[pe]*Ne[ve]*8),Ue++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),i=S)}this.encode=function(S,M){M&&ee(M),w=new Array,b=0,v=7,W(65496),W(65504),W(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),W(1),W(1),te(0),te(0),function(){W(65499),W(132),te(0);for(var Pe=0;Pe<64;Pe++)te(A[Pe]);te(1);for(var qe=0;qe<64;qe++)te(l[qe])}(),function(Pe,qe){W(65472),W(17),te(8),W(qe),W(Pe),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(S.width,S.height),function(){W(65476),W(418),te(0);for(var Pe=0;Pe<16;Pe++)te(j[Pe+1]);for(var qe=0;qe<=11;qe++)te(R[qe]);te(16);for(var et=0;et<16;et++)te(Z[et+1]);for(var ye=0;ye<=161;ye++)te(Q[ye]);te(1);for(var Oe=0;Oe<16;Oe++)te(I[Oe+1]);for(var U=0;U<=11;U++)te(z[U]);te(17);for(var ue=0;ue<16;ue++)te($[ue+1]);for(var oe=0;oe<=161;oe++)te(ce[oe])}(),W(65498),W(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var K=0,G=0,re=0;b=0,v=7,this.encode.displayName="_encode_";for(var ae,Ae,se,Ne,Ue,pe,ve,je,ge,Y=S.data,tt=S.width,Re=S.height,Ie=4*tt,Ve=0;Ve<Re;){for(ae=0;ae<Ie;){for(Ue=Ie*Ve+ae,ve=-1,je=0,ge=0;ge<64;ge++)pe=Ue+(je=ge>>3)*Ie+(ve=4*(7&ge)),Ve+je>=Re&&(pe-=Ie*(Ve+1+je-Re)),ae+ve>=Ie&&(pe-=ae+ve-Ie+4),Ae=Y[pe++],se=Y[pe++],Ne=Y[pe++],x[ge]=(P[Ae]+P[se+256>>0]+P[Ne+512>>0]>>16)-128,C[ge]=(P[Ae+768>>0]+P[se+1024>>0]+P[Ne+1280>>0]>>16)-128,_[ge]=(P[Ae+1280>>0]+P[se+1536>>0]+P[Ne+1792>>0]>>16)-128;K=J(x,c,K,e,n),G=J(C,u,G,r,s),re=J(_,u,re,r,s),ae+=32}Ve+=8}if(v>=0){var Ee=[];Ee[1]=v+1,Ee[0]=(1<<v+1)-1,fe(Ee)}return W(65497),new Uint8Array(w)},t=t||50,function(){for(var S=String.fromCharCode,M=0;M<256;M++)F[M]=S(M)}(),e=ie(j,R),r=ie(I,z),n=ie(Z,Q),s=ie($,ce),function(){for(var S=1,M=2,K=1;K<=15;K++){for(var G=S;G<M;G++)f[32767+G]=K,d[32767+G]=[],d[32767+G][1]=K,d[32767+G][0]=G;for(var re=-(M-1);re<=-S;re++)f[32767+re]=K,d[32767+re]=[],d[32767+re][1]=K,d[32767+re][0]=M-1+re;S<<=1,M<<=1}}(),function(){for(var S=0;S<256;S++)P[S]=19595*S,P[S+256>>0]=38470*S,P[S+512>>0]=7471*S+32768,P[S+768>>0]=-11059*S,P[S+1024>>0]=-21709*S,P[S+1280>>0]=32768*S+8421375,P[S+1536>>0]=-27439*S,P[S+1792>>0]=-5329*S}(),ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ei(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function VB(t){function e(j){if(!j)throw Error("assert :P")}function r(j,R,Z){for(var Q=0;4>Q;Q++)if(j[R+Q]!=Z.charCodeAt(Q))return!0;return!1}function n(j,R,Z,Q,I){for(var z=0;z<I;z++)j[R+z]=Z[Q+z]}function s(j,R,Z,Q){for(var I=0;I<Q;I++)j[R+I]=Z}function i(j){return new Int32Array(j)}function a(j,R){for(var Z=[],Q=0;Q<j;Q++)Z.push(new R);return Z}function A(j,R){var Z=[];return function Q(I,z,$){for(var ce=$[z],ie=0;ie<ce&&(I.push($.length>z+1?[]:new R),!($.length<z+1));ie++)Q(I[ie],z+1,$)}(Z,0,j),Z}var l=function(){var j=this;function R(h,p){for(var B=1<<p-1>>>0;h&B;)B>>>=1;return B?(h&B-1)+B:h}function Z(h,p,B,N,k){e(!(N%B));do h[p+(N-=B)]=k;while(0<N)}function Q(h,p,B,N,k){if(e(2328>=k),512>=k)var D=i(512);else if((D=i(k))==null)return 0;return function(O,H,V,q,de,Ce){var _e,we,He=H,Fe=1<<V,he=i(16),xe=i(16);for(e(de!=0),e(q!=null),e(O!=null),e(0<V),we=0;we<de;++we){if(15<q[we])return 0;++he[q[we]]}if(he[0]==de)return 0;for(xe[1]=0,_e=1;15>_e;++_e){if(he[_e]>1<<_e)return 0;xe[_e+1]=xe[_e]+he[_e]}for(we=0;we<de;++we)_e=q[we],0<q[we]&&(Ce[xe[_e]++]=we);if(xe[15]==1)return(q=new I).g=0,q.value=Ce[0],Z(O,He,1,Fe,q),Fe;var De,Ke=-1,Me=Fe-1,ot=0,Ze=1,xt=1,rt=1<<V;for(we=0,_e=1,de=2;_e<=V;++_e,de<<=1){if(Ze+=xt<<=1,0>(xt-=he[_e]))return 0;for(;0<he[_e];--he[_e])(q=new I).g=_e,q.value=Ce[we++],Z(O,He+ot,de,rt,q),ot=R(ot,_e)}for(_e=V+1,de=2;15>=_e;++_e,de<<=1){if(Ze+=xt<<=1,0>(xt-=he[_e]))return 0;for(;0<he[_e];--he[_e]){if(q=new I,(ot&Me)!=Ke){for(He+=rt,De=1<<(Ke=_e)-V;15>Ke&&!(0>=(De-=he[Ke]));)++Ke,De<<=1;Fe+=rt=1<<(De=Ke-V),O[H+(Ke=ot&Me)].g=De+V,O[H+Ke].value=He-H-Ke}q.g=_e-V,q.value=Ce[we++],Z(O,He+(ot>>V),de,rt,q),ot=R(ot,_e)}}return Ze!=2*xe[15]-1?0:Fe}(h,p,B,N,k,D)}function I(){this.value=this.g=0}function z(){this.value=this.g=0}function $(){this.G=a(5,I),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(an,z)}function ce(h,p,B,N){e(h!=null),e(p!=null),e(2147483648>N),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=B,h.Jd=p,h.Yc=B+N,h.Zc=4<=N?B+N-4+1:B,ae(h)}function ie(h,p){for(var B=0;0<p--;)B|=se(h,128)<<p;return B}function fe(h,p){var B=ie(h,p);return Ae(h)?-B:B}function te(h,p,B,N){var k,D=0;for(e(h!=null),e(p!=null),e(4294967288>N),h.Sb=N,h.Ra=0,h.u=0,h.h=0,4<N&&(N=4),k=0;k<N;++k)D+=p[B+k]<<8*k;h.Ra=D,h.bb=N,h.oa=p,h.pa=B}function W(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<rl-8>>>0,++h.bb,h.u-=8;K(h)&&(h.h=1,h.u=0)}function J(h,p){if(e(0<=p),!h.h&&p<=tl){var B=M(h)&el[p];return h.u+=p,W(h),B}return h.h=1,h.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function S(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(h){return h.Ra>>>(h.u&rl-1)>>>0}function K(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>rl}function G(h,p){h.u=p,h.h=K(h)}function re(h){h.u>=Wc&&(e(h.u>=Wc),W(h))}function ae(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ae(h){return ie(h,1)}function se(h,p){var B=h.Ca;0>h.b&&ae(h);var N=h.b,k=B*p>>>8,D=(h.I>>>N>k)+0;for(D?(B-=k,h.I-=k+1<<N>>>0):B=k+1,N=B,k=0;256<=N;)k+=8,N>>=8;return N=7^k+Rn[N],h.b-=N,h.Ca=(B<<N)-1,D}function Ne(h,p,B){h[p+0]=B>>24&255,h[p+1]=B>>16&255,h[p+2]=B>>8&255,h[p+3]=B>>0&255}function Ue(h,p){return h[p+0]<<0|h[p+1]<<8}function pe(h,p){return Ue(h,p)|h[p+2]<<16}function ve(h,p){return Ue(h,p)|Ue(h,p+2)<<16}function je(h,p){var B=1<<p;return e(h!=null),e(0<p),h.X=i(B),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function ge(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),n(p.X,0,h.X,0,1<<p.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function tt(h,p,B,N){e(B!=null),e(N!=null);var k=B[0],D=N[0];return k==0&&(k=(h*D+p/2)/p),D==0&&(D=(p*k+h/2)/h),0>=k||0>=D?0:(B[0]=k,N[0]=D,1)}function Re(h,p){return h+(1<<p)-1>>>p}function Ie(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function Ve(h,p){j[p]=function(B,N,k,D,O,H,V){var q;for(q=0;q<O;++q){var de=j[h](H[V+q-1],k,D+q);H[V+q]=Ie(B[N+q],de)}}}function Ee(){this.ud=this.hd=this.jd=0}function Pe(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function qe(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function et(h,p){return qe(h+(h-p+.5>>1))}function ye(h,p,B){return Math.abs(p-B)-Math.abs(h-B)}function Oe(h,p,B,N,k,D,O){for(N=D[O-1],B=0;B<k;++B)D[O+B]=N=Ie(h[p+B],N)}function U(h,p,B,N,k){var D;for(D=0;D<B;++D){var O=h[p+D],H=O>>8&255,V=16711935&(V=(V=16711935&O)+((H<<16)+H));N[k+D]=(4278255360&O)+V>>>0}}function ue(h,p){p.jd=h>>0&255,p.hd=h>>8&255,p.ud=h>>16&255}function oe(h,p,B,N,k,D){var O;for(O=0;O<N;++O){var H=p[B+O],V=H>>>8,q=H,de=255&(de=(de=H>>>16)+((h.jd<<24>>24)*(V<<24>>24)>>>5));q=255&(q=(q=q+((h.hd<<24>>24)*(V<<24>>24)>>>5))+((h.ud<<24>>24)*(de<<24>>24)>>>5)),k[D+O]=(4278255360&H)+(de<<16)+q}}function Be(h,p,B,N,k){j[p]=function(D,O,H,V,q,de,Ce,_e,we){for(V=Ce;V<_e;++V)for(Ce=0;Ce<we;++Ce)q[de++]=k(H[N(D[O++])])},j[h]=function(D,O,H,V,q,de,Ce){var _e=8>>D.b,we=D.Ea,He=D.K[0],Fe=D.w;if(8>_e)for(D=(1<<D.b)-1,Fe=(1<<_e)-1;O<H;++O){var he,xe=0;for(he=0;he<we;++he)he&D||(xe=N(V[q++])),de[Ce++]=k(He[xe&Fe]),xe>>=_e}else j["VP8LMapColor"+B](V,q,He,Fe,de,Ce,O,H,we)}}function Se(h,p,B,N,k){for(B=p+B;p<B;){var D=h[p++];N[k++]=D>>16&255,N[k++]=D>>8&255,N[k++]=D>>0&255}}function Xe(h,p,B,N,k){for(B=p+B;p<B;){var D=h[p++];N[k++]=D>>16&255,N[k++]=D>>8&255,N[k++]=D>>0&255,N[k++]=D>>24&255}}function ke(h,p,B,N,k){for(B=p+B;p<B;){var D=(O=h[p++])>>16&240|O>>12&15,O=O>>0&240|O>>28&15;N[k++]=D,N[k++]=O}}function Je(h,p,B,N,k){for(B=p+B;p<B;){var D=(O=h[p++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;N[k++]=D,N[k++]=O}}function We(h,p,B,N,k){for(B=p+B;p<B;){var D=h[p++];N[k++]=D>>0&255,N[k++]=D>>8&255,N[k++]=D>>16&255}}function nt(h,p,B,N,k,D){if(D==0)for(B=p+B;p<B;)Ne(N,((D=h[p++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),k+=32;else n(N,k,h,p,B)}function pt(h,p){j[p][0]=j[h+"0"],j[p][1]=j[h+"1"],j[p][2]=j[h+"2"],j[p][3]=j[h+"3"],j[p][4]=j[h+"4"],j[p][5]=j[h+"5"],j[p][6]=j[h+"6"],j[p][7]=j[h+"7"],j[p][8]=j[h+"8"],j[p][9]=j[h+"9"],j[p][10]=j[h+"10"],j[p][11]=j[h+"11"],j[p][12]=j[h+"12"],j[p][13]=j[h+"13"],j[p][14]=j[h+"0"],j[p][15]=j[h+"0"]}function X(h){return h==Kp||h==Vp||h==Lh||h==zp}function Qe(){this.eb=[],this.size=this.A=this.fb=0}function Ye(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qe,this.f.kb=new Ye,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function ft(h,p){var B=h.T,N=p.ba.f.RGBA,k=N.eb,D=N.fb+h.ka*N.A,O=Us[p.ba.S],H=h.y,V=h.O,q=h.f,de=h.N,Ce=h.ea,_e=h.W,we=p.cc,He=p.dc,Fe=p.Mc,he=p.Nc,xe=h.ka,De=h.ka+h.T,Ke=h.U,Me=Ke+1>>1;for(xe==0?O(H,V,null,null,q,de,Ce,_e,q,de,Ce,_e,k,D,null,null,Ke):(O(p.ec,p.fc,H,V,we,He,Fe,he,q,de,Ce,_e,k,D-N.A,k,D,Ke),++B);xe+2<De;xe+=2)we=q,He=de,Fe=Ce,he=_e,de+=h.Rc,_e+=h.Rc,D+=2*N.A,O(H,(V+=2*h.fa)-h.fa,H,V,we,He,Fe,he,q,de,Ce,_e,k,D-N.A,k,D,Ke);return V+=h.fa,h.j+De<h.o?(n(p.ec,p.fc,H,V,Ke),n(p.cc,p.dc,q,de,Me),n(p.Mc,p.Nc,Ce,_e,Me),B--):1&De||O(H,V,null,null,q,de,Ce,_e,q,de,Ce,_e,k,D+N.A,null,null,Ke),B}function Te(h,p,B){var N=h.F,k=[h.J];if(N!=null){var D=h.U,O=p.ba.S,H=O==kh||O==Lh;p=p.ba.f.RGBA;var V=[0],q=h.ka;V[0]=h.T,h.Kb&&(q==0?--V[0]:(--q,k[0]-=h.width),h.j+h.ka+h.T==h.o&&(V[0]=h.o-h.j-q));var de=p.eb;q=p.fb+q*p.A,h=ir(N,k[0],h.width,D,V,de,q+(H?0:3),p.A),e(B==V),h&&X(O)&&Fs(de,q,H,D,V,p.A)}return 0}function Ft(h){var p=h.ma,B=p.ba.S,N=11>B,k=B==Eh||B==Uh||B==kh||B==Rp||B==12||X(B);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!zc(p.Oa,h,k?11:12))return 0;if(k&&X(B)&&ze(),h.da)alert("todo:use_scaling");else{if(N){if(p.Ib=st,h.Kb){if(B=h.U+1>>1,p.memory=i(h.U+2*B),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+B,p.Ib=ft,ze()}}else alert("todo:EmitYUV");k&&(p.Jb=Te,N&&be())}if(N&&!C1){for(h=0;256>h;++h)pF[h]=89858*(h-128)+Ih>>Qh,vF[h]=-22014*(h-128)+Ih,xF[h]=-45773*(h-128),mF[h]=113618*(h-128)+Ih>>Qh;for(h=eu;h<Gp;++h)p=76283*(h-16)+Ih>>Qh,wF[h-eu]=os(p,255),yF[h-eu]=os(p+8>>4,15);C1=1}return 1}function It(h){var p=h.ma,B=h.U,N=h.T;return e(!(1&h.ka)),0>=B||0>=N?0:(B=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,B),p.Dc+=B,1)}function Pt(h){h.ma.memory=null}function ut(h,p,B,N){return J(h,8)!=47?0:(p[0]=J(h,14)+1,B[0]=J(h,14)+1,N[0]=J(h,1),J(h,3)!=0?0:!h.h)}function Kr(h,p){if(4>h)return h+1;var B=h-2>>1;return(2+(1&h)<<B)+J(p,B)+1}function Yr(h,p){return 120<p?p-120:1<=(B=((B=rF[p-1])>>4)*h+(8-(15&B)))?B:1;var B}function Ir(h,p,B){var N=M(B),k=h[p+=255&N].g-8;return 0<k&&(G(B,B.u+8),N=M(B),p+=h[p].value,p+=N&(1<<k)-1),G(B,B.u+h[p].g),h[p].value}function Vt(h,p,B){return B.g+=h.g,B.value+=h.value<<p>>>0,e(8>=B.g),h.g}function vr(h,p,B){var N=h.xc;return e((p=N==0?0:h.vc[h.md*(B>>N)+(p>>N)])<h.Wb),h.Ya[p]}function En(h,p,B,N){var k=h.ab,D=h.c*p,O=h.C;p=O+p;var H=B,V=N;for(N=h.Ta,B=h.Ua;0<k--;){var q=h.gc[k],de=O,Ce=p,_e=H,we=V,He=(V=N,H=B,q.Ea);switch(e(de<Ce),e(Ce<=q.nc),q.hc){case 2:Bh(_e,we,(Ce-de)*He,V,H);break;case 0:var Fe=de,he=Ce,xe=V,De=H,Ke=(rt=q).Ea;Fe==0&&(Mp(_e,we,null,null,1,xe,De),Oe(_e,we+1,0,0,Ke-1,xe,De+1),we+=Ke,De+=Ke,++Fe);for(var Me=1<<rt.b,ot=Me-1,Ze=Re(Ke,rt.b),xt=rt.K,rt=rt.w+(Fe>>rt.b)*Ze;Fe<he;){var zt=xt,Gt=rt,Ht=1;for(Gc(_e,we,xe,De-Ke,1,xe,De);Ht<Ke;){var Tt=(Ht&~ot)+Me;Tt>Ke&&(Tt=Ke),(0,Sa[zt[Gt++]>>8&15])(_e,we+ +Ht,xe,De+Ht-Ke,Tt-Ht,xe,De+Ht),Ht=Tt}we+=Ke,De+=Ke,++Fe&ot||(rt+=Ze)}Ce!=q.nc&&n(V,H-He,V,H+(Ce-de-1)*He,He);break;case 1:for(He=_e,he=we,Ke=(_e=q.Ea)-(De=_e&~(xe=(we=1<<q.b)-1)),Fe=Re(_e,q.b),Me=q.K,q=q.w+(de>>q.b)*Fe;de<Ce;){for(ot=Me,Ze=q,xt=new Ee,rt=he+De,zt=he+_e;he<rt;)ue(ot[Ze++],xt),zo(xt,He,he,we,V,H),he+=we,H+=we;he<zt&&(ue(ot[Ze++],xt),zo(xt,He,he,Ke,V,H),he+=Ke,H+=Ke),++de&xe||(q+=Fe)}break;case 3:if(_e==V&&we==H&&0<q.b){for(he=V,_e=He=H+(Ce-de)*He-(De=(Ce-de)*Re(q.Ea,q.b)),we=V,xe=H,Fe=[],De=(Ke=De)-1;0<=De;--De)Fe[De]=we[xe+De];for(De=Ke-1;0<=De;--De)he[_e+De]=Fe[De];Ns(q,de,Ce,V,He,V,H)}else Ns(q,de,Ce,_e,we,V,H)}H=N,V=B}V!=B&&n(N,B,H,V,D)}function va(h,p){var B=h.V,N=h.Ba+h.c*h.C,k=p-h.C;if(e(p<=h.l.o),e(16>=k),0<k){var D=h.l,O=h.Ta,H=h.Ua,V=D.width;if(En(h,k,B,N),k=H=[H],e((B=h.C)<(N=p)),e(D.v<D.va),N>D.o&&(N=D.o),B<D.j){var q=D.j-B;B=D.j,k[0]+=q*V}if(B>=N?B=0:(k[0]+=4*D.v,D.ka=B-D.j,D.U=D.va-D.v,D.T=N-B,B=1),B){if(H=H[0],11>(B=h.ca).S){var de=B.f.RGBA,Ce=(N=B.S,k=D.U,D=D.T,q=de.eb,de.A),_e=D;for(de=de.fb+h.Ma*de.A;0<_e--;){var we=O,He=H,Fe=k,he=q,xe=de;switch(N){case Fh:Kn(we,He,Fe,he,xe);break;case Eh:Ln(we,He,Fe,he,xe);break;case Kp:Ln(we,He,Fe,he,xe),Fs(he,xe,0,Fe,1,0);break;case g1:$i(we,He,Fe,he,xe);break;case Uh:nt(we,He,Fe,he,xe,1);break;case Vp:nt(we,He,Fe,he,xe,1),Fs(he,xe,0,Fe,1,0);break;case kh:nt(we,He,Fe,he,xe,0);break;case Lh:nt(we,He,Fe,he,xe,0),Fs(he,xe,1,Fe,1,0);break;case Rp:ja(we,He,Fe,he,xe);break;case zp:ja(we,He,Fe,he,xe),sr(he,xe,Fe,1,0);break;case p1:zi(we,He,Fe,he,xe);break;default:e(0)}H+=V,de+=Ce}h.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=B.height)}}h.C=p,e(h.C<=h.i)}function zs(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var B=h.Ya[p].G,N=h.Ya[p].H;if(0<B[1][N[1]+0].g||0<B[2][N[2]+0].g||0<B[3][N[3]+0].g)return 0}return 1}function is(h,p,B,N,k,D){if(h.Z!=0){var O=h.qd,H=h.rd;for(e(ka[h.Z]!=null);p<B;++p)ka[h.Z](O,H,N,k,N,k,D),O=N,H=k,k+=D;h.qd=O,h.rd=H}}function hn(h,p){var B=h.l.ma,N=B.Z==0||B.Z==1?h.l.j:h.C;if(N=h.C<N?N:h.C,e(p<=h.l.o),p>N){var k=h.l.width,D=B.ca,O=B.tb+k*N,H=h.V,V=h.Ba+h.c*N,q=h.gc;e(h.ab==1),e(q[0].hc==3),Ch(q[0],N,p,H,V,D,O),is(B,N,p,D,O,k)}h.C=h.Ma=p}function as(h,p,B,N,k,D,O){var H=h.$/N,V=h.$%N,q=h.m,de=h.s,Ce=B+h.$,_e=Ce;k=B+N*k;var we=B+N*D,He=280+de.ua,Fe=h.Pb?H:16777216,he=0<de.ua?de.Wa:null,xe=de.wc,De=Ce<we?vr(de,V,H):null;e(h.C<D),e(we<=k);var Ke=!1;e:for(;;){for(;Ke||Ce<we;){var Me=0;if(H>=Fe){var ot=Ce-B;e((Fe=h).Pb),Fe.wd=Fe.m,Fe.xd=ot,0<Fe.s.ua&&ge(Fe.s.Wa,Fe.s.vb),Fe=H+sF}if(V&xe||(De=vr(de,V,H)),e(De!=null),De.Qb&&(p[Ce]=De.qb,Ke=!0),!Ke)if(re(q),De.jc){Me=q,ot=p;var Ze=Ce,xt=De.pd[M(Me)&an-1];e(De.jc),256>xt.g?(G(Me,Me.u+xt.g),ot[Ze]=xt.value,Me=0):(G(Me,Me.u+xt.g-256),e(256<=xt.value),Me=xt.value),Me==0&&(Ke=!0)}else Me=Ir(De.G[0],De.H[0],q);if(q.h)break;if(Ke||256>Me){if(!Ke)if(De.nd)p[Ce]=(De.qb|Me<<8)>>>0;else{if(re(q),Ke=Ir(De.G[1],De.H[1],q),re(q),ot=Ir(De.G[2],De.H[2],q),Ze=Ir(De.G[3],De.H[3],q),q.h)break;p[Ce]=(Ze<<24|Ke<<16|Me<<8|ot)>>>0}if(Ke=!1,++Ce,++V>=N&&(V=0,++H,O!=null&&H<=D&&!(H%16)&&O(h,H),he!=null))for(;_e<Ce;)Me=p[_e++],he.X[(506832829*Me&4294967295)>>>he.Mb]=Me}else if(280>Me){if(Me=Kr(Me-256,q),ot=Ir(De.G[4],De.H[4],q),re(q),ot=Yr(N,ot=Kr(ot,q)),q.h)break;if(Ce-B<ot||k-Ce<Me)break e;for(Ze=0;Ze<Me;++Ze)p[Ce+Ze]=p[Ce+Ze-ot];for(Ce+=Me,V+=Me;V>=N;)V-=N,++H,O!=null&&H<=D&&!(H%16)&&O(h,H);if(e(Ce<=k),V&xe&&(De=vr(de,V,H)),he!=null)for(;_e<Ce;)Me=p[_e++],he.X[(506832829*Me&4294967295)>>>he.Mb]=Me}else{if(!(Me<He))break e;for(Ke=Me-280,e(he!=null);_e<Ce;)Me=p[_e++],he.X[(506832829*Me&4294967295)>>>he.Mb]=Me;Me=Ce,e(!(Ke>>>(ot=he).Xa)),p[Me]=ot.X[Ke],Ke=!0}Ke||e(q.h==K(q))}if(h.Pb&&q.h&&Ce<k)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ge(h.s.vb,h.s.Wa);else{if(q.h)break e;O!=null&&O(h,H>D?D:H),h.a=0,h.$=Ce-B}return 1}return h.a=3,0}function Cs(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function Un(){var h=new Op;return h==null?null:(h.a=0,h.xb=v1,pt("Predictor","VP8LPredictors"),pt("Predictor","VP8LPredictors_C"),pt("PredictorAdd","VP8LPredictorsAdd"),pt("PredictorAdd","VP8LPredictorsAdd_C"),Bh=U,zo=oe,Kn=Se,Ln=Xe,ja=ke,zi=Je,$i=We,j.VP8LMapColor32b=nl,j.VP8LMapColor8b=_h,h)}function _s(h,p,B,N,k){var D=1,O=[h],H=[p],V=N.m,q=N.s,de=null,Ce=0;e:for(;;){if(B)for(;D&&J(V,1);){var _e=O,we=H,He=N,Fe=1,he=He.m,xe=He.gc[He.ab],De=J(he,2);if(He.Oc&1<<De)D=0;else{switch(He.Oc|=1<<De,xe.hc=De,xe.Ea=_e[0],xe.nc=we[0],xe.K=[null],++He.ab,e(4>=He.ab),De){case 0:case 1:xe.b=J(he,3)+2,Fe=_s(Re(xe.Ea,xe.b),Re(xe.nc,xe.b),0,He,xe.K),xe.K=xe.K[0];break;case 3:var Ke,Me=J(he,8)+1,ot=16<Me?0:4<Me?1:2<Me?2:3;if(_e[0]=Re(xe.Ea,ot),xe.b=ot,Ke=Fe=_s(Me,1,0,He,xe.K)){var Ze,xt=Me,rt=xe,zt=1<<(8>>rt.b),Gt=i(zt);if(Gt==null)Ke=0;else{var Ht=rt.K[0],Tt=rt.w;for(Gt[0]=rt.K[0][0],Ze=1;Ze<1*xt;++Ze)Gt[Ze]=Ie(Ht[Tt+Ze],Gt[Ze-1]);for(;Ze<4*zt;++Ze)Gt[Ze]=0;rt.K[0]=null,rt.K[0]=Gt,Ke=1}}Fe=Ke;break;case 2:break;default:e(0)}D=Fe}}if(O=O[0],H=H[0],D&&J(V,1)&&!(D=1<=(Ce=J(V,4))&&11>=Ce)){N.a=3;break e}var rr;if(rr=D)t:{var Zt,jt,Tr,Vn=N,Dr=O,zn=H,qt=Ce,ls=B,cs=Vn.m,Zr=Vn.s,on=[null],In=1,ks=0,yi=nF[qt];r:for(;;){if(ls&&J(cs,1)){var en=J(cs,3)+2,Ji=Re(Dr,en),Jo=Re(zn,en),Al=Ji*Jo;if(!_s(Ji,Jo,0,Vn,on))break r;for(on=on[0],Zr.xc=en,Zt=0;Zt<Al;++Zt){var La=on[Zt]>>8&65535;on[Zt]=La,La>=In&&(In=La+1)}}if(cs.h)break r;for(jt=0;5>jt;++jt){var yr=m1[jt];!jt&&0<qt&&(yr+=1<<qt),ks<yr&&(ks=yr)}var qp=a(In*yi,I),S1=In,j1=a(S1,$);if(j1==null)var Th=null;else e(65536>=S1),Th=j1;var tu=i(ks);if(Th==null||tu==null||qp==null){Vn.a=1;break r}var Dh=qp;for(Zt=Tr=0;Zt<In;++Zt){var Ys=Th[Zt],ll=Ys.G,cl=Ys.H,F1=0,Oh=1,E1=0;for(jt=0;5>jt;++jt){yr=m1[jt],ll[jt]=Dh,cl[jt]=Tr,!jt&&0<qt&&(yr+=1<<qt);s:{var Mh,Jp=yr,Hh=Vn,ru=tu,CF=Dh,_F=Tr,Yp=0,Qa=Hh.m,NF=J(Qa,1);if(s(ru,0,0,Jp),NF){var SF=J(Qa,1)+1,jF=J(Qa,1),U1=J(Qa,jF==0?1:8);ru[U1]=1,SF==2&&(ru[U1=J(Qa,8)]=1);var Rh=1}else{var k1=i(19),L1=J(Qa,4)+4;if(19<L1){Hh.a=3;var Kh=0;break s}for(Mh=0;Mh<L1;++Mh)k1[tF[Mh]]=J(Qa,3);var Xp=void 0,nu=void 0,Q1=Hh,FF=k1,Vh=Jp,I1=ru,Zp=0,Ia=Q1.m,P1=8,T1=a(128,I);n:for(;Q(T1,0,7,FF,19);){if(J(Ia,1)){var EF=2+2*J(Ia,3);if((Xp=2+J(Ia,EF))>Vh)break n}else Xp=Vh;for(nu=0;nu<Vh&&Xp--;){re(Ia);var D1=T1[0+(127&M(Ia))];G(Ia,Ia.u+D1.g);var ul=D1.value;if(16>ul)I1[nu++]=ul,ul!=0&&(P1=ul);else{var UF=ul==16,O1=ul-16,kF=Zj[O1],M1=J(Ia,Xj[O1])+kF;if(nu+M1>Vh)break n;for(var LF=UF?P1:0;0<M1--;)I1[nu++]=LF}}Zp=1;break n}Zp||(Q1.a=3),Rh=Zp}(Rh=Rh&&!Qa.h)&&(Yp=Q(CF,_F,8,ru,Jp)),Rh&&Yp!=0?Kh=Yp:(Hh.a=3,Kh=0)}if(Kh==0)break r;if(Oh&&eF[jt]==1&&(Oh=Dh[Tr].g==0),F1+=Dh[Tr].g,Tr+=Kh,3>=jt){var su,em=tu[0];for(su=1;su<yr;++su)tu[su]>em&&(em=tu[su]);E1+=em}}if(Ys.nd=Oh,Ys.Qb=0,Oh&&(Ys.qb=(ll[3][cl[3]+0].value<<24|ll[1][cl[1]+0].value<<16|ll[2][cl[2]+0].value)>>>0,F1==0&&256>ll[0][cl[0]+0].value&&(Ys.Qb=1,Ys.qb+=ll[0][cl[0]+0].value<<8)),Ys.jc=!Ys.Qb&&6>E1,Ys.jc){var zh,Yi=Ys;for(zh=0;zh<an;++zh){var Pa=zh,Ta=Yi.pd[Pa],$h=Yi.G[0][Yi.H[0]+Pa];256<=$h.value?(Ta.g=$h.g+256,Ta.value=$h.value):(Ta.g=0,Ta.value=0,Pa>>=Vt($h,8,Ta),Pa>>=Vt(Yi.G[1][Yi.H[1]+Pa],16,Ta),Pa>>=Vt(Yi.G[2][Yi.H[2]+Pa],0,Ta),Vt(Yi.G[3][Yi.H[3]+Pa],24,Ta))}}}Zr.vc=on,Zr.Wb=In,Zr.Ya=Th,Zr.yc=qp,rr=1;break t}rr=0}if(!(D=rr)){N.a=3;break e}if(0<Ce){if(q.ua=1<<Ce,!je(q.Wa,Ce)){N.a=1,D=0;break e}}else q.ua=0;var tm=N,H1=O,QF=H,rm=tm.s,nm=rm.xc;if(tm.c=H1,tm.i=QF,rm.md=Re(H1,nm),rm.wc=nm==0?-1:(1<<nm)-1,B){N.xb=uF;break e}if((de=i(O*H))==null){N.a=1,D=0;break e}D=(D=as(N,de,0,O,H,H,null))&&!V.h;break e}return D?(k!=null?k[0]=de:(e(de==null),e(B)),N.$=0,B||Cs(q)):Cs(q),D}function Ri(h,p){var B=h.c*h.i,N=B+p+16*p;return e(h.c<=p),h.V=i(N),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+B+p,1)}function wa(h,p){var B=h.C,N=p-B,k=h.V,D=h.Ba+h.c*B;for(e(p<=h.l.o);0<N;){var O=16<N?16:N,H=h.l.ma,V=h.l.width,q=V*O,de=H.ca,Ce=H.tb+V*B,_e=h.Ta,we=h.Ua;En(h,O,k,D),Sr(_e,we,de,Ce,q),is(H,B,B+O,de,Ce,V),N-=O,k+=O*h.c,B+=O}e(B==p),h.C=h.Ma=p}function ya(){this.ub=this.yd=this.td=this.Rb=0}function ba(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ba(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function HA(){this.Yb=function(){var h=[];return function p(B,N,k){for(var D=k[N],O=0;O<D&&(B.push(k.length>N+1?[]:0),!(k.length<N+1));O++)p(B[O],N+1,k)}(h,0,[3,11]),h}()}function me(){this.jb=i(3),this.Wc=A([4,8],HA),this.Xc=A([4,17],HA)}function Bt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ut(){this.ld=this.La=this.dd=this.tc=0}function kn(){this.Na=this.la=0}function $s(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mi(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function RA(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ut),this.Y=0,this.ya=Array(new mi),this.aa=0,this.l=new KA}function ih(){this.y=i(16),this.f=i(8),this.ea=i(8)}function wp(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new ya,this.Kc=new ba,this.ed=new Bt,this.Qa=new Ba,this.Ic=this.$c=this.Aa=0,this.D=new RA,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ee),this.ia=0,this.pb=a(4,$s),this.Pa=new me,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ih),this.Hd=0,this.rb=Array(new kn),this.sb=0,this.wa=Array(new Ut),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mi),this.L=this.aa=0,this.gd=A([4,2],Ut),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function KA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yp(){var h=new wp;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Zc||(Zc=Ah)),h}function _r(h,p,B){return h.a==0&&(h.a=p,h.sc=B,h.cb=0),0}function ah(h,p,B){return 3<=B&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function oh(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return _r(h,2,"null VP8Io passed to VP8GetHeaders()");var B=p.data,N=p.w,k=p.ha;if(4>k)return _r(h,7,"Truncated header.");var D=B[N+0]|B[N+1]<<8|B[N+2]<<16,O=h.Od;if(O.Rb=!(1&D),O.td=D>>1&7,O.yd=D>>4&1,O.ub=D>>5,3<O.td)return _r(h,3,"Incorrect keyframe parameters.");if(!O.yd)return _r(h,4,"Frame not displayable.");N+=3,k-=3;var H=h.Kc;if(O.Rb){if(7>k)return _r(h,7,"cannot parse picture header");if(!ah(B,N,k))return _r(h,3,"Bad code word");H.c=16383&(B[N+4]<<8|B[N+3]),H.Td=B[N+4]>>6,H.i=16383&(B[N+6]<<8|B[N+5]),H.Ud=B[N+6]>>6,N+=7,k-=7,h.za=H.c+15>>4,h.Ub=H.i+15>>4,p.width=H.c,p.height=H.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,s((D=h.Pa).jb,0,255,D.jb.length),e((D=h.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,s(D.Zb,0,0,D.Zb.length),s(D.Lb,0,0,D.Lb)}if(O.ub>k)return _r(h,7,"bad partition length");ce(D=h.m,B,N,O.ub),N+=O.ub,k-=O.ub,O.Rb&&(H.Ld=Ae(D),H.Kd=Ae(D)),H=h.Qa;var V,q=h.Pa;if(e(D!=null),e(H!=null),H.Cb=Ae(D),H.Cb){if(H.Bb=Ae(D),Ae(D)){for(H.Fb=Ae(D),V=0;4>V;++V)H.Zb[V]=Ae(D)?fe(D,7):0;for(V=0;4>V;++V)H.Lb[V]=Ae(D)?fe(D,6):0}if(H.Bb)for(V=0;3>V;++V)q.jb[V]=Ae(D)?ie(D,8):255}else H.Bb=0;if(D.Ka)return _r(h,3,"cannot parse segment header");if((H=h.ed).zd=Ae(D),H.Tb=ie(D,6),H.wb=ie(D,3),H.Pc=Ae(D),H.Pc&&Ae(D)){for(q=0;4>q;++q)Ae(D)&&(H.vd[q]=fe(D,6));for(q=0;4>q;++q)Ae(D)&&(H.od[q]=fe(D,6))}if(h.L=H.Tb==0?0:H.zd?1:2,D.Ka)return _r(h,3,"cannot parse filter header");var de=k;if(k=V=N,N=V+de,H=de,h.Xb=(1<<ie(h.m,2))-1,de<3*(q=h.Xb))B=7;else{for(V+=3*q,H-=3*q,de=0;de<q;++de){var Ce=B[k+0]|B[k+1]<<8|B[k+2]<<16;Ce>H&&(Ce=H),ce(h.Jc[+de],B,V,Ce),V+=Ce,H-=Ce,k+=3}ce(h.Jc[+q],B,V,H),B=V<N?0:5}if(B!=0)return _r(h,B,"cannot parse partitions");for(B=ie(V=h.m,7),k=Ae(V)?fe(V,4):0,N=Ae(V)?fe(V,4):0,H=Ae(V)?fe(V,4):0,q=Ae(V)?fe(V,4):0,V=Ae(V)?fe(V,4):0,de=h.Qa,Ce=0;4>Ce;++Ce){if(de.Cb){var _e=de.Zb[Ce];de.Fb||(_e+=B)}else{if(0<Ce){h.pb[Ce]=h.pb[0];continue}_e=B}var we=h.pb[Ce];we.Sc[0]=$p[os(_e+k,127)],we.Sc[1]=Wp[os(_e+0,127)],we.Eb[0]=2*$p[os(_e+N,127)],we.Eb[1]=101581*Wp[os(_e+H,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=$p[os(_e+q,117)],we.Qc[1]=Wp[os(_e+V,127)],we.lc=_e+V}if(!O.Rb)return _r(h,4,"Not a key frame.");for(Ae(D),O=h.Pa,B=0;4>B;++B){for(k=0;8>k;++k)for(N=0;3>N;++N)for(H=0;11>H;++H)q=se(D,lF[B][k][N][H])?ie(D,8):oF[B][k][N][H],O.Wc[B][k].Yb[N][H]=q;for(k=0;17>k;++k)O.Xc[B][k]=O.Wc[B][cF[k]]}return h.kc=Ae(D),h.kc&&(h.Bd=ie(D,8)),h.cb=1}function Ah(h,p,B,N,k,D,O){var H=p[k].Yb[B];for(B=0;16>k;++k){if(!se(h,H[B+0]))return k;for(;!se(h,H[B+1]);)if(H=p[++k].Yb[0],B=0,k==16)return 16;var V=p[k+1].Yb;if(se(h,H[B+2])){var q=h,de=0;if(se(q,(_e=H)[(Ce=B)+3]))if(se(q,_e[Ce+6])){for(H=0,Ce=2*(de=se(q,_e[Ce+8]))+(_e=se(q,_e[Ce+9+de])),de=0,_e=iF[Ce];_e[H];++H)de+=de+se(q,_e[H]);de+=3+(8<<Ce)}else se(q,_e[Ce+7])?(de=7+2*se(q,165),de+=se(q,145)):de=5+se(q,159);else de=se(q,_e[Ce+4])?3+se(q,_e[Ce+5]):2;H=V[2]}else de=1,H=V[1];V=O+aF[k],0>(q=h).b&&ae(q);var Ce,_e=q.b,we=(Ce=q.Ca>>1)-(q.I>>_e)>>31;--q.b,q.Ca+=we,q.Ca|=1,q.I-=(Ce+1&we)<<_e,D[V]=((de^we)-we)*N[(0<k)+0]}return 16}function Ec(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,s(h.zc,0,0,h.zc.length),h.ja=0}function bp(h,p){if(h==null)return 0;if(p==null)return _r(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!oh(h,p))return 0;if(e(h.cb),p.ac==null||p.ac(p)){p.ob&&(h.L=0);var B=Ph[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=p.v-B>>4,h.zb=p.j-B>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=p.o+15+B>>4,h.Hb=p.va+15+B>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var N=h.ed;for(B=0;4>B;++B){var k;if(h.Qa.Cb){var D=h.Qa.Lb[B];h.Qa.Fb||(D+=N.Tb)}else D=N.Tb;for(k=0;1>=k;++k){var O=h.gd[B][k],H=D;if(N.Pc&&(H+=N.vd[0],k&&(H+=N.od[0])),0<(H=0>H?0:63<H?63:H)){var V=H;0<N.wb&&(V=4<N.wb?V>>2:V>>1)>9-N.wb&&(V=9-N.wb),1>V&&(V=1),O.dd=V,O.tc=2*H+V,O.ld=40<=H?2:15<=H?1:0}else O.tc=0;O.La=k}}}B=0}else _r(h,6,"Frame setup failed"),B=h.a;if(B=B==0){if(B){h.$c=0,0<h.Aa||(h.Ic=BF);e:{B=h.Ic,N=4*(V=h.za);var q=32*V,de=V+1,Ce=0<h.L?V*(0<h.Aa?2:1):0,_e=(h.Aa==2?2:1)*V;if((O=N+832+(k=3*(16*B+Ph[h.L])/2*q)+(D=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=O)B=0;else{if(O>h.Vb){if(h.Vb=0,h.Ec=i(O),h.Fc=0,h.Ec==null){B=_r(h,1,"no memory during frame initialization.");break e}h.Vb=O}O=h.Ec,H=h.Fc,h.Ac=O,h.Bc=H,H+=N,h.Gd=a(q,ih),h.Hd=0,h.rb=a(de+1,kn),h.sb=1,h.wa=Ce?a(Ce,Ut):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=V),e(!0),h.oc=O,h.pc=H,H+=832,h.ya=a(_e,mi),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=V),h.R=16*V,h.B=8*V,V=(q=Ph[h.L])*h.R,q=q/2*h.B,h.sa=O,h.ta=H+V,h.qa=h.sa,h.ra=h.ta+16*B*h.R+q,h.Ha=h.qa,h.Ia=h.ra+8*B*h.B+q,h.$c=0,H+=k,h.mb=D?O:null,h.nb=D?H:null,e(H+D<=h.Fc+h.Vb),Ec(h),s(h.Ac,h.Bc,0,N),B=1}}if(B){if(p.ka=0,p.y=h.sa,p.O=h.ta,p.f=h.qa,p.N=h.ra,p.ea=h.Ha,p.Vd=h.Ia,p.fa=h.R,p.Rc=h.B,p.F=null,p.J=0,!Sh){for(B=-255;255>=B;++B)Vr[255+B]=0>B?-B:B;for(B=-1020;1020>=B;++B)Gi[1020+B]=-128>B?-128:127<B?127:B;for(B=-112;112>=B;++B)Xc[112+B]=-16>B?-16:15<B?15:B;for(B=-255;510>=B;++B)ol[255+B]=0>B?0:255<B?255:B;Sh=1}sl=_p,Wi=Bp,qc=ch,Qn=Cp,Ss=uh,Nr=lh,il=Pc,Nh=Ko,Jc=Dp,$o=Tc,Wo=Tp,Fa=qA,Go=Dc,al=wh,qo=vh,Ea=vi,Yc=Vi,js=Pp,Js[0]=xi,Js[1]=Np,Js[2]=Ep,Js[3]=Up,Js[4]=fh,Js[5]=WA,Js[6]=gh,Js[7]=Lc,Js[8]=Lp,Js[9]=kp,Ua[0]=dh,Ua[1]=jp,Ua[2]=Ki,Ua[3]=zA,Ua[4]=fn,Ua[5]=Fp,Ua[6]=hh,qi[0]=Ca,qi[1]=Sp,qi[2]=Qp,qi[3]=Qc,qi[4]=Ro,qi[5]=Ip,qi[6]=Ic,B=1}else B=0}B&&(B=function(we,He){for(we.M=0;we.M<we.Va;++we.M){var Fe,he=we.Jc[we.M&we.Xb],xe=we.m,De=we;for(Fe=0;Fe<De.za;++Fe){var Ke=xe,Me=De,ot=Me.Ac,Ze=Me.Bc+4*Fe,xt=Me.zc,rt=Me.ya[Me.aa+Fe];if(Me.Qa.Bb?rt.$b=se(Ke,Me.Pa.jb[0])?2+se(Ke,Me.Pa.jb[2]):se(Ke,Me.Pa.jb[1]):rt.$b=0,Me.kc&&(rt.Ad=se(Ke,Me.Bd)),rt.Za=!se(Ke,145)+0,rt.Za){var zt=rt.Ob,Gt=0;for(Me=0;4>Me;++Me){var Ht,Tt=xt[0+Me];for(Ht=0;4>Ht;++Ht){Tt=AF[ot[Ze+Ht]][Tt];for(var rr=x1[se(Ke,Tt[0])];0<rr;)rr=x1[2*rr+se(Ke,Tt[rr])];Tt=-rr,ot[Ze+Ht]=Tt}n(zt,Gt,ot,Ze,4),Gt+=4,xt[0+Me]=Tt}}else Tt=se(Ke,156)?se(Ke,128)?1:3:se(Ke,163)?2:0,rt.Ob[0]=Tt,s(ot,Ze,Tt,4),s(xt,0,Tt,4);rt.Dd=se(Ke,142)?se(Ke,114)?se(Ke,183)?1:3:2:0}if(De.m.Ka)return _r(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(De=he,Ke=(xe=we).rb[xe.sb-1],ot=xe.rb[xe.sb+xe.ja],Fe=xe.ya[xe.aa+xe.ja],Ze=xe.kc?Fe.Ad:0)Ke.la=ot.la=0,Fe.Za||(Ke.Na=ot.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var Zt,jt;if(Ke=ot,ot=De,Ze=xe.Pa.Xc,xt=xe.ya[xe.aa+xe.ja],rt=xe.pb[xt.$b],Me=xt.ad,zt=0,Gt=xe.rb[xe.sb-1],Tt=Ht=0,s(Me,zt,0,384),xt.Za)var Tr=0,Vn=Ze[3];else{rr=i(16);var Dr=Ke.Na+Gt.Na;if(Dr=Zc(ot,Ze[1],Dr,rt.Eb,0,rr,0),Ke.Na=Gt.Na=(0<Dr)+0,1<Dr)sl(rr,0,Me,zt);else{var zn=rr[0]+3>>3;for(rr=0;256>rr;rr+=16)Me[zt+rr]=zn}Tr=1,Vn=Ze[0]}var qt=15&Ke.la,ls=15&Gt.la;for(rr=0;4>rr;++rr){var cs=1&ls;for(zn=jt=0;4>zn;++zn)qt=qt>>1|(cs=(Dr=Zc(ot,Vn,Dr=cs+(1&qt),rt.Sc,Tr,Me,zt))>Tr)<<7,jt=jt<<2|(3<Dr?3:1<Dr?2:Me[zt+0]!=0),zt+=16;qt>>=4,ls=ls>>1|cs<<7,Ht=(Ht<<8|jt)>>>0}for(Vn=qt,Tr=ls>>4,Zt=0;4>Zt;Zt+=2){for(jt=0,qt=Ke.la>>4+Zt,ls=Gt.la>>4+Zt,rr=0;2>rr;++rr){for(cs=1&ls,zn=0;2>zn;++zn)Dr=cs+(1&qt),qt=qt>>1|(cs=0<(Dr=Zc(ot,Ze[2],Dr,rt.Qc,0,Me,zt)))<<3,jt=jt<<2|(3<Dr?3:1<Dr?2:Me[zt+0]!=0),zt+=16;qt>>=2,ls=ls>>1|cs<<5}Tt|=jt<<4*Zt,Vn|=qt<<4<<Zt,Tr|=(240&ls)<<Zt}Ke.la=Vn,Gt.la=Tr,xt.Hc=Ht,xt.Gc=Tt,xt.ia=43690&Tt?0:rt.ia,Ze=!(Ht|Tt)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[Fe.$b][Fe.Za],xe.wa[xe.Y+xe.ja].La|=!Ze),De.Ka)return _r(we,7,"Premature end-of-file encountered.")}if(Ec(we),xe=He,De=1,Fe=(he=we).D,Ke=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Fe.M=he.M,Fe.uc=Ke,Vc(he,Fe),De=1,Fe=(jt=he.D).Nb,Ke=(Tt=Ph[he.L])*he.R,ot=Tt/2*he.B,rr=16*Fe*he.R,zn=8*Fe*he.B,Ze=he.sa,xt=he.ta-Ke+rr,rt=he.qa,Me=he.ra-ot+zn,zt=he.Ha,Gt=he.Ia-ot+zn,ls=(qt=jt.M)==0,Ht=qt>=he.Va-1,he.Aa==2&&Vc(he,jt),jt.uc)for(cs=(Dr=he).D.M,e(Dr.D.uc),jt=Dr.yb;jt<Dr.Hb;++jt){Tr=jt,Vn=cs;var Zr=(on=(yr=Dr).D).Nb;Zt=yr.R;var on=on.wa[on.Y+Tr],In=yr.sa,ks=yr.ta+16*Zr*Zt+16*Tr,yi=on.dd,en=on.tc;if(en!=0)if(e(3<=en),yr.L==1)0<Tr&&Ea(In,ks,Zt,en+4),on.La&&js(In,ks,Zt,en),0<Vn&&qo(In,ks,Zt,en+4),on.La&&Yc(In,ks,Zt,en);else{var Ji=yr.B,Jo=yr.qa,Al=yr.ra+8*Zr*Ji+8*Tr,La=yr.Ha,yr=yr.Ia+8*Zr*Ji+8*Tr;Zr=on.ld,0<Tr&&(Nh(In,ks,Zt,en+4,yi,Zr),$o(Jo,Al,La,yr,Ji,en+4,yi,Zr)),on.La&&(Fa(In,ks,Zt,en,yi,Zr),al(Jo,Al,La,yr,Ji,en,yi,Zr)),0<Vn&&(il(In,ks,Zt,en+4,yi,Zr),Jc(Jo,Al,La,yr,Ji,en+4,yi,Zr)),on.La&&(Wo(In,ks,Zt,en,yi,Zr),Go(Jo,Al,La,yr,Ji,en,yi,Zr))}}if(he.ia&&alert("todo:DitherRow"),xe.put!=null){if(jt=16*qt,qt=16*(qt+1),ls?(xe.y=he.sa,xe.O=he.ta+rr,xe.f=he.qa,xe.N=he.ra+zn,xe.ea=he.Ha,xe.W=he.Ia+zn):(jt-=Tt,xe.y=Ze,xe.O=xt,xe.f=rt,xe.N=Me,xe.ea=zt,xe.W=Gt),Ht||(qt-=Tt),qt>xe.o&&(qt=xe.o),xe.F=null,xe.J=null,he.Fa!=null&&0<he.Fa.length&&jt<qt&&(xe.J=Rc(he,xe,jt,qt-jt),xe.F=he.mb,xe.F==null&&xe.F.length==0)){De=_r(he,3,"Could not decode alpha data.");break e}jt<xe.j&&(Tt=xe.j-jt,jt=xe.j,e(!(1&Tt)),xe.O+=he.R*Tt,xe.N+=he.B*(Tt>>1),xe.W+=he.B*(Tt>>1),xe.F!=null&&(xe.J+=xe.width*Tt)),jt<qt&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=jt-xe.j,xe.U=xe.va-xe.v,xe.T=qt-jt,De=xe.put(xe))}Fe+1!=he.Ic||Ht||(n(he.sa,he.ta-Ke,Ze,xt+16*he.R,Ke),n(he.qa,he.ra-ot,rt,Me+8*he.B,ot),n(he.Ha,he.Ia-ot,zt,Gt+8*he.B,ot))}if(!De)return _r(we,6,"Output aborted.")}return 1}(h,p)),p.bc!=null&&p.bc(p),B&=1}return B?(h.cb=0,B):0}function Ws(h,p,B,N,k){k=h[p+B+32*N]+(k>>3),h[p+B+32*N]=-256&k?0>k?0:255:k}function VA(h,p,B,N,k,D){Ws(h,p,0,B,N+k),Ws(h,p,1,B,N+D),Ws(h,p,2,B,N-D),Ws(h,p,3,B,N-k)}function Hn(h){return(20091*h>>16)+h}function Uc(h,p,B,N){var k,D=0,O=i(16);for(k=0;4>k;++k){var H=h[p+0]+h[p+8],V=h[p+0]-h[p+8],q=(35468*h[p+4]>>16)-Hn(h[p+12]),de=Hn(h[p+4])+(35468*h[p+12]>>16);O[D+0]=H+de,O[D+1]=V+q,O[D+2]=V-q,O[D+3]=H-de,D+=4,p++}for(k=D=0;4>k;++k)H=(h=O[D+0]+4)+O[D+8],V=h-O[D+8],q=(35468*O[D+4]>>16)-Hn(O[D+12]),Ws(B,N,0,0,H+(de=Hn(O[D+4])+(35468*O[D+12]>>16))),Ws(B,N,1,0,V+q),Ws(B,N,2,0,V-q),Ws(B,N,3,0,H-de),D++,N+=32}function lh(h,p,B,N){var k=h[p+0]+4,D=35468*h[p+4]>>16,O=Hn(h[p+4]),H=35468*h[p+1]>>16;VA(B,N,0,k+O,h=Hn(h[p+1]),H),VA(B,N,1,k+D,h,H),VA(B,N,2,k-D,h,H),VA(B,N,3,k-O,h,H)}function Bp(h,p,B,N,k){Uc(h,p,B,N),k&&Uc(h,p+16,B,N+4)}function ch(h,p,B,N){Wi(h,p+0,B,N,1),Wi(h,p+32,B,N+128,1)}function Cp(h,p,B,N){var k;for(h=h[p+0]+4,k=0;4>k;++k)for(p=0;4>p;++p)Ws(B,N,p,k,h)}function uh(h,p,B,N){h[p+0]&&Qn(h,p+0,B,N),h[p+16]&&Qn(h,p+16,B,N+4),h[p+32]&&Qn(h,p+32,B,N+128),h[p+48]&&Qn(h,p+48,B,N+128+4)}function _p(h,p,B,N){var k,D=i(16);for(k=0;4>k;++k){var O=h[p+0+k]+h[p+12+k],H=h[p+4+k]+h[p+8+k],V=h[p+4+k]-h[p+8+k],q=h[p+0+k]-h[p+12+k];D[0+k]=O+H,D[8+k]=O-H,D[4+k]=q+V,D[12+k]=q-V}for(k=0;4>k;++k)O=(h=D[0+4*k]+3)+D[3+4*k],H=D[1+4*k]+D[2+4*k],V=D[1+4*k]-D[2+4*k],q=h-D[3+4*k],B[N+0]=O+H>>3,B[N+16]=q+V>>3,B[N+32]=O-H>>3,B[N+48]=q-V>>3,N+=64}function kc(h,p,B){var N,k=p-32,D=As,O=255-h[k-1];for(N=0;N<B;++N){var H,V=D,q=O+h[p-1];for(H=0;H<B;++H)h[p+H]=V[q+h[k+H]];p+=32}}function Np(h,p){kc(h,p,4)}function Sp(h,p){kc(h,p,8)}function jp(h,p){kc(h,p,16)}function Ki(h,p){var B;for(B=0;16>B;++B)n(h,p+32*B,h,p-32,16)}function zA(h,p){var B;for(B=16;0<B;--B)s(h,p,h[p-1],16),p+=32}function $A(h,p,B){var N;for(N=0;16>N;++N)s(p,B+32*N,h,16)}function dh(h,p){var B,N=16;for(B=0;16>B;++B)N+=h[p-1+32*B]+h[p+B-32];$A(N>>5,h,p)}function fn(h,p){var B,N=8;for(B=0;16>B;++B)N+=h[p-1+32*B];$A(N>>4,h,p)}function Fp(h,p){var B,N=8;for(B=0;16>B;++B)N+=h[p+B-32];$A(N>>4,h,p)}function hh(h,p){$A(128,h,p)}function bt(h,p,B){return h+2*p+B+2>>2}function Ep(h,p){var B,N=p-32;for(N=new Uint8Array([bt(h[N-1],h[N+0],h[N+1]),bt(h[N+0],h[N+1],h[N+2]),bt(h[N+1],h[N+2],h[N+3]),bt(h[N+2],h[N+3],h[N+4])]),B=0;4>B;++B)n(h,p+32*B,N,0,N.length)}function Up(h,p){var B=h[p-1],N=h[p-1+32],k=h[p-1+64],D=h[p-1+96];Ne(h,p+0,16843009*bt(h[p-1-32],B,N)),Ne(h,p+32,16843009*bt(B,N,k)),Ne(h,p+64,16843009*bt(N,k,D)),Ne(h,p+96,16843009*bt(k,D,D))}function xi(h,p){var B,N=4;for(B=0;4>B;++B)N+=h[p+B-32]+h[p-1+32*B];for(N>>=3,B=0;4>B;++B)s(h,p+32*B,N,4)}function fh(h,p){var B=h[p-1+0],N=h[p-1+32],k=h[p-1+64],D=h[p-1-32],O=h[p+0-32],H=h[p+1-32],V=h[p+2-32],q=h[p+3-32];h[p+0+96]=bt(N,k,h[p-1+96]),h[p+1+96]=h[p+0+64]=bt(B,N,k),h[p+2+96]=h[p+1+64]=h[p+0+32]=bt(D,B,N),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=bt(O,D,B),h[p+3+64]=h[p+2+32]=h[p+1+0]=bt(H,O,D),h[p+3+32]=h[p+2+0]=bt(V,H,O),h[p+3+0]=bt(q,V,H)}function gh(h,p){var B=h[p+1-32],N=h[p+2-32],k=h[p+3-32],D=h[p+4-32],O=h[p+5-32],H=h[p+6-32],V=h[p+7-32];h[p+0+0]=bt(h[p+0-32],B,N),h[p+1+0]=h[p+0+32]=bt(B,N,k),h[p+2+0]=h[p+1+32]=h[p+0+64]=bt(N,k,D),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=bt(k,D,O),h[p+3+32]=h[p+2+64]=h[p+1+96]=bt(D,O,H),h[p+3+64]=h[p+2+96]=bt(O,H,V),h[p+3+96]=bt(H,V,V)}function WA(h,p){var B=h[p-1+0],N=h[p-1+32],k=h[p-1+64],D=h[p-1-32],O=h[p+0-32],H=h[p+1-32],V=h[p+2-32],q=h[p+3-32];h[p+0+0]=h[p+1+64]=D+O+1>>1,h[p+1+0]=h[p+2+64]=O+H+1>>1,h[p+2+0]=h[p+3+64]=H+V+1>>1,h[p+3+0]=V+q+1>>1,h[p+0+96]=bt(k,N,B),h[p+0+64]=bt(N,B,D),h[p+0+32]=h[p+1+96]=bt(B,D,O),h[p+1+32]=h[p+2+96]=bt(D,O,H),h[p+2+32]=h[p+3+96]=bt(O,H,V),h[p+3+32]=bt(H,V,q)}function Lc(h,p){var B=h[p+0-32],N=h[p+1-32],k=h[p+2-32],D=h[p+3-32],O=h[p+4-32],H=h[p+5-32],V=h[p+6-32],q=h[p+7-32];h[p+0+0]=B+N+1>>1,h[p+1+0]=h[p+0+64]=N+k+1>>1,h[p+2+0]=h[p+1+64]=k+D+1>>1,h[p+3+0]=h[p+2+64]=D+O+1>>1,h[p+0+32]=bt(B,N,k),h[p+1+32]=h[p+0+96]=bt(N,k,D),h[p+2+32]=h[p+1+96]=bt(k,D,O),h[p+3+32]=h[p+2+96]=bt(D,O,H),h[p+3+64]=bt(O,H,V),h[p+3+96]=bt(H,V,q)}function kp(h,p){var B=h[p-1+0],N=h[p-1+32],k=h[p-1+64],D=h[p-1+96];h[p+0+0]=B+N+1>>1,h[p+2+0]=h[p+0+32]=N+k+1>>1,h[p+2+32]=h[p+0+64]=k+D+1>>1,h[p+1+0]=bt(B,N,k),h[p+3+0]=h[p+1+32]=bt(N,k,D),h[p+3+32]=h[p+1+64]=bt(k,D,D),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=D}function Lp(h,p){var B=h[p-1+0],N=h[p-1+32],k=h[p-1+64],D=h[p-1+96],O=h[p-1-32],H=h[p+0-32],V=h[p+1-32],q=h[p+2-32];h[p+0+0]=h[p+2+32]=B+O+1>>1,h[p+0+32]=h[p+2+64]=N+B+1>>1,h[p+0+64]=h[p+2+96]=k+N+1>>1,h[p+0+96]=D+k+1>>1,h[p+3+0]=bt(H,V,q),h[p+2+0]=bt(O,H,V),h[p+1+0]=h[p+3+32]=bt(B,O,H),h[p+1+32]=h[p+3+64]=bt(N,B,O),h[p+1+64]=h[p+3+96]=bt(k,N,B),h[p+1+96]=bt(D,k,N)}function Qp(h,p){var B;for(B=0;8>B;++B)n(h,p+32*B,h,p-32,8)}function Qc(h,p){var B;for(B=0;8>B;++B)s(h,p,h[p-1],8),p+=32}function Ho(h,p,B){var N;for(N=0;8>N;++N)s(p,B+32*N,h,8)}function Ca(h,p){var B,N=8;for(B=0;8>B;++B)N+=h[p+B-32]+h[p-1+32*B];Ho(N>>4,h,p)}function Ip(h,p){var B,N=4;for(B=0;8>B;++B)N+=h[p+B-32];Ho(N>>3,h,p)}function Ro(h,p){var B,N=4;for(B=0;8>B;++B)N+=h[p-1+32*B];Ho(N>>3,h,p)}function Ic(h,p){Ho(128,h,p)}function GA(h,p,B){var N=h[p-B],k=h[p+0],D=3*(k-N)+Hp[1020+h[p-2*B]-h[p+B]],O=jh[112+(D+4>>3)];h[p-B]=As[255+N+jh[112+(D+3>>3)]],h[p+0]=As[255+k-O]}function ph(h,p,B,N){var k=h[p+0],D=h[p+B];return Es[255+h[p-2*B]-h[p-B]]>N||Es[255+D-k]>N}function mh(h,p,B,N){return 4*Es[255+h[p-B]-h[p+0]]+Es[255+h[p-2*B]-h[p+B]]<=N}function xh(h,p,B,N,k){var D=h[p-3*B],O=h[p-2*B],H=h[p-B],V=h[p+0],q=h[p+B],de=h[p+2*B],Ce=h[p+3*B];return 4*Es[255+H-V]+Es[255+O-q]>N?0:Es[255+h[p-4*B]-D]<=k&&Es[255+D-O]<=k&&Es[255+O-H]<=k&&Es[255+Ce-de]<=k&&Es[255+de-q]<=k&&Es[255+q-V]<=k}function vh(h,p,B,N){var k=2*N+1;for(N=0;16>N;++N)mh(h,p+N,B,k)&&GA(h,p+N,B)}function vi(h,p,B,N){var k=2*N+1;for(N=0;16>N;++N)mh(h,p+N*B,1,k)&&GA(h,p+N*B,1)}function Vi(h,p,B,N){var k;for(k=3;0<k;--k)vh(h,p+=4*B,B,N)}function Pp(h,p,B,N){var k;for(k=3;0<k;--k)vi(h,p+=4,B,N)}function _a(h,p,B,N,k,D,O,H){for(D=2*D+1;0<k--;){if(xh(h,p,B,D,O))if(ph(h,p,B,H))GA(h,p,B);else{var V=h,q=p,de=B,Ce=V[q-2*de],_e=V[q-de],we=V[q+0],He=V[q+de],Fe=V[q+2*de],he=27*(De=Hp[1020+3*(we-_e)+Hp[1020+Ce-He]])+63>>7,xe=18*De+63>>7,De=9*De+63>>7;V[q-3*de]=As[255+V[q-3*de]+De],V[q-2*de]=As[255+Ce+xe],V[q-de]=As[255+_e+he],V[q+0]=As[255+we-he],V[q+de]=As[255+He-xe],V[q+2*de]=As[255+Fe-De]}p+=N}}function Gs(h,p,B,N,k,D,O,H){for(D=2*D+1;0<k--;){if(xh(h,p,B,D,O))if(ph(h,p,B,H))GA(h,p,B);else{var V=h,q=p,de=B,Ce=V[q-de],_e=V[q+0],we=V[q+de],He=jh[112+((Fe=3*(_e-Ce))+4>>3)],Fe=jh[112+(Fe+3>>3)],he=He+1>>1;V[q-2*de]=As[255+V[q-2*de]+he],V[q-de]=As[255+Ce+Fe],V[q+0]=As[255+_e-He],V[q+de]=As[255+we-he]}p+=N}}function Pc(h,p,B,N,k,D){_a(h,p,B,1,16,N,k,D)}function Ko(h,p,B,N,k,D){_a(h,p,1,B,16,N,k,D)}function Tp(h,p,B,N,k,D){var O;for(O=3;0<O;--O)Gs(h,p+=4*B,B,1,16,N,k,D)}function qA(h,p,B,N,k,D){var O;for(O=3;0<O;--O)Gs(h,p+=4,1,B,16,N,k,D)}function Dp(h,p,B,N,k,D,O,H){_a(h,p,k,1,8,D,O,H),_a(B,N,k,1,8,D,O,H)}function Tc(h,p,B,N,k,D,O,H){_a(h,p,1,k,8,D,O,H),_a(B,N,1,k,8,D,O,H)}function Dc(h,p,B,N,k,D,O,H){Gs(h,p+4*k,k,1,8,D,O,H),Gs(B,N+4*k,k,1,8,D,O,H)}function wh(h,p,B,N,k,D,O,H){Gs(h,p+4,1,k,8,D,O,H),Gs(B,N+4,1,k,8,D,O,H)}function JA(){this.ba=new dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yh(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new I}function Op(){this.xb=this.a=0,this.l=new KA,this.ca=new dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new S,this.Pb=0,this.wd=new S,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yh,this.ab=0,this.gc=a(4,Mc),this.Oc=0}function YA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new KA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vo(h,p,B,N,k,D,O){for(h=h==null?0:h[p+0],p=0;p<O;++p)k[D+p]=h+B[N+p]&255,h=k[D+p]}function Hc(h,p,B,N,k,D,O){var H;if(h==null)Vo(null,null,B,N,k,D,O);else for(H=0;H<O;++H)k[D+H]=h[p+H]+B[N+H]&255}function Na(h,p,B,N,k,D,O){if(h==null)Vo(null,null,B,N,k,D,O);else{var H,V=h[p+0],q=V,de=V;for(H=0;H<O;++H)q=de+(V=h[p+H])-q,de=B[N+H]+(-256&q?0>q?0:255:q)&255,q=V,k[D+H]=de}}function Rc(h,p,B,N){var k=p.width,D=p.o;if(e(h!=null&&p!=null),0>B||0>=N||B+N>D)return null;if(!h.Cc){if(h.ga==null){var O;if(h.ga=new YA,(O=h.ga==null)||(O=p.width*p.o,e(h.Gb.length==0),h.Gb=i(O),h.Uc=0,h.Gb==null?O=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,O=1),O=!O),!O){O=h.ga;var H=h.Fa,V=h.P,q=h.qc,de=h.mb,Ce=h.nb,_e=V+1,we=q-1,He=O.l;if(e(H!=null&&de!=null&&p!=null),ka[0]=null,ka[1]=Vo,ka[2]=Hc,ka[3]=Na,O.ca=de,O.tb=Ce,O.c=p.width,O.i=p.height,e(0<O.c&&0<O.i),1>=q)p=0;else if(O.$a=H[V+0]>>0&3,O.Z=H[V+0]>>2&3,O.Lc=H[V+0]>>4&3,V=H[V+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||V)p=0;else if(He.put=It,He.ac=Ft,He.bc=Pt,He.ma=O,He.width=p.width,He.height=p.height,He.Da=p.Da,He.v=p.v,He.va=p.va,He.j=p.j,He.o=p.o,O.$a)e:{e(O.$a==1),p=Un();t:for(;;){if(p==null){p=0;break e}if(e(O!=null),O.mc=p,p.c=O.c,p.i=O.i,p.l=O.l,p.l.ma=O,p.l.width=O.c,p.l.height=O.i,p.a=0,te(p.m,H,_e,we),!_s(O.c,O.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&zs(p.s)?(O.ic=1,H=p.c*p.i,p.Ta=null,p.Ua=0,p.V=i(H),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(O.ic=0,p=Ri(p,O.c)),!p))break t;p=1;break e}O.mc=null,p=0}else p=we>=O.c*O.i;O=!p}if(O)return null;h.ga.Lc!=1?h.Ga=0:N=D-B}e(h.ga!=null),e(B+N<=D);e:{if(p=(H=h.ga).c,D=H.l.o,H.$a==0){if(_e=h.rc,we=h.Vc,He=h.Fa,V=h.P+1+B*p,q=h.mb,de=h.nb+B*p,e(V<=h.P+h.qc),H.Z!=0)for(e(ka[H.Z]!=null),O=0;O<N;++O)ka[H.Z](_e,we,He,V,q,de,p),_e=q,we=de,de+=p,V+=p;else for(O=0;O<N;++O)n(q,de,He,V,p),_e=q,we=de,de+=p,V+=p;h.rc=_e,h.Vc=we}else{if(e(H.mc!=null),p=B+N,e((O=H.mc)!=null),e(p<=O.i),O.C>=p)p=1;else if(H.ic||be(),H.ic){H=O.V,_e=O.Ba,we=O.c;var Fe=O.i,he=(He=1,V=O.$/we,q=O.$%we,de=O.m,Ce=O.s,O.$),xe=we*Fe,De=we*p,Ke=Ce.wc,Me=he<De?vr(Ce,q,V):null;e(he<=xe),e(p<=Fe),e(zs(Ce));t:for(;;){for(;!de.h&&he<De;){if(q&Ke||(Me=vr(Ce,q,V)),e(Me!=null),re(de),256>(Fe=Ir(Me.G[0],Me.H[0],de)))H[_e+he]=Fe,++he,++q>=we&&(q=0,++V<=p&&!(V%16)&&hn(O,V));else{if(!(280>Fe)){He=0;break t}Fe=Kr(Fe-256,de);var ot,Ze=Ir(Me.G[4],Me.H[4],de);if(re(de),!(he>=(Ze=Yr(we,Ze=Kr(Ze,de)))&&xe-he>=Fe)){He=0;break t}for(ot=0;ot<Fe;++ot)H[_e+he+ot]=H[_e+he+ot-Ze];for(he+=Fe,q+=Fe;q>=we;)q-=we,++V<=p&&!(V%16)&&hn(O,V);he<De&&q&Ke&&(Me=vr(Ce,q,V))}e(de.h==K(de))}hn(O,V>p?p:V);break t}!He||de.h&&he<xe?(He=0,O.a=de.h?5:3):O.$=he,p=He}else p=as(O,O.V,O.Ba,O.c,O.i,p,wa);if(!p){N=0;break e}}B+N>=D&&(h.Cc=1),N=1}if(!N)return null;if(h.Cc&&((N=h.ga)!=null&&(N.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+B*k}function y(h,p,B,N,k,D){for(;0<k--;){var O,H=h,V=p+(B?1:0),q=h,de=p+(B?0:3);for(O=0;O<N;++O){var Ce=q[de+4*O];Ce!=255&&(Ce*=32897,H[V+4*O+0]=H[V+4*O+0]*Ce>>23,H[V+4*O+1]=H[V+4*O+1]*Ce>>23,H[V+4*O+2]=H[V+4*O+2]*Ce>>23)}p+=D}}function L(h,p,B,N,k){for(;0<N--;){var D;for(D=0;D<B;++D){var O=h[p+2*D+0],H=15&(q=h[p+2*D+1]),V=4369*H,q=(240&q|q>>4)*V>>16;h[p+2*D+0]=(240&O|O>>4)*V>>16&240|(15&O|O<<4)*V>>16>>4&15,h[p+2*D+1]=240&q|H}p+=k}}function ne(h,p,B,N,k,D,O,H){var V,q,de=255;for(q=0;q<k;++q){for(V=0;V<N;++V){var Ce=h[p+V];D[O+4*V]=Ce,de&=Ce}p+=B,O+=H}return de!=255}function le(h,p,B,N,k){var D;for(D=0;D<k;++D)B[N+D]=h[p+D]>>8}function be(){Fs=y,sr=L,ir=ne,Sr=le}function Le(h,p,B){j[h]=function(N,k,D,O,H,V,q,de,Ce,_e,we,He,Fe,he,xe,De,Ke){var Me,ot=Ke-1>>1,Ze=H[V+0]|q[de+0]<<16,xt=Ce[_e+0]|we[He+0]<<16;e(N!=null);var rt=3*Ze+xt+131074>>2;for(p(N[k+0],255&rt,rt>>16,Fe,he),D!=null&&(rt=3*xt+Ze+131074>>2,p(D[O+0],255&rt,rt>>16,xe,De)),Me=1;Me<=ot;++Me){var zt=H[V+Me]|q[de+Me]<<16,Gt=Ce[_e+Me]|we[He+Me]<<16,Ht=Ze+zt+xt+Gt+524296,Tt=Ht+2*(zt+xt)>>3;rt=Tt+Ze>>1,Ze=(Ht=Ht+2*(Ze+Gt)>>3)+zt>>1,p(N[k+2*Me-1],255&rt,rt>>16,Fe,he+(2*Me-1)*B),p(N[k+2*Me-0],255&Ze,Ze>>16,Fe,he+(2*Me-0)*B),D!=null&&(rt=Ht+xt>>1,Ze=Tt+Gt>>1,p(D[O+2*Me-1],255&rt,rt>>16,xe,De+(2*Me-1)*B),p(D[O+2*Me+0],255&Ze,Ze>>16,xe,De+(2*Me+0)*B)),Ze=zt,xt=Gt}1&Ke||(rt=3*Ze+xt+131074>>2,p(N[k+Ke-1],255&rt,rt>>16,Fe,he+(Ke-1)*B),D!=null&&(rt=3*xt+Ze+131074>>2,p(D[O+Ke-1],255&rt,rt>>16,xe,De+(Ke-1)*B)))}}function ze(){Us[Fh]=dF,Us[Eh]=w1,Us[g1]=hF,Us[Uh]=y1,Us[kh]=b1,Us[Rp]=B1,Us[p1]=fF,Us[Kp]=w1,Us[Vp]=y1,Us[Lh]=b1,Us[zp]=B1}function at(h){return h&-16384?0>h?0:255:h>>gF}function gt(h,p){return at((19077*h>>8)+(26149*p>>8)-14234)}function St(h,p,B){return at((19077*h>>8)-(6419*p>>8)-(13320*B>>8)+8708)}function Ct(h,p){return at((19077*h>>8)+(33050*p>>8)-17685)}function Mt(h,p,B,N,k){N[k+0]=gt(h,B),N[k+1]=St(h,p,B),N[k+2]=Ct(h,p)}function gr(h,p,B,N,k){N[k+0]=Ct(h,p),N[k+1]=St(h,p,B),N[k+2]=gt(h,B)}function wr(h,p,B,N,k){var D=St(h,p,B);p=D<<3&224|Ct(h,p)>>3,N[k+0]=248&gt(h,B)|D>>5,N[k+1]=p}function Pr(h,p,B,N,k){var D=240&Ct(h,p)|15;N[k+0]=240&gt(h,B)|St(h,p,B)>>4,N[k+1]=D}function gn(h,p,B,N,k){N[k+0]=255,Mt(h,p,B,N,k+1)}function Xr(h,p,B,N,k){gr(h,p,B,N,k),N[k+3]=255}function qs(h,p,B,N,k){Mt(h,p,B,N,k),N[k+3]=255}function os(h,p){return 0>h?0:h>p?p:h}function wi(h,p,B){j[h]=function(N,k,D,O,H,V,q,de,Ce){for(var _e=de+(-2&Ce)*B;de!=_e;)p(N[k+0],D[O+0],H[V+0],q,de),p(N[k+1],D[O+0],H[V+0],q,de+B),k+=2,++O,++V,de+=2*B;1&Ce&&p(N[k+0],D[O+0],H[V+0],q,de)}}function bh(h,p,B){return B==0?h==0?p==0?6:5:p==0?4:0:B}function Kc(h,p,B,N,k){switch(h>>>30){case 3:Wi(p,B,N,k,0);break;case 2:Nr(p,B,N,k);break;case 1:Qn(p,B,N,k)}}function Vc(h,p){var B,N,k=p.M,D=p.Nb,O=h.oc,H=h.pc+40,V=h.oc,q=h.pc+584,de=h.oc,Ce=h.pc+600;for(B=0;16>B;++B)O[H+32*B-1]=129;for(B=0;8>B;++B)V[q+32*B-1]=129,de[Ce+32*B-1]=129;for(0<k?O[H-1-32]=V[q-1-32]=de[Ce-1-32]=129:(s(O,H-32-1,127,21),s(V,q-32-1,127,9),s(de,Ce-32-1,127,9)),N=0;N<h.za;++N){var _e=p.ya[p.aa+N];if(0<N){for(B=-1;16>B;++B)n(O,H+32*B-4,O,H+32*B+12,4);for(B=-1;8>B;++B)n(V,q+32*B-4,V,q+32*B+4,4),n(de,Ce+32*B-4,de,Ce+32*B+4,4)}var we=h.Gd,He=h.Hd+N,Fe=_e.ad,he=_e.Hc;if(0<k&&(n(O,H-32,we[He].y,0,16),n(V,q-32,we[He].f,0,8),n(de,Ce-32,we[He].ea,0,8)),_e.Za){var xe=O,De=H-32+16;for(0<k&&(N>=h.za-1?s(xe,De,we[He].y[15],4):n(xe,De,we[He+1].y,0,4)),B=0;4>B;B++)xe[De+128+B]=xe[De+256+B]=xe[De+384+B]=xe[De+0+B];for(B=0;16>B;++B,he<<=2)xe=O,De=H+_1[B],Js[_e.Ob[B]](xe,De),Kc(he,Fe,16*+B,xe,De)}else if(xe=bh(N,k,_e.Ob[0]),Ua[xe](O,H),he!=0)for(B=0;16>B;++B,he<<=2)Kc(he,Fe,16*+B,O,H+_1[B]);for(B=_e.Gc,xe=bh(N,k,_e.Dd),qi[xe](V,q),qi[xe](de,Ce),he=Fe,xe=V,De=q,255&(_e=B>>0)&&(170&_e?qc(he,256,xe,De):Ss(he,256,xe,De)),_e=de,he=Ce,255&(B>>=8)&&(170&B?qc(Fe,320,_e,he):Ss(Fe,320,_e,he)),k<h.Ub-1&&(n(we[He].y,0,O,H+480,16),n(we[He].f,0,V,q+224,8),n(we[He].ea,0,de,Ce+224,8)),B=8*D*h.B,we=h.sa,He=h.ta+16*N+16*D*h.R,Fe=h.qa,_e=h.ra+8*N+B,he=h.Ha,xe=h.Ia+8*N+B,B=0;16>B;++B)n(we,He+B*h.R,O,H+32*B,16);for(B=0;8>B;++B)n(Fe,_e+B*h.B,V,q+32*B,8),n(he,xe+B*h.B,de,Ce+32*B,8)}}function XA(h,p,B,N,k,D,O,H,V){var q=[0],de=[0],Ce=0,_e=V!=null?V.kd:0,we=V??new Oc;if(h==null||12>B)return 7;we.data=h,we.w=p,we.ha=B,p=[p],B=[B],we.gb=[we.gb];e:{var He=p,Fe=B,he=we.gb;if(e(h!=null),e(Fe!=null),e(he!=null),he[0]=0,12<=Fe[0]&&!r(h,He[0],"RIFF")){if(r(h,He[0]+8,"WEBP")){he=3;break e}var xe=ve(h,He[0]+4);if(12>xe||4294967286<xe){he=3;break e}if(_e&&xe>Fe[0]-8){he=7;break e}he[0]=xe,He[0]+=12,Fe[0]-=12}he=0}if(he!=0)return he;for(xe=0<we.gb[0],B=B[0];;){e:{var De=h;Fe=p,he=B;var Ke=q,Me=de,ot=He=[0];if((rt=Ce=[Ce])[0]=0,8>he[0])he=7;else{if(!r(De,Fe[0],"VP8X")){if(ve(De,Fe[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var Ze=ve(De,Fe[0]+8),xt=1+pe(De,Fe[0]+12);if(2147483648<=xt*(De=1+pe(De,Fe[0]+15))){he=3;break e}ot!=null&&(ot[0]=Ze),Ke!=null&&(Ke[0]=xt),Me!=null&&(Me[0]=De),Fe[0]+=18,he[0]-=18,rt[0]=1}he=0}}if(Ce=Ce[0],He=He[0],he!=0)return he;if(Fe=!!(2&He),!xe&&Ce)return 3;if(D!=null&&(D[0]=!!(16&He)),O!=null&&(O[0]=Fe),H!=null&&(H[0]=0),O=q[0],He=de[0],Ce&&Fe&&V==null){he=0;break}if(4>B){he=7;break}if(xe&&Ce||!xe&&!Ce&&!r(h,p[0],"ALPH")){B=[B],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{Ze=h,he=p,xe=B;var rt=we.gb;Ke=we.na,Me=we.P,ot=we.Sa,xt=22,e(Ze!=null),e(xe!=null),De=he[0];var zt=xe[0];for(e(Ke!=null),e(ot!=null),Ke[0]=null,Me[0]=null,ot[0]=0;;){if(he[0]=De,xe[0]=zt,8>zt){he=7;break e}var Gt=ve(Ze,De+4);if(4294967286<Gt){he=3;break e}var Ht=8+Gt+1&-2;if(xt+=Ht,0<rt&&xt>rt){he=3;break e}if(!r(Ze,De,"VP8 ")||!r(Ze,De,"VP8L")){he=0;break e}if(zt[0]<Ht){he=7;break e}r(Ze,De,"ALPH")||(Ke[0]=Ze,Me[0]=De+8,ot[0]=Gt),De+=Ht,zt-=Ht}}if(B=B[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],he!=0)break}B=[B],we.Ja=[we.Ja],we.xa=[we.xa];e:if(rt=h,he=p,xe=B,Ke=we.gb[0],Me=we.Ja,ot=we.xa,Ze=he[0],De=!r(rt,Ze,"VP8 "),xt=!r(rt,Ze,"VP8L"),e(rt!=null),e(xe!=null),e(Me!=null),e(ot!=null),8>xe[0])he=7;else{if(De||xt){if(rt=ve(rt,Ze+4),12<=Ke&&rt>Ke-12){he=3;break e}if(_e&&rt>xe[0]-8){he=7;break e}Me[0]=rt,he[0]+=8,xe[0]-=8,ot[0]=xt}else ot[0]=5<=xe[0]&&rt[Ze+0]==47&&!(rt[Ze+4]>>5),Me[0]=xe[0];he=0}if(B=B[0],we.Ja=we.Ja[0],we.xa=we.xa[0],p=p[0],he!=0)break;if(4294967286<we.Ja)return 3;if(H==null||Fe||(H[0]=we.xa?2:1),O=[O],He=[He],we.xa){if(5>B){he=7;break}H=O,_e=He,Fe=D,h==null||5>B?h=0:5<=B&&h[p+0]==47&&!(h[p+4]>>5)?(xe=[0],rt=[0],Ke=[0],te(Me=new S,h,p,B),ut(Me,xe,rt,Ke)?(H!=null&&(H[0]=xe[0]),_e!=null&&(_e[0]=rt[0]),Fe!=null&&(Fe[0]=Ke[0]),h=1):h=0):h=0}else{if(10>B){he=7;break}H=He,h==null||10>B||!ah(h,p+3,B-3)?h=0:(_e=h[p+0]|h[p+1]<<8|h[p+2]<<16,Fe=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=we.Ja||!Fe||!h?h=0:(O&&(O[0]=Fe),H&&(H[0]=h),h=1))}if(!h||(O=O[0],He=He[0],Ce&&(q[0]!=O||de[0]!=He)))return 3;V!=null&&(V[0]=we,V.offset=p-V.w,e(4294967286>p-V.w),e(V.offset==V.ha-B));break}return he==0||he==7&&Ce&&V==null?(D!=null&&(D[0]|=we.na!=null&&0<we.na.length),N!=null&&(N[0]=O),k!=null&&(k[0]=He),0):he}function zc(h,p,B){var N=p.width,k=p.height,D=0,O=0,H=N,V=k;if(p.Da=h!=null&&0<h.Da,p.Da&&(H=h.cd,V=h.bd,D=h.v,O=h.j,11>B||(D&=-2,O&=-2),0>D||0>O||0>=H||0>=V||D+H>N||O+V>k))return 0;if(p.v=D,p.j=O,p.va=D+H,p.o=O+V,p.U=H,p.T=V,p.da=h!=null&&0<h.da,p.da){if(!tt(H,V,B=[h.ib],D=[h.hb]))return 0;p.ib=B[0],p.hb=D[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*N/4&&p.hb<3*k/4,p.Kb=0),1}function $c(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function ZA(h,p,B,N){if(N==null||0>=h||0>=p)return 2;if(B!=null){if(B.Da){var k=B.cd,D=B.bd,O=-2&B.v,H=-2&B.j;if(0>O||0>H||0>=k||0>=D||O+k>h||H+D>p)return 2;h=k,p=D}if(B.da){if(!tt(h,p,k=[B.ib],D=[B.hb]))return 2;h=k[0],p=D[0]}}N.width=h,N.height=p;e:{var V=N.width,q=N.height;if(h=N.S,0>=V||0>=q||!(h>=Fh&&13>h))h=2;else{if(0>=N.Rd&&N.sd==null){O=D=k=p=0;var de=(H=V*N1[h])*q;if(11>h||(D=(q+1)/2*(p=(V+1)/2),h==12&&(O=(k=V)*q)),(q=i(de+2*D+O))==null){h=1;break e}N.sd=q,11>h?((V=N.f.RGBA).eb=q,V.fb=0,V.A=H,V.size=de):((V=N.f.kb).y=q,V.O=0,V.fa=H,V.Fd=de,V.f=q,V.N=0+de,V.Ab=p,V.Cd=D,V.ea=q,V.W=0+de+D,V.Db=p,V.Ed=D,h==12&&(V.F=q,V.J=0+de+2*D),V.Tc=O,V.lb=k)}if(p=1,k=N.S,D=N.width,O=N.height,k>=Fh&&13>k)if(11>k)h=N.f.RGBA,p&=(H=Math.abs(h.A))*(O-1)+D<=h.size,p&=H>=D*N1[k],p&=h.eb!=null;else{h=N.f.kb,H=(D+1)/2,de=(O+1)/2,V=Math.abs(h.fa),q=Math.abs(h.Ab);var Ce=Math.abs(h.Db),_e=Math.abs(h.lb),we=_e*(O-1)+D;p&=V*(O-1)+D<=h.Fd,p&=q*(de-1)+H<=h.Cd,p=(p&=Ce*(de-1)+H<=h.Ed)&V>=D&q>=H&Ce>=H,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,k==12&&(p&=_e>=D,p&=we<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||B!=null&&B.fd&&(h=$c(N)),h}var an=64,el=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tl=24,rl=32,Wc=8,Rn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(h){return h},j.Predictor2=function(h,p,B){return p[B+0]},j.Predictor3=function(h,p,B){return p[B+1]},j.Predictor4=function(h,p,B){return p[B-1]},j.Predictor5=function(h,p,B){return Pe(Pe(h,p[B+1]),p[B+0])},j.Predictor6=function(h,p,B){return Pe(h,p[B-1])},j.Predictor7=function(h,p,B){return Pe(h,p[B+0])},j.Predictor8=function(h,p,B){return Pe(p[B-1],p[B+0])},j.Predictor9=function(h,p,B){return Pe(p[B+0],p[B+1])},j.Predictor10=function(h,p,B){return Pe(Pe(h,p[B-1]),Pe(p[B+0],p[B+1]))},j.Predictor11=function(h,p,B){var N=p[B+0];return 0>=ye(N>>24&255,h>>24&255,(p=p[B-1])>>24&255)+ye(N>>16&255,h>>16&255,p>>16&255)+ye(N>>8&255,h>>8&255,p>>8&255)+ye(255&N,255&h,255&p)?N:h},j.Predictor12=function(h,p,B){var N=p[B+0];return(qe((h>>24&255)+(N>>24&255)-((p=p[B-1])>>24&255))<<24|qe((h>>16&255)+(N>>16&255)-(p>>16&255))<<16|qe((h>>8&255)+(N>>8&255)-(p>>8&255))<<8|qe((255&h)+(255&N)-(255&p)))>>>0},j.Predictor13=function(h,p,B){var N=p[B-1];return(et((h=Pe(h,p[B+0]))>>24&255,N>>24&255)<<24|et(h>>16&255,N>>16&255)<<16|et(h>>8&255,N>>8&255)<<8|et(h>>0&255,N>>0&255))>>>0};var Mp=j.PredictorAdd0;j.PredictorAdd1=Oe,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Gc=j.PredictorAdd2;Be("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Be("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Bh,Ns=j.ColorIndexInverseTransform,nl=j.MapARGB,Ch=j.VP8LColorIndexInverseTransformAlpha,_h=j.MapAlpha,Sa=j.VP8LPredictorsAdd=[];Sa.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var zo,Kn,Ln,ja,zi,$i,sl,Wi,Nr,qc,Qn,Ss,il,Nh,Jc,$o,Wo,Fa,Go,al,qo,Ea,Yc,js,Fs,sr,ir,Sr,Vr=i(511),Gi=i(2041),Xc=i(225),ol=i(767),Sh=0,Hp=Gi,jh=Xc,As=ol,Es=Vr,Fh=0,Eh=1,g1=2,Uh=3,kh=4,Rp=5,p1=6,Kp=7,Vp=8,Lh=9,zp=10,Xj=[2,3,7],Zj=[3,3,11],m1=[280,256,256,256,40],eF=[0,1,1,1,0],tF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sF=8,$p=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zc=null,iF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],x1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],AF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ua=[],Js=[],qi=[],uF=1,v1=2,ka=[],Us=[];Le("UpsampleRgbLinePair",Mt,3),Le("UpsampleBgrLinePair",gr,3),Le("UpsampleRgbaLinePair",qs,4),Le("UpsampleBgraLinePair",Xr,4),Le("UpsampleArgbLinePair",gn,4),Le("UpsampleRgba4444LinePair",Pr,2),Le("UpsampleRgb565LinePair",wr,2);var dF=j.UpsampleRgbLinePair,hF=j.UpsampleBgrLinePair,w1=j.UpsampleRgbaLinePair,y1=j.UpsampleBgraLinePair,b1=j.UpsampleArgbLinePair,B1=j.UpsampleRgba4444LinePair,fF=j.UpsampleRgb565LinePair,Qh=16,Ih=1<<Qh-1,eu=-227,Gp=482,gF=6,C1=0,pF=i(256),mF=i(256),xF=i(256),vF=i(256),wF=i(Gp-eu),yF=i(Gp-eu);wi("YuvToRgbRow",Mt,3),wi("YuvToBgrRow",gr,3),wi("YuvToRgbaRow",qs,4),wi("YuvToBgraRow",Xr,4),wi("YuvToArgbRow",gn,4),wi("YuvToRgba4444Row",Pr,2),wi("YuvToRgb565Row",wr,2);var _1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ph=[0,2,8],bF=[8,7,6,4,4,2,2,2,1,1,1,1],BF=1;this.WebPDecodeRGBA=function(h,p,B,N,k){var D=Eh,O=new JA,H=new dt;O.ba=H,H.S=D,H.width=[H.width],H.height=[H.height];var V=H.width,q=H.height,de=new Et;if(de==null||h==null)var Ce=2;else e(de!=null),Ce=XA(h,p,B,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Ce!=0?V=0:(V!=null&&(V[0]=de.width[0]),q!=null&&(q[0]=de.height[0]),V=1),V){H.width=H.width[0],H.height=H.height[0],N!=null&&(N[0]=H.width),k!=null&&(k[0]=H.height);e:{if(N=new KA,(k=new Oc).data=h,k.w=p,k.ha=B,k.kd=1,p=[0],e(k!=null),((h=XA(k.data,k.w,k.ha,null,null,null,p,null,k))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(O!=null),N.data=k.data,N.w=k.w+k.offset,N.ha=k.ha-k.offset,N.put=It,N.ac=Ft,N.bc=Pt,N.ma=O,k.xa){if((h=Un())==null){O=1;break e}if(function(_e,we){var He=[0],Fe=[0],he=[0];t:for(;;){if(_e==null)return 0;if(we==null)return _e.a=2,0;if(_e.l=we,_e.a=0,te(_e.m,we.data,we.w,we.ha),!ut(_e.m,He,Fe,he)){_e.a=3;break t}if(_e.xb=v1,we.width=He[0],we.height=Fe[0],!_s(He[0],Fe[0],1,_e,null))break t;return 1}return e(_e.a!=0),0}(h,N)){if(N=(p=ZA(N.width,N.height,O.Oa,O.ba))==0){t:{N=h;r:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((B=N.l)!=null),e((k=B.ma)!=null),N.xb!=0){if(N.ca=k.ba,N.tb=k.tb,e(N.ca!=null),!zc(k.Oa,B,Uh)){N.a=2;break r}if(!Ri(N,B.width)||B.da)break r;if((B.da||X(N.ca.S))&&be(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&be()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!je(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!as(N,N.V,N.Ba,N.c,N.i,B.o,va))break r;k.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(p=h.a)}else p=h.a}else{if((h=new yp)==null){O=1;break e}if(h.Fa=k.na,h.P=k.P,h.qc=k.Sa,oh(h,N)){if((p=ZA(N.width,N.height,O.Oa,O.ba))==0){if(h.Aa=0,B=O.Oa,e((k=h)!=null),B!=null){if(0<(V=0>(V=B.Md)?0:100<V?255:255*V/100)){for(q=de=0;4>q;++q)12>(Ce=k.pb[q]).lc&&(Ce.ia=V*bF[0>Ce.lc?0:Ce.lc]>>3),de|=Ce.ia;de&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=B.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}bp(h,N)||(p=h.a)}}else p=h.a}p==0&&O.Oa!=null&&O.Oa.fd&&(p=$c(O.ba))}O=p}D=O!=0?null:11>D?H.f.RGBA.eb:H.f.kb.y}else D=null;return D};var N1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(j,R){for(var Z="",Q=0;Q<4;Q++)Z+=String.fromCharCode(j[R++]);return Z}function u(j,R){return(j[R+0]<<0|j[R+1]<<8|j[R+2]<<16)>>>0}function d(j,R){return(j[R+0]<<0|j[R+1]<<8|j[R+2]<<16|j[R+3]<<24)>>>0}new l;var f=[0],g=[0],m=[],w=new l,b=t,v=function(j,R){var Z={},Q=0,I=!1,z=0,$=0;if(Z.frames=[],!function(M,K,G,re){for(var ae=0;ae<re;ae++)if(M[K+ae]!=G.charCodeAt(ae))return!0;return!1}(j,R,"RIFF",4)){var ce,ie;for(d(j,R+=4),R+=8;R<j.length;){var fe=c(j,R),te=d(j,R+=4);R+=4;var W=te+(1&te);switch(fe){case"VP8 ":case"VP8L":Z.frames[Q]===void 0&&(Z.frames[Q]={}),(S=Z.frames[Q]).src_off=I?$:R-8,S.src_size=z+te+8,Q++,I&&(I=!1,z=0,$=0);break;case"VP8X":(S=Z.header={}).feature_flags=j[R];var J=R+4;S.canvas_width=1+u(j,J),J+=3,S.canvas_height=1+u(j,J),J+=3;break;case"ALPH":I=!0,z=W+8,$=R-8;break;case"ANIM":(S=Z.header).bgcolor=d(j,R),J=R+4,S.loop_count=(ce=j)[(ie=J)+0]<<0|ce[ie+1]<<8,J+=2;break;case"ANMF":var ee,S;(S=Z.frames[Q]={}).offset_x=2*u(j,R),R+=3,S.offset_y=2*u(j,R),R+=3,S.width=1+u(j,R),R+=3,S.height=1+u(j,R),R+=3,S.duration=u(j,R),R+=3,ee=j[R++],S.dispose=1&ee,S.blend=ee>>1&1}fe!="ANMF"&&(R+=W)}return Z}}(b,0);v.response=b,v.rgbaoutput=!0,v.dataurl=!1;var x=v.header?v.header:null,C=v.frames?v.frames:null;if(x){x.loop_counter=x.loop_count,f=[x.canvas_height],g=[x.canvas_width];for(var _=0;_<C.length&&C[_].blend!=0;_++);}var F=C[0],P=w.WebPDecodeRGBA(b,F.src_off,F.src_size,g,f);F.rgba=P,F.imgwidth=g[0],F.imgheight=f[0];for(var E=0;E<g[0]*f[0]*4;E++)m[E]=P[E];return this.width=g,this.height=f,this.data=m,this}(function(t){var e=function(){return typeof yw=="function"},r=function(f,g,m,w){var b=4,v=a;switch(w){case t.image_compression.FAST:b=1,v=i;break;case t.image_compression.MEDIUM:b=6,v=A;break;case t.image_compression.SLOW:b=9,v=l}f=n(f,g,m,v);var x=yw(f,{level:b});return t.__addimage__.arrayBufferToBinaryString(x)},n=function(f,g,m,w){for(var b,v,x,C=f.length/g,_=new Uint8Array(f.length+C),F=u(),P=0;P<C;P+=1){if(x=P*g,b=f.subarray(x,x+g),w)_.set(w(b,m,v),x+P);else{for(var E,j=F.length,R=[];E<j;E+=1)R[E]=F[E](b,m,v);var Z=d(R.concat());_.set(R[Z],x+P)}v=b}return _},s=function(f){var g=Array.apply([],f);return g.unshift(0),g},i=function(f,g){var m,w=[],b=f.length;w[0]=1;for(var v=0;v<b;v+=1)m=f[v-g]||0,w[v+1]=f[v]-m+256&255;return w},a=function(f,g,m){var w,b=[],v=f.length;b[0]=2;for(var x=0;x<v;x+=1)w=m&&m[x]||0,b[x+1]=f[x]-w+256&255;return b},A=function(f,g,m){var w,b,v=[],x=f.length;v[0]=3;for(var C=0;C<x;C+=1)w=f[C-g]||0,b=m&&m[C]||0,v[C+1]=f[C]+256-(w+b>>>1)&255;return v},l=function(f,g,m){var w,b,v,x,C=[],_=f.length;C[0]=4;for(var F=0;F<_;F+=1)w=f[F-g]||0,b=m&&m[F]||0,v=m&&m[F-g]||0,x=c(w,b,v),C[F+1]=f[F]-x+256&255;return C},c=function(f,g,m){if(f===g&&g===m)return f;var w=Math.abs(g-m),b=Math.abs(f-m),v=Math.abs(f+g-m-m);return w<=b&&w<=v?f:b<=v?g:m},u=function(){return[s,i,a,A,l]},d=function(f){var g=f.map(function(m){return m.reduce(function(w,b){return w+Math.abs(b)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(f,g,m,w){var b,v,x,C,_,F,P,E,j,R,Z,Q,I,z,$,ce=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(x=new oO(f)).imgData,v=x.bits,b=x.colorSpace,_=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){j=(E=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,Z=new Uint8Array(j*x.colors),R=new Uint8Array(j);var fe,te=x.pixelBitlength-x.bits;for(z=0,$=0;z<j;z++){for(I=E[z],fe=0;fe<te;)Z[$++]=I>>>fe&255,fe+=x.bits;R[z]=I>>>fe&255}}if(x.bits===16){j=(E=new Uint32Array(x.decodePixels().buffer)).length,Z=new Uint8Array(j*(32/x.pixelBitlength)*x.colors),R=new Uint8Array(j*(32/x.pixelBitlength)),Q=x.colors>1,z=0,$=0;for(var W=0;z<j;)I=E[z++],Z[$++]=I>>>0&255,Q&&(Z[$++]=I>>>16&255,I=E[z++],Z[$++]=I>>>0&255),R[W++]=I>>>16&255;v=8}w!==t.image_compression.NONE&&e()?(f=r(Z,x.width*x.colors,x.colors,w),P=r(R,x.width,1,w)):(f=Z,P=R,ce=void 0)}if(x.colorType===3&&(b=this.color_spaces.INDEXED,F=x.palette,x.transparency.indexed)){var J=x.transparency.indexed,ee=0;for(z=0,j=J.length;z<j;++z)ee+=J[z];if((ee/=255)===j-1&&J.indexOf(0)!==-1)C=[J.indexOf(0)];else if(ee!==j){for(E=x.decodePixels(),R=new Uint8Array(E.length),z=0,j=E.length;z<j;z++)R[z]=J[E[z]];P=r(R,x.width,1)}}var S=function(M){var K;switch(M){case t.image_compression.FAST:K=11;break;case t.image_compression.MEDIUM:K=13;break;case t.image_compression.SLOW:K=14;break;default:K=12}return K}(w);return ce===this.decode.FLATE_DECODE&&(ie="/Predictor "+S+" "),ie+="/Colors "+_+" /BitsPerComponent "+v+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:m,data:f,index:g,filter:ce,decodeParameters:ie,transparency:C,palette:F,sMask:P,predictor:S,width:x.width,height:x.height,bitsPerComponent:v,colorSpace:b}}}})(mt.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new AO(e),a=i.width,A=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:A},u=new fx(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)},t.processGIF87A=t.processGIF89A}(mt.API),ei.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ei.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){nr.log("bit decode error:"+r)}},ei.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,A=0;A<8&&8*s+A<this.width;A++){var l=this.palette[i>>7-A&1];this.data[a+4*A]=l.blue,this.data[a+4*A+1]=l.green,this.data[a+4*A+2]=l.red,this.data[a+4*A+3]=255}r!==0&&(this.pos+=4-r)}},ei.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,A=i>>4,l=15&i,c=this.palette[A];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ei.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},ei.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,A=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=A,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},ei.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=A,this.data[u+3]=255}this.pos+=t}},ei.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},ei.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=a}},ei.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new ei(e,!1),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new fx(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(mt.API),VB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new VB(e),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new fx(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(mt.API),mt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),A=0,l=0,c=0;c<s;c+=4){var u=n[c],d=n[c+1],f=n[c+2],g=n[c+3];i[A++]=u,i[A++]=d,i[A++]=f,a[l++]=g}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},mt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Nl=mt.API,Mf=Nl.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),A=e.widths?e.widths:s.metadata.Unicode.widths,l=A.fof?A.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,f=0,g=t.length,m=0,w=A[0]||l,b=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(f=d&&Yt(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,b.push((A[n]||w)/l+f)),m=n;return b},MB=Nl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Nl.processArabic&&(t=Nl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Mf.apply(this,arguments).reduce(function(i,a){return i+a},0)},HB=function(t,e,r,n){for(var s=[],i=0,a=t.length,A=0;i!==a&&A+e[i]<r;)A+=e[i],i++;s.push(t.slice(0,i));var l=i;for(A=0;i!==a;)A+e[i]>n&&(s.push(t.slice(l,i)),A=0,l=i),A+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},RB=function(t,e,r){r||(r={});var n,s,i,a,A,l,c,u=[],d=[u],f=r.textIndent||0,g=0,m=0,w=t.split(" "),b=Mf.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),x=[];w.map(function(_){(_=_.split(/\s*\n/)).length>1?x=x.concat(_.map(function(F,P){return(P&&F.length?`
`:"")+F})):x.push(_[0])}),w=x,l=MB.apply(this,[v,r])}for(i=0,a=w.length;i<a;i++){var C=0;if(n=w[i],l&&n[0]==`
`&&(n=n.substr(1),C=1),f+g+(m=(s=Mf.apply(this,[n,r])).reduce(function(_,F){return _+F},0))>e||C){if(m>e){for(A=HB.apply(this,[n,s,e-(f+g),e]),u.push(A.shift()),u=[A.pop()];A.length;)d.push([A.shift()]);m=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(_,F){return _+F},0)}else u=[n];d.push(u),f=m+l,g=b}else u.push(n),f+=g+m,g=b}return c=l?function(_,F){return(F?v:"")+_.join(" ")}:function(_){return _.join(" ")},d.map(c)},Nl.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var A,l,c=[];for(A=0,l=n.length;A<l;A++)c=c.concat(RB.apply(this,[n[A],a,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var f,g,m,w,b=["{"];for(var v in d){if(f=d[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=i(v).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof f=="number")f<0?(m=i(f).slice(3),w="-"):(m=i(f).slice(2),w=""),m=w+m.slice(0,-1)+n[m.slice(-1)];else{if(Yt(f)!=="object")throw new Error("Don't know what to do with value type "+Yt(f)+".");m=a(f)}b.push(g+m)}return b.push("}"),b.join("")},A=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,m,w,b={},v=1,x=b,C=[],_="",F="",P=d.length-1,E=1;E<P;E+=1)(w=d[E])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(w):w=="{"?(C.push([x,m]),x={},m=void 0):w=="}"?((g=C.pop())[0][g[1]]=x,m=void 0,x=g[0]):w=="-"?v=-1:m===void 0?r.hasOwnProperty(w)?(_+=r[w],m=parseInt(_,16)*v,v=1,_=""):_+=w:r.hasOwnProperty(w)?(F+=r[w],x[m]=parseInt(F,16)*v,v=1,m=void 0,F=""):F+=w;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var m=c.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(mt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,A){A=/^\x00\x01\x00\x00/.test(A)?e(A):e(nd(A)),a.metadata=t.API.TTFFont.open(A),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(mt),function(t){function e(){return(wt.canvg?Promise.resolve(wt.canvg):Yn(()=>import("./index.es-CjvPlk-I.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}mt.API.addSvgAsImage=function(r,n,s,i,a,A,l,c){if(isNaN(n)||isNaN(s))throw nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(m){return m.fromString(d,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),n,s,i,a,l,c)})}}(),mt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},mt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(a),l=[],c=0,u=0,d=0;function f(m,w){var b,v=!1;for(b=0;b<m.length;b+=1)m[b]===w&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=A.length;for(d=0;d<g;d+=1)r[A[d]].value=r[A[d]].defaultValue,r[A[d]].explicitSet=!1}if(Yt(t)==="object"){for(s in t)if(i=t[s],f(A,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&f(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,w=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?w.push("/"+m+" /"+r[m].value):w.push("/"+m+" "+r[m].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+A.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+A+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(mt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,a){for(var A,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=i.length;d<f;++d){if(A=a.metadata.characterToGlyph(i.charCodeAt(d)),a.metadata.glyIdsUsed.push(A),a.metadata.toUnicode[A]=i.charCodeAt(d),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(a.metadata.widthOfGlyph(A),10)])),A=="0")return u.join("");A=A.toString(16),u.push(c[4-A.length],A)}return u.join("")},n=function(i){var a,A,l,c,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(A=Object.keys(i).sort(function(g,m){return g-m})).length;d<f;d++)a=A[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="Identity-H"){for(var d=A.metadata.Unicode.widths,f=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),g="",m=0;m<f.length;m++)g+=String.fromCharCode(f[m]);var w=c();u({data:g,addLength1:!0,objectId:w}),l("endobj");var b=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ql(A.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ql(A.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Ql(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var d=A.metadata.rawData,f="",g=0;g<d.length;g++)f+=String.fromCharCode(d[g]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var w=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+Ql(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var v=0;v<A.metadata.hmtx.widths.length;v++)A.metadata.hmtx.widths[v]=parseInt(A.metadata.hmtx.widths[v]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Ql(A.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,A=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},f=d.pdfEscape,g=d.activeFontKey,m=d.fonts,w=g,b="",v=0,x="",C=m[w].encoding;if(m[w].encoding!=="Identity-H")return{text:A,x:l,y:c,options:u,mutex:d};for(x=A,w=g,Array.isArray(A)&&(x=A[0]),v=0;v<x.length;v+=1)m[w].metadata.hasOwnProperty("cmap")&&(a=m[w].metadata.cmap.unicode.codeMap[x[v].charCodeAt(0)]),a||x[v].charCodeAt(0)<256&&m[w].metadata.hasOwnProperty("Unicode")?b+=x[v]:b+="";var _="";return parseInt(w.slice(1))<14||C==="WinAnsiEncoding"?_=f(b,w).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(_=r(b,m[w])),d.isHex=!0,{text:_,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(i){var a=i.text||"",A=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?A.push([s(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):A.push(s(Object.assign({},l,{text:a[c]})).text);i.text=A}else i.text=s(Object.assign({},l,{text:a})).text}])}(mt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(mt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,a,A,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,C=0;this.__bidiEngine__={};var _=function(Q){var I=Q.charCodeAt(),z=I>>8,$=w[z];return $!==void 0?d[256*$+(255&I)]:z===252||z===253?"AL":v.test(z)?"L":z===8?"R":"N"},F=function(Q){for(var I,z=0;z<Q.length;z++){if((I=_(Q.charAt(z)))==="L")return!1;if(I==="R")return!0}return!1},P=function(Q,I,z,$){var ce,ie,fe,te,W=I[$];switch(W){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(W="AN");break;case"AL":x=!0,W="R";break;case"WS":W="N";break;case"CS":$<1||$+1>=I.length||(ce=z[$-1])!=="EN"&&ce!=="AN"||(ie=I[$+1])!=="EN"&&ie!=="AN"?W="N":x&&(ie="AN"),W=ie===ce?ie:"N";break;case"ES":W=(ce=$>0?z[$-1]:"B")==="EN"&&$+1<I.length&&I[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&z[$-1]==="EN"){W="EN";break}if(x){W="N";break}for(fe=$+1,te=I.length;fe<te&&I[fe]==="ET";)fe++;W=fe<te&&I[fe]==="EN"?"EN":"N";break;case"NSM":if(a&&!A){for(te=I.length,fe=$+1;fe<te&&I[fe]==="NSM";)fe++;if(fe<te){var J=Q[$],ee=J>=1425&&J<=2303||J===64286;if(ce=I[fe],ee&&(ce==="R"||ce==="AL")){W="R";break}}}W=$<1||(ce=I[$-1])==="B"?"N":z[$-1];break;case"B":x=!1,s=!0,W=C;break;case"S":i=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":W="N"}return W},E=function(Q,I,z){var $=Q.split("");return z&&j($,z,{hiLevel:C}),$.reverse(),I&&I.reverse(),$.join("")},j=function(Q,I,z){var $,ce,ie,fe,te,W=-1,J=Q.length,ee=0,S=[],M=C?g:f,K=[];for(x=!1,s=!1,i=!1,ce=0;ce<J;ce++)K[ce]=_(Q[ce]);for(ie=0;ie<J;ie++){if(te=ee,S[ie]=P(Q,K,S,ie),$=240&(ee=M[te][m[S[ie]]]),ee&=15,I[ie]=fe=M[ee][5],$>0)if($===16){for(ce=W;ce<ie;ce++)I[ce]=1;W=-1}else W=-1;if(M[ee][6])W===-1&&(W=ie);else if(W>-1){for(ce=W;ce<ie;ce++)I[ce]=fe;W=-1}K[ie]==="B"&&(I[ie]=0),z.hiLevel|=fe}i&&function(G,re,ae){for(var Ae=0;Ae<ae;Ae++)if(G[Ae]==="S"){re[Ae]=C;for(var se=Ae-1;se>=0&&G[se]==="WS";se--)re[se]=C}}(K,I,J)},R=function(Q,I,z,$,ce){if(!(ce.hiLevel<Q)){if(Q===1&&C===1&&!s)return I.reverse(),void(z&&z.reverse());for(var ie,fe,te,W,J=I.length,ee=0;ee<J;){if($[ee]>=Q){for(te=ee+1;te<J&&$[te]>=Q;)te++;for(W=ee,fe=te-1;W<fe;W++,fe--)ie=I[W],I[W]=I[fe],I[fe]=ie,z&&(ie=z[W],z[W]=z[fe],z[fe]=ie);ee=te}ee++}}},Z=function(Q,I,z){var $=Q.split(""),ce={hiLevel:C};return z||(z=[]),j($,z,ce),function(ie,fe,te){if(te.hiLevel!==0&&u)for(var W,J=0;J<ie.length;J++)fe[J]===1&&(W=b.indexOf(ie[J]))>=0&&(ie[J]=b[W+1])}($,z,ce),R(2,$,I,z,ce),R(1,$,I,z,ce),$.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,I,z){if(function(ce,ie){if(ie)for(var fe=0;fe<ce.length;fe++)ie[fe]=fe;A===void 0&&(A=F(ce)),c===void 0&&(c=F(ce))}(Q,I),a||!l||c)if(a&&l&&A^c)C=A?1:0,Q=E(Q,I,z);else if(!a&&l&&c)C=A?1:0,Q=Z(Q,I,z),Q=E(Q,I);else if(!a||A||l||c){if(a&&!l&&A^c)Q=E(Q,I),A?(C=0,Q=Z(Q,I,z)):(C=1,Q=Z(Q,I,z),Q=E(Q,I));else if(a&&A&&!l&&c)C=1,Q=Z(Q,I,z),Q=E(Q,I);else if(!a&&!l&&A^c){var $=u;A?(C=1,Q=Z(Q,I,z),C=0,u=!1,Q=Z(Q,I,z),u=$):(C=0,Q=Z(Q,I,z),Q=E(Q,I),C=1,u=!1,Q=Z(Q,I,z),u=$,Q=E(Q,I))}}else C=0,Q=Z(Q,I,z);else C=A?1:0,Q=Z(Q,I,z);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(a=Q.isInputVisual,l=Q.isOutputVisual,A=Q.isInputRtl,c=Q.isOutputRtl,u=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var A=0;for(a=[],A=0;A<s.length;A+=1)Object.prototype.toString.call(s[A])==="[object Array]"?a.push([r.doBidiReorder(s[A][0]),s[A][1],s[A][2]]):a.push([r.doBidiReorder(s[A])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(mt),mt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Lo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new BO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new lO(this.contents),this.head=new uO(this),this.name=new pO(this),this.cmap=new DS(this),this.toUnicode={},this.hhea=new dO(this),this.maxp=new mO(this),this.hmtx=new xO(this),this.post=new fO(this),this.os2=new hO(this),this.loca=new bO(this),this.glyf=new vO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,A,l,c;for(c=[],a=0,A=(l=this.bbox).length;a<A;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,a,A;for(a=0,i=0,A=(e=""+e).length;0<=A?i<A:i>A;i=0<=A?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var pi,Lo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,a,A,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),A=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^A)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*A+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),lO=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,a,A,l,c,u,d,f,g,m,w;for(w in g=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(g)/l),a=Math.floor(d/l),u=16*g-d,(s=new Lo).writeInt(this.scalarType),s.writeShort(g),s.writeShort(d),s.writeShort(a),s.writeShort(u),i=16*g,c=s.pos+i,A=null,m=[],r)for(f=r[w],s.writeString(w),s.writeInt(t(f)),s.writeInt(c),s.writeInt(f.length),m=m.concat(f),w==="head"&&(A=c),c+=f.length;c%4;)m.push(0),c++;return s.write(m),n=2981146554-t(s.data),s.pos=A+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,a;for(r=OS.call(r);r.length%4;)r.push(0);for(i=new Lo(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),cO={}.hasOwnProperty,Mi=function(t,e){for(var r in e)cO.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};pi=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var uO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Lo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),zB=function(){function t(e,r){var n,s,i,a,A,l,c,u,d,f,g,m,w,b,v,x,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),f=g/2,e.pos+=6,i=function(){var _,F;for(F=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)F.push(e.readUInt16());return F}(),e.pos+=2,w=function(){var _,F;for(F=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)F.push(e.readUInt16());return F}(),c=function(){var _,F;for(F=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)F.push(e.readUInt16());return F}(),u=function(){var _,F;for(F=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)F.push(e.readUInt16());return F}(),s=(this.length-e.pos+this.offset)/2,A=function(){var _,F;for(F=[],l=_=0;0<=s?_<s:_>s;l=0<=s?++_:--_)F.push(e.readUInt16());return F}(),l=v=0,C=i.length;v<C;l=++v)for(b=i[l],n=x=m=w[l];m<=b?x<=b:x>=b;n=m<=b?++x:--x)u[l]===0?a=n+c[l]:(a=A[u[l]/2+(n-m)-(f-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=d}return t.encode=function(e,r){var n,s,i,a,A,l,c,u,d,f,g,m,w,b,v,x,C,_,F,P,E,j,R,Z,Q,I,z,$,ce,ie,fe,te,W,J,ee,S,M,K,G,re,ae,Ae,se,Ne,Ue,pe;switch($=new Lo,a=Object.keys(e).sort(function(ve,je){return ve-je}),r){case"macroman":for(w=0,b=function(){var ve=[];for(m=0;m<256;++m)ve.push(0);return ve}(),x={0:0},i={},ce=0,W=a.length;ce<W;ce++)x[se=e[s=a[ce]]]==null&&(x[se]=++w),i[s]={old:e[s],new:x[e[s]]},b[s]=x[e[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(b),{charMap:i,subtable:$.data,maxGlyphID:w+1};case"unicode":for(I=[],d=[],C=0,x={},n={},v=c=null,ie=0,J=a.length;ie<J;ie++)x[F=e[s=a[ie]]]==null&&(x[F]=++C),n[s]={old:F,new:x[F]},A=x[F]-s,v!=null&&A===c||(v&&d.push(v),I.push(s),c=A),v=s;for(v&&d.push(v),d.push(65535),I.push(65535),Z=2*(R=I.length),j=2*Math.pow(Math.log(R)/Math.LN2,2),f=Math.log(j/2)/Math.LN2,E=2*R-j,l=[],P=[],g=[],m=fe=0,ee=I.length;fe<ee;m=++fe){if(Q=I[m],u=d[m],Q===65535){l.push(0),P.push(0);break}if(Q-(z=n[Q].new)>=32768)for(l.push(0),P.push(2*(g.length+R-m)),s=te=Q;Q<=u?te<=u:te>=u;s=Q<=u?++te:--te)g.push(n[s].new);else l.push(z-Q),P.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*R+2*g.length),$.writeUInt16(0),$.writeUInt16(Z),$.writeUInt16(j),$.writeUInt16(f),$.writeUInt16(E),ae=0,S=d.length;ae<S;ae++)s=d[ae],$.writeUInt16(s);for($.writeUInt16(0),Ae=0,M=I.length;Ae<M;Ae++)s=I[Ae],$.writeUInt16(s);for(Ne=0,K=l.length;Ne<K;Ne++)A=l[Ne],$.writeUInt16(A);for(Ue=0,G=P.length;Ue<G;Ue++)_=P[Ue],$.writeUInt16(_);for(pe=0,re=g.length;pe<re;pe++)w=g[pe],$.writeUInt16(w);return{charMap:n,subtable:$.data,maxGlyphID:C+1}}},t}(),DS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new zB(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=zB.encode(r,n),(i=new Lo).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),dO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),hO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),fO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var A,l,c;for(c=[],a=A=0,l=this.file.maxp.numGlyphs;0<=l?A<l:A>l;a=0<=l?++A:--A)c.push(r.readUInt32());return c}).call(this)}},e}(),gO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,a,A,l,c,u,d,f,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},a=d=0,f=s.length;d<f;a=++d)i=s[a],r.pos=i.offset,u=r.readString(i.length),A=new gO(u,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(A);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),mO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),xO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,a,A,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,f,g;for(g=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],g.push(a.advance);return g}).call(this),s=this.widths[this.widths.length-1],c=[],n=A=0;0<=i?A<i:A>i;n=0<=i?++A:--A)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),OS=[].slice,vO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,a,A,l,c,u,d,f;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,A=(l=new Lo(n.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=A===-1?new yO(l,u,f,c,d):new wO(l,A,u,f,c,d),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,a,A,l,c;for(A=[],a=[],l=0,c=n.length;l<c;l++)i=r[n[l]],a.push(A.length),i&&(A=A.concat(i.encode(s)));return a.push(A.length),{table:A,offsets:a}},e}(),wO=function(){function t(e,r,n,s,i,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),yO=function(){function t(e,r,n,s,i){var a,A;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;A=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&A;)a.pos+=1&A?4:2,128&A?a.pos+=8:64&A?a.pos+=4:8&A&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Lo(OS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),bO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Mi(e,pi),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,A=0;A<s.length;++A)if(s[A]=i,a<n.length&&n[a]==A){++a,s[A]=i;var l=this.offsets[A],c=this.offsets[A+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},e}(),BO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,a,A,l;for(s={},a=0,A=e.length;a<A;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,a,A,l,c,u,d,f,g,m,w,b,v;for(s in n=DS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},v=n.charMap)g[(l=v[s]).old]=l.new;for(m in f=n.maxGlyphID,a)m in g||(g[m]=f++);return u=function(x){var C,_;for(C in _={},x)_[x[C]]=C;return _}(g),d=Object.keys(u).sort(function(x,C){return x-C}),w=function(){var x,C,_;for(_=[],x=0,C=d.length;x<C;x++)A=d[x],_.push(u[A]);return _}(),i=this.font.glyf.encode(a,w,g),c=this.font.loca.encode(i.offsets,w),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();mt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var A,l,c;for(c=[],A=0,l=r.length;A<l;A++)n=r[A],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+r},e}();const gx=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:tO,AcroFormAppearance:ct,AcroFormButton:Wr,AcroFormCheckBox:ad,AcroFormChoiceField:CA,AcroFormComboBox:NA,AcroFormEditBox:sd,AcroFormListBox:_A,AcroFormPasswordField:od,AcroFormPushButton:id,AcroFormRadioButton:SA,AcroFormTextField:So,GState:Dd,ShadingPattern:eo,TilingPattern:mA,default:mt,jsPDF:mt},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nh(t){return t+.5|0}const Ao=(t,e,r)=>Math.max(Math.min(t,r),e);function Tu(t){return Ao(nh(t*2.55),0,255)}function jo(t){return Ao(nh(t*255),0,255)}function oa(t){return Ao(nh(t/2.55)/100,0,1)}function $B(t){return Ao(nh(t*100),0,100)}const Ls={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jw=[..."0123456789ABCDEF"],CO=t=>jw[t&15],_O=t=>jw[(t&240)>>4]+jw[t&15],Hf=t=>(t&240)>>4===(t&15),NO=t=>Hf(t.r)&&Hf(t.g)&&Hf(t.b)&&Hf(t.a);function SO(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Ls[t[1]]*17,g:255&Ls[t[2]]*17,b:255&Ls[t[3]]*17,a:e===5?Ls[t[4]]*17:255}:(e===7||e===9)&&(r={r:Ls[t[1]]<<4|Ls[t[2]],g:Ls[t[3]]<<4|Ls[t[4]],b:Ls[t[5]]<<4|Ls[t[6]],a:e===9?Ls[t[7]]<<4|Ls[t[8]]:255})),r}const jO=(t,e)=>t<255?e(t):"";function FO(t){var e=NO(t)?CO:_O;return t?"#"+e(t.r)+e(t.g)+e(t.b)+jO(t.a,e):void 0}const EO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MS(t,e,r){const n=e*Math.min(r,1-r),s=(i,a=(i+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function UO(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function kO(t,e,r){const n=MS(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function LO(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function Xy(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),a=Math.min(r,n,s),A=(i+a)/2;let l,c,u;return i!==a&&(u=i-a,c=A>.5?u/(2-i-a):u/(i+a),l=LO(r,n,s,u,i),l=l*60+.5),[l|0,c||0,A]}function Zy(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(jo)}function e1(t,e,r){return Zy(MS,t,e,r)}function QO(t,e,r){return Zy(kO,t,e,r)}function IO(t,e,r){return Zy(UO,t,e,r)}function HS(t){return(t%360+360)%360}function PO(t){const e=EO.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Tu(+e[5]):jo(+e[5]));const s=HS(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=QO(s,i,a):e[1]==="hsv"?n=IO(s,i,a):n=e1(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}function TO(t,e){var r=Xy(t);r[0]=HS(r[0]+e),r=e1(r),t.r=r[0],t.g=r[1],t.b=r[2]}function DO(t){if(!t)return;const e=Xy(t),r=e[0],n=$B(e[1]),s=$B(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${oa(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const WB={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},GB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OO(){const t={},e=Object.keys(GB),r=Object.keys(WB);let n,s,i,a,A;for(n=0;n<e.length;n++){for(a=A=e[n],s=0;s<r.length;s++)i=r[s],A=A.replace(i,WB[i]);i=parseInt(GB[a],16),t[A]=[i>>16&255,i>>8&255,i&255]}return t}let Rf;function MO(t){Rf||(Rf=OO(),Rf.transparent=[0,0,0,0]);const e=Rf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const HO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function RO(t){const e=HO.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?Tu(a):Ao(a*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?Tu(n):Ao(n,0,255)),s=255&(e[4]?Tu(s):Ao(s,0,255)),i=255&(e[6]?Tu(i):Ao(i,0,255)),{r:n,g:s,b:i,a:r}}}function KO(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${oa(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const px=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Sl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function VO(t,e,r){const n=Sl(oa(t.r)),s=Sl(oa(t.g)),i=Sl(oa(t.b));return{r:jo(px(n+r*(Sl(oa(e.r))-n))),g:jo(px(s+r*(Sl(oa(e.g))-s))),b:jo(px(i+r*(Sl(oa(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Kf(t,e,r){if(t){let n=Xy(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=e1(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function RS(t,e){return t&&Object.assign(e||{},t)}function qB(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jo(t[3]))):(e=RS(t,{r:0,g:0,b:0,a:1}),e.a=jo(e.a)),e}function zO(t){return t.charAt(0)==="r"?RO(t):PO(t)}class Od{constructor(e){if(e instanceof Od)return e;const r=typeof e;let n;r==="object"?n=qB(e):r==="string"&&(n=SO(e)||MO(e)||zO(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=RS(this._rgb);return e&&(e.a=oa(e.a)),e}set rgb(e){this._rgb=qB(e)}rgbString(){return this._valid?KO(this._rgb):void 0}hexString(){return this._valid?FO(this._rgb):void 0}hslString(){return this._valid?DO(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const a=r===i?.5:r,A=2*a-1,l=n.a-s.a,c=((A*l===-1?A:(A+l)/(1+A*l))+1)/2;i=1-c,n.r=255&c*n.r+i*s.r+.5,n.g=255&c*n.g+i*s.g+.5,n.b=255&c*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=VO(this._rgb,e._rgb,r)),this}clone(){return new Od(this.rgb)}alpha(e){return this._rgb.a=jo(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=nh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Kf(this._rgb,2,e),this}darken(e){return Kf(this._rgb,2,-e),this}saturate(e){return Kf(this._rgb,1,e),this}desaturate(e){return Kf(this._rgb,1,-e),this}rotate(e){return TO(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ta(){}const $O=(()=>{let t=0;return()=>t++})();function Wt(t){return t==null}function qr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ot(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Fn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ci(t,e){return Fn(t)?t:e}function Lt(t,e){return typeof t>"u"?e:t}const WO=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function cr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Jt(t,e,r,n){let s,i,a;if(qr(t))for(i=t.length,s=0;s<i;s++)e.call(r,t[s],s);else if(Ot(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(r,t[a[s]],a[s])}function f0(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function g0(t){if(qr(t))return t.map(g0);if(Ot(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=g0(t[r[s]]);return e}return t}function KS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function GO(t,e,r,n){if(!KS(t))return;const s=e[t],i=r[t];Ot(s)&&Ot(i)?Md(s,i,n):e[t]=g0(i)}function Md(t,e,r){const n=qr(e)?e:[e],s=n.length;if(!Ot(t))return t;r=r||{};const i=r.merger||GO;let a;for(let A=0;A<s;++A){if(a=n[A],!Ot(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)i(l[c],t,a,r)}return t}function Ad(t,e){return Md(t,e,{merger:qO})}function qO(t,e,r){if(!KS(t))return;const n=e[t],s=r[t];Ot(n)&&Ot(s)?Ad(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=g0(s))}const JB={"":t=>t,x:t=>t.x,y:t=>t.y};function JO(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function YO(t){const e=JO(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function gc(t,e){return(JB[e]||(JB[e]=YO(e)))(t)}function t1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Hd=t=>typeof t<"u",Qo=t=>typeof t=="function",YB=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function XO(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Sn=Math.PI,ui=2*Sn,ZO=ui+Sn,p0=Number.POSITIVE_INFINITY,eM=Sn/180,Ai=Sn/2,eA=Sn/4,XB=Sn*2/3,VS=Math.log10,Ti=Math.sign;function ld(t,e,r){return Math.abs(t-e)<r}function ZB(t){const e=Math.round(t);t=ld(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(VS(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function tM(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function rM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Rd(t){return!rM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function nM(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function sM(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function xA(t){return t*(Sn/180)}function iM(t){return t*(180/Sn)}function e5(t){if(!Fn(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function aM(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Sn&&(i+=ui),{angle:i,distance:s}}function Fw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oM(t,e){return(t-e+ZO)%ui-Sn}function Ui(t){return(t%ui+ui)%ui}function zS(t,e,r,n){const s=Ui(t),i=Ui(e),a=Ui(r),A=Ui(i-s),l=Ui(a-s),c=Ui(s-i),u=Ui(s-a);return s===i||s===a||n&&i===a||A>l&&c<u}function xs(t,e,r){return Math.max(e,Math.min(r,t))}function AM(t){return xs(t,-32768,32767)}function lo(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function r1(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const vA=(t,e,r,n)=>r1(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),lM=(t,e,r)=>r1(t,r,n=>t[n][e]>=r);function cM(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const $S=["push","pop","shift","splice","unshift"];function uM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$S.forEach(r=>{const n="_onData"+t1(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(A=>{typeof A[n]=="function"&&A[n](...i)}),a}})})}function t5(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&($S.forEach(i=>{delete t[i]}),delete t._chartjs)}function WS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const GS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function qS(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,GS.call(window,()=>{n=!1,t.apply(e,r)}))}}function dM(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const JS=t=>t==="start"?"left":t==="end"?"right":"center",fs=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,hM=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function fM(t,e,r){const n=e.length;let s=0,i=n;if(t._sorted){const{iScale:a,vScale:A,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:f,minDefined:g,maxDefined:m}=a.getUserBounds();if(g){if(s=Math.min(vA(l,u,d).lo,r?n:vA(e,u,a.getPixelForValue(d)).lo),c){const w=l.slice(0,s+1).reverse().findIndex(b=>!Wt(b[A.axis]));s-=Math.max(0,w)}s=xs(s,0,n-1)}if(m){let w=Math.max(vA(l,a.axis,f,!0).hi+1,r?0:vA(e,u,a.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(w-1).findIndex(v=>!Wt(v[A.axis]));w+=Math.max(0,b)}i=xs(w,s,n)-s}else i=n-s}return{start:s,count:i}}function gM(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=s,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const Vf=t=>t===0||t===1,r5=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ui/r)),n5=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ui/r)+1,cd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ai)+1,easeOutSine:t=>Math.sin(t*Ai),easeInOutSine:t=>-.5*(Math.cos(Sn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Vf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Vf(t)?t:r5(t,.075,.3),easeOutElastic:t=>Vf(t)?t:n5(t,.075,.3),easeInOutElastic(t){return Vf(t)?t:t<.5?.5*r5(t*2,.1125,.45):.5+.5*n5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-cd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?cd.easeInBounce(t*2)*.5:cd.easeOutBounce(t*2-1)*.5+.5};function n1(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function s5(t){return n1(t)?t:new Od(t)}function mx(t){return n1(t)?t:new Od(t).saturate(.5).darken(.1).hexString()}const pM=["x","y","borderWidth","radius","tension"],mM=["color","borderColor","backgroundColor"];function xM(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:mM},numbers:{type:"number",properties:pM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vM(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const i5=new Map;function wM(t,e){e=e||{};const r=t+JSON.stringify(e);let n=i5.get(r);return n||(n=new Intl.NumberFormat(t,e),i5.set(r,n)),n}function YS(t,e,r){return wM(e,r).format(t)}const yM={values(t){return qr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=bM(t,r)}const a=VS(Math.abs(i)),A=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:A,maximumFractionDigits:A};return Object.assign(l,this.options.ticks.format),YS(t,n,l)}};function bM(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var XS={formatters:yM};function BM(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:XS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const QA=Object.create(null),Ew=Object.create(null);function ud(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function xx(t,e,r){return typeof e=="string"?Md(ud(t,e),r):Md(ud(t,""),e)}class CM{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>mx(s.backgroundColor),this.hoverBorderColor=(n,s)=>mx(s.borderColor),this.hoverColor=(n,s)=>mx(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return xx(this,e,r)}get(e){return ud(this,e)}describe(e,r){return xx(Ew,e,r)}override(e,r){return xx(QA,e,r)}route(e,r,n,s){const i=ud(this,e),a=ud(this,n),A="_"+r;Object.defineProperties(i,{[A]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[A],c=a[s];return Ot(l)?Object.assign({},c,l):Lt(l,c)},set(l){this[A]=l}}})}apply(e){e.forEach(r=>r(this))}}var Qr=new CM({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[xM,vM,BM]);function _M(t){return!t||Wt(t.size)||Wt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function a5(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function tA(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function o5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Uw(t,e,r,n){ZS(t,e,r,n,null)}function ZS(t,e,r,n,s){let i,a,A,l,c,u,d,f;const g=e.pointStyle,m=e.rotation,w=e.radius;let b=(m||0)*eM;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),g){default:s?t.ellipse(r,n,s/2,w,0,0,ui):t.arc(r,n,w,0,ui),t.closePath();break;case"triangle":u=s?s/2:w,t.moveTo(r+Math.sin(b)*u,n-Math.cos(b)*w),b+=XB,t.lineTo(r+Math.sin(b)*u,n-Math.cos(b)*w),b+=XB,t.lineTo(r+Math.sin(b)*u,n-Math.cos(b)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,a=Math.cos(b+eA)*l,d=Math.cos(b+eA)*(s?s/2-c:l),A=Math.sin(b+eA)*l,f=Math.sin(b+eA)*(s?s/2-c:l),t.arc(r-d,n-A,c,b-Sn,b-Ai),t.arc(r+f,n-a,c,b-Ai,b),t.arc(r+d,n+A,c,b,b+Ai),t.arc(r-f,n+a,c,b+Ai,b+Sn),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*w,u=s?s/2:l,t.rect(r-u,n-l,2*u,2*l);break}b+=eA;case"rectRot":d=Math.cos(b)*(s?s/2:w),a=Math.cos(b)*w,A=Math.sin(b)*w,f=Math.sin(b)*(s?s/2:w),t.moveTo(r-d,n-A),t.lineTo(r+f,n-a),t.lineTo(r+d,n+A),t.lineTo(r-f,n+a),t.closePath();break;case"crossRot":b+=eA;case"cross":d=Math.cos(b)*(s?s/2:w),a=Math.cos(b)*w,A=Math.sin(b)*w,f=Math.sin(b)*(s?s/2:w),t.moveTo(r-d,n-A),t.lineTo(r+d,n+A),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"star":d=Math.cos(b)*(s?s/2:w),a=Math.cos(b)*w,A=Math.sin(b)*w,f=Math.sin(b)*(s?s/2:w),t.moveTo(r-d,n-A),t.lineTo(r+d,n+A),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a),b+=eA,d=Math.cos(b)*(s?s/2:w),a=Math.cos(b)*w,A=Math.sin(b)*w,f=Math.sin(b)*(s?s/2:w),t.moveTo(r-d,n-A),t.lineTo(r+d,n+A),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"line":a=s?s/2:Math.cos(b)*w,A=Math.sin(b)*w,t.moveTo(r-a,n-A),t.lineTo(r+a,n+A);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(s?s/2:w),n+Math.sin(b)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Kd(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function lp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function cp(t){t.restore()}function NM(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function SM(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function jM(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Wt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function FM(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),a=e-i.actualBoundingBoxLeft,A=e+i.actualBoundingBoxRight,l=r-i.actualBoundingBoxAscent,c=r+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(A,u),t.stroke()}}function EM(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function m0(t,e,r,n,s,i={}){const a=qr(e)?e:[e],A=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,jM(t,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&EM(t,i.backdrop),A&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Wt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,r,n,i.maxWidth)),t.fillText(c,r,n,i.maxWidth),FM(t,r,n,c,i),n+=Number(s.lineHeight);t.restore()}function x0(t,e){const{x:r,y:n,w:s,h:i,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*Sn,Sn,!0),t.lineTo(r,n+i-a.bottomLeft),t.arc(r+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,Sn,Ai,!0),t.lineTo(r+s-a.bottomRight,n+i),t.arc(r+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,Ai,0,!0),t.lineTo(r+s,n+a.topRight),t.arc(r+s-a.topRight,n+a.topRight,a.topRight,0,-Ai,!0),t.lineTo(r+a.topLeft,n)}const UM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function LM(t,e){const r=(""+t).match(UM);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const QM=t=>+t||0;function ej(t,e){const r={},n=Ot(e),s=n?Object.keys(e):e,i=Ot(t)?n?a=>Lt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)r[a]=QM(i(a));return r}function tj(t){return ej(t,{top:"y",right:"x",bottom:"y",left:"x"})}function rc(t){return ej(t,["topLeft","topRight","bottomLeft","bottomRight"])}function hi(t){const e=tj(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function es(t,e){t=t||{},e=e||Qr.font;let r=Lt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Lt(t.style,e.style);n&&!(""+n).match(kM)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:Lt(t.family,e.family),lineHeight:LM(Lt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Lt(t.weight,e.weight),string:""};return s.string=_M(s),s}function zf(t,e,r,n){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function IM(t,e,r){const{min:n,max:s}=t,i=WO(e,(s-n)/2),a=(A,l)=>r&&A===0?0:A+l;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function MA(t,e){return Object.assign(Object.create(t),e)}function s1(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=ij("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:A=>s1([A,...t],e,i,n)};return new Proxy(a,{deleteProperty(A,l){return delete A[l],delete A._keys,delete t[0][l],!0},get(A,l){return nj(A,l,()=>KM(l,e,t,A))},getOwnPropertyDescriptor(A,l){return Reflect.getOwnPropertyDescriptor(A._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(A,l){return l5(A).includes(l)},ownKeys(A){return l5(A)},set(A,l,c){const u=A._storage||(A._storage=s());return A[l]=u[l]=c,delete A._keys,!0}})}function pc(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:rj(t,n),setContext:i=>pc(t,i,r,n),override:i=>pc(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,A){return nj(i,a,()=>TM(i,a,A))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,A){return t[a]=A,delete i[a],!0}})}function rj(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:Qo(r)?r:()=>r,isIndexable:Qo(n)?n:()=>n}}const PM=(t,e)=>t?t+t1(e):e,i1=(t,e)=>Ot(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function nj(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function TM(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=t;let A=n[e];return Qo(A)&&a.isScriptable(e)&&(A=DM(e,A,t,r)),qr(A)&&A.length&&(A=OM(e,A,t,a.isIndexable)),i1(e,A)&&(A=pc(A,s,i&&i[e],a)),A}function DM(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_stack:A}=r;if(A.has(t))throw new Error("Recursion detected: "+Array.from(A).join("->")+"->"+t);A.add(t);let l=e(i,a||n);return A.delete(t),i1(t,l)&&(l=a1(s._scopes,s,t,l)),l}function OM(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:A}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Ot(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=a1(c,s,t,u);e.push(pc(d,i,a&&a[t],A))}}return e}function sj(t,e,r){return Qo(t)?t(e,r):t}const MM=(t,e)=>t===!0?e:typeof t=="string"?gc(e,t):void 0;function HM(t,e,r,n,s){for(const i of e){const a=MM(r,i);if(a){t.add(a);const A=sj(a._fallback,r,s);if(typeof A<"u"&&A!==r&&A!==n)return A}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function a1(t,e,r,n){const s=e._rootScopes,i=sj(e._fallback,r,n),a=[...t,...s],A=new Set;A.add(n);let l=A5(A,a,r,i||r,n);return l===null||typeof i<"u"&&i!==r&&(l=A5(A,a,i,l,n),l===null)?!1:s1(Array.from(A),[""],s,i,()=>RM(e,r,n))}function A5(t,e,r,n,s){for(;r;)r=HM(t,e,r,n,s);return r}function RM(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return qr(s)&&Ot(r)?r:s||{}}function KM(t,e,r,n){let s;for(const i of e)if(s=ij(PM(i,t),r),typeof s<"u")return i1(t,s)?a1(r,n,t,s):s}function ij(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function l5(t){let e=t._keys;return e||(e=t._keys=VM(t._scopes)),e}function VM(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const zM=Number.EPSILON||1e-14,mc=(t,e)=>e<t.length&&!t[e].skip&&t[e],aj=t=>t==="x"?"y":"x";function $M(t,e,r,n){const s=t.skip?e:t,i=e,a=r.skip?e:r,A=Fw(i,s),l=Fw(a,i);let c=A/(A+l),u=l/(A+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,f=n*u;return{previous:{x:i.x-d*(a.x-s.x),y:i.y-d*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function WM(t,e,r){const n=t.length;let s,i,a,A,l,c=mc(t,0);for(let u=0;u<n-1;++u)if(l=c,c=mc(t,u+1),!(!l||!c)){if(ld(e[u],0,zM)){r[u]=r[u+1]=0;continue}s=r[u]/e[u],i=r[u+1]/e[u],A=Math.pow(s,2)+Math.pow(i,2),!(A<=9)&&(a=3/Math.sqrt(A),r[u]=s*a*e[u],r[u+1]=i*a*e[u])}}function GM(t,e,r="x"){const n=aj(r),s=t.length;let i,a,A,l=mc(t,0);for(let c=0;c<s;++c){if(a=A,A=l,l=mc(t,c+1),!A)continue;const u=A[r],d=A[n];a&&(i=(u-a[r])/3,A[`cp1${r}`]=u-i,A[`cp1${n}`]=d-i*e[c]),l&&(i=(l[r]-u)/3,A[`cp2${r}`]=u+i,A[`cp2${n}`]=d+i*e[c])}}function qM(t,e="x"){const r=aj(e),n=t.length,s=Array(n).fill(0),i=Array(n);let a,A,l,c=mc(t,0);for(a=0;a<n;++a)if(A=l,l=c,c=mc(t,a+1),!!l){if(c){const u=c[e]-l[e];s[a]=u!==0?(c[r]-l[r])/u:0}i[a]=A?c?Ti(s[a-1])!==Ti(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}WM(t,s,i),GM(t,i,e)}function $f(t,e,r){return Math.max(Math.min(t,r),e)}function JM(t,e){let r,n,s,i,a,A=Kd(t[0],e);for(r=0,n=t.length;r<n;++r)a=i,i=A,A=r<n-1&&Kd(t[r+1],e),i&&(s=t[r],a&&(s.cp1x=$f(s.cp1x,e.left,e.right),s.cp1y=$f(s.cp1y,e.top,e.bottom)),A&&(s.cp2x=$f(s.cp2x,e.left,e.right),s.cp2y=$f(s.cp2y,e.top,e.bottom)))}function YM(t,e,r,n,s){let i,a,A,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")qM(t,s);else{let c=n?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)A=t[i],l=$M(c,A,t[Math.min(i+1,a-(n?0:1))%a],e.tension),A.cp1x=l.previous.x,A.cp1y=l.previous.y,A.cp2x=l.next.x,A.cp2y=l.next.y,c=A}e.capBezierPoints&&JM(t,r)}function o1(){return typeof window<"u"&&typeof document<"u"}function A1(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function v0(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const up=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function XM(t,e){return up(t).getPropertyValue(e)}const ZM=["top","right","bottom","left"];function jA(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=ZM[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const eH=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function tH(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let a=!1,A,l;if(eH(s,i,t.target))A=s,l=i;else{const c=e.getBoundingClientRect();A=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:A,y:l,box:a}}function oA(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=up(r),i=s.boxSizing==="border-box",a=jA(s,"padding"),A=jA(s,"border","width"),{x:l,y:c,box:u}=tH(t,r),d=a.left+(u&&A.left),f=a.top+(u&&A.top);let{width:g,height:m}=e;return i&&(g-=a.width+A.width,m-=a.height+A.height),{x:Math.round((l-d)/g*r.width/n),y:Math.round((c-f)/m*r.height/n)}}function rH(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&A1(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const a=i.getBoundingClientRect(),A=up(i),l=jA(A,"border","width"),c=jA(A,"padding");e=a.width-c.width-l.width,r=a.height-c.height-l.height,n=v0(A.maxWidth,i,"clientWidth"),s=v0(A.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||p0,maxHeight:s||p0}}const co=t=>Math.round(t*10)/10;function nH(t,e,r,n){const s=up(t),i=jA(s,"margin"),a=v0(s.maxWidth,t,"clientWidth")||p0,A=v0(s.maxHeight,t,"clientHeight")||p0,l=rH(t,e,r);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=jA(s,"border","width"),g=jA(s,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=co(Math.min(c,a,l.maxWidth)),u=co(Math.min(u,A,l.maxHeight)),c&&!u&&(u=co(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=co(Math.floor(u*n))),{width:c,height:u}}function c5(t,e,r){const n=e||1,s=co(t.height*n),i=co(t.width*n);t.height=co(t.height),t.width=co(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=n,a.height=s,a.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const sH=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};o1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function u5(t,e){const r=XM(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function AA(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function iH(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function aH(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=AA(t,s,r),A=AA(s,i,r),l=AA(i,e,r),c=AA(a,A,r),u=AA(A,l,r);return AA(c,u,r)}const oH=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},AH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function nc(t,e,r){return t?oH(e,r):AH()}function oj(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Aj(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function lj(t){return t==="angle"?{between:zS,compare:oM,normalize:Ui}:{between:lo,compare:(e,r)=>e-r,normalize:e=>e}}function d5({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function lH(t,e,r){const{property:n,start:s,end:i}=r,{between:a,normalize:A}=lj(n),l=e.length;let{start:c,end:u,loop:d}=t,f,g;if(d){for(c+=l,u+=l,f=0,g=l;f<g&&a(A(e[c%l][n]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function cj(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,a=e.length,{compare:A,between:l,normalize:c}=lj(n),{start:u,end:d,loop:f,style:g}=lH(t,e,r),m=[];let w=!1,b=null,v,x,C;const _=()=>l(s,C,v)&&A(s,C)!==0,F=()=>A(i,v)===0||l(i,C,v),P=()=>w||_(),E=()=>!w||F();for(let j=u,R=u;j<=d;++j)x=e[j%a],!x.skip&&(v=c(x[n]),v!==C&&(w=l(v,s,i),b===null&&P()&&(b=A(v,s)===0?j:R),b!==null&&E()&&(m.push(d5({start:b,end:j,loop:f,count:a,style:g})),b=null),R=j,C=v));return b!==null&&m.push(d5({start:b,end:d,loop:f,count:a,style:g})),m}function uj(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=cj(n[s],t.points,e);i.length&&r.push(...i)}return r}function cH(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function uH(t,e,r,n){const s=t.length,i=[];let a=e,A=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%s];c.skip||c.stop?A.skip||(n=!1,i.push({start:e%s,end:(l-1)%s,loop:n}),e=a=c.stop?l:null):(a=l,A.skip&&(e=l)),A=c}return a!==null&&i.push({start:e%s,end:a%s,loop:n}),i}function dH(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:a,end:A}=cH(r,s,i,n);if(n===!0)return h5(t,[{start:a,end:A,loop:i}],r,e);const l=A<a?A+s:A,c=!!t._fullLoop&&a===0&&A===s-1;return h5(t,uH(r,a,l,c),r,e)}function h5(t,e,r,n){return!n||!n.setContext||!r?e:hH(t,e,r,n)}function hH(t,e,r,n){const s=t._chart.getContext(),i=f5(t.options),{_datasetIndex:a,options:{spanGaps:A}}=t,l=r.length,c=[];let u=i,d=e[0].start,f=d;function g(m,w,b,v){const x=A?-1:1;if(m!==w){for(m+=l;r[m%l].skip;)m-=x;for(;r[w%l].skip;)w+=x;m%l!==w%l&&(c.push({start:m%l,end:w%l,loop:b,style:v}),u=v,d=w%l)}}for(const m of e){d=A?d:m.start;let w=r[d%l],b;for(f=d+1;f<=m.end;f++){const v=r[f%l];b=f5(n.setContext(MA(s,{type:"segment",p0:w,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),fH(b,u)&&g(d,f-1,m.loop,u),w=v,u=b}d<f-1&&g(d,f-1,m.loop,u)}return c}function f5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function fH(t,e){if(!e)return!1;const r=[],n=function(s,i){return n1(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Wf(t,e,r){return t.options.clip?t[r]:e[r]}function gH(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Wf(r,e,"left"),right:Wf(r,e,"right"),top:Wf(n,e,"top"),bottom:Wf(n,e,"bottom")}:e}function dj(t,e){const r=e._clip;if(r.disabled)return!1;const n=gH(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class pH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],a=r.duration;i.forEach(A=>A({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=GS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,A=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),A=!0):(i[a]=i[i.length-1],i.pop());A&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ra=new pH;const g5="transparent",mH={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=s5(t||g5),s=n.valid&&s5(e||g5);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class xH{constructor(e,r,n,s){const i=r[n];s=zf([e.to,s,i,e.from]);const a=zf([e.from,i,s]);this._active=!0,this._fn=e.fn||mH[e.type||typeof a],this._easing=cd[e.easing]||cd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=zf([e.to,r,s,e.from]),this._from=zf([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,A=this._to;let l;if(this._active=i!==A&&(a||r<n),!this._active){this._target[s]=A,this._notify(!0);return}if(r<0){this._target[s]=i;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,A,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class hj{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ot(e))return;const r=Object.keys(Qr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Ot(i))return;const a={};for(const A of r)a[A]=i[A];(qr(i.properties)&&i.properties||[s]).forEach(A=>{(A===s||!n.has(A))&&n.set(A,a)})})}_animateOptions(e,r){const n=r.options,s=wH(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&vH(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(r),A=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,r));continue}const u=r[c];let d=i[c];const f=n.get(c);if(d)if(f&&d.active()){d.update(f,u,A);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new xH(f,e,c,u),s.push(d)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return ra.add(this._chart,n),!0}}function vH(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function wH(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function p5(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function yH(t,e,r){if(r===!1)return!1;const n=p5(t,r),s=p5(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function bH(t){let e,r,n,s;return Ot(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function fj(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function m5(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let a,A,l,c;if(e===null)return;let u=!1;for(a=0,A=s.length;a<A;++a){if(l=+s[a],l===r){if(u=!0,n.all)continue;break}c=t.values[l],Fn(c)&&(i||e===0||Ti(e)===Ti(c))&&(e+=c)}return!u&&!n.all?0:e}function BH(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(t),A=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],A[l]={[s]:u,[i]:t[u]};return A}function vx(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function CH(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function _H(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function NH(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function x5(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function v5(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:a,index:A}=n,l=i.axis,c=a.axis,u=CH(i,a,n),d=e.length;let f;for(let g=0;g<d;++g){const m=e[g],{[l]:w,[c]:b}=m,v=m._stacks||(m._stacks={});f=v[c]=NH(s,u,w),f[A]=b,f._top=x5(f,a,!0,n.type),f._bottom=x5(f,a,!1,n.type);const x=f._visualValues||(f._visualValues={});x[A]=b}}function wx(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function SH(t,e){return MA(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jH(t,e,r){return MA(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function wu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const yx=t=>t==="reset"||t==="none",w5=(t,e)=>e?t:Object.assign({},t),FH=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:fj(r,!0),values:null};class sc{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&wu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(d,f,g,m)=>d==="x"?f:d==="r"?m:g,i=r.xAxisID=Lt(n.xAxisID,wx(e,"x")),a=r.yAxisID=Lt(n.yAxisID,wx(e,"y")),A=r.rAxisID=Lt(n.rAxisID,wx(e,"r")),l=r.indexAxis,c=r.iAxisID=s(l,i,a,A),u=r.vAxisID=s(l,a,i,A);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(A),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&t5(this._data,this),e._stacked&&wu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ot(r)){const s=this._cachedMeta;this._data=BH(r,s)}else if(n!==r){if(n){t5(n,this);const s=this._cachedMeta;wu(s),s._parsed=[]}r&&Object.isExtensible(r)&&uM(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=vx(r.vScale,r),r.stack!==n.stack&&(s=!0,wu(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&(v5(this,r._parsed),r._stacked=vx(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,A=i.axis;let l=e===0&&r===s.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{qr(s[e])?f=this.parseArrayData(n,s,e,r):Ot(s[e])?f=this.parseObjectData(n,s,e,r):f=this.parsePrimitiveData(n,s,e,r);const g=()=>d[A]===null||c&&d[A]<c[A];for(u=0;u<r;++u)n._parsed[u+e]=d=f[u],l&&(g()&&(l=!1),c=d);n._sorted=l}a&&v5(this,f)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:a}=e,A=i.axis,l=a.axis,c=i.getLabels(),u=i===a,d=new Array(s);let f,g,m;for(f=0,g=s;f<g;++f)m=f+n,d[f]={[A]:u||i.parse(c[m],m),[l]:a.parse(r[m],m)};return d}parseArrayData(e,r,n,s){const{xScale:i,yScale:a}=e,A=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+n,d=r[u],A[l]={x:i.parse(d[0],u),y:a.parse(d[1],u)};return A}parseObjectData(e,r,n,s){const{xScale:i,yScale:a}=e,{xAxisKey:A="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+n,g=r[f],c[u]={x:i.parse(gc(g,A),f),y:a.parse(gc(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,a=r[e.axis],A={keys:fj(s,!0),values:r._stacks[e.axis]._visualValues};return m5(A,a,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let a=i===null?NaN:i;const A=s&&n._stacks[r.axis];s&&A&&(s.values=A,a=m5(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,a=s.length,A=this._getOtherScale(e),l=FH(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=_H(A);let f,g;function m(){g=s[f];const w=g[A.axis];return!Fn(g[e.axis])||u>w||d<w}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(c,e,g,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=r.length;s<i;++s)a=r[s][e.axis],Fn(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=bH(Lt(this.options.clip,yH(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,a=[],A=this._drawStart||0,l=this._drawCount||s.length-A,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,A,l),u=A;u<A+l;++u){const d=s[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,i))}for(u=0;u<a.length;++u)a[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=jH(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=SH(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,a=e+"-"+r,A=i[a],l=this.enableOptionSharing&&Hd(n);if(A)return w5(A,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(Qr.elements[e]),m=()=>this.getContext(n,s,r),w=c.resolveNamedOptions(f,g,m,d);return w.$shared&&(w.$shared=l,i[a]=Object.freeze(w5(w,l))),w}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${r}`,A=i[a];if(A)return A;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,n,r))}const c=new hj(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||yx(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:a}}updateElement(e,r,n,s){yx(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!yx(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[A,l,c]of this._syncList)this[A](l,c);this._syncList=[];const s=n.length,i=r.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,a=e+r;let A;const l=c=>{for(c.length+=r,A=c.length-1;A>=a;A--)c[A]=c[A-r]};for(l(i),A=e;A<a;++A)i[A]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&wu(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}yt(sc,"defaults",{}),yt(sc,"datasetElementType",null),yt(sc,"dataElementType",null);function EH(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(t));t._cache.$bar=WS(n.sort((s,i)=>s-i))}return t._cache.$bar}function UH(t){const e=t.iScale,r=EH(e,t.type);let n=e._length,s,i,a,A;const l=()=>{a===32767||a===-32768||(Hd(A)&&(n=Math.min(n,Math.abs(a-A)||n)),A=a)};for(s=0,i=r.length;s<i;++s)a=e.getPixelForValue(r[s]),l();for(A=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return n}function kH(t,e,r,n){const s=r.barThickness;let i,a;return Wt(s)?(i=e.min*r.categoryPercentage,a=r.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:e.pixels[t]-i/2}}function LH(t,e,r,n){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,A=t<s.length-1?s[t+1]:null;const l=r.categoryPercentage;a===null&&(a=i-(A===null?e.end-e.start:A-i)),A===null&&(A=i+i-a);const c=i-(i-Math.min(a,A))/2*l;return{chunk:Math.abs(A-a)/2*l/n,ratio:r.barPercentage,start:c}}function QH(t,e,r,n){const s=r.parse(t[0],n),i=r.parse(t[1],n),a=Math.min(s,i),A=Math.max(s,i);let l=a,c=A;Math.abs(a)>Math.abs(A)&&(l=A,c=a),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:A}}function gj(t,e,r,n){return qr(t)?QH(t,e,r,n):e[r.axis]=r.parse(t,n),e}function y5(t,e,r,n){const s=t.iScale,i=t.vScale,a=s.getLabels(),A=s===i,l=[];let c,u,d,f;for(c=r,u=r+n;c<u;++c)f=e[c],d={},d[s.axis]=A||s.parse(a[c],c),l.push(gj(f,d,i,c));return l}function bx(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function IH(t,e,r){return t!==0?Ti(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function PH(t){let e,r,n,s,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:e,top:s,bottom:i}}function TH(t,e,r,n){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:A,reverse:l,top:c,bottom:u}=PH(t);s==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?s=c:(r._bottom||0)===n?s=u:(i[b5(u,a,A,l)]=!0,s=c)),i[b5(s,a,A,l)]=!0,t.borderSkipped=i}function b5(t,e,r,n){return n?(t=DH(t,e,r),t=B5(t,r,e)):t=B5(t,e,r),t}function DH(t,e,r){return t===e?r:t===r?e:t}function B5(t,e,r){return t==="start"?e:t==="end"?r:t}function OH(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class yg extends sc{parsePrimitiveData(e,r,n,s){return y5(e,r,n,s)}parseArrayData(e,r,n,s){return y5(e,r,n,s)}parseObjectData(e,r,n,s){const{iScale:i,vScale:a}=e,{xAxisKey:A="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?A:l,u=a.axis==="x"?A:l,d=[];let f,g,m,w;for(f=n,g=n+s;f<g;++f)w=r[f],m={},m[i.axis]=i.parse(gc(w,c),f),d.push(gj(gc(w,u),m,a,f));return d}updateRangeFromParsed(e,r,n,s){super.updateRangeFromParsed(e,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(e),a=i._custom,A=bx(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:A}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:A}}=this,l=A.getBasePixel(),c=A.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,s);for(let g=r;g<r+n;g++){const m=this.getParsed(g),w=i||Wt(m[A.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,u),v=(m._stacks||{})[A.axis],x={horizontal:c,base:w.base,enableBorderRadius:!v||bx(m._custom)||a===v._top||a===v._bottom,x:c?w.head:b.center,y:c?b.center:w.head,height:c?b.size:Math.abs(w.size),width:c?Math.abs(w.size):b.size};f&&(x.options=d||this.resolveDataElementOptions(g,e[g].active?"active":s));const C=x.options||e[g].options;TH(x,C,v,a),OH(x,C,u.ratio),this.updateElement(e[g],g,x,s)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,a=[],A=this._cachedMeta.controller.getParsed(r),l=A&&A[n.axis],c=u=>{const d=u._parsed.find(g=>g[n.axis]===l),f=d&&d[u.vScale.axis];if(Wt(f)||isNaN(f))return!0};for(const u of s)if(!(r!==void 0&&c(u))&&((i===!1||a.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Lt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const s=this._getStacks(e,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,a;for(i=0,a=r.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const A=e.barThickness;return{min:A||UH(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:A?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,A=i||0,l=this.getParsed(e),c=l._custom,u=bx(c);let d=l[r.axis],f=0,g=n?this.applyStack(r,l,n):d,m,w;g!==d&&(f=g-d,g=d),u&&(d=c.barStart,g=c.barEnd-c.barStart,d!==0&&Ti(d)!==Ti(c.barEnd)&&(f=0),f+=d);const b=!Wt(i)&&!u?i:f;let v=r.getPixelForValue(b);if(this.chart.getDataVisibility(e)?m=r.getPixelForValue(f+g):m=v,w=m-v,Math.abs(w)<a){w=IH(w,r,A)*a,d===A&&(v-=w/2);const x=r.getPixelForDecimal(0),C=r.getPixelForDecimal(1),_=Math.min(x,C),F=Math.max(x,C);v=Math.max(Math.min(v,F),_),m=v+w,n&&!u&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(m)-r.getValueForPixel(v))}if(v===r.getPixelForValue(A)){const x=Ti(w)*r.getLineWidthForValue(A)/2;v+=x,w-=x}return{size:w,base:v,head:m,center:m+w/2}}_calculateBarIndexPixels(e,r){const n=r.scale,s=this.options,i=s.skipNull,a=Lt(s.maxBarThickness,1/0);let A,l;const c=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,d=s.barThickness==="flex"?LH(e,r,s,u*c):kH(e,r,s,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(Lt(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;A=d.start+d.chunk*m+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else A=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:A-l/2,head:A+l/2,center:A,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}yt(yg,"id","bar"),yt(yg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),yt(yg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class bg extends sc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,a=this.chart._animationsDisabled;let{start:A,count:l}=fM(r,s,a);this._drawStart=A,this._drawCount=l,gM(r)&&(A=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(s,A,l,e)}updateElements(e,r,n,s){const i=s==="reset",{iScale:a,vScale:A,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,s),f=a.axis,g=A.axis,{spanGaps:m,segment:w}=this.options,b=Rd(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||s==="none",x=r+n,C=e.length;let _=r>0&&this.getParsed(r-1);for(let F=0;F<C;++F){const P=e[F],E=v?P:{};if(F<r||F>=x){E.skip=!0;continue}const j=this.getParsed(F),R=Wt(j[g]),Z=E[f]=a.getPixelForValue(j[f],F),Q=E[g]=i||R?A.getBasePixel():A.getPixelForValue(l?this.applyStack(A,j,l):j[g],F);E.skip=isNaN(Z)||isNaN(Q)||R,E.stop=F>0&&Math.abs(j[f]-_[f])>b,w&&(E.parsed=j,E.raw=c.data[F]),d&&(E.options=u||this.resolveDataElementOptions(F,P.active?"active":s)),v||this.updateElement(P,F,E,s),_=j}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}yt(bg,"id","line"),yt(bg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),yt(bg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function rA(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class l1{constructor(e){yt(this,"options");this.options=e||{}}static override(e){Object.assign(l1.prototype,e)}init(){}formats(){return rA()}parse(){return rA()}format(){return rA()}add(){return rA()}diff(){return rA()}startOf(){return rA()}endOf(){return rA()}}var MH={_date:l1};function HH(t,e,r,n){const{controller:s,data:i,_sorted:a}=t,A=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(A&&e===A.axis&&e!=="r"&&a&&i.length){const c=A._reversePixels?lM:vA;if(n){if(s._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(i,e,r-d),g=c(i,e,r+d);return{lo:f.lo,hi:g.hi}}}}else{const u=c(i,e,r);if(l){const{vScale:d}=s._cachedMeta,{_parsed:f}=t,g=f.slice(0,u.lo+1).reverse().findIndex(w=>!Wt(w[d.axis]));u.lo-=Math.max(0,g);const m=f.slice(u.hi).findIndex(w=>!Wt(w[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:i.length-1}}function dp(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),a=r[e];for(let A=0,l=i.length;A<l;++A){const{index:c,data:u}=i[A],{lo:d,hi:f}=HH(i[A],e,a,s);for(let g=d;g<=f;++g){const m=u[g];m.skip||n(m,c,g)}}}function RH(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,a=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Bx(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||dp(t,r,e,function(A,l,c){!s&&!Kd(A,t.chartArea,0)||A.inRange(e.x,e.y,n)&&i.push({element:A,datasetIndex:l,index:c})},!0),i}function KH(t,e,r,n){let s=[];function i(a,A,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:d}=aM(a,{x:e.x,y:e.y});zS(d,c,u)&&s.push({element:a,datasetIndex:A,index:l})}return dp(t,r,e,i),s}function VH(t,e,r,n,s,i){let a=[];const A=RH(r);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const g=u.inRange(e.x,e.y,s);if(n&&!g)return;const m=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(m))&&!g)return;const b=A(e,m);b<l?(a=[{element:u,datasetIndex:d,index:f}],l=b):b===l&&a.push({element:u,datasetIndex:d,index:f})}return dp(t,r,e,c),a}function Cx(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?KH(t,e,r,s):VH(t,e,r,n,s,i)}function C5(t,e,r,n,s){const i=[],a=r==="x"?"inXRange":"inYRange";let A=!1;return dp(t,r,e,(l,c,u)=>{l[a]&&l[a](e[r],s)&&(i.push({element:l,datasetIndex:c,index:u}),A=A||l.inRange(e.x,e.y,s))}),n&&!A?[]:i}var zH={modes:{index(t,e,r,n){const s=oA(e,t),i=r.axis||"x",a=r.includeInvisible||!1,A=r.intersect?Bx(t,s,i,n,a):Cx(t,s,i,!1,n,a),l=[];return A.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=A[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const s=oA(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;let A=r.intersect?Bx(t,s,i,n,a):Cx(t,s,i,!1,n,a);if(A.length>0){const l=A[0].datasetIndex,c=t.getDatasetMeta(l).data;A=[];for(let u=0;u<c.length;++u)A.push({element:c[u],datasetIndex:l,index:u})}return A},point(t,e,r,n){const s=oA(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return Bx(t,s,i,n,a)},nearest(t,e,r,n){const s=oA(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return Cx(t,s,i,r.intersect,n,a)},x(t,e,r,n){const s=oA(e,t);return C5(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=oA(e,t);return C5(t,s,"y",r.intersect,n)}}};const pj=["left","top","right","bottom"];function yu(t,e){return t.filter(r=>r.pos===e)}function _5(t,e){return t.filter(r=>pj.indexOf(r.pos)===-1&&r.box.axis===e)}function bu(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function $H(t){const e=[];let r,n,s,i,a,A;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:a,stackWeight:A=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:A});return e}function WH(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!pj.includes(s))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function GH(t,e){const r=WH(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,a,A;for(i=0,a=t.length;i<a;++i){A=t[i];const{fullSize:l}=A.box,c=r[A.stack],u=c&&A.stackWeight/c.weight;A.horizontal?(A.width=u?u*n:l&&e.availableWidth,A.height=s):(A.width=n,A.height=u?u*s:l&&e.availableHeight)}return r}function qH(t){const e=$H(t),r=bu(e.filter(c=>c.box.fullSize),!0),n=bu(yu(e,"left"),!0),s=bu(yu(e,"right")),i=bu(yu(e,"top"),!0),a=bu(yu(e,"bottom")),A=_5(e,"x"),l=_5(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(l).concat(a).concat(A),chartArea:yu(e,"chartArea"),vertical:n.concat(s).concat(l),horizontal:i.concat(a).concat(A)}}function N5(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function mj(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function JH(t,e,r,n){const{pos:s,box:i}=r,a=t.maxPadding;if(!Ot(s)){r.size&&(t[s]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?i.height:i.width),r.size=d.size/d.count,t[s]+=r.size}i.getPadding&&mj(a,i.getPadding());const A=Math.max(0,e.outerWidth-N5(a,t,"left","right")),l=Math.max(0,e.outerHeight-N5(a,t,"top","bottom")),c=A!==t.w,u=l!==t.h;return t.w=A,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function YH(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function XH(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],r[a])}),i}return n(t?["left","right"]:["top","bottom"])}function Du(t,e,r,n){const s=[];let i,a,A,l,c,u;for(i=0,a=t.length,c=0;i<a;++i){A=t[i],l=A.box,l.update(A.width||e.w,A.height||e.h,XH(A.horizontal,e));const{same:d,other:f}=JH(e,r,A,n);c|=d&&s.length,u=u||f,l.fullSize||s.push(A)}return c&&Du(s,e,r,n)||u}function Gf(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function S5(t,e,r,n){const s=r.padding;let{x:i,y:a}=e;for(const A of t){const l=A.box,c=n[A.stack]||{placed:0,weight:1},u=A.stackWeight/c.weight||1;if(A.horizontal){const d=e.w*u,f=c.size||l.height;Hd(c.start)&&(a=c.start),l.fullSize?Gf(l,s.left,a,r.outerWidth-s.right-s.left,f):Gf(l,e.left+c.placed,a,d,f),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,f=c.size||l.width;Hd(c.start)&&(i=c.start),l.fullSize?Gf(l,i,s.top,f,r.outerHeight-s.bottom-s.top):Gf(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=a}var uo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=hi(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(r-s.height,0),A=qH(t.boxes),l=A.vertical,c=A.horizontal;Jt(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const u=l.reduce((w,b)=>b.box.options&&b.box.options.display===!1?w:w+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},s);mj(f,hi(n));const g=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),m=GH(l.concat(c),d);Du(A.fullSize,g,d,m),Du(l,g,d,m),Du(c,g,d,m)&&Du(l,g,d,m),YH(g),S5(A.leftAndTop,g,d,m),g.x+=g.w,g.y+=g.h,S5(A.rightAndBottom,g,d,m),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Jt(A.chartArea,w=>{const b=w.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class xj{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class ZH extends xj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bg="$chartjs",eR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},j5=t=>t===null||t==="";function tR(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[Bg]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",j5(s)){const i=u5(t,"width");i!==void 0&&(t.width=i)}if(j5(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=u5(t,"height");i!==void 0&&(t.height=i)}return t}const vj=sH?{passive:!0}:!1;function rR(t,e,r){t&&t.addEventListener(e,r,vj)}function nR(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,vj)}function sR(t,e){const r=eR[t.type]||t.type,{x:n,y:s}=oA(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function w0(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function iR(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const A of i)a=a||w0(A.addedNodes,n),a=a&&!w0(A.removedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function aR(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const A of i)a=a||w0(A.removedNodes,n),a=a&&!w0(A.addedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Vd=new Map;let F5=0;function wj(){const t=window.devicePixelRatio;t!==F5&&(F5=t,Vd.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function oR(t,e){Vd.size||window.addEventListener("resize",wj),Vd.set(t,e)}function AR(t){Vd.delete(t),Vd.size||window.removeEventListener("resize",wj)}function lR(t,e,r){const n=t.canvas,s=n&&A1(n);if(!s)return;const i=qS((A,l)=>{const c=s.clientWidth;r(A,l),c<s.clientWidth&&r()},window),a=new ResizeObserver(A=>{const l=A[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return a.observe(s),oR(t,i),a}function _x(t,e,r){r&&r.disconnect(),e==="resize"&&AR(t)}function cR(t,e,r){const n=t.canvas,s=qS(i=>{t.ctx!==null&&r(sR(i,t))},t);return rR(n,e,s),s}class uR extends xj{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(tR(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Bg])return!1;const n=r[Bg].initial;["height","width"].forEach(i=>{const a=n[i];Wt(a)?r.removeAttribute(i):r.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[Bg],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:iR,detach:aR,resize:lR}[r]||cR;s[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:_x,detach:_x,resize:_x}[r]||nR)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return nH(e,r,n,s)}isAttached(e){const r=e&&A1(e);return!!(r&&r.isConnected)}}function dR(t){return!o1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ZH:uR}class ma{constructor(){yt(this,"x");yt(this,"y");yt(this,"active",!1);yt(this,"options");yt(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Rd(this.x)&&Rd(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}}yt(ma,"defaults",{}),yt(ma,"defaultRoutes");function hR(t,e){const r=t.options.ticks,n=fR(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?pR(e):[],a=i.length,A=i[0],l=i[a-1],c=[];if(a>s)return mR(e,c,i,a/s),c;const u=gR(i,e,s);if(a>0){let d,f;const g=a>1?Math.round((l-A)/(a-1)):null;for(qf(e,c,u,Wt(g)?0:A-g,A),d=0,f=a-1;d<f;d++)qf(e,c,u,i[d],i[d+1]);return qf(e,c,u,l,Wt(g)?e.length:l+g),c}return qf(e,c,u),c}function fR(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function gR(t,e,r){const n=xR(t),s=e.length/r;if(!n)return Math.max(s,1);const i=tM(n);for(let a=0,A=i.length-1;a<A;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function pR(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function mR(t,e,r,n){let s=0,i=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=r[s*n])}function qf(t,e,r,n,s){const i=Lt(n,0),a=Math.min(Lt(s,t.length),t.length);let A=0,l,c,u;for(r=Math.ceil(r),s&&(l=s-n,r=l/Math.floor(l/r)),u=i;u<0;)A++,u=Math.round(i+A*r);for(c=Math.max(i,0);c<a;c++)c===u&&(e.push(t[c]),A++,u=Math.round(i+A*r))}function xR(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const vR=t=>t==="left"?"right":t==="right"?"left":t,E5=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,U5=(t,e)=>Math.min(e||t,t);function k5(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function wR(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,a=t._endPixel,A=1e-6;let l=t.getPixelForTick(s),c;if(!(r&&(n===1?c=Math.max(l-i,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-A||l>a+A)))return l}function yR(t,e){Jt(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function Bu(t){return t.drawTicks?t.tickLength:0}function L5(t,e){if(!t.display)return 0;const r=es(t.font,e),n=hi(t.padding);return(qr(t.text)?t.text.length:1)*r.lineHeight+n.height}function bR(t,e){return MA(t,{scale:e,type:"scale"})}function BR(t,e,r){return MA(t,{tick:r,index:e,type:"tick"})}function CR(t,e,r){let n=JS(t);return(r&&e!=="right"||!r&&e==="right")&&(n=vR(n)),n}function _R(t,e,r,n){const{top:s,left:i,bottom:a,right:A,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,g,m;const w=a-s,b=A-i;if(t.isHorizontal()){if(g=fs(n,i,A),Ot(r)){const v=Object.keys(r)[0],x=r[v];m=u[v].getPixelForValue(x)+w-e}else r==="center"?m=(c.bottom+c.top)/2+w-e:m=E5(t,r,e);f=A-i}else{if(Ot(r)){const v=Object.keys(r)[0],x=r[v];g=u[v].getPixelForValue(x)-b+e}else r==="center"?g=(c.left+c.right)/2-b+e:g=E5(t,r,e);m=fs(n,a,s),d=r==="left"?-Ai:Ai}return{titleX:g,titleY:m,maxWidth:f,rotation:d}}class Fc extends ma{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=Ci(e,Number.POSITIVE_INFINITY),r=Ci(r,Number.NEGATIVE_INFINITY),n=Ci(n,Number.POSITIVE_INFINITY),s=Ci(s,Number.NEGATIVE_INFINITY),{min:Ci(e,n),max:Ci(r,s),minDefined:Fn(e),maxDefined:Fn(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:r,max:n};const A=this.getMatchingVisibleMetas();for(let l=0,c=A.length;l<c;++l)a=A[l].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),i||(n=Math.max(n,a.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:Ci(r,Ci(n,r)),max:Ci(n,Ci(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){cr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,A=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=IM(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=A<this.ticks.length;this._convertTicksToLabels(l?k5(this.ticks,A):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=hR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){cr(this.options.afterUpdate,[this])}beforeSetDimensions(){cr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){cr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),cr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){cr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=cr(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){cr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){cr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=U5(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let a=s,A,l,c;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,g=xs(this.chart.width-d,0,this.maxWidth);A=e.offset?this.maxWidth/n:g/(n-1),d+6>A&&(A=g/(n-(e.offset?.5:1)),l=this.maxHeight-Bu(e.grid)-r.padding-L5(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),a=iM(Math.min(Math.asin(xs((u.highest.height+6)/A,-1,1)),Math.asin(xs(l/c,-1,1))-Math.asin(xs(f/c,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){cr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){cr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),A=this.isHorizontal();if(a){const l=L5(s,r.options.font);if(A?(e.width=this.maxWidth,e.height=Bu(i)+l):(e.height=this.maxHeight,e.width=Bu(i)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),g=n.padding*2,m=xA(this.labelRotation),w=Math.cos(m),b=Math.sin(m);if(A){const v=n.mirror?0:b*d.width+w*f.height;e.height=Math.min(this.maxHeight,e.height+v+g)}else{const v=n.mirror?0:w*d.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+v+g)}this._calculatePadding(c,u,b,w)}}this._handleMargins(),A?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:a},position:A}=this.options,l=this.labelRotation!==0,c=A!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=s*e.width,g=n*r.height):(f=n*e.height,g=s*r.width):i==="start"?g=r.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,g=r.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-d+a)*this.width/(this.width-d),0)}else{let u=r.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=r.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){cr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Wt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=k5(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,a=[],A=[],l=Math.floor(r/U5(r,n));let c=0,u=0,d,f,g,m,w,b,v,x,C,_,F;for(d=0;d<r;d+=l){if(m=e[d].label,w=this._resolveTickFontOptions(d),s.font=b=w.string,v=i[b]=i[b]||{data:{},gc:[]},x=w.lineHeight,C=_=0,!Wt(m)&&!qr(m))C=a5(s,v.data,v.gc,C,m),_=x;else if(qr(m))for(f=0,g=m.length;f<g;++f)F=m[f],!Wt(F)&&!qr(F)&&(C=a5(s,v.data,v.gc,C,F),_+=x);a.push(C),A.push(_),c=Math.max(C,c),u=Math.max(_,u)}yR(i,r);const P=a.indexOf(c),E=A.indexOf(u),j=R=>({width:a[R]||0,height:A[R]||0});return{first:j(0),last:j(r-1),widest:j(P),highest:j(E),widths:a,heights:A}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return AM(this._alignToPixels?tA(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=BR(this.getContext(),e,n))}return this.$context||(this.$context=bR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=xA(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,A=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*n>A*s?A/n:l/s:l*s<A*n?l/n:A/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:A}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Bu(i),g=[],m=A.setContext(this.getContext()),w=m.display?m.width:0,b=w/2,v=function(ie){return tA(n,ie,w)};let x,C,_,F,P,E,j,R,Z,Q,I,z;if(a==="top")x=v(this.bottom),E=this.bottom-f,R=x-b,Q=v(e.top)+b,z=e.bottom;else if(a==="bottom")x=v(this.top),Q=e.top,z=v(e.bottom)-b,E=x+b,R=this.top+f;else if(a==="left")x=v(this.right),P=this.right-f,j=x-b,Z=v(e.left)+b,I=e.right;else if(a==="right")x=v(this.left),Z=e.left,I=v(e.right)-b,P=x+b,j=this.left+f;else if(r==="x"){if(a==="center")x=v((e.top+e.bottom)/2+.5);else if(Ot(a)){const ie=Object.keys(a)[0],fe=a[ie];x=v(this.chart.scales[ie].getPixelForValue(fe))}Q=e.top,z=e.bottom,E=x+b,R=E+f}else if(r==="y"){if(a==="center")x=v((e.left+e.right)/2);else if(Ot(a)){const ie=Object.keys(a)[0],fe=a[ie];x=v(this.chart.scales[ie].getPixelForValue(fe))}P=x-b,j=P-f,Z=e.left,I=e.right}const $=Lt(s.ticks.maxTicksLimit,d),ce=Math.max(1,Math.ceil(d/$));for(C=0;C<d;C+=ce){const ie=this.getContext(C),fe=i.setContext(ie),te=A.setContext(ie),W=fe.lineWidth,J=fe.color,ee=te.dash||[],S=te.dashOffset,M=fe.tickWidth,K=fe.tickColor,G=fe.tickBorderDash||[],re=fe.tickBorderDashOffset;_=wR(this,C,l),_!==void 0&&(F=tA(n,_,W),c?P=j=Z=I=F:E=R=Q=z=F,g.push({tx1:P,ty1:E,tx2:j,ty2:R,x1:Z,y1:Q,x2:I,y2:z,width:W,color:J,borderDash:ee,borderDashOffset:S,tickWidth:M,tickColor:K,tickBorderDash:G,tickBorderDashOffset:re}))}return this._ticksLength=d,this._borderValue=x,g}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),A=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=Bu(n.grid),g=f+u,m=d?-u:g,w=-xA(this.labelRotation),b=[];let v,x,C,_,F,P,E,j,R,Z,Q,I,z="middle";if(s==="top")P=this.bottom-m,E=this._getXAxisLabelAlignment();else if(s==="bottom")P=this.top+m,E=this._getXAxisLabelAlignment();else if(s==="left"){const ce=this._getYAxisLabelAlignment(f);E=ce.textAlign,F=ce.x}else if(s==="right"){const ce=this._getYAxisLabelAlignment(f);E=ce.textAlign,F=ce.x}else if(r==="x"){if(s==="center")P=(e.top+e.bottom)/2+g;else if(Ot(s)){const ce=Object.keys(s)[0],ie=s[ce];P=this.chart.scales[ce].getPixelForValue(ie)+g}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")F=(e.left+e.right)/2-g;else if(Ot(s)){const ce=Object.keys(s)[0],ie=s[ce];F=this.chart.scales[ce].getPixelForValue(ie)}E=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?z="top":l==="end"&&(z="bottom"));const $=this._getLabelSizes();for(v=0,x=A.length;v<x;++v){C=A[v],_=C.label;const ce=i.setContext(this.getContext(v));j=this.getPixelForTick(v)+i.labelOffset,R=this._resolveTickFontOptions(v),Z=R.lineHeight,Q=qr(_)?_.length:1;const ie=Q/2,fe=ce.color,te=ce.textStrokeColor,W=ce.textStrokeWidth;let J=E;a?(F=j,E==="inner"&&(v===x-1?J=this.options.reverse?"left":"right":v===0?J=this.options.reverse?"right":"left":J="center"),s==="top"?c==="near"||w!==0?I=-Q*Z+Z/2:c==="center"?I=-$.highest.height/2-ie*Z+Z:I=-$.highest.height+Z/2:c==="near"||w!==0?I=Z/2:c==="center"?I=$.highest.height/2-ie*Z:I=$.highest.height-Q*Z,d&&(I*=-1),w!==0&&!ce.showLabelBackdrop&&(F+=Z/2*Math.sin(w))):(P=j,I=(1-Q)*Z/2);let ee;if(ce.showLabelBackdrop){const S=hi(ce.backdropPadding),M=$.heights[v],K=$.widths[v];let G=I-S.top,re=0-S.left;switch(z){case"middle":G-=M/2;break;case"bottom":G-=M;break}switch(E){case"center":re-=K/2;break;case"right":re-=K;break;case"inner":v===x-1?re-=K:v>0&&(re-=K/2);break}ee={left:re,top:G,width:K+S.width,height:M+S.height,color:ce.backdropColor}}b.push({label:_,font:R,textOffset:I,options:{rotation:w,color:fe,strokeColor:te,strokeWidth:W,textAlign:J,textBaseline:z,translation:[F,P],backdrop:ee}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-xA(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),A=e+i,l=a.widest.width;let c,u;return r==="left"?s?(u=this.right+i,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-A,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?s?(u=this.left+i,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+A,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const A=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(i=0,a=s.length;i<a;++i){const l=s[i];r.drawOnChartArea&&A({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&A({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const A=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=tA(e,this.left,a)-a/2,u=tA(e,this.right,A)+A/2,d=f=l):(d=tA(e,this.top,a)-a/2,f=tA(e,this.bottom,A)+A/2,c=u=l),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&lp(n,s);const i=this.getLabelItems(e);for(const a of i){const A=a.options,l=a.font,c=a.label,u=a.textOffset;m0(n,c,0,u,l,A)}s&&cp(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=es(n.font),a=hi(n.padding),A=n.align;let l=i.lineHeight/2;r==="bottom"||r==="center"||Ot(r)?(l+=a.bottom,qr(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=_R(this,l,r,A);m0(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:f,textAlign:CR(A,r,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Lt(e.grid&&e.grid.z,-1),s=Lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Fc.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=r.length;i<a;++i){const A=r[i];A[n]===this.id&&(!e||A.type===e)&&s.push(A)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return es(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Jf{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;jR(r)&&(n=this.register(r));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,NR(e,a,n),this.override&&Qr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in Qr[s]&&(delete Qr[s][n],this.override&&delete QA[n])}}function NR(t,e,r){const n=Md(Object.create(null),[r?Qr.get(r):{},Qr.get(e),t.defaults]);Qr.set(e,n),t.defaultRoutes&&SR(e,t.defaultRoutes),t.descriptors&&Qr.describe(e,t.descriptors)}function SR(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),a=e[r].split("."),A=a.pop(),l=a.join(".");Qr.route(i,s,l,A)})}function jR(t){return"id"in t&&"defaults"in t}class FR{constructor(){this.controllers=new Jf(sc,"datasets",!0),this.elements=new Jf(ma,"elements"),this.plugins=new Jf(Object,"plugins"),this.scales=new Jf(Fc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Jt(s,a=>{const A=n||this._getRegistryForType(a);this._exec(e,A,a)})})}_exec(e,r,n){const s=t1(e);cr(n["before"+s],[],n),r[e](n),cr(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var Ei=new FR;class ER{constructor(){this._init=void 0}notify(e,r,n,s){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,n,s){s=s||{};for(const i of e){const a=i.plugin,A=a[n],l=[r,s,i.options];if(cr(A,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Wt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=Lt(n.options&&n.options.plugins,{}),i=UR(n);return s===!1&&!r?[]:LR(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(A=>!a.some(l=>A.plugin.id===l.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function UR(t){const e={},r=[],n=Object.keys(Ei.plugins.items);for(let i=0;i<n.length;i++)r.push(Ei.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function kR(t,e){return!e&&t===!1?null:t===!0?{}:t}function LR(t,{plugins:e,localIds:r},n,s){const i=[],a=t.getContext();for(const A of e){const l=A.id,c=kR(n[l],s);c!==null&&i.push({plugin:A,options:QR(t.config,{plugin:A,local:r[l]},c,a)})}return i}function QR(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(n,i);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kw(t,e){const r=Qr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function IR(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function PR(t,e){return t===e?"_index_":"_value_"}function Q5(t){if(t==="x"||t==="y"||t==="r")return t}function TR(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Lw(t,...e){if(Q5(t))return t;for(const r of e){const n=r.axis||TR(r.position)||t.length>1&&Q5(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function I5(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function DR(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return I5(t,"x",r[0])||I5(t,"y",r[0])}return{}}function OR(t,e){const r=QA[t.type]||{scales:{}},n=e.scales||{},s=kw(t.type,e),i=Object.create(null);return Object.keys(n).forEach(a=>{const A=n[a];if(!Ot(A))return console.error(`Invalid scale configuration for scale: ${a}`);if(A._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=Lw(a,A,DR(a,t),Qr.scales[A.type]),c=PR(l,s),u=r.scales||{};i[a]=Ad(Object.create(null),[{axis:l},A,u[l],u[c]])}),t.data.datasets.forEach(a=>{const A=a.type||t.type,l=a.indexAxis||kw(A,e),u=(QA[A]||{}).scales||{};Object.keys(u).forEach(d=>{const f=IR(d,l),g=a[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),Ad(i[g],[{axis:f},n[g],u[d]])})}),Object.keys(i).forEach(a=>{const A=i[a];Ad(A,[Qr.scales[A.type],Qr.scale])}),i}function yj(t){const e=t.options||(t.options={});e.plugins=Lt(e.plugins,{}),e.scales=OR(t,e)}function bj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function MR(t){return t=t||{},t.data=bj(t.data),yj(t),t}const P5=new Map,Bj=new Set;function Yf(t,e){let r=P5.get(t);return r||(r=e(),P5.set(t,r),Bj.add(r)),r}const Cu=(t,e,r)=>{const n=gc(e,r);n!==void 0&&t.add(n)};class HR{constructor(e){this._config=MR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Yf(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Yf(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Yf(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,a=this._cachedScopes(e,n),A=a.get(r);if(A)return A;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(d=>Cu(l,e,d))),u.forEach(d=>Cu(l,s,d)),u.forEach(d=>Cu(l,QA[i]||{},d)),u.forEach(d=>Cu(l,Qr,d)),u.forEach(d=>Cu(l,Ew,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Bj.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,QA[r]||{},Qr.datasets[r]||{},{type:r},Qr,Ew]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:A}=T5(this._resolverCache,e,s);let l=a;if(KR(a,r)){i.$shared=!1,n=Qo(n)?n():n;const c=this.createResolver(e,n,A);l=pc(a,n,c)}for(const c of r)i[c]=l[c];return i}createResolver(e,r,n=[""],s){const{resolver:i}=T5(this._resolverCache,e,n);return Ot(r)?pc(i,r,void 0,s):i}}function T5(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:s1(e,r),subPrefixes:r.filter(A=>!A.toLowerCase().includes("hover"))},n.set(s,i)),i}const RR=t=>Ot(t)&&Object.getOwnPropertyNames(t).some(e=>Qo(t[e]));function KR(t,e){const{isScriptable:r,isIndexable:n}=rj(t);for(const s of e){const i=r(s),a=n(s),A=(a||i)&&t[s];if(i&&(Qo(A)||RR(A))||a&&qr(A))return!0}return!1}var VR="4.5.1";const zR=["top","bottom","left","right","chartArea"];function D5(t,e){return t==="top"||t==="bottom"||zR.indexOf(t)===-1&&e==="x"}function O5(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function M5(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),cr(r&&r.onComplete,[t],e)}function $R(t){const e=t.chart,r=e.options.animation;cr(r&&r.onProgress,[t],e)}function Cj(t){return o1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Cg={},H5=t=>{const e=Cj(t);return Object.values(Cg).filter(r=>r.canvas===e).pop()};function WR(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const a=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=a)}}}function GR(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var Va;let hp=(Va=class{static register(...e){Ei.add(...e),R5()}static unregister(...e){Ei.remove(...e),R5()}constructor(e,r){const n=this.config=new HR(r),s=Cj(e),i=H5(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||dR(s)),this.platform.updateConfig(n);const A=this.platform.acquireContext(s,a.aspectRatio),l=A&&A.canvas,c=l&&l.height,u=l&&l.width;if(this.id=$O(),this.ctx=A,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ER,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dM(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Cg[this.id]=this,!A||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ra.listen(this,"complete",M5),ra.listen(this,"progress",$R),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return Wt(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ei}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():c5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return o5(this.canvas,this.ctx),this}stop(){return ra.stop(this),this}resize(e,r){ra.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,i),A=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,c5(this,A,!0)&&(this.notifyPlugins("resize",{size:a}),cr(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Jt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((a,A)=>(a[A]=!1,a),{});let i=[];r&&(i=i.concat(Object.keys(r).map(a=>{const A=r[a],l=Lw(a,A),c=l==="r",u=l==="x";return{options:A,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Jt(i,a=>{const A=a.options,l=A.id,c=Lw(l,A),u=Lt(A.type,a.dtype);(A.position===void 0||D5(A.position,c)!==D5(a.dposition))&&(A.position=a.dposition),s[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const f=Ei.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(A,e)}),Jt(s,(a,A)=>{a||delete n[A]}),Jt(n,a=>{uo.configure(this,a,a.options),uo.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(O5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let a=this.getDatasetMeta(n);const A=i.type||this.config.type;if(a.type&&a.type!==A&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=A,a.indexAxis=i.indexAxis||kw(A,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=Ei.getController(A),{datasetElementType:c,dataElementType:u}=Qr.datasets[A];Object.assign(l,{dataElementType:Ei.getElement(u),datasetElementType:c&&Ei.getElement(c)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Jt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||Jt(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(O5("z","_idx"));const{_active:A,_lastEvent:l}=this;l?this._eventHandler(l,!0):A.length&&this._updateHoverStyles(A,A,!0),this.render()}_updateScales(){Jt(this.scales,e=>{uo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!YB(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const a=n==="_removeElements"?-i:i;WR(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(a=>a[0]===i).map((a,A)=>A+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!YB(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;uo.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Jt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Qo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ra.has(this)?this.attached&&!ra.running(this)&&ra.start(this):(this.draw(),M5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const a=r[s];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=dj(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&lp(r,s),e.controller.draw(),s&&cp(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Kd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=zH.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=MA(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Hd(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(A=>A.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),ra.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),o5(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Cg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),e[i]=a},s=(i,a,A)=>{i.offsetX=a,i.offsetY=A,this._eventHandler(i)};Jt(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const A=()=>{s("attach",A),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",A)},r.isAttached(this.canvas)?A():a()}unbindEvents(){Jt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Jt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,a,A,l;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),A=0,l=e.length;A<l;++A){a=e[A];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:a})=>{const A=this.getDatasetMeta(i);if(!A)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:A.data[a],index:a}});!f0(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=i(r,e),A=n?e:i(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),A.length&&s.mode&&this.updateHoverStyle(A,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,a=r,A=this._getActiveElements(e,s,n,a),l=XO(e),c=GR(e,this._lastEvent,n,l);n&&(this._lastEvent=null,cr(i.onHover,[e,A,this],this),l&&cr(i.onClick,[e,A,this],this));const u=!f0(A,s);return(u||r)&&(this._active=A,this._updateHoverStyles(A,s,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},yt(Va,"defaults",Qr),yt(Va,"instances",Cg),yt(Va,"overrides",QA),yt(Va,"registry",Ei),yt(Va,"version",VR),yt(Va,"getChart",H5),Va);function R5(){return Jt(hp.instances,t=>t._plugins.invalidate())}function _j(t,e,r=e){t.lineCap=Lt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Lt(r.borderDash,e.borderDash)),t.lineDashOffset=Lt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Lt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Lt(r.borderWidth,e.borderWidth),t.strokeStyle=Lt(r.borderColor,e.borderColor)}function qR(t,e,r){t.lineTo(r.x,r.y)}function JR(t){return t.stepped?NM:t.tension||t.cubicInterpolationMode==="monotone"?SM:qR}function Nj(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:a,end:A}=e,l=Math.max(s,a),c=Math.min(i,A),u=s<a&&i<a||s>A&&i>A;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function YR(t,e,r,n){const{points:s,options:i}=e,{count:a,start:A,loop:l,ilen:c}=Nj(s,r,n),u=JR(i);let{move:d=!0,reverse:f}=n||{},g,m,w;for(g=0;g<=c;++g)m=s[(A+(f?c-g:g))%a],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,w,m,f,i.stepped),w=m);return l&&(m=s[(A+(f?c:0))%a],u(t,w,m,f,i.stepped)),!!l}function XR(t,e,r,n){const s=e.points,{count:i,start:a,ilen:A}=Nj(s,r,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,f,g,m,w,b,v;const x=_=>(a+(c?A-_:_))%i,C=()=>{w!==b&&(t.lineTo(u,b),t.lineTo(u,w),t.lineTo(u,v))};for(l&&(g=s[x(0)],t.moveTo(g.x,g.y)),f=0;f<=A;++f){if(g=s[x(f)],g.skip)continue;const _=g.x,F=g.y,P=_|0;P===m?(F<w?w=F:F>b&&(b=F),u=(d*u+_)/++d):(C(),t.lineTo(_,F),m=P,d=0,w=b=F),v=F}C()}function Qw(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?XR:YR}function ZR(t){return t.stepped?iH:t.tension||t.cubicInterpolationMode==="monotone"?aH:AA}function e7(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),_j(t,e.options),t.stroke(s)}function t7(t,e,r,n){const{segments:s,options:i}=e,a=Qw(e);for(const A of s)_j(t,i,A.style),t.beginPath(),a(t,e,A,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const r7=typeof Path2D=="function";function n7(t,e,r,n){r7&&!e.options.segment?e7(t,e,r,n):t7(t,e,r,n)}class ho extends ma{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;YM(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dH(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,a=uj(this,{property:r,start:s,end:s});if(!a.length)return;const A=[],l=ZR(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:f}=a[c],g=i[d],m=i[f];if(g===m){A.push(g);continue}const w=Math.abs((s-g[r])/(m[r]-g[r])),b=l(g,m,w,n.stepped);b[r]=e[r],A.push(b)}return A.length===1?A[0]:A}pathSegment(e,r,n){return Qw(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=Qw(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const A of s)a&=i(e,this,A,{start:r,end:r+n-1});return!!a}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),n7(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}yt(ho,"id","line"),yt(ho,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),yt(ho,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),yt(ho,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function K5(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class _g extends ma{constructor(r){super();yt(this,"parsed");yt(this,"skip");yt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:a,y:A}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(n-A,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return K5(this,r,"x",n)}inYRange(r,n){return K5(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!Kd(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,Uw(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}yt(_g,"id","point"),yt(_g,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),yt(_g,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Sj(t,e){const{x:r,y:n,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let A,l,c,u,d;return t.horizontal?(d=a/2,A=Math.min(r,s),l=Math.max(r,s),c=n-d,u=n+d):(d=i/2,A=r-d,l=r+d,c=Math.min(n,s),u=Math.max(n,s)),{left:A,top:c,right:l,bottom:u}}function fo(t,e,r,n){return t?0:xs(e,r,n)}function s7(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=tj(n);return{t:fo(s.top,i.top,0,r),r:fo(s.right,i.right,0,e),b:fo(s.bottom,i.bottom,0,r),l:fo(s.left,i.left,0,e)}}function i7(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=rc(s),a=Math.min(e,r),A=t.borderSkipped,l=n||Ot(s);return{topLeft:fo(!l||A.top||A.left,i.topLeft,0,a),topRight:fo(!l||A.top||A.right,i.topRight,0,a),bottomLeft:fo(!l||A.bottom||A.left,i.bottomLeft,0,a),bottomRight:fo(!l||A.bottom||A.right,i.bottomRight,0,a)}}function a7(t){const e=Sj(t),r=e.right-e.left,n=e.bottom-e.top,s=s7(t,r/2,n/2),i=i7(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Nx(t,e,r,n){const s=e===null,i=r===null,A=t&&!(s&&i)&&Sj(t,n);return A&&(s||lo(e,A.left,A.right))&&(i||lo(r,A.top,A.bottom))}function o7(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function A7(t,e){t.rect(e.x,e.y,e.w,e.h)}function Sx(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class Ng extends ma{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=a7(this),A=o7(a.radius)?x0:A7;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),A(e,Sx(a,r,i)),e.clip(),A(e,Sx(i,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),A(e,Sx(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return Nx(this,e,r,n)}inXRange(e,r){return Nx(this,e,null,r)}inYRange(e,r){return Nx(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}yt(Ng,"id","bar"),yt(Ng,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),yt(Ng,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function l7(t,e,r){const n=t.segments,s=t.points,i=e.points,a=[];for(const A of n){let{start:l,end:c}=A;c=fp(l,c,s);const u=Iw(r,s[l],s[c],A.loop);if(!e.segments){a.push({source:A,target:u,start:s[l],end:s[c]});continue}const d=uj(e,u);for(const f of d){const g=Iw(r,i[f.start],i[f.end],f.loop),m=cj(A,s,g);for(const w of m)a.push({source:w,target:f,start:{[r]:V5(u,g,"start",Math.max)},end:{[r]:V5(u,g,"end",Math.min)}})}}return a}function Iw(t,e,r,n){if(n)return;let s=e[t],i=r[t];return t==="angle"&&(s=Ui(s),i=Ui(i)),{property:t,start:s,end:i}}function c7(t,e){const{x:r=null,y:n=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:A})=>{A=fp(a,A,s);const l=s[a],c=s[A];n!==null?(i.push({x:l.x,y:n}),i.push({x:c.x,y:n})):r!==null&&(i.push({x:r,y:l.y}),i.push({x:r,y:c.y}))}),i}function fp(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function V5(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function jj(t,e){let r=[],n=!1;return qr(t)?(n=!0,r=t):r=c7(t,e),r.length?new ho({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function z5(t){return t&&t.fill!==!1}function u7(t,e,r){let s=t[e].fill;const i=[e];let a;if(!r)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Fn(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function d7(t,e,r){const n=p7(t);if(Ot(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return Fn(s)&&Math.floor(s)===s?h7(n[0],e,s,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function h7(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function f7(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ot(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function g7(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ot(t)?n=t.value:n=e.getBaseValue(),n}function p7(t){const e=t.options,r=e.fill;let n=Lt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function m7(t){const{scale:e,index:r,line:n}=t,s=[],i=n.segments,a=n.points,A=x7(e,r);A.push(jj({x:null,y:e.bottom},n));for(let l=0;l<i.length;l++){const c=i[l];for(let u=c.start;u<=c.end;u++)v7(s,a[u],A)}return new ho({points:s,options:{}})}function x7(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const i=n[s];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function v7(t,e,r){const n=[];for(let s=0;s<r.length;s++){const i=r[s],{first:a,last:A,point:l}=w7(i,e,"x");if(!(!l||a&&A)){if(a)n.unshift(l);else if(t.push(l),!A)break}}t.push(...n)}function w7(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const s=n[r],i=t.segments,a=t.points;let A=!1,l=!1;for(let c=0;c<i.length;c++){const u=i[c],d=a[u.start][r],f=a[u.end][r];if(lo(s,d,f)){A=s===d,l=s===f;break}}return{first:A,last:l,point:n}}class Fj{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:s,y:i,radius:a}=this;return r=r||{start:0,end:ui},e.arc(s,i,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:s}=this,i=e.angle;return{x:r+Math.cos(i)*s,y:n+Math.sin(i)*s,angle:i}}}function y7(t){const{chart:e,fill:r,line:n}=t;if(Fn(r))return b7(e,r);if(r==="stack")return m7(t);if(r==="shape")return!0;const s=B7(t);return s instanceof Fj?s:jj(s,n)}function b7(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function B7(t){return(t.scale||{}).getPointPositionForValue?_7(t):C7(t)}function C7(t){const{scale:e={},fill:r}=t,n=f7(r,e);if(Fn(n)){const s=e.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function _7(t){const{scale:e,fill:r}=t,n=e.options,s=e.getLabels().length,i=n.reverse?e.max:e.min,a=g7(r,e,i),A=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,i);return new Fj({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<s;++l)A.push(e.getPointPositionForValue(l,a));return A}function jx(t,e,r){const n=y7(e),{chart:s,index:i,line:a,scale:A,axis:l}=e,c=a.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:g=d}=u||{},m=s.getDatasetMeta(i),w=dj(s,m);n&&a.points.length&&(lp(t,r),N7(t,{line:a,target:n,above:f,below:g,area:r,scale:A,axis:l,clip:w}),cp(t))}function N7(t,e){const{line:r,target:n,above:s,below:i,area:a,scale:A,clip:l}=e,c=r._loop?"angle":e.axis;t.save();let u=i;i!==s&&(c==="x"?($5(t,n,a.top),Fx(t,{line:r,target:n,color:s,scale:A,property:c,clip:l}),t.restore(),t.save(),$5(t,n,a.bottom)):c==="y"&&(W5(t,n,a.left),Fx(t,{line:r,target:n,color:i,scale:A,property:c,clip:l}),t.restore(),t.save(),W5(t,n,a.right),u=s)),Fx(t,{line:r,target:n,color:u,scale:A,property:c,clip:l}),t.restore()}function $5(t,e,r){const{segments:n,points:s}=e;let i=!0,a=!1;t.beginPath();for(const A of n){const{start:l,end:c}=A,u=s[l],d=s[fp(l,c,s)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,A,{move:a}),a?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function W5(t,e,r){const{segments:n,points:s}=e;let i=!0,a=!1;t.beginPath();for(const A of n){const{start:l,end:c}=A,u=s[l],d=s[fp(l,c,s)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,A,{move:a}),a?t.closePath():t.lineTo(r,d.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function Fx(t,e){const{line:r,target:n,property:s,color:i,scale:a,clip:A}=e,l=l7(r,n,s);for(const{source:c,target:u,start:d,end:f}of l){const{style:{backgroundColor:g=i}={}}=c,m=n!==!0;t.save(),t.fillStyle=g,S7(t,a,A,m&&Iw(s,d,f)),t.beginPath();const w=!!r.pathSegment(t,c);let b;if(m){w?t.closePath():G5(t,n,f,s);const v=!!n.pathSegment(t,u,{move:w,reverse:!0});b=w&&v,b||G5(t,n,d,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function S7(t,e,r,n){const s=e.chart.chartArea,{property:i,start:a,end:A}=n||{};if(i==="x"||i==="y"){let l,c,u,d;i==="x"?(l=a,c=s.top,u=A,d=s.bottom):(l=s.left,c=a,u=s.right,d=A),t.beginPath(),r&&(l=Math.max(l,r.left),u=Math.min(u,r.right),c=Math.max(c,r.top),d=Math.min(d,r.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function G5(t,e,r,n){const s=e.interpolate(r,n);s&&t.lineTo(s.x,s.y)}var j7={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,s=[];let i,a,A,l;for(a=0;a<n;++a)i=t.getDatasetMeta(a),A=i.dataset,l=null,A&&A.options&&A instanceof ho&&(l={visible:t.isDatasetVisible(a),index:a,fill:d7(A,a,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:A}),i.$filler=l,s.push(l);for(a=0;a<n;++a)l=s[a],!(!l||l.fill===!1)&&(l.fill=u7(s,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const A=s[a].$filler;A&&(A.line.updateControlPoints(i,A.axis),n&&A.fill&&jx(t.ctx,A,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const i=n[s].$filler;z5(i)&&jx(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!z5(n)||r.drawTime!=="beforeDatasetDraw"||jx(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const q5=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},F7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class J5 extends ma{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=cr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=es(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:A,itemHeight:l}=q5(n,i);let c,u;r.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,i,A,l)+10):(u=this.maxHeight,c=this._fitCols(a,s,A,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:A}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+A;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((m,w)=>{const b=n+r/2+i.measureText(m.text).width;(w===0||c[c.length-1]+b+2*A>a)&&(d+=u,c[c.length-(w>0?0:1)]=0,g+=u,f++),l[w]={left:0,top:g,row:f,width:b,height:s},c[c.length-1]+=b+A}),d}_fitCols(e,r,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:A}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=A,f=0,g=0,m=0,w=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:x,itemHeight:C}=E7(n,r,i,b,s);v>0&&g+C+2*A>u&&(d+=f+A,c.push({width:f,height:g}),m+=f+A,w++,f=g=0),l[v]={left:m,top:g,col:w,width:x,height:C},f=Math.max(f,x),g+=C+A}),d+=f,c.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,a=nc(i,this.left,this.width);if(this.isHorizontal()){let A=0,l=fs(n,this.left+s,this.right-this.lineWidths[A]);for(const c of r)A!==c.row&&(A=c.row,l=fs(n,this.left+s,this.right-this.lineWidths[A])),c.top+=this.top+e+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let A=0,l=fs(n,this.top+e+s,this.bottom-this.columnSizes[A].height);for(const c of r)c.col!==A&&(A=c.col,l=fs(n,this.top+e+s,this.bottom-this.columnSizes[A].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;lp(e,this),this._draw(),cp(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:a}=e,A=Qr.color,l=nc(e.rtl,this.left,this.width),c=es(a.font),{padding:u}=a,d=c.size,f=d/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:w,itemHeight:b}=q5(a,d),v=function(P,E,j){if(isNaN(m)||m<=0||isNaN(w)||w<0)return;s.save();const R=Lt(j.lineWidth,1);if(s.fillStyle=Lt(j.fillStyle,A),s.lineCap=Lt(j.lineCap,"butt"),s.lineDashOffset=Lt(j.lineDashOffset,0),s.lineJoin=Lt(j.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=Lt(j.strokeStyle,A),s.setLineDash(Lt(j.lineDash,[])),a.usePointStyle){const Z={radius:w*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:R},Q=l.xPlus(P,m/2),I=E+f;ZS(s,Z,Q,I,a.pointStyleWidth&&m)}else{const Z=E+Math.max((d-w)/2,0),Q=l.leftForLtr(P,m),I=rc(j.borderRadius);s.beginPath(),Object.values(I).some(z=>z!==0)?x0(s,{x:Q,y:Z,w:m,h:w,radius:I}):s.rect(Q,Z,m,w),s.fill(),R!==0&&s.stroke()}s.restore()},x=function(P,E,j){m0(s,j.text,P,E+b/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},C=this.isHorizontal(),_=this._computeTitleHeight();C?g={x:fs(i,this.left+u,this.right-n[0]),y:this.top+u+_,line:0}:g={x:this.left+u,y:fs(i,this.top+_+u,this.bottom-r[0].height),line:0},oj(this.ctx,e.textDirection);const F=b+u;this.legendItems.forEach((P,E)=>{s.strokeStyle=P.fontColor,s.fillStyle=P.fontColor;const j=s.measureText(P.text).width,R=l.textAlign(P.textAlign||(P.textAlign=a.textAlign)),Z=m+f+j;let Q=g.x,I=g.y;l.setWidth(this.width),C?E>0&&Q+Z+u>this.right&&(I=g.y+=F,g.line++,Q=g.x=fs(i,this.left+u,this.right-n[g.line])):E>0&&I+F>this.bottom&&(Q=g.x=Q+r[g.line].width+u,g.line++,I=g.y=fs(i,this.top+_+u,this.bottom-r[g.line].height));const z=l.x(Q);if(v(z,I,P),Q=hM(R,Q+m+f,C?Q+Z:this.right,e.rtl),x(l.x(Q),I,P),C)g.x+=Z+u;else if(typeof P.text!="string"){const $=c.lineHeight;g.y+=Ej(P,$)+u}else g.y+=F}),Aj(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=es(r.font),s=hi(r.padding);if(!r.display)return;const i=nc(e.rtl,this.left,this.width),a=this.ctx,A=r.position,l=n.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=fs(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((w,b)=>Math.max(w,b.height),0);u=c+fs(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const g=fs(A,d,d+f);a.textAlign=i.textAlign(JS(A)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,m0(a,r.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,r=es(e.font),n=hi(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(lo(e,this.left,this.right)&&lo(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],lo(e,s.left,s.left+s.width)&&lo(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!L7(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=F7(s,n);s&&!i&&cr(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&cr(r.onHover,[e,n,this],this)}else n&&cr(r.onClick,[e,n,this],this)}}function E7(t,e,r,n,s){const i=U7(n,t,e,r),a=k7(s,n,e.lineHeight);return{itemWidth:i,itemHeight:a}}function U7(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+r.size/2+n.measureText(s).width}function k7(t,e,r){let n=t;return typeof e.text!="string"&&(n=Ej(e,r)),n}function Ej(t,e){const r=t.text?t.text.length:0;return e*r}function L7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Q7={id:"legend",_element:J5,start(t,e,r){const n=t.legend=new J5({ctx:t.ctx,options:r,chart:t});uo.configure(t,n,r),uo.addBox(t,n)},stop(t){uo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;uo.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:A}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=hi(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(A||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Ou={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const A=t[e].element;if(A&&A.hasValue()){const l=A.tooltipPosition();n.add(l.x),s+=l.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((A,l)=>A+l)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,a,A;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Fw(e,c);u<s&&(s=u,A=l)}}if(A){const l=A.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Si(t,e){return e&&(qr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function na(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function I7(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:a,value:A}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:A,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function Y5(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:a,boxHeight:A}=e,l=es(e.bodyFont),c=es(e.titleFont),u=es(e.footerFont),d=i.length,f=s.length,g=n.length,m=hi(e.padding);let w=m.height,b=0,v=n.reduce((_,F)=>_+F.before.length+F.lines.length+F.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(w+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const _=e.displayColors?Math.max(A,l.lineHeight):l.lineHeight;w+=g*_+(v-g)*l.lineHeight+(v-1)*e.bodySpacing}f&&(w+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const C=function(_){b=Math.max(b,r.measureText(_).width+x)};return r.save(),r.font=c.string,Jt(t.title,C),r.font=l.string,Jt(t.beforeBody.concat(t.afterBody),C),x=e.displayColors?a+2+e.boxPadding:0,Jt(n,_=>{Jt(_.before,C),Jt(_.lines,C),Jt(_.after,C)}),x=0,r.font=u.string,Jt(t.footer,C),r.restore(),b+=m.width,{width:b,height:w}}function P7(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function T7(t,e,r,n){const{x:s,width:i}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function D7(t,e,r,n){const{x:s,width:i}=r,{width:a,chartArea:{left:A,right:l}}=t;let c="center";return n==="center"?c=s<=(A+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),T7(c,t,e,r)&&(c="center"),c}function X5(t,e,r){const n=r.yAlign||e.yAlign||P7(t,r);return{xAlign:r.xAlign||e.xAlign||D7(t,e,r,n),yAlign:n}}function O7(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function M7(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function Z5(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:A,yAlign:l}=r,c=s+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=rc(a);let m=O7(e,A);const w=M7(e,l,c);return l==="center"?A==="left"?m+=c:A==="right"&&(m-=c):A==="left"?m-=Math.max(u,f)+s:A==="right"&&(m+=Math.max(d,g)+s),{x:xs(m,0,n.width-e.width),y:xs(w,0,n.height-e.height)}}function Xf(t,e,r){const n=hi(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function eC(t){return Si([],na(t))}function H7(t,e,r){return MA(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function tC(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Uj={beforeTitle:ta,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:ta,beforeBody:ta,beforeLabel:ta,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Wt(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ta,afterBody:ta,beforeFooter:ta,footer:ta,afterFooter:ta};function Wn(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?Uj[e].call(r,n):s}class Pw extends ma{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new hj(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=H7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=Wn(n,"beforeTitle",this,e),i=Wn(n,"title",this,e),a=Wn(n,"afterTitle",this,e);let A=[];return A=Si(A,na(s)),A=Si(A,na(i)),A=Si(A,na(a)),A}getBeforeBody(e,r){return eC(Wn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return Jt(e,i=>{const a={before:[],lines:[],after:[]},A=tC(n,i);Si(a.before,na(Wn(A,"beforeLabel",this,i))),Si(a.lines,Wn(A,"label",this,i)),Si(a.after,na(Wn(A,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,r){return eC(Wn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=Wn(n,"beforeFooter",this,e),i=Wn(n,"footer",this,e),a=Wn(n,"afterFooter",this,e);let A=[];return A=Si(A,na(s)),A=Si(A,na(i)),A=Si(A,na(a)),A}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],a=[];let A=[],l,c;for(l=0,c=r.length;l<c;++l)A.push(I7(this.chart,r[l]));return e.filter&&(A=A.filter((u,d,f)=>e.filter(u,d,f,n))),e.itemSort&&(A=A.sort((u,d)=>e.itemSort(u,d,n))),Jt(A,u=>{const d=tC(e.callbacks,u);s.push(Wn(d,"labelColor",this,u)),i.push(Wn(d,"labelPointStyle",this,u)),a.push(Wn(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=A,A}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const A=Ou[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=Y5(this,n),c=Object.assign({},A,l),u=X5(this.chart,n,c),d=Z5(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:A.x,caretY:A.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:A}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=rc(A),{x:f,y:g}=e,{width:m,height:w}=r;let b,v,x,C,_,F;return i==="center"?(_=g+w/2,s==="left"?(b=f,v=b-a,C=_+a,F=_-a):(b=f+m,v=b+a,C=_-a,F=_+a),x=b):(s==="left"?v=f+Math.max(l,u)+a:s==="right"?v=f+m-Math.max(c,d)-a:v=this.caretX,i==="top"?(C=g,_=C-a,b=v-a,x=v+a):(C=g+w,_=C+a,b=v+a,x=v-a),F=C),{x1:b,x2:v,x3:x,y1:C,y2:_,y3:F}}drawTitle(e,r,n){const s=this.title,i=s.length;let a,A,l;if(i){const c=nc(n.rtl,this.x,this.width);for(e.x=Xf(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=es(n.titleFont),A=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<i;++l)r.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+A,l+1===i&&(e.y+=n.titleMarginBottom-A)}}_drawColorBox(e,r,n,s,i){const a=this.labelColors[n],A=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=i,u=es(i.bodyFont),d=Xf(this,"left",i),f=s.x(d),g=l<u.lineHeight?(u.lineHeight-l)/2:0,m=r.y+g;if(i.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:1},b=s.leftForLtr(f,c)+c/2,v=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Uw(e,w,b,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Uw(e,w,b,v)}else{e.lineWidth=Ot(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=s.leftForLtr(f,c),b=s.leftForLtr(s.xPlus(f,1),c-2),v=rc(a.borderRadius);Object.values(v).some(x=>x!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,x0(e,{x:w,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),x0(e,{x:b,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,m,c,l),e.strokeRect(w,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(b,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:A,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=es(n.bodyFont);let f=d.lineHeight,g=0;const m=nc(n.rtl,this.x,this.width),w=function(j){r.fillText(j,m.x(e.x+g),e.y+f/2),e.y+=f+i},b=m.textAlign(a);let v,x,C,_,F,P,E;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=Xf(this,b,n),r.fillStyle=n.bodyColor,Jt(this.beforeBody,w),g=A&&b!=="right"?a==="center"?c/2+u:c+2+u:0,_=0,P=s.length;_<P;++_){for(v=s[_],x=this.labelTextColors[_],r.fillStyle=x,Jt(v.before,w),C=v.lines,A&&C.length&&(this._drawColorBox(r,e,_,m,n),f=Math.max(d.lineHeight,l)),F=0,E=C.length;F<E;++F)w(C[F]),f=d.lineHeight;Jt(v.after,w)}g=0,f=d.lineHeight,Jt(this.afterBody,w),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let a,A;if(i){const l=nc(n.rtl,this.x,this.width);for(e.x=Xf(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=es(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,A=0;A<i;++A)r.fillText(s[A],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:a}=this,{x:A,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:m}=rc(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(A+d,l),a==="top"&&this.drawCaret(e,r,n,s),r.lineTo(A+c-f,l),r.quadraticCurveTo(A+c,l,A+c,l+f),a==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(A+c,l+u-m),r.quadraticCurveTo(A+c,l+u,A+c-m,l+u),a==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(A+g,l+u),r.quadraticCurveTo(A,l+u,A,l+u-g),a==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(A,l+d),r.quadraticCurveTo(A,l,A+d,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=Ou[e.position].call(this,this._active,this._eventPosition);if(!a)return;const A=this._size=Y5(this,e),l=Object.assign({},a,this._size),c=X5(r,e,l),u=Z5(e,l,c,r);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=A.width,this.height=A.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=hi(r.padding),A=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&A&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),oj(e,r.textDirection),i.y+=a.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),Aj(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:A,index:l})=>{const c=this.chart.getDatasetMeta(A);if(!c)throw new Error("Cannot find a dataset at index "+A);return{datasetIndex:A,element:c.data[l],index:l}}),i=!f0(n,s),a=this._positionChanged(s,r);(i||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,r,n),A=this._positionChanged(a,e),l=r||!f0(a,i)||A;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(A=>this.chart.data.datasets[A.datasetIndex]&&this.chart.getDatasetMeta(A.datasetIndex).controller.getParsed(A.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,a=Ou[i.position].call(this,e,r);return a!==!1&&(n!==a.x||s!==a.y)}}yt(Pw,"positioners",Ou);var R7={id:"tooltip",_element:Pw,positioners:Ou,afterInit(t,e,r){r&&(t.tooltip=new Pw({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Uj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const K7=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function V7(t,e,r,n){const s=t.indexOf(e);if(s===-1)return K7(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const z7=(t,e)=>t===null?null:xs(Math.round(t),0,e);function rC(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Tw extends Fc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Wt(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:V7(n,e,Lt(r,e),this._addedLabels),z7(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return rC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}yt(Tw,"id","category"),yt(Tw,"defaults",{ticks:{callback:rC}});function $7(t,e){const r=[],{bounds:s,step:i,min:a,max:A,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,g=i||1,m=u-1,{min:w,max:b}=e,v=!Wt(a),x=!Wt(A),C=!Wt(c),_=(b-w)/(d+1);let F=ZB((b-w)/m/g)*g,P,E,j,R;if(F<1e-14&&!v&&!x)return[{value:w},{value:b}];R=Math.ceil(b/F)-Math.floor(w/F),R>m&&(F=ZB(R*F/m/g)*g),Wt(l)||(P=Math.pow(10,l),F=Math.ceil(F*P)/P),s==="ticks"?(E=Math.floor(w/F)*F,j=Math.ceil(b/F)*F):(E=w,j=b),v&&x&&i&&nM((A-a)/i,F/1e3)?(R=Math.round(Math.min((A-a)/F,u)),F=(A-a)/R,E=a,j=A):C?(E=v?a:E,j=x?A:j,R=c-1,F=(j-E)/R):(R=(j-E)/F,ld(R,Math.round(R),F/1e3)?R=Math.round(R):R=Math.ceil(R));const Z=Math.max(e5(F),e5(E));P=Math.pow(10,Wt(l)?Z:l),E=Math.round(E*P)/P,j=Math.round(j*P)/P;let Q=0;for(v&&(f&&E!==a?(r.push({value:a}),E<a&&Q++,ld(Math.round((E+Q*F)*P)/P,a,nC(a,_,t))&&Q++):E<a&&Q++);Q<R;++Q){const I=Math.round((E+Q*F)*P)/P;if(x&&I>A)break;r.push({value:I})}return x&&f&&j!==A?r.length&&ld(r[r.length-1].value,A,nC(A,_,t))?r[r.length-1].value=A:r.push({value:A}):(!x||j===A)&&r.push({value:j}),r}function nC(t,e,{horizontal:r,minRotation:n}){const s=xA(n),i=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class W7 extends Fc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Wt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=r?s:l,A=l=>i=n?i:l;if(e){const l=Ti(s),c=Ti(i);l<0&&c<0?A(0):l>0&&c>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);A(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,a=$7(s,i);return e.bounds==="ticks"&&sM(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return YS(e,this.chart.options.locale,this.options.ticks.format)}}class Dw extends W7{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Fn(e)?e:0,this.max=Fn(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=xA(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}yt(Dw,"id","linear"),yt(Dw,"defaults",{ticks:{callback:XS.formatters.numeric}});const gp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(gp);function sC(t,e){return t-e}function iC(t,e){if(Wt(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Fn(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(Rd(i)||i===!0)?r.startOf(a,"isoWeek",i):r.startOf(a,s)),+a)}function aC(t,e,r,n){const s=Xn.length;for(let i=Xn.indexOf(t);i<s-1;++i){const a=gp[Xn[i]],A=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(A*a.size))<=n)return Xn[i]}return Xn[s-1]}function G7(t,e,r,n,s){for(let i=Xn.length-1;i>=Xn.indexOf(r);i--){const a=Xn[i];if(gp[a].common&&t._adapter.diff(s,n,a)>=e-1)return a}return Xn[r?Xn.indexOf(r):0]}function q7(t){for(let e=Xn.indexOf(t)+1,r=Xn.length;e<r;++e)if(gp[Xn[e]].common)return Xn[e]}function oC(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=r1(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function J7(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),a=e[e.length-1].value;let A,l;for(A=i;A<=a;A=+s.add(A,1,n))l=r[A],l>=0&&(e[l].major=!0);return e}function AC(t,e,r){const n=[],s={},i=e.length;let a,A;for(a=0;a<i;++a)A=e[a],s[A]=a,n.push({value:A,major:!1});return i===0||!r?n:J7(t,n,s,r)}class y0 extends Fc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new MH._date(e.adapters.date);s.init(r),Ad(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:iC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:A}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!A&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!A)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Fn(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=Fn(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,A=cM(s,i,a);return this._unit=r.unit||(n.autoSkip?aC(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):G7(this,A.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:q7(this._unit),this.initOffsets(s),e.reverse&&A.reverse(),AC(this,A,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=xs(r,0,a),n=xs(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||aC(i.minUnit,r,n,this._getLabelCapacity(r)),A=Lt(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,c=Rd(l)||l===!0,u={};let d=r,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(n,r,a)>1e5*A)throw new Error(r+" and "+n+" are too far apart with stepSize of "+A+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<n;f=+e.add(f,A,a),g++)oC(u,f,m);return(f===n||s.bounds==="ticks"||g===1)&&oC(u,f,m),Object.keys(u).sort(sC).map(w=>+w)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,a=r||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,s){const i=this.options,a=i.ticks.callback;if(a)return cr(a,[e,r,n],this);const A=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&A[l],d=c&&A[c],f=n[r],g=c&&d&&f&&f.major;return this._adapter.format(e,s||(g?d:u))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=xA(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),a=Math.sin(s),A=this._resolveTickFontOptions(0).size;return{w:n*i+A*a,h:n*a+A*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,AC(this,[e],this._majorUnit),s),a=this._getLabelSize(i),A=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return A>0?A:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(iC(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return WS(e.sort(sC))}}yt(y0,"id","time"),yt(y0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Zf(t,e,r){let n=0,s=t.length-1,i,a,A,l;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=vA(t,"pos",e)),{pos:i,time:A}=t[n],{pos:a,time:l}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=vA(t,"time",e)),{time:i,pos:A}=t[n],{time:a,pos:l}=t[s]);const c=a-i;return c?A+(l-A)*(e-i)/c:A}class Ow extends y0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Zf(r,this.min),this._tableRange=Zf(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let a,A,l,c,u;for(a=0,A=e.length;a<A;++a)c=e[a],c>=r&&c<=n&&s.push(c);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,A=s.length;a<A;++a)u=s[a+1],l=s[a-1],c=s[a],Math.round((u+l)/2)!==c&&i.push({time:c,pos:a/(A-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Zf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Zf(this._table,n*this._tableRange+this._minPos,!0)}}yt(Ow,"id","timeseries"),yt(Ow,"defaults",y0.defaults);const kj="label";function lC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Y7(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function Lj(t,e){t.labels=e}function Qj(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kj;const n=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function X7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kj;const r={labels:[],datasets:[]};return Lj(r,t.labels),Qj(r,t.datasets,e),r}function Z7(t,e){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:A,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,g=T.useRef(null),m=T.useRef(null),w=()=>{g.current&&(m.current=new hp(g.current,{type:a,data:X7(A,i),options:l&&{...l},plugins:c}),lC(e,m.current))},b=()=>{lC(e,null),m.current&&(m.current.destroy(),m.current=null)};return T.useEffect(()=>{!s&&m.current&&l&&Y7(m.current,l)},[s,l]),T.useEffect(()=>{!s&&m.current&&Lj(m.current.config.data,A.labels)},[s,A.labels]),T.useEffect(()=>{!s&&m.current&&A.datasets&&Qj(m.current.config.data,A.datasets,i)},[s,A.datasets]),T.useEffect(()=>{m.current&&(s?(b(),setTimeout(w)):m.current.update(d))},[s,l,A.labels,A.datasets,d]),T.useEffect(()=>{m.current&&(b(),setTimeout(w))},[a]),T.useEffect(()=>(w(),()=>b()),[]),_0.createElement("canvas",{ref:g,role:"img",height:r,width:n,...f},u)}const e9=T.forwardRef(Z7);function Ij(t,e){return hp.register(e),T.forwardRef((r,n)=>_0.createElement(e9,{...r,ref:n,type:t}))}const t9=Ij("line",bg),r9=Ij("bar",yg);hp.register(Tw,Dw,_g,ho,Ng,R7,Q7,j7,Ow);function n9(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${e}-${r}`}function s9(t){const[e,r]=t.split("-").map(Number),n=new Date(e,r-1,1),s=new Date(e,r,0),i=a=>a.toISOString().slice(0,10);return{start:i(n),end:i(s)}}function i9(t){return Math.floor(t.getMonth()/3)+1}function a9(){const[t,e]=T.useState("monthly"),[r,n]=T.useState(()=>n9(new Date)),[s,i]=T.useState(new Date().getFullYear()),[a,A]=T.useState((i9(new Date)-1)*3+1),[l,c]=T.useState(new Set([`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`])),[u,d]=T.useState(!1),[f,g]=T.useState([new Date().getFullYear()-1,new Date().getFullYear()+1]),[m,w]=T.useState([]),[b,v]=T.useState(!0),[x,C]=T.useState(null),[_,F]=T.useState(0),[P,E]=T.useState([]),[j,R]=T.useState("56"),[Z,Q]=T.useState(!1),[I,z]=T.useState(""),$=T.useRef(null),ce=["January","February","March","April","May","June","July","August","September","October","November","December"],ie=pe=>{const ve=new Set(l);ve.has(pe)?ve.delete(pe):ve.add(pe),c(ve)},fe=()=>{const pe=new Set;for(let ve=f[0];ve<=f[1];ve++)for(let je=1;je<=12;je++)pe.add(`${ve}-${String(je).padStart(2,"0")}`);c(pe)},te=()=>{c(new Set)},W=async()=>{Q(!0),z("");try{const pe=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!pe.ok)throw new Error("Failed to fetch exchange rate");const ve=await pe.json();if(ve.rates&&ve.rates.PHP)R(String(ve.rates.PHP));else throw new Error("PHP rate not found in response")}catch(pe){console.error("Error fetching exchange rate:",pe),z("Failed to fetch current rate")}finally{Q(!1)}};T.useEffect(()=>{W()},[]),T.useEffect(()=>{let pe=!1;return(async()=>{v(!0),C(null);let je="",ge="";if(t==="monthly"){const Ee=s9(r);je=Ee.start,ge=Ee.end}else if(t==="quarterly"){const Ee=a-1,Pe=new Date(s,Ee,1),qe=new Date(s,Ee+3,0);je=Pe.toISOString().slice(0,10),ge=qe.toISOString().slice(0,10)}else if(t==="yearly"){const Ee=new Date(s,0,1),Pe=new Date(s,12,0);je=Ee.toISOString().slice(0,10),ge=Pe.toISOString().slice(0,10)}else if(t==="custom"){if(l.size===0){w([]),F(0),E([]),v(!1);return}const Ee=Array.from(l).sort(),[Pe,qe]=Ee[0].split("-").map(Number),[et,ye]=Ee[Ee.length-1].split("-").map(Number),Oe=new Date(Pe,qe-1,1),U=new Date(et,ye,0);je=Oe.toISOString().slice(0,10),ge=U.toISOString().slice(0,10)}const{data:Y,error:tt}=await $e.from("transactions").select("*").gte("date",je).lte("date",ge).order("date",{ascending:!0});if(pe)return;let Re=Y??[];t==="custom"&&l.size>0&&(Re=Re.filter(Ee=>{const Pe=new Date(Ee.date+"T00:00:00"),qe=`${Pe.getFullYear()}-${String(Pe.getMonth()+1).padStart(2,"0")}`;return l.has(qe)})),tt?C(tt.message):w(Re);const{data:Ie,error:Ve}=await $e.from("savings").select("*").gte("date",je).lte("date",ge).order("date",{ascending:!0});if(!pe)if(Ve)console.warn("Savings load error:",Ve.message),F(0),E([]);else{let Ee=(Ie??[]).filter(qe=>!qe.status||qe.status==="active");t==="custom"&&l.size>0&&(Ee=Ee.filter(qe=>{const et=new Date(qe.date+"T00:00:00"),ye=`${et.getFullYear()}-${String(et.getMonth()+1).padStart(2,"0")}`;return l.has(ye)}));const Pe=Ee.reduce((qe,et)=>qe+(et.amount??0),0);F(Pe),E(Ee)}v(!1)})(),()=>{pe=!0}},[t,r,s,a,l]);const{labels:J,creditData:ee,debitData:S,remaining:M,totals:K}=T.useMemo(()=>{const pe={},ve={},je=(Ee,Pe)=>{Pe.type==="in"?pe[Ee]=(pe[Ee]??0)+Pe.amount:ve[Ee]=(ve[Ee]??0)+Pe.amount};t==="monthly"?m.forEach(Ee=>je(Ee.date,Ee)):t==="quarterly"?m.forEach(Ee=>{const Pe=new Date(Ee.date+"T00:00:00"),qe=`${Pe.getFullYear()}-${String(Pe.getMonth()+1).padStart(2,"0")}`;je(qe,Ee)}):m.forEach(Ee=>{const Pe=new Date(Ee.date+"T00:00:00"),qe=`${Pe.getFullYear()}-${String(Pe.getMonth()+1).padStart(2,"0")}`;je(qe,Ee)});const ge=Array.from(new Set([...Object.keys(pe),...Object.keys(ve)])).sort(),Y=ge.map(Ee=>pe[Ee]??0),tt=ge.map(Ee=>ve[Ee]??0),Re=Y.reduce((Ee,Pe)=>Ee+Pe,0),Ie=tt.reduce((Ee,Pe)=>Ee+Pe,0),Ve=Re-Ie;return{labels:ge,creditData:Y,debitData:tt,remaining:Ve,totals:{credit:Re,debit:Ie}}},[m,t]),G=T.useMemo(()=>{const pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(t==="monthly"){const[ve,je]=r.split("-").map(Number);return`${pe[je-1]} ${ve}`}if(t==="quarterly"){const ve=a-1;return`${[pe[ve],pe[ve+1],pe[ve+2]].join(", ")} ${s}`}return t==="custom"?l.size===0?"No months selected":Array.from(l).sort().map(ge=>{const[Y,tt]=ge.split("-").map(Number);return`${pe[tt-1]} ${Y}`}).join(", "):`JanDec ${s}`},[t,r,a,s,l]),re=pe=>` ${pe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,ae=pe=>`$ ${pe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ae=pe=>{const ve=Number(j);return!ve||isNaN(ve)||ve<=0?0:pe/ve},se=async()=>{if(!$.current)return;const pe=$.current;document.body.classList.add("pdf-mode");try{const ve=await ip(pe,{scale:2,useCORS:!0,backgroundColor:"#ffffff",letterRendering:!0}),je=ve.toDataURL("image/png"),ge=new mt({orientation:"p",unit:"pt",format:"a4"}),Y=ge.internal.pageSize.getWidth(),tt=ge.internal.pageSize.getHeight(),Re=Y-40,Ie=ve.height*Re/ve.width;let Ve=20;if(Ie<=tt-40)ge.addImage(je,"PNG",20,Ve,Re,Ie);else{let Pe=0;const qe=ve.width*(tt-40)/Re;for(;Pe<ve.height;){const et=document.createElement("canvas");et.width=ve.width,et.height=Math.min(qe,ve.height-Pe);const ye=et.getContext("2d");ye&&ye.drawImage(ve,0,Pe,ve.width,et.height,0,0,ve.width,et.height);const Oe=et.toDataURL("image/png");ge.addImage(Oe,"PNG",20,20,Re,et.height*Re/ve.width),Pe+=et.height,Pe<ve.height&&ge.addPage()}}const Ee=`financial-report-${G.replace(/\s+/g,"-").toLowerCase()}-${Date.now()}.pdf`;ge.save(Ee)}catch(ve){console.error("Error generating PDF:",ve),alert("Error generating PDF. Please try again.")}finally{document.body.classList.remove("pdf-mode")}},Ne={labels:J,datasets:[{label:"Credit (In)",data:ee,backgroundColor:"rgba(16, 185, 129, 0.6)",borderRadius:6},{label:"Debit (Out + Expense)",data:S,backgroundColor:"rgba(244, 63, 94, 0.6)",borderRadius:6}]},Ue={labels:J,datasets:[{label:"Remaining (Cumulative)",data:J.map((pe,ve)=>ee.slice(0,ve+1).reduce((je,ge)=>je+ge,0)-S.slice(0,ve+1).reduce((je,ge)=>je+ge,0)),borderColor:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.2)",fill:!0,tension:.3}]};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Reports"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Visualize cash flow over time and summarize by period."})]}),o.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-slate-600",title:"PHP per 1 USD",children:"USD Rate"}),o.jsx("input",{type:"number",step:"0.0001",min:"0",value:j,onChange:pe=>R(pe.target.value),className:"w-24 rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"56.00",disabled:Z}),o.jsx("button",{onClick:W,disabled:Z,className:"rounded-md bg-blue-600 px-2 py-1.5 text-xs font-medium text-white shadow hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed",title:"Refresh current rate",children:Z?"...":""})]}),I&&o.jsx("span",{className:"text-xs text-red-600",children:I}),o.jsxs("div",{className:"inline-flex overflow-hidden rounded-md border border-slate-200 bg-white shadow-sm",children:[o.jsx("button",{className:`px-3 py-2 text-sm ${t==="monthly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("monthly"),children:"Monthly"}),o.jsx("button",{className:`px-3 py-2 text-sm ${t==="quarterly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("quarterly"),children:"Quarterly"}),o.jsx("button",{className:`px-3 py-2 text-sm ${t==="yearly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("yearly"),children:"Yearly"}),o.jsx("button",{className:`px-3 py-2 text-sm ${t==="custom"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>{e("custom"),d(!0)},children:"Custom"})]}),t==="monthly"&&o.jsx("input",{type:"month",value:r,onChange:pe=>n(pe.target.value),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(t==="quarterly"||t==="yearly")&&o.jsxs(o.Fragment,{children:[o.jsx("select",{value:s,onChange:pe=>i(Number(pe.target.value)),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:Array.from({length:10}).map((pe,ve)=>{const je=new Date().getFullYear()-ve;return o.jsx("option",{value:je,children:je},je)})}),t==="quarterly"&&o.jsxs("select",{value:a,onChange:pe=>A(Number(pe.target.value)),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:1,children:"Start: Jan"}),o.jsx("option",{value:2,children:"Start: Feb"}),o.jsx("option",{value:3,children:"Start: Mar"}),o.jsx("option",{value:4,children:"Start: Apr"}),o.jsx("option",{value:5,children:"Start: May"}),o.jsx("option",{value:6,children:"Start: Jun"}),o.jsx("option",{value:7,children:"Start: Jul"}),o.jsx("option",{value:8,children:"Start: Aug"}),o.jsx("option",{value:9,children:"Start: Sep"}),o.jsx("option",{value:10,children:"Start: Oct"}),o.jsx("option",{value:11,children:"Start: Nov"}),o.jsx("option",{value:12,children:"Start: Dec"})]})]}),t==="custom"&&o.jsx(o.Fragment,{children:o.jsxs("button",{onClick:()=>d(!u),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:[u?"Hide":"Select"," Months (",l.size,")"]})}),o.jsx("button",{onClick:se,className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",children:"Export PDF"})]})]}),t==="custom"&&u&&o.jsxs("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Select Months Across Years"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("label",{className:"text-xs text-slate-600",children:"Year Range:"}),o.jsx("select",{value:f[0],onChange:pe=>g([Number(pe.target.value),f[1]]),className:"text-xs rounded border-slate-300 py-1",children:Array.from({length:10}).map((pe,ve)=>{const je=new Date().getFullYear()+2-ve;return o.jsx("option",{value:je,children:je},je)})}),o.jsx("span",{className:"text-slate-600",children:"to"}),o.jsx("select",{value:f[1],onChange:pe=>g([f[0],Number(pe.target.value)]),className:"text-xs rounded border-slate-300 py-1",children:Array.from({length:10}).map((pe,ve)=>{const je=new Date().getFullYear()+2-ve;return o.jsx("option",{value:je,children:je},je)})}),o.jsx("span",{className:"text-slate-400 mx-2",children:"|"}),o.jsx("button",{onClick:fe,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Select All"}),o.jsx("span",{className:"text-slate-400",children:"|"}),o.jsx("button",{onClick:te,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Clear All"})]})]}),o.jsx("div",{className:"space-y-4",children:Array.from({length:f[1]-f[0]+1}).map((pe,ve)=>{const je=f[1]-ve;return o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[o.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:je}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:ce.map((ge,Y)=>{const tt=Y+1,Re=`${je}-${String(tt).padStart(2,"0")}`,Ie=l.has(Re);return o.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-md cursor-pointer transition-colors ${Ie?"bg-blue-600 text-white":"bg-slate-50 text-slate-700 hover:bg-blue-100"}`,children:[o.jsx("input",{type:"checkbox",checked:Ie,onChange:()=>ie(Re),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-xs font-medium",children:ge.slice(0,3)})]},Re)})})]},je)})}),l.size===0&&o.jsx("div",{className:"mt-3 text-sm text-amber-700 bg-amber-100 border border-amber-200 rounded-md p-2",children:" Please select at least one month to generate the report"}),l.size>0&&o.jsxs("div",{className:"mt-3 text-sm text-green-700 bg-green-100 border border-green-200 rounded-md p-2",children:[" ",l.size," month(s) selected: ",G]})]}),o.jsxs("div",{ref:$,className:"space-y-6 bg-white p-6 rounded-xl",children:[o.jsxs("div",{className:"mb-6 text-center border-b border-slate-200 pb-4 print:block hidden",children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Financial Report"}),o.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Period: ",G]}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Generated: ",new Date().toLocaleDateString(),"  Exchange Rate: 1 USD = ",Number(j||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})," PHP"]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-2 text-sm font-medium text-slate-700",children:"Credit vs Debit"}),b?o.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):x?o.jsx("div",{className:"text-sm text-rose-600",children:x}):J.length===0?o.jsx("div",{className:"text-sm text-slate-500",children:"No data."}):o.jsx(r9,{data:Ne,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-2 text-sm font-medium text-slate-700",children:"Remaining (Cumulative)"}),b?o.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):x?o.jsx("div",{className:"text-sm text-rose-600",children:x}):J.length===0?o.jsx("div",{className:"text-sm text-slate-500",children:"No data."}):o.jsx(t9,{data:Ue,options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[o.jsxs("div",{className:"rounded-xl border border-emerald-100 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Total Credit"}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re(K.credit)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ae(Ae(K.credit))})]}),o.jsxs("div",{className:"rounded-xl border border-rose-100 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Total Debit"}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re(K.debit)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ae(Ae(K.debit))})]}),o.jsxs("div",{className:`rounded-xl border ${M>=0?"border-emerald-200":"border-rose-200"} bg-white p-4 shadow-sm`,children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Remaining"}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re(M)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ae(Ae(M))})]}),o.jsxs("div",{className:"rounded-xl border border-indigo-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Savings (Selected Period)"}),o.jsxs("div",{className:"text-[11px] text-slate-500",children:["Months: ",G]}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re(_)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ae(Ae(_))})]}),o.jsxs("div",{className:`rounded-xl border ${M-_>=0?"border-emerald-300":"border-rose-300"} bg-white p-4 shadow-sm sm:col-span-2`,children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Remaining After Savings"}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re(M-_)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ae(Ae(M-_))})]})]}),!b&&!x&&m.length>0&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Transaction Breakdown"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Type"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Category"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (PHP)"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (USD)"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Note"})]})}),o.jsx("tbody",{children:m.map(pe=>o.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[o.jsx("td",{className:"px-3 py-2 text-slate-900",children:pe.date}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${pe.type==="in"?"bg-green-100 text-green-800":pe.type==="out"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:pe.type==="in"?"Credit":pe.type==="out"?"Debit":"Expense"})}),o.jsx("td",{className:"px-3 py-2 text-slate-700",children:pe.category||"-"}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:re(pe.amount)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:ae(Ae(pe.amount))}),o.jsx("td",{className:"px-3 py-2 text-slate-600 max-w-xs truncate",children:pe.note||"-"})]},pe.id))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 border-slate-300 bg-slate-100 font-medium",children:[o.jsx("td",{colSpan:3,className:"px-3 py-2 text-slate-900",children:"Total"}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:re(m.reduce((pe,ve)=>pe+(ve.type==="in"?ve.amount:-ve.amount),0))}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:ae(Ae(m.reduce((pe,ve)=>pe+(ve.type==="in"?ve.amount:-ve.amount),0)))}),o.jsx("td",{className:"px-3 py-2"})]})})]})})]}),!b&&!x&&P.length>0&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Savings Breakdown"}),o.jsxs("div",{className:"text-sm text-slate-600",children:["Period: ",G,"  ",P.length," entries"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:re(_)}),o.jsx("div",{className:"text-sm text-slate-600",children:ae(Ae(_))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-indigo-50",children:[o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Description"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Account"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (PHP)"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (USD)"})]})}),o.jsx("tbody",{children:P.map((pe,ve)=>o.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[o.jsx("td",{className:"px-3 py-2 text-slate-900",children:pe.date}),o.jsx("td",{className:"px-3 py-2 text-slate-700",children:pe.description||"-"}),o.jsx("td",{className:"px-3 py-2 text-slate-600",children:pe.account||"-"}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:re(pe.amount)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:ae(Ae(pe.amount))})]},pe.id||ve))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 border-indigo-300 bg-indigo-100 font-medium",children:[o.jsx("td",{colSpan:3,className:"px-3 py-2 text-slate-900",children:"Total Savings"}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:re(_)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:ae(Ae(_))})]})})]})}),P.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("div",{className:"mb-3 text-base font-semibold text-slate-900",children:"Savings by Account"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(P.reduce((pe,ve)=>{const je=ve.account||"Unspecified";return pe[je]=(pe[je]||0)+ve.amount,pe},{})).sort(([,pe],[,ve])=>ve-pe).map(([pe,ve])=>o.jsxs("div",{className:"rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[o.jsx("div",{className:"text-sm font-medium text-slate-700",children:pe}),o.jsx("div",{className:"text-lg font-bold text-indigo-600",children:re(ve)}),o.jsx("div",{className:"text-xs text-slate-600",children:ae(Ae(ve))}),o.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[(ve/_*100).toFixed(1),"% of total"]})]},pe))})]})]})]})]})}const us=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ex=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},cC=T.forwardRef(({employee:t,payslip:e},r)=>{const n=(e.sss??0)+(e.pagibig??0)+(e.philhealth??0)+(e.tax??0)+(e.cash_advance??0)+(e.loan_deductions??0)+(e.other_deductions??0),s=(e.bonuses??0)+(e.allowances??0);return o.jsxs("div",{ref:r,className:"mx-auto w-full max-w-2xl rounded-xl border border-slate-200 bg-white p-8 text-slate-800",children:[o.jsx("div",{className:"mb-6 flex items-start justify-between border-b-2 border-slate-900 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"h-16 w-16 object-contain"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Avensetech Software Development Services"}),o.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"}),o.jsx("p",{className:"text-xs text-slate-600",children:"(032) 234-1362  09297246296"})]})]})}),o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"PAYSLIP"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Date Issued: ",Ex(e.date_issued)]})]}),o.jsxs("div",{className:"rounded-lg bg-slate-50 p-4 text-right",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Employee"}),o.jsx("div",{className:"mt-1 text-base font-bold text-slate-900",children:t.name}),t.position&&o.jsx("div",{className:"text-sm text-slate-600",children:t.position})]})]}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border border-slate-300 bg-slate-50 p-4",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Pay Period"}),o.jsxs("div",{className:"mt-1 text-sm font-medium text-slate-900",children:[Ex(e.period_start)," to ",Ex(e.period_end)]})]}),o.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-blue-600",children:"Gross Salary"}),o.jsx("div",{className:"mt-1 text-xl font-bold text-blue-900",children:us(e.gross_salary)})]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border border-emerald-100 p-4",children:[o.jsx("div",{className:"mb-2 text-sm font-medium text-emerald-700",children:"Additions"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Bonuses:"})," ",o.jsx("span",{className:"float-right",children:us(e.bonuses)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Allowances:"})," ",o.jsx("span",{className:"float-right",children:us(e.allowances)})]}),o.jsxs("div",{className:"mt-2 border-t pt-2 text-sm",children:[o.jsx("span",{className:"text-slate-600",children:"Total Additions"})," ",o.jsx("span",{className:"float-right font-medium",children:us(s)})]})]}),o.jsxs("div",{className:"rounded-lg border border-rose-100 p-4",children:[o.jsx("div",{className:"mb-2 text-sm font-medium text-rose-700",children:"Deductions"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"SSS:"})," ",o.jsx("span",{className:"float-right",children:us(e.sss)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Pag-IBIG:"})," ",o.jsx("span",{className:"float-right",children:us(e.pagibig)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"PhilHealth:"})," ",o.jsx("span",{className:"float-right",children:us(e.philhealth)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Tax:"})," ",o.jsx("span",{className:"float-right",children:us(e.tax)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Cash Advance:"})," ",o.jsx("span",{className:"float-right",children:us(e.cash_advance)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Loan Deductions:"})," ",o.jsx("span",{className:"float-right",children:us(e.loan_deductions)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Other:"})," ",o.jsx("span",{className:"float-right",children:us(e.other_deductions)})]}),o.jsxs("div",{className:"mt-2 border-t pt-2 text-sm",children:[o.jsx("span",{className:"text-slate-600",children:"Total Deductions"})," ",o.jsx("span",{className:"float-right font-medium",children:us(n)})]})]})]}),o.jsx("div",{className:"mt-6 rounded-lg border-2 border-emerald-600 bg-emerald-50 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-lg font-bold text-emerald-900",children:"NET SALARY"}),o.jsx("span",{className:"text-3xl font-bold text-emerald-700",children:us(e.net_salary)})]})}),e.notes&&o.jsxs("div",{className:"mt-6 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Notes"}),o.jsx("div",{className:"mt-2 text-sm text-slate-700",children:e.notes})]}),o.jsx("div",{className:"mt-8 border-t border-slate-200 pt-4 text-center",children:o.jsx("p",{className:"text-xs text-slate-500",children:"This is a computer-generated payslip and does not require a signature."})})]})}),Ra=()=>new Date().toISOString().slice(0,10),_i=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},Kt=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;function o9(){const[t,e]=T.useState("list"),[r,n]=T.useState([]),[s,i]=T.useState([]),[a,A]=T.useState([]),[l,c]=T.useState(!0),[u,d]=T.useState(null),[f,g]=T.useState(""),[m,w]=T.useState(""),[b,v]=T.useState(""),[x,C]=T.useState(null),[_,F]=T.useState(null),[P,E]=T.useState(!1),[j,R]=T.useState(Ra()),[Z,Q]=T.useState(Ra()),[I,z]=T.useState([]),[$,ce]=T.useState(!1),[ie,fe]=T.useState(null),[te,W]=T.useState(null),[J,ee]=T.useState(!1),S=T.useRef(null),M=T.useRef(null),K=T.useMemo(()=>{const U=new Map;return s.forEach(ue=>{const oe=`${ue.period_start}_${ue.period_end}`;U.has(oe)||U.set(oe,[]),U.get(oe).push(ue)}),Array.from(U.entries()).map(([ue,oe])=>{const[Be,Se]=ue.split("_"),Xe=oe.reduce((nt,pt)=>nt+pt.gross_salary,0),ke=oe.reduce((nt,pt)=>nt+pt.net_salary,0),Je=oe.reduce((nt,pt)=>{const X=(pt.sss??0)+(pt.pagibig??0)+(pt.philhealth??0)+(pt.tax??0)+(pt.cash_advance??0)+(pt.loan_deductions??0)+(pt.other_deductions??0);return nt+X},0),We=oe.reduce((nt,pt)=>{const X=(pt.bonuses??0)+(pt.allowances??0);return nt+X},0);return{periodStart:Be,periodEnd:Se,payslips:oe,employeeCount:oe.length,totalGross:Xe,totalAdditions:We,totalDeductions:Je,totalNet:ke}}).sort((ue,oe)=>new Date(oe.periodStart).getTime()-new Date(ue.periodStart).getTime())},[s]),G=async()=>{var U;c(!0),d(null);try{const[ue,oe,Be]=await Promise.all([$e.from("employees").select("*").order("name",{ascending:!0}),$e.from("payslips").select("*").order("created_at",{ascending:!1}),$e.from("loans").select("*").eq("status","active").order("created_at",{ascending:!1})]);ue.error&&d(ue.error.message),oe.error&&d(Se=>Se??oe.error.message),Be.error&&d(Se=>Se??Be.error.message),n(ue.data??[]),i(oe.data??[]),A(Be.data??[]),console.log("Refreshed payslips with transaction_ids:",(U=oe.data)==null?void 0:U.map(Se=>({id:Se.id,transaction_id:Se.transaction_id,employee_id:Se.employee_id})))}catch(ue){console.error("Refresh error:",ue),d("Failed to refresh data")}finally{c(!1)}};T.useEffect(()=>{G()},[]);const re=T.useMemo(()=>_&&r.find(U=>U.id===_.employee_id)||null,[_,r]),ae=T.useMemo(()=>{if(!_)return{additions:0,deductions:0,net:0};const U=_,ue=(U.bonuses??0)+(U.allowances??0),oe=(U.sss??0)+(U.pagibig??0)+(U.philhealth??0)+(U.tax??0)+(U.cash_advance??0)+(U.loan_deductions??0)+(U.other_deductions??0),Be=U.gross_salary+ue-oe;return{additions:ue,deductions:oe,net:Be}},[_]),Ae=(U,ue)=>a.filter(oe=>oe.employee_id===U&&oe.status==="active"&&new Date(oe.start_deduction_date)<=new Date(ue)),se=(U,ue)=>Ae(U,ue).reduce((Be,Se)=>Be+Se.bimonthly_deduction,0),Ne=async(U,ue,oe,Be)=>{if(Be<=0)return;const Se=Ae(ue,oe);for(const Xe of Se){const ke=Math.min(Xe.bimonthly_deduction,Xe.remaining_balance);if(ke<=0)continue;const Je=Xe.remaining_balance,We=Je-ke,nt=We<=0?"completed":"active";try{const{error:pt}=await $e.from("loan_payments").insert({loan_id:Xe.id,payslip_id:U,payment_date:oe,amount:ke,balance_before:Je,balance_after:We,payment_type:"payroll_deduction",notes:`Automatic payroll deduction for payslip ${U}`});if(pt){console.error("Error creating loan payment:",pt);continue}const{error:X}=await $e.from("loans").update({remaining_balance:We,status:nt,end_date:nt==="completed"?oe:null}).eq("id",Xe.id);X&&console.error("Error updating loan balance:",X)}catch(pt){console.error("Error processing loan payment:",pt)}}},Ue=()=>{var Be,Se;const U=Number(((Be=r[0])==null?void 0:Be.base_salary)??0),ue=((Se=r[0])==null?void 0:Se.id)??"",oe=se(ue,Ra());return{id:crypto.randomUUID(),created_at:new Date().toISOString(),employee_id:ue,period_start:Ra(),period_end:Ra(),date_issued:Ra(),gross_salary:U/2,sss:0,pagibig:0,philhealth:0,tax:0,cash_advance:0,loan_deductions:oe,bonuses:0,allowances:0,other_deductions:0,notes:"",net_salary:0,transaction_id:null}},pe=(U,ue,oe)=>{const Be=new Date(U),Se=new Date(ue),Xe=Be.getDate(),ke=Se.getDate(),Je=Xe===1&&ke===15,We=Xe===16&&ke>=28&&ke<=31;return Je||We?oe/2:oe},ve=U=>{if(U)F(U);else{const ue=Ue(),oe=s.find(Be=>Be.employee_id===ue.employee_id);oe&&(ue.sss=oe.sss,ue.pagibig=oe.pagibig,ue.philhealth=oe.philhealth,ue.tax=oe.tax,ue.bonuses=oe.bonuses,ue.allowances=oe.allowances),ue.loan_deductions=se(ue.employee_id,ue.date_issued),F(ue)}e("edit")},je=async U=>{if(s.find(oe=>oe.id===U),!confirm("Delete this payslip?"))return;const{error:ue}=await $e.from("payslips").delete().eq("id",U);if(ue)return alert(ue.message);await G()},ge=async()=>{if(!_)return;const U={..._},ue=(U.bonuses??0)+(U.allowances??0),oe=(U.sss??0)+(U.pagibig??0)+(U.philhealth??0)+(U.tax??0)+(U.cash_advance??0)+(U.loan_deductions??0)+(U.other_deductions??0);U.net_salary=U.gross_salary+ue-oe;const{error:Be}=await $e.from("payslips").upsert(U,{onConflict:"id"});if(Be)return alert(Be.message);if(U.loan_deductions&&U.loan_deductions>0&&await Ne(U.id,U.employee_id,U.date_issued,U.loan_deductions),!U.gross_salary||U.gross_salary<=0){alert("Cannot create expense transaction: Gross salary must be greater than 0");return}const Se=`Payroll: ${(re==null?void 0:re.name)??U.employee_id} (${U.period_start} to ${U.period_end})`;if(U.transaction_id){const{error:Xe}=await $e.from("transactions").update({amount:Number(U.gross_salary),type:"expense",category:"Payroll",note:Se}).eq("id",U.transaction_id);if(Xe)return alert(Xe.message)}else{const{data:Xe,error:ke}=await $e.from("transactions").insert({date:U.date_issued,type:"expense",amount:Number(U.gross_salary),category:"Payroll",note:Se}).select("id").single();if(ke)return alert(ke.message);U.transaction_id=(Xe==null?void 0:Xe.id)??null;const{error:Je}=await $e.from("payslips").update({transaction_id:U.transaction_id}).eq("id",U.id);if(Je)return alert(Je.message)}F(null),e("list"),await G()},Y=async()=>{if(!_||!M.current)return;const U=M.current,[ue,oe]=await Promise.all([Yn(()=>Promise.resolve().then(()=>gx),void 0),Yn(()=>Promise.resolve().then(()=>pw),void 0)]),Be=ue.default,Se=oe.default,Xe=await Se(U,{scale:2,backgroundColor:"#ffffff"}),ke=Xe.toDataURL("image/png"),Je=new Be({orientation:"p",unit:"pt",format:"a4"}),We=Je.internal.pageSize.getWidth(),nt=Je.internal.pageSize.getHeight(),pt=We-40,X=Xe.height*pt/Xe.width;Je.addImage(ke,"PNG",20,20,pt,Math.min(X,nt-40)),Je.save(`payslip_${(re==null?void 0:re.name)??"employee"}_${_.date_issued}.pdf`)},tt=async()=>{if(!te||!S.current)return;const U=S.current,ue=r.find(Ye=>Ye.id===te.employee_id),[oe,Be]=await Promise.all([Yn(()=>Promise.resolve().then(()=>gx),void 0),Yn(()=>Promise.resolve().then(()=>pw),void 0)]),Se=oe.default,Xe=Be.default,ke=await Xe(U,{scale:2,backgroundColor:"#ffffff"}),Je=ke.toDataURL("image/png"),We=new Se({orientation:"p",unit:"pt",format:"a4"}),nt=We.internal.pageSize.getWidth(),pt=We.internal.pageSize.getHeight(),X=nt-40,Qe=ke.height*X/ke.width;We.addImage(Je,"PNG",20,20,X,Math.min(Qe,pt-40)),We.save(`payslip_${(ue==null?void 0:ue.name)??"employee"}_${te.date_issued}.pdf`)},Re=async()=>{const U={name:f.trim(),position:m.trim()||null,base_salary:b?Number(b):null};if(!U.name)return alert("Employee name is required");if(x){const{error:ue}=await $e.from("employees").update(U).eq("id",x);if(ue)return alert(ue.message)}else{const{error:ue}=await $e.from("employees").insert(U);if(ue)return alert(ue.message)}g(""),w(""),v(""),C(null),await G()},Ie=U=>{C(U.id),g(U.name),w(U.position??""),v(U.base_salary!=null?String(U.base_salary):"")},Ve=async U=>{if(!confirm("Delete this employee?"))return;const{error:ue}=await $e.from("employees").delete().eq("id",U);if(ue)return alert(ue.message);await G()},Ee=async()=>{if(I.length===0){alert("Please select at least one employee");return}try{const U=I.map(ke=>{const Je=r.find(Qe=>Qe.id===ke),We=(Je==null?void 0:Je.base_salary)??0,nt=pe(j,Z,We),pt=se(ke,Ra()),X=s.find(Qe=>Qe.employee_id===ke);return{id:crypto.randomUUID(),created_at:new Date().toISOString(),employee_id:ke,period_start:j,period_end:Z,date_issued:Ra(),gross_salary:nt,sss:(X==null?void 0:X.sss)??0,pagibig:(X==null?void 0:X.pagibig)??0,philhealth:(X==null?void 0:X.philhealth)??0,tax:(X==null?void 0:X.tax)??0,cash_advance:0,loan_deductions:pt,bonuses:(X==null?void 0:X.bonuses)??0,allowances:(X==null?void 0:X.allowances)??0,other_deductions:0,notes:"",net_salary:nt+((X==null?void 0:X.bonuses)??0)+((X==null?void 0:X.allowances)??0)-(((X==null?void 0:X.sss)??0)+((X==null?void 0:X.pagibig)??0)+((X==null?void 0:X.philhealth)??0)+((X==null?void 0:X.tax)??0)+pt),transaction_id:null}}),ue=U.filter(ke=>ke.gross_salary>0).map(ke=>{const Je=r.find(nt=>nt.id===ke.employee_id),We=`Payroll: ${(Je==null?void 0:Je.name)??ke.employee_id} (${ke.period_start} to ${ke.period_end})`;return{date:ke.date_issued,type:"expense",amount:Number(ke.gross_salary),category:"Payroll",note:We}}),oe=U.filter(ke=>!ke.gross_salary||ke.gross_salary<=0);if(oe.length>0){const ke=oe.map(Je=>{const We=r.find(nt=>nt.id===Je.employee_id);return(We==null?void 0:We.name)||Je.employee_id}).join(", ");alert(`Warning: ${oe.length} payslip(s) have invalid amounts and will not create expense transactions: ${ke}`)}if(ue.length===0){alert("No valid payslips to create expense transactions");return}console.log("Creating expense transactions:",ue);const{data:Be,error:Se}=await $e.from("transactions").insert(ue).select("id");if(Se){console.error("Transaction error:",Se),alert(`Error creating expense transactions: ${Se.message}`);return}if(console.log("Created transactions:",Be),Be&&Be.length===ue.length)U.filter(Je=>Je.gross_salary>0).forEach((Je,We)=>{Je.transaction_id=Be[We].id,console.log(`Setting payslip ${Je.id} transaction_id to:`,Be[We].id)});else{console.error("Transaction data length mismatch:",Be==null?void 0:Be.length,"vs",ue.length),alert("Error: Transaction creation count mismatch");return}console.log("Payslips with transaction IDs:",U.map(ke=>({id:ke.id,transaction_id:ke.transaction_id})));const{error:Xe}=await $e.from("payslips").insert(U);if(Xe){console.error("Payslip error:",Xe),alert(`Error creating payslips: ${Xe.message}`);return}console.log("Successfully created payslips with transaction links");for(const ke of U)ke.loan_deductions&&ke.loan_deductions>0&&await Ne(ke.id,ke.employee_id,ke.date_issued,ke.loan_deductions);E(!1),z([]),setTimeout(async()=>{await G()},500),alert(`${U.length} payslips generated successfully with linked expense transactions and loan deductions!`)}catch(U){console.error("Bulk generation error:",U),alert(`Error during bulk generation: ${U}`)}},Pe=U=>{z(ue=>ue.includes(U)?ue.filter(oe=>oe!==U):[...ue,U])},qe=()=>{I.length===r.length?z([]):z(r.map(U=>U.id))},et=T.useMemo(()=>ie?s.filter(U=>U.employee_id===ie):[],[ie,s]),ye=T.useMemo(()=>{const U=r.find(Be=>Be.id===ie);if(!U)return null;const ue=et,oe=ue.reduce((Be,Se)=>Be+Se.net_salary,0);return{employee:U,payslips:ue,totalPaid:oe}},[ie,r,et]),Oe=async U=>{try{const ue=(await Yn(async()=>{const{default:ke}=await Promise.resolve().then(()=>gx);return{default:ke}},void 0)).default,oe=new ue;oe.setFontSize(20),oe.setFont("helvetica","bold"),oe.text("Payroll Summary Report",105,20,{align:"center"}),oe.setFontSize(12),oe.setFont("helvetica","normal"),oe.text(`Period: ${_i(U.periodStart)} to ${_i(U.periodEnd)}`,105,30,{align:"center"}),oe.text(`Generated: ${new Date().toLocaleDateString()}`,105,37,{align:"center"});let Be=50;oe.setFontSize(14),oe.setFont("helvetica","bold"),oe.text("Summary",20,Be),Be+=10,oe.setFontSize(11),oe.setFont("helvetica","normal"),oe.text(`Total Employees: ${U.employeeCount}`,20,Be),Be+=7,oe.text(`Total Gross Salary: ${Kt(U.totalGross)}`,20,Be),Be+=7,oe.text(`Total Additions: ${Kt(U.totalAdditions)}`,20,Be),Be+=7,oe.text(`Total Deductions: ${Kt(U.totalDeductions)}`,20,Be),Be+=7,oe.setFont("helvetica","bold"),oe.text(`Total Net Pay: ${Kt(U.totalNet)}`,20,Be),Be+=15,oe.setFontSize(14),oe.text("Employee Breakdown",20,Be),Be+=10,oe.setFontSize(9),oe.setFont("helvetica","bold"),oe.text("Employee",20,Be),oe.text("Gross",80,Be,{align:"right"}),oe.text("Additions",110,Be,{align:"right"}),oe.text("Deductions",145,Be,{align:"right"}),oe.text("Net Pay",180,Be,{align:"right"}),Be+=2,oe.line(20,Be,190,Be),Be+=5,oe.setFont("helvetica","normal");const Se=[...U.payslips].sort((ke,Je)=>{const We=r.find(Qe=>Qe.id===ke.employee_id),nt=r.find(Qe=>Qe.id===Je.employee_id),pt=(We==null?void 0:We.name)??ke.employee_id,X=(nt==null?void 0:nt.name)??Je.employee_id;return pt.localeCompare(X)});for(const ke of Se){Be>270&&(oe.addPage(),Be=20,oe.setFont("helvetica","bold"),oe.text("Employee",20,Be),oe.text("Gross",80,Be,{align:"right"}),oe.text("Additions",110,Be,{align:"right"}),oe.text("Deductions",145,Be,{align:"right"}),oe.text("Net Pay",180,Be,{align:"right"}),Be+=2,oe.line(20,Be,190,Be),Be+=5,oe.setFont("helvetica","normal"));const Je=r.find(Qe=>Qe.id===ke.employee_id),We=(ke.bonuses??0)+(ke.allowances??0),nt=(ke.sss??0)+(ke.pagibig??0)+(ke.philhealth??0)+(ke.tax??0)+(ke.cash_advance??0)+(ke.loan_deductions??0)+(ke.other_deductions??0),pt=(Je==null?void 0:Je.name)??ke.employee_id,X=pt.length>25?pt.substring(0,22)+"...":pt;oe.text(X,20,Be),oe.text(Kt(ke.gross_salary),80,Be,{align:"right"}),oe.text(Kt(We),110,Be,{align:"right"}),oe.text(Kt(nt),145,Be,{align:"right"}),oe.text(Kt(ke.net_salary),180,Be,{align:"right"}),Be+=6}Be+=2,oe.line(20,Be,190,Be),Be+=7,oe.setFont("helvetica","bold"),oe.text("TOTAL",20,Be),oe.text(Kt(U.totalGross),80,Be,{align:"right"}),oe.text(Kt(U.totalAdditions),110,Be,{align:"right"}),oe.text(Kt(U.totalDeductions),145,Be,{align:"right"}),oe.text(Kt(U.totalNet),180,Be,{align:"right"});const Xe=`Payroll_Summary_${U.periodStart}_to_${U.periodEnd}.pdf`;oe.save(Xe)}catch(ue){console.error("Error generating PDF:",ue),alert("Failed to generate PDF. Please try again.")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Payroll"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Create and edit payslips. Processing will log an expense automatically."})]}),o.jsx("div",{className:"flex gap-2",children:t==="list"?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",onClick:()=>ve(),children:"New Payslip"}),o.jsx("button",{className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-purple-700",onClick:()=>E(!0),children:"Bulk Generate"}),o.jsx("button",{className:"rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-gray-700",onClick:G,children:"Refresh"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"rounded-md bg-slate-100 px-3 py-2 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>{e("list"),F(null)},children:"Back"}),o.jsx("button",{className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",onClick:ge,children:"Process & Save"}),o.jsx("button",{className:"rounded-md bg-slate-800 px-4 py-2 text-sm font-medium text-white shadow hover:bg-black",onClick:Y,children:"Download PDF"})]})})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-3 flex items-center justify-between",children:o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Employees"})}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[o.jsx("input",{className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Name",value:f,onChange:U=>g(U.target.value)}),o.jsx("input",{className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Position",value:m,onChange:U=>w(U.target.value)}),o.jsx("input",{type:"number",step:"0.01",className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Base Salary",value:b,onChange:U=>v(U.target.value)}),o.jsx("div",{children:o.jsxs("button",{onClick:Re,className:"w-full rounded-md bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-700",children:[x?"Update":"Add"," Employee"]})})]}),o.jsx("div",{className:"mt-4 overflow-hidden rounded-lg border border-slate-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[o.jsx("thead",{className:"bg-slate-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Name"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Position"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Base Salary"}),o.jsx("th",{className:"px-3 py-2"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[r.map(U=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-sm text-slate-800",children:U.name}),o.jsx("td",{className:"px-3 py-2 text-sm text-slate-700",children:U.position??""}),o.jsx("td",{className:"px-3 py-2 text-right text-sm text-slate-900",children:U.base_salary!=null?Kt(U.base_salary):""}),o.jsxs("td",{className:"px-3 py-2 text-right",children:[o.jsx("button",{className:"rounded-md bg-blue-50 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100",onClick:()=>{fe(U.id),ce(!0)},children:"History"}),o.jsx("button",{className:"ml-2 rounded-md bg-slate-100 px-3 py-1 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>Ie(U),children:"Edit"}),o.jsx("button",{className:"ml-2 rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",onClick:()=>Ve(U.id),children:"Delete"})]})]},U.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-sm text-slate-500",children:"No employees yet."})})]})]})})]}),t==="list"&&K.length>0&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Payroll Period Summaries"}),o.jsxs("span",{className:"text-sm text-slate-600",children:[K.length," periods"]})]}),o.jsx("div",{className:"space-y-4",children:K.map((U,ue)=>o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-slate-900",children:["Period: ",_i(U.periodStart)," to ",_i(U.periodEnd)]}),o.jsxs("p",{className:"text-sm text-slate-600",children:[U.employeeCount," employees"]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>Oe(U),className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 transition-colors",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-lg font-bold text-slate-900",children:Kt(U.totalNet)}),o.jsx("p",{className:"text-sm text-slate-600",children:"Total Net Pay"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-slate-900",children:Kt(U.totalGross)}),o.jsx("p",{className:"text-slate-600",children:"Gross Salary"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-green-700",children:Kt(U.totalAdditions)}),o.jsx("p",{className:"text-slate-600",children:"Additions"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-red-700",children:Kt(U.totalDeductions)}),o.jsx("p",{className:"text-slate-600",children:"Deductions"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-blue-700",children:Kt(U.totalNet)}),o.jsx("p",{className:"text-slate-600",children:"Net Pay"})]})]}),o.jsxs("details",{className:"mt-3",children:[o.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900",children:["View Employee Breakdown (",U.employeeCount," employees)"]}),o.jsx("div",{className:"mt-2 overflow-hidden rounded border border-slate-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[o.jsx("thead",{className:"bg-slate-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Employee"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Gross"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Additions"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Deductions"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Net"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:U.payslips.map(oe=>{const Be=r.find(ke=>ke.id===oe.employee_id),Se=(oe.bonuses??0)+(oe.allowances??0),Xe=(oe.sss??0)+(oe.pagibig??0)+(oe.philhealth??0)+(oe.tax??0)+(oe.cash_advance??0)+(oe.loan_deductions??0)+(oe.other_deductions??0);return o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-3 py-2 text-slate-800",children:(Be==null?void 0:Be.name)??oe.employee_id}),o.jsx("td",{className:"px-3 py-2 text-right text-slate-900",children:Kt(oe.gross_salary)}),o.jsx("td",{className:"px-3 py-2 text-right text-green-700",children:Kt(Se)}),o.jsx("td",{className:"px-3 py-2 text-right text-red-700",children:Kt(Xe)}),o.jsx("td",{className:"px-3 py-2 text-right font-medium text-slate-900",children:Kt(oe.net_salary)}),o.jsxs("td",{className:"px-3 py-2 text-center",children:[o.jsx("button",{className:"rounded-md bg-blue-50 px-2 py-1 text-xs text-blue-700 hover:bg-blue-100 mr-1",onClick:()=>{W(oe),ee(!0)},children:"View"}),o.jsx("button",{className:"rounded-md bg-slate-100 px-2 py-1 text-xs text-slate-700 hover:bg-slate-200",onClick:()=>ve(oe),children:"Edit"})]})]},oe.id)})})]})})]})]},`${U.periodStart}_${U.periodEnd}`))})]}),t==="list"&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-3 flex items-center justify-between",children:o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"All Payslips"})}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[o.jsx("thead",{className:"bg-slate-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Employee"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Period"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Issued"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Net"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Linked Expense"}),o.jsx("th",{className:"px-3 py-2"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.map(U=>{const ue=r.find(oe=>oe.id===U.employee_id);return o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-sm text-slate-800",children:(ue==null?void 0:ue.name)??U.employee_id}),o.jsxs("td",{className:"px-3 py-2 text-sm text-slate-700",children:[_i(U.period_start)," to ",_i(U.period_end)]}),o.jsx("td",{className:"px-3 py-2 text-sm text-slate-700",children:_i(U.date_issued)}),o.jsx("td",{className:"px-3 py-2 text-right text-sm text-slate-900",children:Kt(U.net_salary)}),o.jsx("td",{className:"px-3 py-2 text-sm",children:U.transaction_id?o.jsx("span",{className:"rounded bg-emerald-50 px-2 py-1 text-emerald-700",children:"Linked"}):o.jsx("span",{className:"rounded bg-slate-50 px-2 py-1 text-slate-600",children:"Not Linked"})}),o.jsxs("td",{className:"px-3 py-2 text-right",children:[o.jsx("button",{className:"rounded-md bg-blue-50 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100",onClick:()=>{W(U),ee(!0)},children:"View"}),o.jsx("button",{className:"ml-2 rounded-md bg-slate-100 px-3 py-1 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>ve(U),children:"Edit"}),o.jsx("button",{className:"ml-2 rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",onClick:()=>je(U.id),children:"Delete"})]})]},U.id)}),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-sm text-slate-500",children:"No payslips yet."})})]})]})})]}),t==="edit"&&_&&o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-3 text-base font-semibold text-slate-900",children:"Payslip Details"}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsxs("label",{className:"text-sm text-slate-600",children:["Employee",o.jsx("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:_.employee_id,onChange:U=>{const ue=U.target.value,oe=r.find(ke=>ke.id===ue),Be=(oe==null?void 0:oe.base_salary)??0,Se=pe(_.period_start,_.period_end,Be),Xe=s.find(ke=>ke.employee_id===ue);F({..._,employee_id:ue,gross_salary:Se,sss:(Xe==null?void 0:Xe.sss)??0,pagibig:(Xe==null?void 0:Xe.pagibig)??0,philhealth:(Xe==null?void 0:Xe.philhealth)??0,tax:(Xe==null?void 0:Xe.tax)??0,bonuses:(Xe==null?void 0:Xe.bonuses)??0,allowances:(Xe==null?void 0:Xe.allowances)??0,cash_advance:0,loan_deductions:se(ue,_.date_issued),other_deductions:0})},children:r.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-slate-600",children:["Period Start",o.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:_.period_start,onChange:U=>{const ue=U.target.value,oe=r.find(Xe=>Xe.id===_.employee_id),Be=(oe==null?void 0:oe.base_salary)??0,Se=pe(ue,_.period_end,Be);F({..._,period_start:ue,gross_salary:Se})}})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Period End",o.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:_.period_end,onChange:U=>{const ue=U.target.value,oe=r.find(Xe=>Xe.id===_.employee_id),Be=(oe==null?void 0:oe.base_salary)??0,Se=pe(_.period_start,ue,Be);F({..._,period_end:ue,gross_salary:Se})}})]})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Date Issued",o.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:_.date_issued,onChange:U=>F({..._,date_issued:U.target.value})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Gross Salary",o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:_.gross_salary,onChange:U=>F({..._,gross_salary:Number(U.target.value)})}),o.jsx("div",{className:"mt-1 text-xs text-slate-500",children:(()=>{const U=r.find(Be=>Be.id===_.employee_id),ue=(U==null?void 0:U.base_salary)??0;return _.gross_salary===ue/2?"(Half-month salary)":ue>0&&_.gross_salary===ue?"(Full-month salary)":""})()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-slate-600",children:["Bonuses",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.bonuses??0,onChange:U=>F({..._,bonuses:Number(U.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Allowances",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.allowances??0,onChange:U=>F({..._,allowances:Number(U.target.value)})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-slate-600",children:["SSS",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.sss??0,onChange:U=>F({..._,sss:Number(U.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Pag-IBIG",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.pagibig??0,onChange:U=>F({..._,pagibig:Number(U.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["PhilHealth",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.philhealth??0,onChange:U=>F({..._,philhealth:Number(U.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Tax",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.tax??0,onChange:U=>F({..._,tax:Number(U.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Cash Advance",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.cash_advance??0,onChange:U=>F({..._,cash_advance:Number(U.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Loan Deductions",o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.loan_deductions??0,onChange:U=>F({..._,loan_deductions:Number(U.target.value)})}),o.jsx("div",{className:"mt-1 text-xs text-slate-500",children:(()=>{const U=Ae(_.employee_id,_.date_issued);return U.length>0?`${U.length} active loan(s)`:"No active loans"})()})]})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Other Deductions",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.other_deductions??0,onChange:U=>F({..._,other_deductions:Number(U.target.value)})})]})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Notes",o.jsx("input",{type:"text",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:_.notes??"",onChange:U=>F({..._,notes:U.target.value})})]}),o.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-3 rounded-lg border border-slate-200 p-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Additions"}),o.jsx("div",{className:"text-slate-900 font-medium",children:Kt(ae.additions)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Deductions"}),o.jsx("div",{className:"text-slate-900 font-medium",children:Kt(ae.deductions)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Net Salary"}),o.jsx("div",{className:"text-slate-900 font-semibold",children:Kt(ae.net)})]})]})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-3 text-sm font-medium text-slate-700",children:"Preview"}),o.jsx("div",{ref:M,children:re&&o.jsx(cC,{employee:re,payslip:{..._,net_salary:ae.net}})})]})})]}),P&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Bulk Generate Payslips"}),o.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Period Start"}),o.jsx("input",{type:"date",value:j,onChange:U=>R(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Period End"}),o.jsx("input",{type:"date",value:Z,onChange:U=>Q(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Employees"}),o.jsx("button",{onClick:qe,className:"text-sm text-blue-600 hover:text-blue-800",children:I.length===r.length?"Deselect All":"Select All"})]}),o.jsxs("div",{className:"max-h-64 space-y-2 overflow-y-auto rounded-lg border border-gray-200 p-3",children:[r.map(U=>o.jsxs("label",{className:"flex items-center gap-3 rounded p-2 hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:I.includes(U.id),onChange:()=>Pe(U.id),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-900",children:U.name}),o.jsxs("div",{className:"text-sm text-gray-500",children:[U.position,"  ",Kt(U.base_salary)]})]})]},U.id)),r.length===0&&o.jsx("p",{className:"text-center text-sm text-gray-500",children:"No employees available"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>E(!1),className:"rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300",children:"Cancel"}),o.jsxs("button",{onClick:Ee,className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:["Generate ",I.length," Payslip",I.length!==1?"s":""]})]})]})}),$&&ye&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"max-h-[80vh] w-full max-w-3xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Salary History"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[ye.employee.name,"  ",ye.employee.position]})]}),o.jsx("button",{onClick:()=>{ce(!1),fe(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-4 rounded-lg bg-blue-50 p-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Base Salary"}),o.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:Kt(ye.employee.base_salary)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Total Payslips"}),o.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:ye.payslips.length})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Total Paid"}),o.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:Kt(ye.totalPaid)})]})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-600",children:"Period"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-600",children:"Issued"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Gross"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Deductions"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Net"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[ye.payslips.map(U=>{const ue=(U.sss??0)+(U.pagibig??0)+(U.philhealth??0)+(U.tax??0)+(U.cash_advance??0)+(U.loan_deductions??0)+(U.other_deductions??0);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[_i(U.period_start)," to ",_i(U.period_end)]}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:_i(U.date_issued)}),o.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:Kt(U.gross_salary)}),o.jsx("td",{className:"px-4 py-3 text-right text-sm text-red-600",children:Kt(ue)}),o.jsx("td",{className:"px-4 py-3 text-right text-sm font-bold text-green-600",children:Kt(U.net_salary)})]},U.id)}),ye.payslips.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No payslips found"})})]})]})})]})}),J&&te&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"max-h-[90vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Payslip Details"}),o.jsx("button",{onClick:()=>{ee(!1),W(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsx("div",{ref:S,className:"rounded-lg border border-gray-200 bg-white p-4",children:o.jsx(cC,{employee:r.find(U=>U.id===te.employee_id),payslip:te})}),o.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>{ee(!1),W(null)},className:"rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300",children:"Close"}),o.jsx("button",{onClick:tt,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Download PDF"})]})]})}),l&&o.jsx("div",{className:"text-sm text-slate-600",children:"Loading..."}),u&&o.jsx("div",{className:"text-sm text-rose-600",children:u})]})}function A9(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(!1),[l,c]=T.useState([]),[u,d]=T.useState(new Date().toISOString().slice(0,10)),[f,g]=T.useState(""),[m,w]=T.useState(""),[b,v]=T.useState(""),[x,C]=T.useState("select"),_=Array.from(new Set(t.map(W=>typeof W.account=="string"?W.account:"").filter(W=>W&&W.trim()!==""))),F=async()=>{n(!0),i(null);const{data:W,error:J}=await $e.from("savings").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});J?i(J.message):e((W??[]).filter(S=>!S.status||S.status==="active")),n(!1)};T.useEffect(()=>{F()},[]);const P=t.reduce((W,J)=>W+(J.amount??0),0),E=async W=>{if(W.preventDefault(),!m||Number(m)<=0)return alert("Enter a positive amount");const J={date:u,description:f||null,amount:Number(m),account:b||null},{data:ee,error:S}=await $e.from("savings").insert([J]).select();if(S)return alert(S.message);g(""),w(""),v(""),C("select"),await F()},j=async W=>{if(!confirm("Delete this saving entry?"))return;const{error:J}=await $e.from("savings").delete().eq("id",W);if(J)return alert(J.message);await F()},R=async W=>{if(confirm("Mark this saving as paid? This will create an expense transaction and remove it from the active list."))try{const J=t.find(M=>M.id===W);if(!J){alert("Saving not found");return}if(!J.amount||J.amount<=0){alert("Invalid saving amount. Cannot create transaction.");return}const{error:ee}=await $e.from("transactions").insert({date:new Date().toISOString().split("T")[0],type:"expense",amount:Number(J.amount),category:"Savings Payment",note:`Paid: ${J.description||"Savings"} ${J.account?`(${J.account})`:""}`});if(ee){alert("Error creating transaction: "+ee.message);return}const{error:S}=await $e.from("savings").update({status:"paid"}).eq("id",W);if(S){alert("Please run the database migration first. Go to Supabase SQL Editor and run the script in supabase/add-savings-status.sql");return}await F(),alert("Saving marked as paid and expense transaction created!")}catch(J){alert("Error: "+J.message)}},Z=async()=>{const{data:W,error:J}=await $e.from("savings").select("*").eq("status","paid").order("date",{ascending:!1}).order("created_at",{ascending:!1});if(J){alert("Error loading paid history: "+J.message);return}c(W??[]),A(!0)},Q=async W=>{if(confirm("Restore this saving back to active list? Note: The expense transaction will remain in your records."))try{const{error:J}=await $e.from("savings").update({status:"active"}).eq("id",W);if(J){alert("Error restoring saving: "+J.message);return}await Z(),await F(),alert("Saving restored to active list!")}catch(J){alert("Error: "+J.message)}},[I,z]=T.useState(null),[$,ce]=T.useState({date:"",description:"",amount:"",account:"",accountMode:"select"}),ie=W=>{z(W.id),ce({date:W.date,description:W.description??"",amount:W.amount,account:W.account??"",accountMode:"select"})},fe=()=>{z(null),ce({date:"",description:"",amount:"",account:"",accountMode:"select"})},te=async()=>{if(!$.amount||Number($.amount)<=0)return alert("Enter a positive amount");const{error:W}=await $e.from("savings").update({date:$.date,description:$.description||null,amount:Number($.amount),account:$.account||null}).eq("id",I);if(W)return alert(W.message);fe(),await F()};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Savings"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Record amounts saved and track totals."})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:Z,className:"rounded bg-gray-600 px-4 py-2 text-sm text-white hover:bg-gray-700",children:"View Paid History"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Total saved"}),o.jsxs("div",{className:"mt-1 text-2xl font-semibold",children:[" ",P.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]})]}),o.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 gap-3 sm:grid-cols-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Date"}),o.jsx("input",{type:"date",value:u,onChange:W=>d(W.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Description"}),o.jsx("input",{type:"text",value:f,onChange:W=>g(W.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Amount"}),o.jsx("input",{type:"number",step:"0.01",value:m,onChange:W=>w(W.target.value===""?"":Number(W.target.value)),className:"mt-1 w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Account"}),x==="select"?o.jsxs("select",{value:b,onChange:W=>{W.target.value==="__new__"?(C("new"),v("")):v(W.target.value)},className:"mt-1 w-full rounded border px-3 py-2",size:Math.min(5,_.length+2),style:{maxHeight:"120px",overflowY:"auto"},children:[o.jsx("option",{value:"",children:"Select account..."}),_.map(W=>o.jsx("option",{value:W,children:W},W)),o.jsx("option",{value:"__new__",children:"Add new account..."})]}):o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"text",value:b,onChange:W=>v(W.target.value),className:"mt-1 w-full rounded border px-3 py-2",placeholder:"Enter new account name"}),o.jsx("button",{type:"button",className:"mt-1 rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>C("select"),children:"Cancel"})]})]}),o.jsx("div",{className:"sm:col-span-4",children:o.jsx("button",{className:"mt-2 rounded bg-blue-600 px-4 py-2 text-white",children:"Save"})})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Description"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Account"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-600",children:"Loading..."})}),s&&!r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-red-600",children:s})}),!r&&!s&&t.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No savings recorded."})}),!r&&!s&&t.map(W=>o.jsx("tr",{children:I===W.id?o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("input",{type:"date",value:$.date,onChange:J=>ce(ee=>({...ee,date:J.target.value})),className:"w-full rounded border px-2 py-1"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("input",{type:"text",value:$.description,onChange:J=>ce(ee=>({...ee,description:J.target.value})),className:"w-full rounded border px-2 py-1"})}),o.jsx("td",{className:"px-4 py-2 text-right text-sm",children:o.jsx("input",{type:"number",step:"0.01",value:$.amount,onChange:J=>ce(ee=>({...ee,amount:J.target.value===""?"":Number(J.target.value)})),className:"w-full rounded border px-2 py-1 text-right"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:$.accountMode==="select"?o.jsxs("select",{value:$.account,onChange:J=>{J.target.value==="__new__"?ce(ee=>({...ee,accountMode:"new",account:""})):ce(ee=>({...ee,account:J.target.value}))},className:"w-full rounded border px-2 py-1",size:Math.min(5,_.length+2),style:{maxHeight:"120px",overflowY:"auto"},children:[o.jsx("option",{value:"",children:"Select account..."}),_.map(J=>o.jsx("option",{value:J,children:J},J)),o.jsx("option",{value:"__new__",children:"Add new account..."})]}):o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"text",value:$.account,onChange:J=>ce(ee=>({...ee,account:J.target.value})),className:"w-full rounded border px-2 py-1",placeholder:"Enter new account name"}),o.jsx("button",{type:"button",className:"rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>ce(J=>({...J,accountMode:"select"})),children:"Cancel"})]})}),o.jsxs("td",{className:"px-4 py-2 text-sm flex gap-2",children:[o.jsx("button",{type:"button",className:"rounded bg-blue-600 px-2 py-1 text-white",onClick:te,children:"Save"}),o.jsx("button",{type:"button",className:"rounded bg-gray-400 px-2 py-1 text-white",onClick:fe,children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:W.date}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:W.description??""}),o.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:[""," ",W.amount.toLocaleString(void 0,{maximumFractionDigits:2})]}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:W.account??""}),o.jsxs("td",{className:"px-4 py-2 text-sm flex gap-2",children:[o.jsx("button",{type:"button",className:"rounded bg-green-600 px-2 py-1 text-white hover:bg-green-700",onClick:()=>R(W.id),children:"Paid"}),o.jsx("button",{type:"button",className:"rounded bg-yellow-500 px-2 py-1 text-white hover:bg-yellow-600",onClick:()=>ie(W),children:"Edit"}),o.jsx("button",{onClick:()=>j(W.id),className:"rounded bg-red-600 px-2 py-1 text-white hover:bg-red-700",children:"Delete"})]})]})},W.id))]})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-4xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Paid Savings History"}),o.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.length===0?o.jsx("div",{className:"py-8 text-center text-gray-500",children:"No paid savings records yet."}):o.jsx("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Description"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Account"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(W=>o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:W.date}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:W.description??""}),o.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:[""," ",W.amount.toLocaleString(void 0,{maximumFractionDigits:2})]}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:W.account??""}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("button",{type:"button",className:"rounded bg-blue-600 px-2 py-1 text-white hover:bg-blue-700",onClick:()=>Q(W.id),children:"Restore"})})]},W.id))})]})}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:()=>A(!1),className:"rounded bg-gray-600 px-4 py-2 text-white hover:bg-gray-700",children:"Close"})})]})})]})}console.log(" RequestFunds.tsx file loaded - checking if this shows up");function l9(){console.log(" RequestFunds component loaded - NEW VERSION with database support - v2");const[t,e]=T.useState([]),[r,n]=T.useState(""),[s,i]=T.useState(""),[a,A]=T.useState("whole_month"),[l,c]=T.useState(""),[u,d]=T.useState("N/A"),[f,g]=T.useState("56"),[m,w]=T.useState(!1),[b,v]=T.useState(""),[x,C]=T.useState(new Set),[_,F]=T.useState([]),[P,E]=T.useState([]),[j,R]=T.useState(""),[Z,Q]=T.useState(!1),[I,z]=T.useState(""),[$,ce]=T.useState(!1),[ie,fe]=T.useState(null),[te,W]=T.useState(!1),[J,ee]=T.useState(null),[S,M]=T.useState(!1),[K,G]=T.useState(""),[re,ae]=T.useState(""),Ae=T.useRef(null),se=async()=>{w(!0),v("");try{const X=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!X.ok)throw new Error("Failed to fetch exchange rate");const Qe=await X.json();if(Qe.rates&&Qe.rates.PHP)g(String(Qe.rates.PHP));else throw new Error("PHP rate not found in response")}catch(X){console.error("Error fetching exchange rate:",X),v("Failed to fetch current rate")}finally{w(!1)}};T.useEffect(()=>{se()},[]),T.useEffect(()=>{const X=localStorage.getItem("request-funds-items");if(X)try{const Qe=JSON.parse(X);Array.isArray(Qe)&&e(Qe)}catch{}Ne(),Ue()},[]);const Ne=async()=>{try{const{data:X,error:Qe}=await $e.from("fund_request_groups").select("*").order("created_at",{ascending:!1});if(Qe)throw Qe;const Ye=(X||[]).map(dt=>({id:dt.id,name:dt.name,createdAt:dt.created_at,items:dt.items}));F(Ye)}catch(X){console.error("Error loading saved groups:",X)}},Ue=async()=>{Q(!0),R("");try{console.log("Loading fund history from database...");const{count:X,error:Qe}=await $e.from("fund_request_history").select("*",{count:"exact",head:!0});if(console.log("Table count check:",{count:X,error:Qe}),Qe){if(Qe.message.includes('relation "public.fund_request_history" does not exist')){R("Database tables not set up. Please run the setup script.");return}throw Qe}const{data:Ye,error:dt}=await $e.from("fund_request_history").select("*").order("created_at",{ascending:!1});if(console.log("Fund history query result:",{data:Ye,error:dt,count:Ye==null?void 0:Ye.length}),dt)throw dt;const Et=(Ye||[]).map(ht=>({id:ht.id,created_at:ht.created_at,period:ht.period,period_label:ht.period_label,items:ht.items,total_monthly:ht.total_monthly,total_half_month:ht.total_half_month,total_one_time:ht.total_one_time,total_amount:ht.total_amount,usd_rate:ht.usd_rate,notes:ht.notes,updated_at:ht.updated_at}));console.log("Converted history:",Et),E(Et),Et.length===0&&R("No history records found in database. Save some history first.")}catch(X){console.error("Error loading fund history:",X),R(`Database error: ${X.message}`)}finally{Q(!1)}};T.useEffect(()=>{localStorage.setItem("request-funds-items",JSON.stringify(t))},[t]);const pe=()=>{if(!r.trim())return alert("Enter a description");let X=0,Qe=0,Ye=0;if(a==="whole_month"?(X=s?Number(s):0,Qe=X/2,Ye=X):a==="half_month"?(Qe=s?Number(s):0,X=Qe*2,Ye=Qe):(Ye=s?Number(s):0,X=0,Qe=0),isNaN(Ye)||Ye<=0)return alert("Enter a valid amount");const dt={id:crypto.randomUUID(),description:r.trim(),amount:Ye,requestType:a,monthlyAmount:X,halfMonthAmount:Qe,remarks:l.trim(),status:u};e(Et=>[...Et,dt]),n(""),i(""),c(""),d("N/A")},ve=X=>{e(Qe=>Qe.filter(Ye=>Ye.id!==X)),C(Qe=>{const Ye=new Set(Qe);return Ye.delete(X),Ye})},je=X=>{C(Qe=>{const Ye=new Set(Qe);return Ye.has(X)?Ye.delete(X):Ye.add(X),Ye})},ge=()=>{if(x.size===0)return alert("Please select at least one item to save as a group");ce(!0)},Y=async()=>{if(!I.trim())return alert("Please enter a group name");try{const X=t.filter(Ye=>x.has(Ye.id)),{error:Qe}=await $e.from("fund_request_groups").insert({name:I.trim(),items:X});if(Qe)throw Qe;await Ne(),z(""),ce(!1),C(new Set),alert("Group saved successfully!")}catch(X){console.error("Error saving group:",X),alert(`Error saving group: ${X.message}`)}},tt=async X=>{if(confirm("Are you sure you want to delete this group?"))try{const{error:Qe}=await $e.from("fund_request_groups").delete().eq("id",X);if(Qe)throw Qe;await Ne(),alert("Group deleted successfully!")}catch(Qe){console.error("Error deleting group:",Qe),alert(`Error deleting group: ${Qe.message}`)}},Re=X=>{fe(X)},Ie=()=>{fe(null)},Ve=()=>{if(t.length===0)return alert("No items to save to history");const X=new Date,Qe=`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}`;G(Qe),ae(""),M(!0)},Ee=async()=>{if(!K.trim())return alert("Please enter a period");try{console.log("Saving history to database...");const{data:X}=await $e.from("fund_request_history").select("id").eq("period",K.trim()).single();if(console.log("Existing data check:",X),X&&!confirm("A record for this period already exists. Do you want to overwrite it?"))return;const[Qe,Ye]=K.split("-"),Et=`${["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(Ye)-1]} ${Qe}`,ht={period:K.trim(),period_label:Et,items:t,total_monthly:ke.monthly,total_half_month:ke.half,total_one_time:ke.oneTime,total_amount:ke.overall,usd_rate:Number(f)||56,notes:re.trim()||null};console.log("History record to save:",ht);let st;if(X){const{error:ft}=await $e.from("fund_request_history").update(ht).eq("id",X.id);st=ft,console.log("Update result:",{error:ft})}else{const{error:ft,data:Te}=await $e.from("fund_request_history").insert(ht);st=ft,console.log("Insert result:",{error:ft,data:Te})}if(st)throw st;await Ue(),M(!1),G(""),ae(""),alert("Successfully saved to history!")}catch(X){console.error("Error saving history:",X),alert(`Error saving history: ${X.message}`)}},Pe=async X=>{if(confirm("Are you sure you want to delete this history record?"))try{const{error:Qe}=await $e.from("fund_request_history").delete().eq("id",X);if(Qe)throw Qe;await Ue(),alert("History record deleted successfully!")}catch(Qe){console.error("Error deleting history:",Qe),alert(`Error deleting history: ${Qe.message}`)}},qe=X=>{ee(X),W(!0)},et=()=>{ee(null),W(!1)},ye=X=>{if(t.length>0&&!confirm("This will replace your current items. Continue?"))return;const Qe=X.items.map(Ye=>({...Ye,id:crypto.randomUUID()}));e(Qe),g(String(X.usd_rate)),et(),alert("Items loaded from history!")},[Oe,U]=T.useState(null),[ue,oe]=T.useState({description:"",amount:"",requestType:"whole_month",remarks:"",status:"N/A"}),Be=X=>{U(X.id),oe({description:X.description,amount:String(Number(X.amount)||0),requestType:X.requestType,remarks:X.remarks,status:X.status})},Se=()=>{U(null),oe({description:"",amount:"",requestType:"whole_month",remarks:"",status:"N/A"})},Xe=()=>{if(!Oe)return;if(!ue.description.trim())return alert("Enter a description");const X=ue.amount?Number(ue.amount):0;if(isNaN(X)||X<=0)return alert("Enter a valid amount");let Qe=0,Ye=0;ue.requestType==="whole_month"?(Qe=X,Ye=X/2):ue.requestType==="half_month"?(Ye=X,Qe=X*2):(Qe=0,Ye=0),e(dt=>dt.map(Et=>Et.id===Oe?{...Et,description:ue.description.trim(),amount:X,requestType:ue.requestType,monthlyAmount:Qe,halfMonthAmount:Ye,remarks:ue.remarks.trim(),status:ue.status}:Et)),Se()},ke=T.useMemo(()=>{const X=t.reduce((dt,Et)=>dt+(Number(Et.monthlyAmount)||0),0),Qe=t.reduce((dt,Et)=>dt+(Number(Et.halfMonthAmount)||0),0),Ye=t.reduce((dt,Et)=>Et.requestType==="one_time"?dt+(Number(Et.amount)||0):dt,0);return{monthly:X,half:Qe,oneTime:Ye,overall:X+Qe+Ye}},[t]),Je=X=>` ${X.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,We=X=>`$ ${X.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,nt=X=>{const Qe=Number(f);return!Qe||isNaN(Qe)||Qe<=0?0:X/Qe},pt=async()=>{if(!Ae.current)return;const X=Ae.current;document.body.classList.add("pdf-mode");const Qe=await ip(X,{scale:4,useCORS:!0,backgroundColor:"#ffffff"}),Ye=Qe.toDataURL("image/png"),dt=new mt({orientation:"p",unit:"pt",format:"a4"}),Et=dt.internal.pageSize.getWidth(),ht=dt.internal.pageSize.getHeight(),st=Et-40,ft=Qe.height*st/Qe.width;let Te=20;if(ft<=ht-40)dt.addImage(Ye,"PNG",20,Te,st,ft);else{let Ft=0;const It=Qe.width*(ht-40)/st;for(;Ft<Qe.height;){const Pt=document.createElement("canvas");Pt.width=Qe.width,Pt.height=Math.min(It,Qe.height-Ft);const ut=Pt.getContext("2d");ut&&ut.drawImage(Qe,0,Ft,Qe.width,Pt.height,0,0,Qe.width,Pt.height);const Kr=Pt.toDataURL("image/png");dt.addImage(Kr,"PNG",20,20,st,Pt.height*st/Qe.width),Ft+=Pt.height,Ft<Qe.height&&dt.addPage()}}dt.save(`request-funds-${Date.now()}.pdf`),document.body.classList.remove("pdf-mode")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-end justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Request Funds - DATABASE VERSION"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Prepare a request with monthly and half-month items, remarks, and status."}),x.size>0&&o.jsx("div",{className:"mt-2",children:o.jsxs("button",{onClick:ge,className:"rounded-md bg-purple-600 px-4 py-1.5 text-sm font-medium text-white shadow hover:bg-purple-700",children:["Save ",x.size," Selected as Group"]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-slate-600",title:"PHP per 1 USD",children:"USD Rate (PHP  USD)"}),o.jsx("input",{type:"number",step:"0.0001",min:"0",value:f,onChange:X=>g(X.target.value),className:"w-28 rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"56.00",disabled:m}),o.jsx("button",{onClick:se,disabled:m,className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white shadow hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed",title:"Refresh current rate",children:m?"...":""}),b&&o.jsx("span",{className:"text-xs text-red-600",children:b})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:Ve,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700",children:"Save to History"}),o.jsx("button",{onClick:()=>W(!0),className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-purple-700",children:"View History"}),o.jsx("button",{onClick:pt,className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",children:"Save as PDF"})]})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Description"}),o.jsx("input",{type:"text",value:r,onChange:X=>n(X.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g. Utilities, Internet, Supplies"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Request Type"}),o.jsxs("select",{value:a,onChange:X=>A(X.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"whole_month",children:"Whole Month"}),o.jsx("option",{value:"half_month",children:"Half Month"}),o.jsx("option",{value:"one_time",children:"One-time"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600",children:a==="whole_month"?"Monthly Amount":a==="half_month"?"Half-Month Amount":"Amount"}),o.jsx("input",{type:"number",step:"0.01",value:s,onChange:X=>i(X.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Status"}),o.jsxs("select",{value:u,onChange:X=>d(X.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"N/A",children:"N/A"}),o.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),o.jsx("option",{value:"Fully Paid",children:"Fully Paid"})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Remarks"}),o.jsx("input",{type:"text",value:l,onChange:X=>c(X.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Optional notes"})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{onClick:pe,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"Add Item"})})]}),o.jsxs("div",{ref:Ae,className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm text-[13px] leading-6",children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Request Funds Summary"}),o.jsxs("div",{className:"text-xs text-slate-500",children:["Generated: ",new Date().toLocaleString()]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-slate-500",children:"Exchange Rate (Today)"}),o.jsxs("div",{className:"text-sm font-medium text-slate-700",children:["1 USD ="," ",Number(f||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})," ","PHP"]})]})]}),t.length===0?o.jsx("div",{className:"text-sm text-slate-500",children:"No items added."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[o.jsx("th",{className:"p-2 print:hidden w-10",children:o.jsx("input",{type:"checkbox",checked:t.length>0&&x.size===t.length,onChange:X=>{X.target.checked?C(new Set(t.map(Qe=>Qe.id))):C(new Set)},className:"rounded border-slate-300"})}),o.jsx("th",{className:"p-2",children:"Description"}),o.jsx("th",{className:"p-2",children:"Type"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),o.jsx("th",{className:"p-2",children:"Status"}),o.jsx("th",{className:"p-2",children:"Remarks"}),o.jsx("th",{className:"p-2 print:hidden",children:"Actions"})]})}),o.jsx("tbody",{children:t.map(X=>{if(Oe===X.id){const dt=ue.amount?Number(ue.amount):0;let Et=0,ht=0;return ue.requestType==="whole_month"?(Et=dt,ht=dt/2):ue.requestType==="half_month"&&(ht=dt,Et=dt*2),o.jsxs("tr",{className:"border-b border-slate-100 bg-yellow-50",children:[o.jsx("td",{className:"p-2 print:hidden",children:o.jsx("input",{type:"checkbox",checked:x.has(X.id),onChange:()=>je(X.id),className:"rounded border-slate-300"})}),o.jsx("td",{className:"p-2 text-slate-900",children:o.jsx("input",{type:"text",value:ue.description,onChange:st=>oe(ft=>({...ft,description:st.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("td",{className:"p-2",children:o.jsxs("select",{value:ue.requestType,onChange:st=>oe(ft=>({...ft,requestType:st.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"whole_month",children:"Whole Month"}),o.jsx("option",{value:"half_month",children:"Half Month"}),o.jsx("option",{value:"one_time",children:"One-time"})]})}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:o.jsx("input",{type:"number",step:"0.01",value:ue.amount,onChange:st=>oe(ft=>({...ft,amount:st.target.value})),className:"w-full rounded-md border-slate-300 text-right font-normal shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(dt))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Et)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(Et))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(ht)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(ht))}),o.jsx("td",{className:"p-2",children:o.jsxs("select",{value:ue.status,onChange:st=>oe(ft=>({...ft,status:st.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"N/A",children:"N/A"}),o.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),o.jsx("option",{value:"Fully Paid",children:"Fully Paid"})]})}),o.jsx("td",{className:"p-2",children:o.jsx("input",{type:"text",value:ue.remarks,onChange:st=>oe(ft=>({...ft,remarks:st.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),o.jsxs("td",{className:"p-2 space-x-2 whitespace-nowrap print:hidden",children:[o.jsx("button",{onClick:Xe,className:"rounded-md bg-emerald-600 px-3 py-1 text-xs font-medium text-white hover:bg-emerald-700",children:"Save"}),o.jsx("button",{onClick:Se,className:"rounded-md bg-slate-500 px-3 py-1 text-xs font-medium text-white hover:bg-slate-600",children:"Cancel"})]})]},X.id)}const Ye=dt=>{switch(dt){case"whole_month":return"Whole Month";case"half_month":return"Half Month";case"one_time":return"One-time";default:return dt}};return o.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[o.jsx("td",{className:"p-2 print:hidden",children:o.jsx("input",{type:"checkbox",checked:x.has(X.id),onChange:()=>je(X.id),className:"rounded border-slate-300"})}),o.jsx("td",{className:"p-2 text-slate-900",children:X.description}),o.jsx("td",{className:"p-2 text-slate-900",children:o.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${X.requestType==="whole_month"?"bg-blue-100 text-blue-800":X.requestType==="half_month"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:Ye(X.requestType)})}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Number(X.amount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(Number(X.amount)||0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Number(X.monthlyAmount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(Number(X.monthlyAmount)||0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Number(X.halfMonthAmount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(Number(X.halfMonthAmount)||0))}),o.jsx("td",{className:"p-2",children:X.status}),o.jsx("td",{className:"p-2",children:X.remarks||""}),o.jsxs("td",{className:"p-2 space-x-2 whitespace-nowrap print:hidden",children:[o.jsx("button",{onClick:()=>Be(X),className:"rounded-md bg-blue-600 px-3 py-1 text-xs font-medium text-white hover:bg-blue-700",children:"Edit"}),o.jsx("button",{onClick:()=>ve(X.id),className:"rounded-md bg-rose-600 px-3 py-1 text-xs font-medium text-white hover:bg-rose-700",children:"Remove"})]})]},X.id)})}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"font-medium bg-slate-100",children:[o.jsx("td",{className:"p-2 print:hidden"}),o.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),o.jsx("td",{className:"p-2"}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(ke.oneTime)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(nt(ke.oneTime))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(ke.monthly)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(nt(ke.monthly))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(ke.half)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(nt(ke.half))}),o.jsx("td",{className:"p-2",colSpan:2})]})})]})})]}),_.length>0&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Saved Groups"}),o.jsx("div",{className:"space-y-2",children:_.map(X=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 p-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-slate-900",children:X.name}),o.jsxs("div",{className:"text-xs text-slate-500",children:[X.items.length," items  Created"," ",new Date(X.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>Re(X),className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700",children:"Show Items"}),o.jsx("button",{onClick:()=>tt(X.id),className:"rounded-md bg-rose-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-rose-700",children:"Delete"})]})]},X.id))})]}),$&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[o.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Save Selected Items as Group"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Group Name"}),o.jsx("input",{type:"text",value:I,onChange:X=>z(X.target.value),onKeyDown:X=>{X.key==="Enter"&&Y()},className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g., Monthly Expenses Oct 2025",autoFocus:!0})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>{ce(!1),z("")},className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Cancel"}),o.jsx("button",{onClick:Y,className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:"Save Group"})]})]})}),ie&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-5xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:ie.name}),o.jsxs("p",{className:"text-sm text-slate-500",children:[ie.items.length," items  Created"," ",new Date(ie.createdAt).toLocaleDateString()]})]}),o.jsx("button",{onClick:Ie,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[o.jsx("th",{className:"p-2",children:"Description"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Total"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Total (USD)"}),o.jsx("th",{className:"p-2",children:"Status"}),o.jsx("th",{className:"p-2",children:"Remarks"})]})}),o.jsx("tbody",{children:ie.items.map(X=>{const Qe=Number(X.monthlyAmount)||0,Ye=Number(X.halfMonthAmount)||0,dt=Qe+Ye;return o.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[o.jsx("td",{className:"p-2 text-slate-900",children:X.description}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Qe)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(Qe))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Ye)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(Ye))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(dt)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We(nt(dt))}),o.jsx("td",{className:"p-2",children:X.status}),o.jsx("td",{className:"p-2",children:X.remarks||""})]},X.id)})}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"font-medium bg-slate-100",children:[o.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(ie.items.reduce((X,Qe)=>X+(Number(Qe.monthlyAmount)||0),0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(nt(ie.items.reduce((X,Qe)=>X+(Number(Qe.monthlyAmount)||0),0)))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(ie.items.reduce((X,Qe)=>X+(Number(Qe.halfMonthAmount)||0),0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(nt(ie.items.reduce((X,Qe)=>X+(Number(Qe.halfMonthAmount)||0),0)))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(ie.items.reduce((X,Qe)=>X+(Number(Qe.monthlyAmount)||0)+(Number(Qe.halfMonthAmount)||0),0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(nt(ie.items.reduce((X,Qe)=>X+(Number(Qe.monthlyAmount)||0)+(Number(Qe.halfMonthAmount)||0),0)))}),o.jsx("td",{className:"p-2",colSpan:2})]})})]})})]})}),S&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[o.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Save Current Request to History"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Period (YYYY-MM)"}),o.jsx("input",{type:"month",value:K,onChange:X=>G(X.target.value),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",autoFocus:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{value:re,onChange:X=>ae(X.target.value),rows:3,className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes about this request period..."})]}),o.jsx("div",{className:"mb-4 rounded-lg bg-blue-50 p-3",children:o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Summary:"}),o.jsxs("div",{className:"mt-1 text-xs",children:[" ",t.length," items  Monthly: ",Je(ke.monthly)," Half-Month: ",Je(ke.half)," One-time: ",Je(ke.oneTime)," Total: ",Je(ke.overall)]})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>{M(!1),G(""),ae("")},className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Cancel"}),o.jsx("button",{onClick:Ee,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",children:"Save to History"})]})]})}),te&&!J&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-4xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Fund Request History"}),o.jsx("button",{onClick:()=>W(!1),className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]}),Z?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"text-slate-500 mb-2",children:"Loading history..."})}):P.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-slate-500 mb-2",children:"No history records found"}),j?o.jsx("div",{className:"text-sm text-red-600 mb-2",children:j}):o.jsx("div",{className:"text-sm text-slate-400",children:"Save your current request to create the first history record"}),o.jsx("button",{onClick:Ue,className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:"Retry Loading"})]}):o.jsx("div",{className:"space-y-3",children:P.sort((X,Qe)=>new Date(Qe.created_at).getTime()-new Date(X.created_at).getTime()).map(X=>o.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-slate-900",children:X.period_label}),o.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:[X.items.length," items  Created ",new Date(X.created_at).toLocaleDateString()]}),X.notes&&o.jsxs("div",{className:"text-sm text-slate-500 mt-1 italic",children:['"',X.notes,'"']}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Monthly"}),o.jsx("div",{className:"font-medium text-slate-900",children:Je(X.total_monthly)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Half-Month"}),o.jsx("div",{className:"font-medium text-slate-900",children:Je(X.total_half_month)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"One-time"}),o.jsx("div",{className:"font-medium text-slate-900",children:Je(X.total_one_time)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Total"}),o.jsx("div",{className:"font-semibold text-slate-900",children:Je(X.total_amount)})]})]})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx("button",{onClick:()=>qe(X),className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700",children:"View Details"}),o.jsx("button",{onClick:()=>ye(X),className:"rounded-md bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700",children:"Load Items"}),o.jsx("button",{onClick:()=>Pe(X.id),className:"rounded-md bg-rose-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-rose-700",children:"Delete"})]})]})},X.id))})]})}),J&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-6xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:[J.period_label," - Fund Request Details"]}),o.jsxs("p",{className:"text-sm text-slate-500",children:[J.items.length," items  Created ",new Date(J.created_at).toLocaleDateString(),J.notes&&`  ${J.notes}`]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>ye(J),className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Load Items"}),o.jsx("button",{onClick:et,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-slate-50 rounded-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-slate-500",children:"Monthly Total"}),o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:Je(J.total_monthly)}),o.jsx("div",{className:"text-xs text-slate-600",children:We(J.total_monthly/J.usd_rate)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-slate-500",children:"Half-Month Total"}),o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:Je(J.total_half_month)}),o.jsx("div",{className:"text-xs text-slate-600",children:We(J.total_half_month/J.usd_rate)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-slate-500",children:"One-time Total"}),o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:Je(J.total_one_time)}),o.jsx("div",{className:"text-xs text-slate-600",children:We(J.total_one_time/J.usd_rate)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-slate-500",children:"Grand Total"}),o.jsx("div",{className:"text-xl font-bold text-slate-900",children:Je(J.total_amount)}),o.jsx("div",{className:"text-xs text-slate-600",children:We(J.total_amount/J.usd_rate)})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[o.jsx("th",{className:"p-2",children:"Description"}),o.jsx("th",{className:"p-2",children:"Type"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),o.jsx("th",{className:"p-2",children:"Status"}),o.jsx("th",{className:"p-2",children:"Remarks"})]})}),o.jsx("tbody",{children:J.items.map(X=>{const Qe=Ye=>{switch(Ye){case"whole_month":return"Whole Month";case"half_month":return"Half Month";case"one_time":return"One-time";default:return Ye}};return o.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[o.jsx("td",{className:"p-2 text-slate-900",children:X.description}),o.jsx("td",{className:"p-2 text-slate-900",children:o.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${X.requestType==="whole_month"?"bg-blue-100 text-blue-800":X.requestType==="half_month"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:Qe(X.requestType)})}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Number(X.amount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We((Number(X.amount)||0)/J.usd_rate)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Number(X.monthlyAmount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We((Number(X.monthlyAmount)||0)/J.usd_rate)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Je(Number(X.halfMonthAmount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:We((Number(X.halfMonthAmount)||0)/J.usd_rate)}),o.jsx("td",{className:"p-2",children:X.status}),o.jsx("td",{className:"p-2",children:X.remarks||""})]},X.id)})}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"font-medium bg-slate-100",children:[o.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),o.jsx("td",{className:"p-2"}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(J.total_one_time)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(J.total_one_time/J.usd_rate)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(J.total_monthly)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(J.total_monthly/J.usd_rate)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Je(J.total_half_month)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:We(J.total_half_month/J.usd_rate)}),o.jsx("td",{className:"p-2",colSpan:2})]})})]})})]})})]})}function c9(){const[t,e]=T.useState(""),[r,n]=T.useState(new Date().toISOString().split("T")[0]),[s,i]=T.useState(""),[a,A]=T.useState(""),[l,c]=T.useState(""),[u,d]=T.useState(""),[f,g]=T.useState([{id:"1",description:"",amount:0}]),[m,w]=T.useState(""),[b,v]=T.useState("Payment due within 30 days"),[x,C]=T.useState([]),[_,F]=T.useState([]),[P,E]=T.useState(!1),[j,R]=T.useState(!1),[Z,Q]=T.useState(""),[I,z]=T.useState(null);T.useEffect(()=>{const se=localStorage.getItem("savedClients"),Ne=localStorage.getItem("savedDescriptions");se&&C(JSON.parse(se)),Ne&&F(JSON.parse(Ne))},[]);const $=()=>{if(!a.trim()){alert("Please enter a client name");return}const se={name:a,email:l,address:u},Ne=[...x,se];C(Ne),localStorage.setItem("savedClients",JSON.stringify(Ne)),alert("Client saved successfully!")},ce=se=>{A(se.name),c(se.email),d(se.address),E(!1)},ie=se=>{if(confirm("Delete this client?")){const Ne=x.filter((Ue,pe)=>pe!==se);C(Ne),localStorage.setItem("savedClients",JSON.stringify(Ne))}},fe=()=>{if(!Z.trim()){alert("Please enter a description");return}const se={id:Date.now().toString(),text:Z},Ne=[..._,se];F(Ne),localStorage.setItem("savedDescriptions",JSON.stringify(Ne)),Q(""),alert("Description saved successfully!")},te=se=>{I&&S(I,"description",se.text),R(!1),z(null)},W=se=>{if(confirm("Delete this description?")){const Ne=_.filter(Ue=>Ue.id!==se);F(Ne),localStorage.setItem("savedDescriptions",JSON.stringify(Ne))}},J=()=>{const se=(Math.max(...f.map(Ne=>parseInt(Ne.id)),0)+1).toString();g([...f,{id:se,description:"",amount:0}])},ee=se=>{f.length>1&&g(f.filter(Ne=>Ne.id!==se))},S=(se,Ne,Ue)=>{g(f.map(pe=>pe.id===se?{...pe,[Ne]:Ue}:pe))},M=f.reduce((se,Ne)=>se+Ne.amount,0),K=0,G=M+K,re=()=>{const se={id:Date.now().toString(),invoiceNumber:t,invoiceDate:r,dueDate:s,clientName:a,clientEmail:l,clientAddress:u,items:f,notes:m,terms:b,subtotal:M,tax:K,total:G,createdAt:new Date().toISOString()},Ne=localStorage.getItem("savedInvoices"),Ue=Ne?JSON.parse(Ne):[];Ue.push(se),localStorage.setItem("savedInvoices",JSON.stringify(Ue))},ae=async()=>{const se=document.getElementById("invoice-content");if(!se){alert("Invoice content not found");return}try{const Ne=se.cloneNode(!0);Ne.querySelectorAll(".print\\:hidden").forEach(Pe=>Pe.remove()),Ne.querySelectorAll(".print\\:block").forEach(Pe=>{Pe.style.display="block"}),Ne.style.position="absolute",Ne.style.left="-9999px",document.body.appendChild(Ne);const ve=await ip(Ne,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",windowWidth:1200});document.body.removeChild(Ne);const je=ve.toDataURL("image/png"),ge=new mt({orientation:"portrait",unit:"mm",format:"a4"}),Y=210,tt=297,Re=ve.height*Y/ve.width;let Ie=Re,Ve=0;for(ge.addImage(je,"PNG",0,Ve,Y,Re),Ie-=tt;Ie>0;)Ve=Ie-Re,ge.addPage(),ge.addImage(je,"PNG",0,Ve,Y,Re),Ie-=tt;const Ee=t?`Invoice-${t}.pdf`:`Invoice-${new Date().toISOString().split("T")[0]}.pdf`;ge.save(Ee),re(),alert("Invoice saved successfully!")}catch(Ne){console.error("Error generating PDF:",Ne),alert("Failed to generate PDF. Please try again.")}},Ae=()=>{e(""),n(new Date().toISOString().split("T")[0]),i(""),A(""),c(""),d(""),g([{id:"1",description:"",amount:0}]),w(""),v("Payment due within 30 days")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between print:hidden",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice Maker"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>E(!0),className:"rounded bg-emerald-500 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-600",children:" Saved Clients"}),o.jsx("button",{onClick:()=>R(!0),className:"rounded bg-purple-500 px-4 py-2 text-sm font-medium text-white hover:bg-purple-600",children:" Saved Descriptions"}),o.jsx("button",{onClick:Ae,className:"rounded bg-gray-500 px-4 py-2 text-sm font-medium text-white hover:bg-gray-600",children:"Reset"}),o.jsx("button",{onClick:ae,className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Save as PDF"})]})]}),P&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:hidden",children:o.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Saved Clients"}),o.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[o.jsx("h4",{className:"mb-2 font-semibold text-blue-900",children:"Save Current Client"}),o.jsx("p",{className:"mb-3 text-sm text-blue-700",children:"Fill in the client details in the invoice form, then click save."}),o.jsx("button",{onClick:$,className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:" Save Current Client"})]}),o.jsx("div",{className:"space-y-3",children:x.length===0?o.jsx("p",{className:"text-center text-sm text-gray-500",children:"No saved clients yet"}):x.map((se,Ne)=>o.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:se.name}),o.jsx("div",{className:"text-sm text-gray-600",children:se.email}),o.jsx("div",{className:"text-sm text-gray-500",children:se.address})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>ce(se),className:"rounded bg-emerald-500 px-3 py-1 text-sm text-white hover:bg-emerald-600",children:"Load"}),o.jsx("button",{onClick:()=>ie(Ne),className:"rounded bg-red-500 px-3 py-1 text-sm text-white hover:bg-red-600",children:"Delete"})]})]},Ne))})]})}),j&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:hidden",children:o.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Saved Descriptions"}),o.jsx("button",{onClick:()=>{R(!1),z(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-6 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsx("h4",{className:"mb-2 font-semibold text-purple-900",children:"Add New Description"}),o.jsx("textarea",{value:Z,onChange:se=>Q(se.target.value),placeholder:"Enter a description template (e.g., 'Website Development - Full Stack Application')",rows:3,className:"mb-3 w-full rounded border border-purple-300 px-3 py-2 text-sm"}),o.jsx("button",{onClick:fe,className:"rounded bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:" Save Description"})]}),o.jsx("div",{className:"space-y-3",children:_.length===0?o.jsx("p",{className:"text-center text-sm text-gray-500",children:"No saved descriptions yet"}):_.map(se=>o.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50",children:[o.jsx("div",{className:"flex-1 text-sm text-gray-700",children:se.text}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>te(se),className:"rounded bg-purple-500 px-3 py-1 text-sm text-white hover:bg-purple-600",children:"Use"}),o.jsx("button",{onClick:()=>W(se.id),className:"rounded bg-red-500 px-3 py-1 text-sm text-white hover:bg-red-600",children:"Delete"})]})]},se.id))})]})}),o.jsxs("div",{id:"invoice-content",className:"rounded-lg border border-gray-200 bg-white shadow-lg",style:{maxWidth:"210mm",margin:"0 auto"},children:[o.jsx("div",{className:"border-b-4 border-blue-600 bg-white p-10",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"h-24 w-24 rounded object-contain shadow-sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"}),o.jsx("p",{className:"text-sm text-gray-600",children:"(032) 234-1362  09297246296"})]})]}),o.jsx("div",{children:o.jsx("h2",{className:"text-right text-4xl font-bold text-blue-600",children:"INVOICE"})})]})}),o.jsxs("div",{className:"bg-gray-50 p-10",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"mb-3 text-xs font-bold uppercase tracking-wider text-gray-500",children:"Bill To:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:a,onChange:se=>A(se.target.value),placeholder:"Client Name",className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm font-semibold focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("p",{className:"hidden text-sm font-semibold text-gray-900 print:block",children:a||"Client Name"}),o.jsx("textarea",{value:u,onChange:se=>d(se.target.value),placeholder:"Client Address",rows:3,className:"w-full resize-none rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:u||"Client Address"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[o.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Invoice #:"}),o.jsx("input",{type:"text",value:t,onChange:se=>e(se.target.value),placeholder:"INV-001",className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm font-semibold focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("span",{className:"hidden print:block"}),o.jsx("p",{className:"hidden text-right text-sm font-semibold text-gray-900 print:block",children:t||"INV-001"})]}),o.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[o.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Date:"}),o.jsx("input",{type:"date",value:r,onChange:se=>n(se.target.value),className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("span",{className:"hidden print:block"}),o.jsx("p",{className:"hidden text-right text-sm text-gray-900 print:block",children:r})]}),o.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[o.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Due Date:"}),o.jsx("input",{type:"date",value:s,onChange:se=>i(se.target.value),className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("span",{className:"hidden print:block"}),o.jsx("p",{className:"hidden text-right text-sm text-gray-900 print:block",children:s||"N/A"})]})]})]}),o.jsxs("div",{className:"p-10",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-gray-800",children:[o.jsx("th",{className:"py-3 text-left text-xs font-bold uppercase tracking-wider text-gray-700",children:"Description"}),o.jsx("th",{className:"w-40 py-3 text-right text-xs font-bold uppercase tracking-wider text-gray-700",children:"Amount"}),o.jsx("th",{className:"w-10 print:hidden"})]})}),o.jsx("tbody",{children:f.map(se=>o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsxs("td",{className:"py-3",children:[o.jsxs("div",{className:"flex gap-2 print:hidden",children:[o.jsx("input",{type:"text",value:se.description,onChange:Ne=>S(se.id,"description",Ne.target.value),placeholder:"Item description",className:"flex-1 rounded border border-gray-300 bg-white px-2 py-1 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),o.jsx("button",{type:"button",onClick:()=>{z(se.id),R(!0)},className:"rounded bg-purple-100 px-2 text-xs text-purple-700 hover:bg-purple-200",title:"Load saved description",children:""})]}),o.jsx("p",{className:"hidden py-1 text-sm text-gray-900 print:block",children:se.description||"Item description"})]}),o.jsxs("td",{className:"py-3 text-right",children:[o.jsx("input",{type:"number",value:se.amount,onChange:Ne=>S(se.id,"amount",parseFloat(Ne.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:"w-full rounded border border-gray-300 bg-white px-2 py-1 text-right text-sm font-medium focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsxs("p",{className:"hidden py-1 text-sm font-medium text-gray-900 print:block",children:["$",se.amount.toFixed(2)]})]}),o.jsx("td",{className:"py-3 text-center print:hidden",children:o.jsx("button",{onClick:()=>ee(se.id),className:"text-red-600 hover:text-red-800",disabled:f.length===1,children:""})})]},se.id))})]}),o.jsx("button",{onClick:J,className:"mt-3 text-sm text-blue-600 hover:text-blue-800 print:hidden",children:"+ Add Item"})]}),o.jsxs("div",{className:"bg-gray-50 p-10",children:[o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"w-64 space-y-2",children:[o.jsxs("div",{className:"flex justify-between border-b border-gray-200 py-2 text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["$",M.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between border-b border-gray-200 py-2 text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Tax (0%):"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["$",K.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between border-t-2 border-gray-800 py-3",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),o.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",G.toFixed(2)]})]})]})}),o.jsxs("div",{className:"space-y-4 border-t border-gray-200 p-10",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-bold uppercase text-gray-500",children:"Notes"}),o.jsx("textarea",{value:m,onChange:se=>w(se.target.value),placeholder:"Additional notes or special instructions",rows:2,className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:m||"No additional notes"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-bold uppercase text-gray-500",children:"Terms & Conditions"}),o.jsx("textarea",{value:b,onChange:se=>v(se.target.value),rows:2,className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:b})]})]}),o.jsxs("div",{className:"border-t border-gray-200 bg-gray-100 p-6 text-center",children:[o.jsx("p",{className:"text-xs text-gray-600",children:"Thank you for your business!"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Avensetech Software Development Services  OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"})]})]})]})]})]})}function u9(){const[t,e]=T.useState([]),[r,n]=T.useState(""),s=DN();T.useEffect(()=>{i()},[]);const i=()=>{const l=localStorage.getItem("savedInvoices");if(l){const c=JSON.parse(l);e(c.sort((u,d)=>new Date(d.createdAt).getTime()-new Date(u.createdAt).getTime()))}},a=l=>{if(confirm("Delete this invoice?")){const c=t.filter(u=>u.id!==l);e(c),localStorage.setItem("savedInvoices",JSON.stringify(c))}},A=t.filter(l=>l.invoiceNumber.toLowerCase().includes(r.toLowerCase())||l.clientName.toLowerCase().includes(r.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice History"}),o.jsx("p",{className:"text-sm text-gray-600",children:"View and manage previously created invoices"})]}),o.jsx("button",{onClick:()=>s("/invoice"),className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"+ Create New Invoice"})]}),o.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:o.jsx("input",{type:"text",value:r,onChange:l=>n(l.target.value),placeholder:"Search by invoice number or client name...",className:"w-full rounded-md border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500"})}),A.length===0?o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-12 text-center shadow-sm",children:[o.jsx("p",{className:"text-gray-500",children:r?"No invoices found matching your search":"No invoices saved yet"}),!r&&o.jsx("button",{onClick:()=>s("/invoice"),className:"mt-4 rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Create Your First Invoice"})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:A.map(l=>o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:l.invoiceNumber||"No Number"}),o.jsx("p",{className:"text-sm text-gray-600",children:l.clientName||"No Client"})]}),o.jsxs("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800",children:["$",l.total.toFixed(2)]})]}),o.jsxs("div",{className:"mb-4 space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Date:"}),o.jsx("span",{className:"font-medium text-gray-900",children:l.invoiceDate})]}),l.dueDate&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Due:"}),o.jsx("span",{className:"font-medium text-gray-900",children:l.dueDate})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Items:"}),o.jsx("span",{className:"font-medium text-gray-900",children:l.items.length})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("div",{className:"mb-3 max-h-20 overflow-y-auto text-xs text-gray-600",children:l.items.map((c,u)=>o.jsxs("div",{className:"truncate",children:[" ",c.description||"No description"]},u))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(`/invoice?load=${l.id}`),className:"flex-1 rounded bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 hover:bg-blue-100",children:"View/Edit"}),o.jsx("button",{onClick:()=>a(l.id),className:"rounded bg-red-50 px-3 py-2 text-sm font-medium text-red-700 hover:bg-red-100",children:"Delete"})]})]}),o.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:["Created: ",new Date(l.createdAt).toLocaleDateString()]})]},l.id))})]})}const Ux=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function d9(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(""),[l,c]=T.useState(!1),[u,d]=T.useState(null),[f,g]=T.useState("basic"),[m,w]=T.useState(null),[b,v]=T.useState(!1),[x,C]=T.useState(""),[_,F]=T.useState(""),[P,E]=T.useState(""),[j,R]=T.useState(""),[Z,Q]=T.useState(""),[I,z]=T.useState(""),[$,ce]=T.useState(""),[ie,fe]=T.useState(""),[te,W]=T.useState(""),[J,ee]=T.useState(""),[S,M]=T.useState(""),[K,G]=T.useState(""),[re,ae]=T.useState("active"),[Ae,se]=T.useState(""),[Ne,Ue]=T.useState(""),[pe,ve]=T.useState("probationary"),[je,ge]=T.useState(""),[Y,tt]=T.useState(""),[Re,Ie]=T.useState(""),[Ve,Ee]=T.useState(""),[Pe,qe]=T.useState(""),[et,ye]=T.useState(""),[Oe,U]=T.useState(""),[ue,oe]=T.useState(""),[Be,Se]=T.useState(""),[Xe,ke]=T.useState(""),[Je,We]=T.useState(""),[nt,pt]=T.useState("");T.useEffect(()=>{X()},[]);const X=async()=>{n(!0),i(null);const{data:Te,error:Ft}=await $e.from("employees").select("*").order("name",{ascending:!0});Ft?i(Ft.message):e(Te??[]),n(!1)},Qe=Te=>{var Ft;if(Te){d(Te);const It=Te.name.split(" ");It.length>=3?(C(It[0]),F(It.slice(1,-1).join(" ")),E(It[It.length-1])):It.length===2?(C(It[0]),F(""),E(It[1])):(C(Te.name),F(""),E("")),R(Te.position||""),Q(((Ft=Te.base_salary)==null?void 0:Ft.toString())||""),z(Te.employee_number||""),ce(Te.email||""),fe(Te.phone||""),W(Te.address||""),ee(Te.birthdate||""),M(Te.date_hired||""),G(Te.department||""),ae(Te.status||"active"),se(Te.gender||""),Ue(Te.marital_status||""),ve(Te.employment_status||"probationary"),ge(Te.regularization_date||""),tt(Te.emergency_contact_name||""),Ie(Te.emergency_contact_phone||""),Ee(Te.emergency_contact_relationship||""),qe(Te.sss_number||""),ye(Te.philhealth_number||""),U(Te.pagibig_number||""),oe(Te.tin_number||""),Se(Te.bank_name||""),ke(Te.bank_account_number||""),We(Te.bank_account_name||""),pt(Te.bank_branch||"")}else Ye();c(!0)},Ye=()=>{d(null),C(""),F(""),E(""),R(""),Q(""),z(""),ce(""),fe(""),W(""),ee(""),M(""),G(""),ae("active"),se(""),Ue(""),ve("probationary"),ge(""),tt(""),Ie(""),Ee(""),qe(""),ye(""),U(""),oe(""),Se(""),ke(""),We(""),pt("")},dt=async()=>{if(!x.trim()||!P.trim()){alert("First name and last name are required");return}const Te=[x.trim(),_.trim(),P.trim()].filter(Pt=>Pt).join(" ");let Ft=I.trim();if(!u&&!Ft){const{data:Pt}=await $e.from("employees").select("employee_number").not("employee_number","is",null).order("created_at",{ascending:!1}),ut=(Pt==null?void 0:Pt.map(Yr=>{var Vt;const Ir=(Vt=Yr.employee_number)==null?void 0:Vt.match(/EMP-(\d+)/);return Ir?parseInt(Ir[1]):0}).filter(Yr=>Yr>0))||[],Kr=ut.length>0?Math.max(...ut)+1:1;Ft=`EMP-${String(Kr).padStart(4,"0")}`}const It={name:Te,position:j.trim()||null,base_salary:Z?Number(Z):null,employee_number:Ft||null,email:$.trim()||null,phone:ie.trim()||null,address:te.trim()||null,birthdate:J||null,date_hired:S||null,department:K.trim()||null,status:re,gender:Ae||null,marital_status:Ne||null,employment_status:pe,regularization_date:je||null,emergency_contact_name:Y.trim()||null,emergency_contact_phone:Re.trim()||null,emergency_contact_relationship:Ve.trim()||null,sss_number:Pe.trim()||null,philhealth_number:et.trim()||null,pagibig_number:Oe.trim()||null,tin_number:ue.trim()||null,bank_name:Be.trim()||null,bank_account_number:Xe.trim()||null,bank_account_name:Je.trim()||null,bank_branch:nt.trim()||null};if(!u)pe==="probationary"?(It.sick_leave_balance=2,It.vacation_leave_balance=2):(It.sick_leave_balance=6,It.vacation_leave_balance=6),It.birthday_leave_balance=1;else if(u.employment_status==="probationary"&&pe==="regular"){const Pt=new Date().getFullYear();(je?new Date(je):new Date).getFullYear()===Pt?(It.sick_leave_balance=(u.sick_leave_balance??2)+6,It.vacation_leave_balance=(u.vacation_leave_balance??2)+6):(It.sick_leave_balance=6,It.vacation_leave_balance=6)}if(u){const{error:Pt}=await $e.from("employees").update(It).eq("id",u.id);if(Pt){alert(Pt.message);return}}else{const{error:Pt}=await $e.from("employees").insert(It);if(Pt){alert(Pt.message);return}}c(!1),Ye(),await X()},Et=async Te=>{if(!confirm("Are you sure you want to delete this employee? This will also delete all associated payslips."))return;const{error:Ft}=await $e.from("employees").delete().eq("id",Te);if(Ft){alert(Ft.message);return}await X()},ht=t.filter(Te=>Te.name.toLowerCase().includes(a.toLowerCase())||Te.position&&Te.position.toLowerCase().includes(a.toLowerCase())),st=ht.length,ft=ht.reduce((Te,Ft)=>Te+(Ft.base_salary||0),0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"HRIS - Employee Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage employee information and records"})]}),o.jsx("button",{onClick:()=>Qe(),className:"btn-primary",children:"+ Add Employee"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsx("div",{className:"card-hover rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Employees"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:st})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Payroll"}),o.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-900",children:["",ft.toLocaleString()]})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Avg. Salary"}),o.jsxs("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:["",st>0?Math.round(ft/st).toLocaleString():0]})]}),o.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:o.jsx("input",{type:"text",value:a,onChange:Te=>A(Te.target.value),placeholder:"Search employees by name or position...",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Position"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Base Salary"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:o.jsx("div",{className:"loading-shimmer mx-auto h-8 w-48 rounded"})})}),s&&!r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-red-600",children:s})}),!r&&!s&&ht.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:a?"No employees found matching your search":"No employees yet. Add your first employee!"})}),!r&&!s&&ht.map(Te=>o.jsxs("tr",{className:"table-row-hover",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold",children:Te.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"ml-4",children:o.jsx("button",{onClick:()=>{w(Te),v(!0)},className:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline",children:Te.name})})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Te.position||"-"}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:Te.base_salary?`${Te.base_salary.toLocaleString()}`:"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:"badge-success",children:"Active"})}),o.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[o.jsx("button",{onClick:()=>Qe(Te),className:"mr-3 text-blue-600 hover:text-blue-800",children:"Edit"}),o.jsx("button",{onClick:()=>Et(Te.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},Te.id))]})]})})}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"max-h-[90vh] w-full max-w-4xl overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-white px-6 pt-6",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u?"Edit Employee":"Add New Employee"}),o.jsx("button",{onClick:()=>{c(!1),Ye(),g("basic")},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g("basic"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="basic"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Basic Info"}),o.jsx("button",{onClick:()=>g("contact"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="contact"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Contact & Emergency"}),o.jsx("button",{onClick:()=>g("government"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="government"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Government IDs"}),o.jsx("button",{onClick:()=>g("banking"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="banking"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Banking Details"})]})]}),o.jsxs("div",{className:"p-6",children:[f==="basic"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"First Name *"}),o.jsx("input",{type:"text",value:x,onChange:Te=>C(Te.target.value),placeholder:"John",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Middle Name"}),o.jsx("input",{type:"text",value:_,onChange:Te=>F(Te.target.value),placeholder:"Michael",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Last Name *"}),o.jsx("input",{type:"text",value:P,onChange:Te=>E(Te.target.value),placeholder:"Doe",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:["Employee Number ",!u&&o.jsx("span",{className:"text-xs text-gray-500",children:"(Auto-generated)"})]}),o.jsx("input",{type:"text",value:I,onChange:Te=>z(Te.target.value),placeholder:u?"EMP-0001":"Will be auto-generated",readOnly:!u,className:`w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${u?"":"bg-gray-100 cursor-not-allowed"}`})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Position"}),o.jsx("input",{type:"text",value:j,onChange:Te=>R(Te.target.value),placeholder:"Software Developer",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Department"}),o.jsx("input",{type:"text",value:K,onChange:Te=>G(Te.target.value),placeholder:"Engineering",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Status"}),o.jsxs("select",{value:re,onChange:Te=>ae(Te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Gender"}),o.jsxs("select",{value:Ae,onChange:Te=>se(Te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Marital Status"}),o.jsxs("select",{value:Ne,onChange:Te=>Ue(Te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Marital Status"}),o.jsx("option",{value:"single",children:"Single"}),o.jsx("option",{value:"married",children:"Married"}),o.jsx("option",{value:"divorced",children:"Divorced"}),o.jsx("option",{value:"widowed",children:"Widowed"})]})]})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Base Salary"}),o.jsx("input",{type:"number",value:Z,onChange:Te=>Q(Te.target.value),placeholder:"25000",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Birthdate"}),o.jsx("input",{type:"date",value:J,onChange:Te=>ee(Te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Date Hired"}),o.jsx("input",{type:"date",value:S,onChange:Te=>M(Te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Employment Status"}),o.jsxs("select",{value:pe,onChange:Te=>ve(Te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"probationary",children:"Probationary (2 SL, 2 VL)"}),o.jsx("option",{value:"regular",children:"Regular (6 SL, 6 VL)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Regularization Date"}),o.jsx("input",{type:"date",value:je,onChange:Te=>ge(Te.target.value),disabled:pe==="probationary",className:`w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${pe==="probationary"?"bg-gray-100 cursor-not-allowed":""}`})]})]})]}),f==="contact"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Contact Information"}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("input",{type:"email",value:$,onChange:Te=>ce(Te.target.value),placeholder:"john@example.com",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Phone"}),o.jsx("input",{type:"tel",value:ie,onChange:Te=>fe(Te.target.value),placeholder:"09123456789",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Address"}),o.jsx("textarea",{value:te,onChange:Te=>W(Te.target.value),placeholder:"Complete address",rows:3,className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsx("h4",{className:"mt-6 text-lg font-semibold text-gray-900",children:"Emergency Contact"}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Contact Name"}),o.jsx("input",{type:"text",value:Y,onChange:Te=>tt(Te.target.value),placeholder:"Jane Doe",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Contact Phone"}),o.jsx("input",{type:"tel",value:Re,onChange:Te=>Ie(Te.target.value),placeholder:"09987654321",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Relationship"}),o.jsx("input",{type:"text",value:Ve,onChange:Te=>Ee(Te.target.value),placeholder:"Spouse, Parent, Sibling, etc.",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),f==="government"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"SSS Number"}),o.jsx("input",{type:"text",value:Pe,onChange:Te=>qe(Te.target.value),placeholder:"XX-XXXXXXX-X",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"PhilHealth Number"}),o.jsx("input",{type:"text",value:et,onChange:Te=>ye(Te.target.value),placeholder:"XX-XXXXXXXXX-X",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Pag-IBIG Number"}),o.jsx("input",{type:"text",value:Oe,onChange:Te=>U(Te.target.value),placeholder:"XXXX-XXXX-XXXX",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"TIN Number"}),o.jsx("input",{type:"text",value:ue,onChange:Te=>oe(Te.target.value),placeholder:"XXX-XXX-XXX-XXX",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"mt-4 rounded-lg bg-blue-50 p-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," Government ID numbers are confidential. Ensure proper data security and compliance with privacy regulations."]})})]}),f==="banking"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Bank Name"}),o.jsx("input",{type:"text",value:Be,onChange:Te=>Se(Te.target.value),placeholder:"e.g., BDO, BPI, Metrobank",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Account Number"}),o.jsx("input",{type:"text",value:Xe,onChange:Te=>ke(Te.target.value),placeholder:"Bank account number",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Account Name"}),o.jsx("input",{type:"text",value:Je,onChange:Te=>We(Te.target.value),placeholder:"Name on bank account",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Bank Branch"}),o.jsx("input",{type:"text",value:nt,onChange:Te=>pt(Te.target.value),placeholder:"e.g., Cebu Business Park",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"mt-4 rounded-lg bg-green-50 p-4",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Note:"})," Banking details are used for salary deposits. Ensure accuracy to avoid payment delays."]})})]})]}),o.jsx("div",{className:"sticky bottom-0 border-t border-gray-200 bg-gray-50 px-6 py-4",children:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{c(!1),Ye(),g("basic")},className:"btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:dt,className:"btn-primary",children:u?"Update Employee":"Add Employee"})]})})]})}),b&&m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"max-h-[90vh] w-full max-w-4xl overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsx("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white text-2xl font-bold text-blue-600",children:m.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-white",children:m.name}),o.jsx("p",{className:"text-blue-100",children:m.position||"No position assigned"})]})]}),o.jsx("button",{onClick:()=>{v(!1),w(null)},className:"text-white hover:text-blue-100",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-blue-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Basic Information"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Employee Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.employee_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Department"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.department||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Base Salary"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.base_salary?`${m.base_salary.toLocaleString()}`:"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Status"}),o.jsx("p",{className:"mt-1",children:o.jsx("span",{className:m.status==="active"?"badge-success":"badge-error",children:m.status||"Active"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Gender"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.gender?m.gender.charAt(0).toUpperCase()+m.gender.slice(1):"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Marital Status"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.marital_status?m.marital_status.charAt(0).toUpperCase()+m.marital_status.slice(1):"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Employment Status"}),o.jsx("p",{className:"mt-1",children:o.jsx("span",{className:m.employment_status==="regular"?"badge-success":"badge-warning",children:m.employment_status==="regular"?"Regular":"Probationary"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Birthdate"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:Ux(m.birthdate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Date Hired"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:Ux(m.date_hired)})]}),m.employment_status==="regular"&&m.regularization_date&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Regularization Date"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:Ux(m.regularization_date)})]})]})]}),o.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-green-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Information"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Email"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.email||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Phone"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.phone||"-"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Address"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.address||"-"})]})]})]}),o.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-orange-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Emergency Contact"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Contact Name"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_name||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Contact Phone"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_phone||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Relationship"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_relationship||"-"})]})]})]}),o.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-purple-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),"Government IDs"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"SSS Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.sss_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"PhilHealth Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.philhealth_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Pag-IBIG Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.pagibig_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"TIN Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.tin_number||"-"})]})]})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-green-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Banking Details"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Bank Name"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_name||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Account Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_account_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Account Name"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_account_name||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Bank Branch"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_branch||"-"})]})]})]})]}),o.jsx("div",{className:"sticky bottom-0 border-t border-gray-200 bg-gray-50 px-6 py-4",children:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{v(!1),w(null)},className:"btn-secondary",children:"Close"}),o.jsx("button",{onClick:()=>{v(!1),Qe(m),w(null)},className:"btn-primary",children:"Edit Employee"})]})})]})})]})}const eg=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},uC=(t,e)=>{const r=new Date(t),n=new Date(e),s=Math.abs(n.getTime()-r.getTime());return Math.ceil(s/(1e3*60*60*24))+1};function h9(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState("all"),[f,g]=T.useState("all"),[m,w]=T.useState(""),[b,v]=T.useState("sick"),[x,C]=T.useState(""),[_,F]=T.useState(""),[P,E]=T.useState("");T.useEffect(()=>{j()},[]);const j=async()=>{i(!0),A(null);const[ee,S]=await Promise.all([$e.from("employees").select("*").order("name",{ascending:!0}),$e.from("leave_requests").select("*").order("created_at",{ascending:!1})]);ee.error&&A(ee.error.message),S.error&&A(S.error.message),e(ee.data??[]),n(S.data??[]),i(!1)},R=()=>{var ee;w(((ee=t[0])==null?void 0:ee.id)??""),v("sick"),C(""),F(""),E("")},Z=async()=>{if(!m||!x||!_){alert("Please fill in all required fields");return}const ee=uC(x,_),S=t.find(G=>G.id===m);if(b==="sick"&&((S==null?void 0:S.sick_leave_balance)??0)<ee&&!confirm(`Insufficient sick leave balance. Employee has ${(S==null?void 0:S.sick_leave_balance)??0} days remaining. Continue anyway?`)||b==="vacation"&&((S==null?void 0:S.vacation_leave_balance)??0)<ee&&!confirm(`Insufficient vacation leave balance. Employee has ${(S==null?void 0:S.vacation_leave_balance)??0} days remaining. Continue anyway?`)||b==="birthday"&&((S==null?void 0:S.birthday_leave_balance)??0)<ee&&!confirm(`Insufficient birthday leave balance. Employee has ${(S==null?void 0:S.birthday_leave_balance)??0} days remaining. Continue anyway?`))return;const M={employee_id:m,leave_type:b,start_date:x,end_date:_,days_count:ee,reason:P.trim()||null,status:"pending"},{error:K}=await $e.from("leave_requests").insert(M);if(K){alert(K.message);return}c(!1),R(),await j()},Q=async ee=>{const S=t.find(Ae=>Ae.id===ee.employee_id);if(!S)return;let M=S.sick_leave_balance??2,K=S.vacation_leave_balance??2,G=S.birthday_leave_balance??1;ee.leave_type==="sick"?M-=ee.days_count:ee.leave_type==="vacation"?K-=ee.days_count:ee.leave_type==="birthday"&&(G-=ee.days_count);const{error:re}=await $e.from("employees").update({sick_leave_balance:M,vacation_leave_balance:K,birthday_leave_balance:G}).eq("id",ee.employee_id);if(re){alert(re.message);return}const{error:ae}=await $e.from("leave_requests").update({status:"approved",approved_at:new Date().toISOString(),approved_by:"Admin"}).eq("id",ee.id);if(ae){alert(ae.message);return}await j()},I=async ee=>{const{error:S}=await $e.from("leave_requests").update({status:"rejected"}).eq("id",ee);if(S){alert(S.message);return}await j()},z=async ee=>{if(!confirm("Delete this leave request?"))return;const S=r.find(K=>K.id===ee);if(!S)return;if(S.status==="approved"){const K=t.find(G=>G.id===S.employee_id);if(K){let G=K.sick_leave_balance??2,re=K.vacation_leave_balance??2,ae=K.birthday_leave_balance??1;S.leave_type==="sick"?G+=S.days_count:S.leave_type==="vacation"?re+=S.days_count:S.leave_type==="birthday"&&(ae+=S.days_count);const{error:Ae}=await $e.from("employees").update({sick_leave_balance:G,vacation_leave_balance:re,birthday_leave_balance:ae}).eq("id",S.employee_id);if(Ae){alert(`Error restoring leave balance: ${Ae.message}`);return}}}const{error:M}=await $e.from("leave_requests").delete().eq("id",ee);if(M){alert(M.message);return}await j()},$=r.filter(ee=>!(u!=="all"&&ee.status!==u||f!=="all"&&ee.employee_id!==f)).sort((ee,S)=>{const M=t.find(ae=>ae.id===ee.employee_id),K=t.find(ae=>ae.id===S.employee_id),G=(M==null?void 0:M.name)||"",re=(K==null?void 0:K.name)||"";return G.localeCompare(re)}),ce=async()=>{if(confirm("Recalculate all employee leave balances? This will reset all balances to default and then subtract approved leaves.")){console.log("Starting balance recalculation...");for(const ee of t){const S=ee.employment_status==="regular";let M=S?6:2,K=S?6:2,G=1;console.log(`${ee.name} - Initial balances: Sick: ${M}, Vacation: ${K}, Birthday: ${G}`);const re=r.filter(Ae=>Ae.employee_id===ee.id&&Ae.status==="approved");console.log(`${ee.name} - Found ${re.length} approved leaves:`,re.map(Ae=>`${Ae.leave_type}: ${Ae.days_count} days`));for(const Ae of re)Ae.leave_type==="sick"?(M-=Ae.days_count,console.log(`${ee.name} - Subtracting ${Ae.days_count} sick days, new balance: ${M}`)):Ae.leave_type==="vacation"?(K-=Ae.days_count,console.log(`${ee.name} - Subtracting ${Ae.days_count} vacation days, new balance: ${K}`)):Ae.leave_type==="birthday"&&(G-=Ae.days_count,console.log(`${ee.name} - Subtracting ${Ae.days_count} birthday days, new balance: ${G}`));console.log(`${ee.name} - Final balances: Sick: ${M}, Vacation: ${K}, Birthday: ${G}`);const{error:ae}=await $e.from("employees").update({sick_leave_balance:M,vacation_leave_balance:K,birthday_leave_balance:G}).eq("id",ee.id);if(ae){console.error(`Error updating balances for ${ee.name}:`,ae),alert(`Error updating balances for ${ee.name}: ${ae.message}`);return}}await j(),alert("All leave balances have been recalculated successfully!")}},ie=async ee=>{const S=t.find(ge=>ge.id===ee);if(!S)return;const M=r.filter(ge=>ge.employee_id===S.id&&ge.status==="approved"),K=S.employment_status==="regular",G=K?6:2,re=K?6:2,ae=1,Ae=M.filter(ge=>ge.leave_type==="sick").reduce((ge,Y)=>ge+Y.days_count,0),se=M.filter(ge=>ge.leave_type==="vacation").reduce((ge,Y)=>ge+Y.days_count,0),Ne=M.filter(ge=>ge.leave_type==="birthday").reduce((ge,Y)=>ge+Y.days_count,0),Ue=G-Ae,pe=re-se,ve=ae-Ne;if(!confirm(`Fix ${S.name}'s leave balances?

Current: Sick: ${S.sick_leave_balance}, Vacation: ${S.vacation_leave_balance}, Birthday: ${S.birthday_leave_balance}
Correct: Sick: ${Ue}, Vacation: ${pe}, Birthday: ${ve}`))return;const{error:je}=await $e.from("employees").update({sick_leave_balance:Ue,vacation_leave_balance:pe,birthday_leave_balance:ve}).eq("id",ee);if(je){alert(`Error fixing balances: ${je.message}`);return}await j(),alert(`${S.name}'s leave balances have been corrected!`)},fe=ee=>{const S=r.filter(je=>je.employee_id===ee.id&&je.status==="approved"),M=ee.employment_status==="regular",K=M?6:2,G=M?6:2,re=1,ae=S.filter(je=>je.leave_type==="sick").reduce((je,ge)=>je+ge.days_count,0),Ae=S.filter(je=>je.leave_type==="vacation").reduce((je,ge)=>je+ge.days_count,0),se=S.filter(je=>je.leave_type==="birthday").reduce((je,ge)=>je+ge.days_count,0),Ne=K-ae,Ue=G-Ae,pe=re-se,ve=`
${ee.name} Leave Balance Breakdown:

Employment Status: ${ee.employment_status} (${M?"Regular":"Probationary"})

SICK LEAVE:
- Default: ${K} days
- Used (Approved): ${ae} days
- Should be: ${Ne} days
- Currently showing: ${ee.sick_leave_balance??"N/A"} days

VACATION LEAVE:
- Default: ${G} days  
- Used (Approved): ${Ae} days
- Should be: ${Ue} days
- Currently showing: ${ee.vacation_leave_balance??"N/A"} days

BIRTHDAY LEAVE:
- Default: ${re} day
- Used (Approved): ${se} days
- Should be: ${pe} days
- Currently showing: ${ee.birthday_leave_balance??"N/A"} days

Approved Leaves:
${S.map(je=>`- ${je.leave_type}: ${je.days_count} days (${eg(je.start_date)} to ${eg(je.end_date)})`).join(`
`)||"None"}
    `;alert(ve)},te=async ee=>{const S=t.find(Ae=>Ae.id===ee);if(!S||!confirm(`Reset leave balances for ${S.name}? This will set balances to default values based on employment status.`))return;const M=S.employment_status==="regular",K=M?6:2,G=M?6:2,re=1,{error:ae}=await $e.from("employees").update({sick_leave_balance:K,vacation_leave_balance:G,birthday_leave_balance:re}).eq("id",ee);if(ae){alert(`Error resetting balances: ${ae.message}`);return}await j()},W=r.filter(ee=>ee.status==="pending").length,J=r.filter(ee=>ee.status==="approved").length;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Track sick leave and vacation requests"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:async()=>{if(confirm("Fix all employee leave balances? This will correct any calculation errors."))for(const ee of t)await ie(ee.id)},className:"btn-success",children:"Fix All Balances"}),o.jsx("button",{onClick:ce,className:"btn-secondary",children:"Recalculate All"}),o.jsx("button",{onClick:()=>{R(),c(!0)},className:"btn-primary",children:"+ New Leave Request"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx("div",{className:"card-hover rounded-xl border border-yellow-200 bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pending"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-yellow-900",children:W})]}),o.jsx("div",{className:"rounded-full bg-yellow-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Approved"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:J})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Requests"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:r.length})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Employees"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:t.length})]}),o.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Filter by Status"}),o.jsxs("select",{value:u,onChange:ee=>d(ee.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Filter by Employee"}),o.jsxs("select",{value:f,onChange:ee=>g(ee.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Employees"}),t.map(ee=>o.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]})]})}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Employee"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Leave Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Period"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Days"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[s&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-500",children:o.jsx("div",{className:"loading-shimmer mx-auto h-8 w-48 rounded"})})}),a&&!s&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-red-600",children:a})}),!s&&!a&&$.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No leave requests found"})}),!s&&!a&&$.map(ee=>{const S=t.find(M=>M.id===ee.employee_id);return o.jsxs("tr",{className:"table-row-hover",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:(S==null?void 0:S.name)??"Unknown"}),o.jsx("div",{className:"text-xs text-gray-500",children:(S==null?void 0:S.position)??""})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${ee.leave_type==="sick"?"bg-red-100 text-red-800":ee.leave_type==="vacation"?"bg-blue-100 text-blue-800":ee.leave_type==="birthday"?"bg-pink-100 text-pink-800":ee.leave_type==="emergency"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:ee.leave_type.charAt(0).toUpperCase()+ee.leave_type.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:[eg(ee.start_date)," to ",eg(ee.end_date)]}),o.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:ee.days_count}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:ee.reason||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${ee.status==="pending"?"bg-yellow-100 text-yellow-800":ee.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[ee.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Q(ee),className:"mr-2 text-green-600 hover:text-green-800",children:"Approve"}),o.jsx("button",{onClick:()=>I(ee.id),className:"mr-2 text-red-600 hover:text-red-800",children:"Reject"})]}),o.jsx("button",{onClick:()=>z(ee.id),className:"text-gray-600 hover:text-gray-800",children:"Delete"})]})]},ee.id)})]})]})})}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-lg",children:[o.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-900",children:"Employee Leave Balances"}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(ee=>o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-gray-900",children:ee.name}),o.jsx("div",{className:"flex items-center gap-1",children:o.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${ee.employment_status==="regular"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:ee.employment_status==="regular"?"Regular":"Probationary"})})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Sick Leave:"}),o.jsxs("span",{className:"font-medium text-red-600",children:[ee.sick_leave_balance??2," days"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Vacation Leave:"}),o.jsxs("span",{className:"font-medium text-blue-600",children:[ee.vacation_leave_balance??2," days"]})]}),o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-gray-600",children:"Birthday Leave:"}),o.jsxs("span",{className:"font-medium text-pink-600",children:[ee.birthday_leave_balance??1," day"]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>fe(ee),className:"rounded bg-gray-600 px-2 py-1 text-xs text-white hover:bg-gray-700 flex-1",title:"Show calculation breakdown",children:"Check"}),o.jsx("button",{onClick:()=>ie(ee.id),className:"rounded bg-green-600 px-2 py-1 text-xs text-white hover:bg-green-700 flex-1",title:"Fix balance calculation",children:"Fix"}),o.jsx("button",{onClick:()=>te(ee.id),className:"rounded bg-blue-600 px-2 py-1 text-xs text-white hover:bg-blue-700 flex-1",title:"Reset to default balances",children:"Reset"})]})]},ee.id))})]}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"New Leave Request"}),o.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Employee *"}),o.jsxs("select",{value:m,onChange:ee=>w(ee.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Employee"}),t.map(ee=>o.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Leave Type *"}),o.jsxs("select",{value:b,onChange:ee=>v(ee.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"sick",children:"Sick Leave"}),o.jsx("option",{value:"vacation",children:"Vacation Leave"}),o.jsx("option",{value:"birthday",children:"Birthday Leave"}),o.jsx("option",{value:"emergency",children:"Emergency Leave"}),o.jsx("option",{value:"unpaid",children:"Unpaid Leave"}),o.jsx("option",{value:"paternity",children:"Paternity Leave"}),o.jsx("option",{value:"maternity",children:"Maternity Leave"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Start Date *"}),o.jsx("input",{type:"date",value:x,onChange:ee=>C(ee.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"End Date *"}),o.jsx("input",{type:"date",value:_,onChange:ee=>F(ee.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),x&&_&&o.jsxs("div",{className:"rounded-lg bg-blue-50 p-3 text-sm text-blue-800",children:["Total days: ",o.jsx("strong",{children:uC(x,_)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Reason"}),o.jsx("textarea",{value:P,onChange:ee=>E(ee.target.value),rows:3,placeholder:"Optional reason for leave",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:Z,className:"btn-primary",children:"Submit Request"})]})]})})]})}var f9=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Pj={},Bs={};let c1;const g9=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Bs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Bs.getSymbolTotalCodewords=function(e){return g9[e]};Bs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Bs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');c1=e};Bs.isKanjiModeEnabled=function(){return typeof c1<"u"};Bs.toSJIS=function(e){return c1(e)};var pp={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,s){if(t.isValid(n))return n;try{return e(n)}catch{return s}}})(pp);function Tj(){this.buffer=[],this.length=0}Tj.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var p9=Tj;function sh(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}sh.prototype.set=function(t,e,r,n){const s=t*this.size+e;this.data[s]=r,n&&(this.reservedBit[s]=!0)};sh.prototype.get=function(t,e){return this.data[t*this.size+e]};sh.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};sh.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var m9=sh,Dj={};(function(t){const e=Bs.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,i=e(n),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,A=[i-7];for(let l=1;l<s-1;l++)A[l]=A[l-1]-a;return A.push(6),A.reverse()},t.getPositions=function(n){const s=[],i=t.getRowColCoords(n),a=i.length;for(let A=0;A<a;A++)for(let l=0;l<a;l++)A===0&&l===0||A===0&&l===a-1||A===a-1&&l===0||s.push([i[A],i[l]]);return s}})(Dj);var Oj={};const x9=Bs.getSymbolSize,dC=7;Oj.getPositions=function(e){const r=x9(e);return[[0,0],[r-dC,0],[0,r-dC]]};var Mj={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let a=0,A=0,l=0,c=null,u=null;for(let d=0;d<i;d++){A=l=0,c=u=null;for(let f=0;f<i;f++){let g=s.get(d,f);g===c?A++:(A>=5&&(a+=e.N1+(A-5)),c=g,A=1),g=s.get(f,d),g===u?l++:(l>=5&&(a+=e.N1+(l-5)),u=g,l=1)}A>=5&&(a+=e.N1+(A-5)),l>=5&&(a+=e.N1+(l-5))}return a},t.getPenaltyN2=function(s){const i=s.size;let a=0;for(let A=0;A<i-1;A++)for(let l=0;l<i-1;l++){const c=s.get(A,l)+s.get(A,l+1)+s.get(A+1,l)+s.get(A+1,l+1);(c===4||c===0)&&a++}return a*e.N2},t.getPenaltyN3=function(s){const i=s.size;let a=0,A=0,l=0;for(let c=0;c<i;c++){A=l=0;for(let u=0;u<i;u++)A=A<<1&2047|s.get(c,u),u>=10&&(A===1488||A===93)&&a++,l=l<<1&2047|s.get(u,c),u>=10&&(l===1488||l===93)&&a++}return a*e.N3},t.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let l=0;l<a;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function r(n,s,i){switch(n){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(s,i){const a=i.size;for(let A=0;A<a;A++)for(let l=0;l<a;l++)i.isReserved(l,A)||i.xor(l,A,r(s,l,A))},t.getBestMask=function(s,i){const a=Object.keys(t.Patterns).length;let A=0,l=1/0;for(let c=0;c<a;c++){i(c),t.applyMask(c,s);const u=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),u<l&&(l=u,A=c)}return A}})(Mj);var mp={};const go=pp,tg=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],rg=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];mp.getBlocksCount=function(e,r){switch(r){case go.L:return tg[(e-1)*4+0];case go.M:return tg[(e-1)*4+1];case go.Q:return tg[(e-1)*4+2];case go.H:return tg[(e-1)*4+3];default:return}};mp.getTotalCodewordsCount=function(e,r){switch(r){case go.L:return rg[(e-1)*4+0];case go.M:return rg[(e-1)*4+1];case go.Q:return rg[(e-1)*4+2];case go.H:return rg[(e-1)*4+3];default:return}};var Hj={},xp={};const dd=new Uint8Array(512),b0=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)dd[r]=e,b0[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)dd[r]=dd[r-255]})();xp.log=function(e){if(e<1)throw new Error("log("+e+")");return b0[e]};xp.exp=function(e){return dd[e]};xp.mul=function(e,r){return e===0||r===0?0:dd[b0[e]+b0[r]]};(function(t){const e=xp;t.mul=function(n,s){const i=new Uint8Array(n.length+s.length-1);for(let a=0;a<n.length;a++)for(let A=0;A<s.length;A++)i[a+A]^=e.mul(n[a],s[A]);return i},t.mod=function(n,s){let i=new Uint8Array(n);for(;i.length-s.length>=0;){const a=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],a);let A=0;for(;A<i.length&&i[A]===0;)A++;i=i.slice(A)}return i},t.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(Hj);const Rj=Hj;function u1(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}u1.prototype.initialize=function(e){this.degree=e,this.genPoly=Rj.generateECPolynomial(this.degree)};u1.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=Rj.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(n,s),i}return n};var v9=u1,Kj={},Mo={},d1={};d1.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Hi={};const Vj="[0-9]+",w9="[A-Z $%*+\\-./:]+";let zd="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";zd=zd.replace(/u/g,"\\u");const y9="(?:(?![A-Z0-9 $%*+\\-./:]|"+zd+`)(?:.|[\r
]))+`;Hi.KANJI=new RegExp(zd,"g");Hi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Hi.BYTE=new RegExp(y9,"g");Hi.NUMERIC=new RegExp(Vj,"g");Hi.ALPHANUMERIC=new RegExp(w9,"g");const b9=new RegExp("^"+zd+"$"),B9=new RegExp("^"+Vj+"$"),C9=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Hi.testKanji=function(e){return b9.test(e)};Hi.testNumeric=function(e){return B9.test(e)};Hi.testAlphanumeric=function(e){return C9.test(e)};(function(t){const e=d1,r=Hi;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return r.testNumeric(i)?t.NUMERIC:r.testAlphanumeric(i)?t.ALPHANUMERIC:r.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,a){if(t.isValid(i))return i;try{return n(i)}catch{return a}}})(Mo);(function(t){const e=Bs,r=mp,n=pp,s=Mo,i=d1,a=7973,A=e.getBCHDigit(a);function l(f,g,m){for(let w=1;w<=40;w++)if(g<=t.getCapacity(w,m,f))return w}function c(f,g){return s.getCharCountIndicator(f,g)+4}function u(f,g){let m=0;return f.forEach(function(w){const b=c(w.mode,g);m+=b+w.getBitsLength()}),m}function d(f,g){for(let m=1;m<=40;m++)if(u(f,m)<=t.getCapacity(m,g,s.MIXED))return m}t.from=function(g,m){return i.isValid(g)?parseInt(g,10):m},t.getCapacity=function(g,m,w){if(!i.isValid(g))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=s.BYTE);const b=e.getSymbolTotalCodewords(g),v=r.getTotalCodewordsCount(g,m),x=(b-v)*8;if(w===s.MIXED)return x;const C=x-c(w,g);switch(w){case s.NUMERIC:return Math.floor(C/10*3);case s.ALPHANUMERIC:return Math.floor(C/11*2);case s.KANJI:return Math.floor(C/13);case s.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(g,m){let w;const b=n.from(m,n.M);if(Array.isArray(g)){if(g.length>1)return d(g,b);if(g.length===0)return 1;w=g[0]}else w=g;return l(w.mode,w.getLength(),b)},t.getEncodedBits=function(g){if(!i.isValid(g)||g<7)throw new Error("Invalid QR Code version");let m=g<<12;for(;e.getBCHDigit(m)-A>=0;)m^=a<<e.getBCHDigit(m)-A;return g<<12|m}})(Kj);var zj={};const Mw=Bs,$j=1335,_9=21522,hC=Mw.getBCHDigit($j);zj.getEncodedBits=function(e,r){const n=e.bit<<3|r;let s=n<<10;for(;Mw.getBCHDigit(s)-hC>=0;)s^=$j<<Mw.getBCHDigit(s)-hC;return(n<<10|s)^_9};var Wj={};const N9=Mo;function xc(t){this.mode=N9.NUMERIC,this.data=t.toString()}xc.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};xc.prototype.getLength=function(){return this.data.length};xc.prototype.getBitsLength=function(){return xc.getBitsLength(this.data.length)};xc.prototype.write=function(e){let r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),e.put(s,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),s=parseInt(n,10),e.put(s,i*3+1))};var S9=xc;const j9=Mo,kx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function vc(t){this.mode=j9.ALPHANUMERIC,this.data=t}vc.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};vc.prototype.getLength=function(){return this.data.length};vc.prototype.getBitsLength=function(){return vc.getBitsLength(this.data.length)};vc.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=kx.indexOf(this.data[r])*45;n+=kx.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(kx.indexOf(this.data[r]),6)};var F9=vc;const E9=Mo;function wc(t){this.mode=E9.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}wc.getBitsLength=function(e){return e*8};wc.prototype.getLength=function(){return this.data.length};wc.prototype.getBitsLength=function(){return wc.getBitsLength(this.data.length)};wc.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var U9=wc;const k9=Mo,L9=Bs;function yc(t){this.mode=k9.KANJI,this.data=t}yc.getBitsLength=function(e){return e*13};yc.prototype.getLength=function(){return this.data.length};yc.prototype.getBitsLength=function(){return yc.getBitsLength(this.data.length)};yc.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=L9.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Q9=yc,Gj={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,s){var i={},a={};a[n]=0;var A=e.PriorityQueue.make();A.push(n,0);for(var l,c,u,d,f,g,m,w,b;!A.empty();){l=A.pop(),c=l.value,d=l.cost,f=r[c]||{};for(u in f)f.hasOwnProperty(u)&&(g=f[u],m=d+g,w=a[u],b=typeof a[u]>"u",(b||w>m)&&(a[u]=m,A.push(u,m),i[u]=c))}if(typeof s<"u"&&typeof a[s]>"u"){var v=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(v)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var s=[],i=n;i;)s.push(i),r[i],i=r[i];return s.reverse(),s},find_path:function(r,n,s){var i=e.single_source_shortest_paths(r,n,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,s={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=r.sorter||n.default_sorter,s},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var s={value:r,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Gj);var I9=Gj.exports;(function(t){const e=Mo,r=S9,n=F9,s=U9,i=Q9,a=Hi,A=Bs,l=I9;function c(v){return unescape(encodeURIComponent(v)).length}function u(v,x,C){const _=[];let F;for(;(F=v.exec(C))!==null;)_.push({data:F[0],index:F.index,mode:x,length:F[0].length});return _}function d(v){const x=u(a.NUMERIC,e.NUMERIC,v),C=u(a.ALPHANUMERIC,e.ALPHANUMERIC,v);let _,F;return A.isKanjiModeEnabled()?(_=u(a.BYTE,e.BYTE,v),F=u(a.KANJI,e.KANJI,v)):(_=u(a.BYTE_KANJI,e.BYTE,v),F=[]),x.concat(C,_,F).sort(function(E,j){return E.index-j.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function f(v,x){switch(x){case e.NUMERIC:return r.getBitsLength(v);case e.ALPHANUMERIC:return n.getBitsLength(v);case e.KANJI:return i.getBitsLength(v);case e.BYTE:return s.getBitsLength(v)}}function g(v){return v.reduce(function(x,C){const _=x.length-1>=0?x[x.length-1]:null;return _&&_.mode===C.mode?(x[x.length-1].data+=C.data,x):(x.push(C),x)},[])}function m(v){const x=[];for(let C=0;C<v.length;C++){const _=v[C];switch(_.mode){case e.NUMERIC:x.push([_,{data:_.data,mode:e.ALPHANUMERIC,length:_.length},{data:_.data,mode:e.BYTE,length:_.length}]);break;case e.ALPHANUMERIC:x.push([_,{data:_.data,mode:e.BYTE,length:_.length}]);break;case e.KANJI:x.push([_,{data:_.data,mode:e.BYTE,length:c(_.data)}]);break;case e.BYTE:x.push([{data:_.data,mode:e.BYTE,length:c(_.data)}])}}return x}function w(v,x){const C={},_={start:{}};let F=["start"];for(let P=0;P<v.length;P++){const E=v[P],j=[];for(let R=0;R<E.length;R++){const Z=E[R],Q=""+P+R;j.push(Q),C[Q]={node:Z,lastCount:0},_[Q]={};for(let I=0;I<F.length;I++){const z=F[I];C[z]&&C[z].node.mode===Z.mode?(_[z][Q]=f(C[z].lastCount+Z.length,Z.mode)-f(C[z].lastCount,Z.mode),C[z].lastCount+=Z.length):(C[z]&&(C[z].lastCount=Z.length),_[z][Q]=f(Z.length,Z.mode)+4+e.getCharCountIndicator(Z.mode,x))}}F=j}for(let P=0;P<F.length;P++)_[F[P]].end=0;return{map:_,table:C}}function b(v,x){let C;const _=e.getBestModeForData(v);if(C=e.from(x,_),C!==e.BYTE&&C.bit<_.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(_));switch(C===e.KANJI&&!A.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new r(v);case e.ALPHANUMERIC:return new n(v);case e.KANJI:return new i(v);case e.BYTE:return new s(v)}}t.fromArray=function(x){return x.reduce(function(C,_){return typeof _=="string"?C.push(b(_,null)):_.data&&C.push(b(_.data,_.mode)),C},[])},t.fromString=function(x,C){const _=d(x,A.isKanjiModeEnabled()),F=m(_),P=w(F,C),E=l.find_path(P.map,"start","end"),j=[];for(let R=1;R<E.length-1;R++)j.push(P.table[E[R]].node);return t.fromArray(g(j))},t.rawSplit=function(x){return t.fromArray(d(x,A.isKanjiModeEnabled()))}})(Wj);const vp=Bs,Lx=pp,P9=p9,T9=m9,D9=Dj,O9=Oj,Hw=Mj,Rw=mp,M9=v9,B0=Kj,H9=zj,R9=Mo,Qx=Wj;function K9(t,e){const r=t.size,n=O9.getPositions(e);for(let s=0;s<n.length;s++){const i=n[s][0],a=n[s][1];for(let A=-1;A<=7;A++)if(!(i+A<=-1||r<=i+A))for(let l=-1;l<=7;l++)a+l<=-1||r<=a+l||(A>=0&&A<=6&&(l===0||l===6)||l>=0&&l<=6&&(A===0||A===6)||A>=2&&A<=4&&l>=2&&l<=4?t.set(i+A,a+l,!0,!0):t.set(i+A,a+l,!1,!0))}}function V9(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function z9(t,e){const r=D9.getPositions(e);for(let n=0;n<r.length;n++){const s=r[n][0],i=r[n][1];for(let a=-2;a<=2;a++)for(let A=-2;A<=2;A++)a===-2||a===2||A===-2||A===2||a===0&&A===0?t.set(s+a,i+A,!0,!0):t.set(s+a,i+A,!1,!0)}}function $9(t,e){const r=t.size,n=B0.getEncodedBits(e);let s,i,a;for(let A=0;A<18;A++)s=Math.floor(A/3),i=A%3+r-8-3,a=(n>>A&1)===1,t.set(s,i,a,!0),t.set(i,s,a,!0)}function Ix(t,e,r){const n=t.size,s=H9.getEncodedBits(e,r);let i,a;for(i=0;i<15;i++)a=(s>>i&1)===1,i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(n-15+i,8,a,!0),i<8?t.set(8,n-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(n-8,8,1,!0)}function W9(t,e){const r=t.size;let n=-1,s=r-1,i=7,a=0;for(let A=r-1;A>0;A-=2)for(A===6&&A--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,A-l)){let c=!1;a<e.length&&(c=(e[a]>>>i&1)===1),t.set(s,A-l,c),i--,i===-1&&(a++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function G9(t,e,r){const n=new P9;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),R9.getCharCountIndicator(l.mode,t)),l.write(n)});const s=vp.getSymbolTotalCodewords(t),i=Rw.getTotalCodewordsCount(t,e),a=(s-i)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const A=(a-n.getLengthInBits())/8;for(let l=0;l<A;l++)n.put(l%2?17:236,8);return q9(n,t,e)}function q9(t,e,r){const n=vp.getSymbolTotalCodewords(e),s=Rw.getTotalCodewordsCount(e,r),i=n-s,a=Rw.getBlocksCount(e,r),A=n%a,l=a-A,c=Math.floor(n/a),u=Math.floor(i/a),d=u+1,f=c-u,g=new M9(f);let m=0;const w=new Array(a),b=new Array(a);let v=0;const x=new Uint8Array(t.buffer);for(let E=0;E<a;E++){const j=E<l?u:d;w[E]=x.slice(m,m+j),b[E]=g.encode(w[E]),m+=j,v=Math.max(v,j)}const C=new Uint8Array(n);let _=0,F,P;for(F=0;F<v;F++)for(P=0;P<a;P++)F<w[P].length&&(C[_++]=w[P][F]);for(F=0;F<f;F++)for(P=0;P<a;P++)C[_++]=b[P][F];return C}function J9(t,e,r,n){let s;if(Array.isArray(t))s=Qx.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=Qx.rawSplit(t);c=B0.getBestVersionForData(u,r)}s=Qx.fromString(t,c||40)}else throw new Error("Invalid data");const i=B0.getBestVersionForData(s,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=G9(e,r,s),A=vp.getSymbolSize(e),l=new T9(A);return K9(l,e),V9(l),z9(l,e),Ix(l,r,0),e>=7&&$9(l,e),W9(l,a),isNaN(n)&&(n=Hw.getBestMask(l,Ix.bind(null,l,r))),Hw.applyMask(n,l),Ix(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:s}}Pj.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Lx.M,s,i;return typeof r<"u"&&(n=Lx.from(r.errorCorrectionLevel,Lx.M),s=B0.from(r.version),i=Hw.from(r.maskPattern),r.toSJISFunc&&vp.setToSJISFunction(r.toSJISFunc)),J9(e,s,n,i)};var qj={},h1={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},t.getImageWidth=function(n,s){const i=t.getScale(n,s);return Math.floor((n+s.margin*2)*i)},t.qrToImageData=function(n,s,i){const a=s.modules.size,A=s.modules.data,l=t.getScale(a,i),c=Math.floor((a+i.margin*2)*l),u=i.margin*l,d=[i.color.light,i.color.dark];for(let f=0;f<c;f++)for(let g=0;g<c;g++){let m=(f*c+g)*4,w=i.color.light;if(f>=u&&g>=u&&f<c-u&&g<c-u){const b=Math.floor((f-u)/l),v=Math.floor((g-u)/l);w=d[A[b*a+v]?1:0]}n[m++]=w.r,n[m++]=w.g,n[m++]=w.b,n[m]=w.a}}})(h1);(function(t){const e=h1;function r(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,A){let l=A,c=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(c=n()),l=e.getOptions(l);const u=e.getImageWidth(i.modules.size,l),d=c.getContext("2d"),f=d.createImageData(u,u);return e.qrToImageData(f.data,i,l),r(d,c,u),d.putImageData(f,0,0),c},t.renderToDataURL=function(i,a,A){let l=A;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const c=t.render(i,a,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(qj);var Jj={};const Y9=h1;function fC(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Px(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function X9(t,e,r){let n="",s=0,i=!1,a=0;for(let A=0;A<t.length;A++){const l=Math.floor(A%e),c=Math.floor(A/e);!l&&!i&&(i=!0),t[A]?(a++,A>0&&l>0&&t[A-1]||(n+=i?Px("M",l+r,.5+c+r):Px("m",s,0),s=0,i=!1),l+1<e&&t[A+1]||(n+=Px("h",a),a=0)):s++}return n}Jj.render=function(e,r,n){const s=Y9.getOptions(r),i=e.modules.size,a=e.modules.data,A=i+s.margin*2,l=s.color.light.a?"<path "+fC(s.color.light,"fill")+' d="M0 0h'+A+"v"+A+'H0z"/>':"",c="<path "+fC(s.color.dark,"stroke")+' d="'+X9(a,i,s.margin)+'"/>',u='viewBox="0 0 '+A+" "+A+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,f),f};const Z9=f9,Kw=Pj,Yj=qj,eK=Jj;function f1(t,e,r,n,s){const i=[].slice.call(arguments,1),a=i.length,A=typeof i[a-1]=="function";if(!A&&!Z9())throw new Error("Callback required as last argument");if(A){if(a<2)throw new Error("Too few arguments provided");a===2?(s=r,r=e,e=n=void 0):a===3&&(e.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=e,e=n=void 0):a===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(l,c){try{const u=Kw.create(r,n);l(t(u,e,n))}catch(u){c(u)}})}try{const l=Kw.create(r,n);s(null,t(l,e,n))}catch(l){s(l)}}Kw.create;f1.bind(null,Yj.render);var gC=f1.bind(null,Yj.renderToDataURL);f1.bind(null,function(t,e,r){return eK.render(t,r)});class kt{constructor(e,r,n,s,i){this._legacyCanvasSize=kt.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||s||i?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof s=="function"?s:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof s=="number"?s:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let a=!1;if(e.hidden&&(e.hidden=!1,a=!0),document.body.contains(e)||(document.body.appendChild(e),a=!0),n=e.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(s=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),i=this.$overlay.style,i.position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!s&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let A=window.getComputedStyle(e);A.display==="none"&&(e.style.setProperty("display","block","important"),a=!0),A.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),a=!0),a&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=kt.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await kt.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput"),n;try{e&&(await r()).every(s=>!s.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((s,i)=>({id:s.deviceId,label:s.label||(i===0?"Default Camera":`Camera ${i+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),kt._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),kt._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),kt._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:r}=await this._getCameraStream();!this._active||this._paused?kt._stopVideoStream(e):(this._setVideoMirror(r),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(kt._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,r,n,s,i=!1,a=!1){let A,l=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(A=r.scanRegion,n=r.qrEngine,s=r.canvas,i=r.disallowCanvasResizing||!1,a=r.alsoTryWithoutScanRegion||!1,l=!0):console.warn(r||n||s||i||a?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let c,u;[n,c]=await Promise.all([n||kt.createQrEngine(),kt._loadImage(e)]),[s,u]=kt._drawToCanvas(c,A,s,i);let d;if(n instanceof Worker){let f=n;r||kt._postWorkerMessageSync(f,"inversionMode","both"),d=await new Promise((g,m)=>{let w,b,v,x=-1;b=_=>{_.data.id===x&&(f.removeEventListener("message",b),f.removeEventListener("error",v),clearTimeout(w),_.data.data!==null?g({data:_.data.data,cornerPoints:kt._convertPoints(_.data.cornerPoints,A)}):m(kt.NO_QR_CODE_FOUND))},v=_=>{f.removeEventListener("message",b),f.removeEventListener("error",v),clearTimeout(w),m("Scanner error: "+(_?_.message||_:"Unknown Error"))},f.addEventListener("message",b),f.addEventListener("error",v),w=setTimeout(()=>v("timeout"),1e4);let C=u.getImageData(0,0,s.width,s.height);x=kt._postWorkerMessageSync(f,"decode",C,[C.data.buffer])})}else d=await Promise.race([new Promise((f,g)=>window.setTimeout(()=>g("Scanner error: timeout"),1e4)),(async()=>{try{var[f]=await n.detect(s);if(!f)throw kt.NO_QR_CODE_FOUND;return{data:f.rawValue,cornerPoints:kt._convertPoints(f.cornerPoints,A)}}catch(g){if(f=g.message||g,/not implemented|service unavailable/.test(f))return kt._disableBarcodeDetector=!0,kt.scanImage(e,{scanRegion:A,canvas:s,disallowCanvasResizing:i,alsoTryWithoutScanRegion:a});throw`Scanner error: ${f}`}})()]);return l?d:d.data}catch(c){if(!A||!a)throw c;let u=await kt.scanImage(e,{qrEngine:n,canvas:s,disallowCanvasResizing:i});return l?u:u.data}finally{r||kt._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,r,n,s=!0){kt._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:r,blue:n,useIntegerApproximation:s})}setInversionMode(e){kt._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>Yn(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!kt._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:s})=>/arm/i.test(n||"arm")&&13<=parseInt(s||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let r=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-r)/2),y:Math.round((e.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,r=e.videoWidth,n=e.videoHeight,s=e.offsetWidth,i=e.offsetHeight,a=e.offsetLeft,A=e.offsetTop,l=window.getComputedStyle(e),c=l.objectFit,u=r/n,d=s/i;switch(c){case"none":var f=r,g=n;break;case"fill":f=s,g=i;break;default:(c==="cover"?u>d:u<d)?(g=i,f=g*u):(f=s,g=f/u),c==="scale-down"&&(f=Math.min(f,r),g=Math.min(g,n))}var[m,w]=l.objectPosition.split(" ").map((v,x)=>{const C=parseFloat(v);return v.endsWith("%")?(x?i-g:s-f)*C/100:C});l=this._scanRegion.width||r,d=this._scanRegion.height||n,c=this._scanRegion.x||0;var b=this._scanRegion.y||0;u=this.$overlay.style,u.width=`${l/r*f}px`,u.height=`${d/n*g}px`,u.top=`${A+w+b/n*g}px`,n=/scaleX\(-1\)/.test(e.style.transform),u.left=`${a+(n?s-m-f:m)+(n?r-c-l:c)/r*f}px`,u.transform=e.style.transform}})}static _convertPoints(e,r){if(!r)return e;let n=r.x||0,s=r.y||0,i=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let a of e)a.x=a.x*i+n,a.y=a.y*r+s;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;e<r&&await new Promise(s=>setTimeout(s,r-e)),this._lastScanTimestamp=Date.now();try{var n=await kt.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(s){if(!this._active)return;this._onDecodeError(s)}!kt._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=kt.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:s,y:i})=>`${s},${i}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==kt.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(s=>Object.assign({},s,{[e]:{exact:this._preferredCamera}}));for(let s of[...n,...r])try{let i=await navigator.mediaDevices.getUserMedia({video:s,audio:!1}),a=this._getFacingMode(i)||(s.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:i,facingMode:a}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let r of e.getTracks())r.stop(),e.removeTrack(r)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,r,n,s=!1){n=n||document.createElement("canvas");let i=r&&r.x?r.x:0,a=r&&r.y?r.y:0,A=r&&r.width?r.width:e.videoWidth||e.width,l=r&&r.height?r.height:e.videoHeight||e.height;return s||(s=r&&r.downScaledWidth?r.downScaledWidth:A,r=r&&r.downScaledHeight?r.downScaledHeight:l,n.width!==s&&(n.width=s),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(e,i,a,A,l,0,0,n.width,n.height),[n,r]}static async _loadImage(e){if(e instanceof Image)return await kt._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let r=new Image;r.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await kt._awaitImageLoad(r),r}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((r,n)=>{let s=i=>{e.removeEventListener("load",s),e.removeEventListener("error",s),i instanceof ErrorEvent?n("Image load error"):r()};e.addEventListener("load",s),e.addEventListener("error",s)})}static async _postWorkerMessage(e,r,n,s){return kt._postWorkerMessageSync(await e,r,n,s)}static _postWorkerMessageSync(e,r,n,s){if(!(e instanceof Worker))return-1;let i=kt._workerMessageId++;return e.postMessage({id:i,type:r,data:n},s),i}}kt.DEFAULT_CANVAS_SIZE=400;kt.NO_QR_CODE_FOUND="No QR code found";kt._disableBarcodeDetector=!1;kt._workerMessageId=0;function tK(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[f,g]=T.useState(!1),[m,w]=T.useState(!1),[b,v]=T.useState(null),[x,C]=T.useState(null),[_,F]=T.useState(""),[P,E]=T.useState(""),j=T.useRef(null),R=T.useRef(null),[Z,Q]=T.useState(""),[I,z]=T.useState("all"),[$,ce]=T.useState("all"),[ie,fe]=T.useState(new Set),[te,W]=T.useState(!1),[J,ee]=T.useState([]),[S,M]=T.useState(!1),K=["Monitor","PC/Desktop","Laptop","Console","Printer","Scanner","Projector","Router/Switch","Server","Tablet","Phone","Camera","Audio Equipment","Storage Device","Accessories","Furniture","Other"],G=["MON","PC","LAP","CON","PRT","SCN","PRJ","NET","SRV","TAB","PHN","CAM","AUD","STG","ACC","FUR","OTH"],[re,ae]=T.useState(""),[Ae,se]=T.useState("MON"),[Ne,Ue]=T.useState(""),[pe,ve]=T.useState(""),[je,ge]=T.useState("Monitor"),[Y,tt]=T.useState(""),[Re,Ie]=T.useState(""),[Ve,Ee]=T.useState(""),[Pe,qe]=T.useState(""),[et,ye]=T.useState(0),[Oe,U]=T.useState(""),[ue,oe]=T.useState(""),[Be,Se]=T.useState(""),[Xe,ke]=T.useState(""),[Je,We]=T.useState("active"),[nt,pt]=T.useState("good"),[X,Qe]=T.useState(""),[Ye,dt]=T.useState("maintenance"),[Et,ht]=T.useState(""),[st,ft]=T.useState(""),[Te,Ft]=T.useState(0),[It,Pt]=T.useState("");T.useEffect(()=>{ut()},[]),T.useEffect(()=>{if(Ae&&Ne){const me=Ne.padStart(3,"0");ae(`${Ae}-${me}`)}},[Ae,Ne]);const ut=async()=>{i(!0);const{data:me,error:Bt}=await $e.from("inventory").select("*").order("created_at",{ascending:!1});Bt||e(me||[]),i(!1)},Kr=async me=>{const{data:Bt}=await $e.from("inventory_history").select("*").eq("inventory_id",me).order("action_date",{ascending:!1});n(Bt||[])},Yr=me=>{if(!me)return"N/A";const Bt=new Date(me);return isNaN(Bt.getTime())?"N/A":`${String(Bt.getMonth()+1).padStart(2,"0")}-${String(Bt.getDate()).padStart(2,"0")}-${Bt.getFullYear()}`},Ir=me=>{switch(me){case"active":return o.jsx("span",{className:"badge-success",children:"Active"});case"under_repair":return o.jsx("span",{className:"badge-warning",children:"Under Repair"});case"disposed":case"lost":return o.jsx("span",{className:"badge-danger",children:me});default:return o.jsx("span",{className:"badge-info",children:me})}};if(s)return o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("div",{className:"loading-shimmer h-12 w-48 rounded"})});const Vt=t.filter(me=>{var $s,mi,RA;const Bt=me.item_description.toLowerCase().includes(Z.toLowerCase())||(($s=me.asset_tag)==null?void 0:$s.toLowerCase().includes(Z.toLowerCase()))||((mi=me.brand)==null?void 0:mi.toLowerCase().includes(Z.toLowerCase()))||((RA=me.model)==null?void 0:RA.toLowerCase().includes(Z.toLowerCase())),Ut=I==="all"||me.category===I,kn=$==="all"||me.status===$;return Bt&&Ut&&kn}),vr=[...new Set([...K,...t.map(me=>me.category)])],En=me=>{const Bt=new Set(ie);Bt.has(me)?Bt.delete(me):Bt.add(me),fe(Bt)},va=()=>{ie.size===Vt.length?fe(new Set):fe(new Set(Vt.map(me=>me.id)))},zs=async()=>{if(ie.size===0){alert("Please select items to generate QR codes");return}M(!0);const me=t.filter(Ut=>ie.has(Ut.id)),Bt=[];try{for(const Ut of me){const kn=JSON.stringify({id:Ut.id,asset_tag:Ut.asset_tag,description:Ut.item_description,category:Ut.category,brand:Ut.brand,model:Ut.model}),$s=await gC(kn,{width:200,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});Bt.push({item:Ut,qrCode:$s})}ee(Bt),W(!0)}catch(Ut){console.error("Error generating bulk QR codes:",Ut),alert("Failed to generate QR codes")}finally{M(!1)}},is=()=>{if(J.length===0)return;const me=window.open("","_blank");if(me){const Bt=J.map(({item:Ut,qrCode:kn})=>`
        <div class="qr-container">
          <img src="/avensetech-logo.jpg" alt="Avensetech Logo" class="logo" />
          <div class="company-text">Property of Avensetech</div>
          <div class="qr-code">
            <img src="${kn}" alt="QR Code" />
          </div>
          <div class="item-info">
            <div class="asset-tag">${Ut.asset_tag||"No Asset Tag"}</div>
            <div>${Ut.item_description}</div>
            <div>${Ut.brand||""} ${Ut.model||""}</div>
          </div>
        </div>
      `).join("");me.document.write(`
        <html>
          <head>
            <title>Bulk QR Codes - ${J.length} Items</title>
            <style>
              body { 
                font-family: Arial, sans-serif; 
                padding: 10px; 
                margin: 0;
              }
              .qr-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 10px;
                page-break-inside: avoid;
              }
              .qr-container {
                border: 2px solid #000;
                padding: 10px;
                text-align: center;
                page-break-inside: avoid;
                break-inside: avoid;
              }
              .logo {
                width: 60px;
                height: auto;
                margin-bottom: 5px;
              }
              .company-text {
                font-size: 8px;
                font-weight: bold;
                color: #333;
                margin-bottom: 8px;
                text-transform: uppercase;
              }
              .qr-code {
                margin: 5px 0;
              }
              .qr-code img {
                width: 120px;
                height: 120px;
              }
              .item-info {
                margin-top: 5px;
                font-size: 9px;
                line-height: 1.2;
              }
              .asset-tag {
                font-weight: bold;
                font-size: 10px;
                margin-bottom: 3px;
              }
              @media print {
                .qr-container {
                  page-break-inside: avoid;
                  break-inside: avoid;
                }
              }
            </style>
          </head>
          <body>
            <div class="qr-grid">
              ${Bt}
            </div>
          </body>
        </html>
      `),me.document.close(),me.print()}},hn=()=>{ae(""),se("MON"),Ue(""),ve(""),ge("Monitor"),tt(""),Ie(""),Ee(""),qe(""),ye(0),U(""),oe(""),Se(""),ke(""),We("active"),pt("good"),Qe(""),v(null)},as=async me=>{try{const Bt=JSON.stringify({id:me.id,asset_tag:me.asset_tag,description:me.item_description,category:me.category,brand:me.brand,model:me.model}),Ut=await gC(Bt,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});F(Ut),C(me),g(!0)}catch(Bt){console.error("Error generating QR code:",Bt),alert("Failed to generate QR code")}},Cs=async()=>{try{w(!0),E(""),setTimeout(async()=>{if(j.current)try{const me=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});j.current.srcObject=me;const Bt=new kt(j.current,Ut=>{try{const kn=JSON.parse(Ut.data);E(`Found item: ${kn.description||"Unknown"} (${kn.asset_tag||"No tag"})`);const $s=t.find(mi=>mi.id===kn.id);$s&&(C($s),d(!0),Un())}catch{E(`QR Code content: ${Ut.data}`)}},{highlightScanRegion:!0,highlightCodeOutline:!0});R.current=Bt,await Bt.start()}catch(me){console.error("QR Scanner error:",me),E("Camera access denied or not available. Please allow camera access and try again.")}},200)}catch(me){console.error("Error starting scanner:",me),alert("Failed to start camera. Please check camera permissions.")}},Un=()=>{R.current&&(R.current.stop(),R.current.destroy(),R.current=null),j.current&&j.current.srcObject&&(j.current.srcObject.getTracks().forEach(Bt=>Bt.stop()),j.current.srcObject=null),w(!1)},_s=()=>{if(_&&x){const me=document.createElement("a");me.download=`QR_${x.asset_tag||x.id}.png`,me.href=_,me.click()}},Ri=()=>{if(_&&x){const me=window.open("","_blank");me&&(me.document.write(`
          <html>
            <head>
              <title>QR Code - ${x.asset_tag||x.item_description}</title>
              <style>
                body { 
                  font-family: Arial, sans-serif; 
                  text-align: center; 
                  padding: 20px; 
                  margin: 0;
                }
                .qr-container {
                  border: 2px solid #000;
                  padding: 15px;
                  display: inline-block;
                  margin: 20px;
                  max-width: 300px;
                }
                .logo {
                  width: 80px;
                  height: auto;
                  margin-bottom: 10px;
                }
                .company-text {
                  font-size: 10px;
                  font-weight: bold;
                  color: #333;
                  margin-bottom: 15px;
                  text-transform: uppercase;
                }
                .qr-code {
                  margin: 10px 0;
                }
                .item-info {
                  margin-top: 10px;
                  font-size: 11px;
                  line-height: 1.3;
                }
                .asset-tag {
                  font-weight: bold;
                  font-size: 12px;
                  margin-bottom: 5px;
                }
              </style>
            </head>
            <body>
              <div class="qr-container">
                <img src="/avensetech-logo.jpg" alt="Avensetech Logo" class="logo" />
                <div class="company-text">Property of Avensetech</div>
                <div class="qr-code">
                  <img src="${_}" alt="QR Code" />
                </div>
                <div class="item-info">
                  <div class="asset-tag">${x.asset_tag||"No Asset Tag"}</div>
                  <div>${x.item_description}</div>
                  <div>${x.brand||""} ${x.model||""}</div>
                </div>
              </div>
            </body>
          </html>
        `),me.document.close(),me.print())}},wa=async me=>{me.preventDefault();const Bt={asset_tag:re||null,item_description:pe,category:je,brand:Y||null,model:Re||null,serial_number:Ve||null,purchase_date:Pe||null,purchase_price:et||null,supplier:Oe||null,warranty_expiry:ue||null,assigned_to:Be||null,location:Xe||null,status:Je,condition:nt||null,notes:X||null};if(b){const{error:Ut}=await $e.from("inventory").update(Bt).eq("id",b.id);Ut||(ut(),A(!1),hn())}else{const{error:Ut}=await $e.from("inventory").insert([Bt]);Ut||(ut(),A(!1),hn())}},ya=me=>{if(v(me),ae(me.asset_tag||""),me.asset_tag&&me.asset_tag.includes("-")){const[Bt,Ut]=me.asset_tag.split("-");se(Bt),Ue(Ut)}else se("MON"),Ue("");ve(me.item_description),ge(me.category),tt(me.brand||""),Ie(me.model||""),Ee(me.serial_number||""),qe(me.purchase_date||""),ye(me.purchase_price||0),U(me.supplier||""),oe(me.warranty_expiry||""),Se(me.assigned_to||""),ke(me.location||""),We(me.status),pt(me.condition||"good"),Qe(me.notes||""),A(!0)},ba=async me=>{if(confirm("Are you sure you want to delete this item?")){const{error:Bt}=await $e.from("inventory").delete().eq("id",me);Bt||ut()}},Ba=me=>{C(me),Kr(me.id),d(!0)},HA=async me=>{if(me.preventDefault(),!x)return;const Bt={inventory_id:x.id,action_type:Ye,description:Et,performed_by:st||null,action_date:new Date().toISOString(),cost:Te||null,notes:It||null},{error:Ut}=await $e.from("inventory_history").insert([Bt]);Ut||(Kr(x.id),ht(""),ft(""),Ft(0),Pt(""),c(!1))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[ie.size>0&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[ie.size," selected"]}),o.jsx("button",{onClick:zs,disabled:S,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:S?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5m0 0v5m0 0h5m0 0V4"})}),"Bulk QR (",ie.size,")"]})})]}),o.jsxs("button",{onClick:Cs,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5m0 0v5m0 0h5m0 0V4"})}),"Scan QR"]}),o.jsx("button",{onClick:()=>{hn(),A(!0)},className:"btn-primary",children:"Add New Item"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"selectAll",checked:ie.size===Vt.length&&Vt.length>0,onChange:va,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("label",{htmlFor:"selectAll",className:"ml-2 text-sm text-gray-700",children:["Select All (",Vt.length,")"]})]}),o.jsx("input",{type:"text",placeholder:"Search items...",value:Z,onChange:me=>Q(me.target.value),className:"input-field"}),o.jsxs("select",{value:I,onChange:me=>z(me.target.value),className:"input-field",children:[o.jsx("option",{value:"all",children:"All Categories"}),vr.map(me=>o.jsx("option",{value:me,children:me},me))]}),o.jsxs("select",{value:$,onChange:me=>ce(me.target.value),className:"input-field",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"under_repair",children:"Under Repair"}),o.jsx("option",{value:"disposed",children:"Disposed"}),o.jsx("option",{value:"lost",children:"Lost"})]}),o.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:["Total Items: ",Vt.length]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Vt.map(me=>o.jsxs("div",{className:"glass rounded-xl p-4 space-y-3 relative",children:[o.jsx("div",{className:"absolute top-3 left-3",children:o.jsx("input",{type:"checkbox",checked:ie.has(me.id),onChange:()=>En(me.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),o.jsxs("div",{className:"flex justify-between items-start pl-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:me.item_description}),me.asset_tag&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Tag: ",me.asset_tag]})]}),Ir(me.status)]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Category:"})," ",me.category]}),me.brand&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Brand:"})," ",me.brand]}),me.model&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Model:"})," ",me.model]}),me.assigned_to&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",me.assigned_to]}),me.location&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Location:"})," ",me.location]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx("button",{onClick:()=>as(me),className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-xs flex-1",children:"QR"}),o.jsx("button",{onClick:()=>Ba(me),className:"btn-secondary text-xs flex-1",children:"Details"}),o.jsx("button",{onClick:()=>ya(me),className:"btn-primary text-xs flex-1",children:"Edit"}),o.jsx("button",{onClick:()=>ba(me.id),className:"btn-danger text-xs flex-1",children:"Delete"})]})]},me.id))}),Vt.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"No inventory items found."})}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl p-6",children:[o.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:b?"Edit Item":"Add New Item"}),o.jsxs("form",{onSubmit:wa,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Tag Generator"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("select",{value:Ae,onChange:me=>se(me.target.value),className:"input-field flex-1",children:G.map(me=>o.jsx("option",{value:me,children:me},me))}),o.jsx("span",{className:"flex items-center text-gray-500",children:"-"}),o.jsx("input",{type:"number",placeholder:"001",value:Ne,onChange:me=>Ue(me.target.value),className:"input-field flex-1",min:"1",max:"999"})]}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{type:"text",value:re,onChange:me=>ae(me.target.value),className:"input-field",placeholder:"Generated asset tag or enter manually"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),o.jsx("input",{type:"text",value:pe,onChange:me=>ve(me.target.value),className:"input-field",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),o.jsx("select",{value:je,onChange:me=>ge(me.target.value),className:"input-field",required:!0,children:K.map(me=>o.jsx("option",{value:me,children:me},me))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),o.jsx("input",{type:"text",value:Y,onChange:me=>tt(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),o.jsx("input",{type:"text",value:Re,onChange:me=>Ie(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),o.jsx("input",{type:"text",value:Ve,onChange:me=>Ee(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),o.jsx("input",{type:"date",value:Pe,onChange:me=>qe(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Price"}),o.jsx("input",{type:"number",step:"0.01",value:et,onChange:me=>ye(Number(me.target.value)),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),o.jsx("input",{type:"text",value:Oe,onChange:me=>U(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warranty Expiry"}),o.jsx("input",{type:"date",value:ue,onChange:me=>oe(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),o.jsx("input",{type:"text",value:Be,onChange:me=>Se(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:Xe,onChange:me=>ke(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:Je,onChange:me=>We(me.target.value),className:"input-field",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"under_repair",children:"Under Repair"}),o.jsx("option",{value:"disposed",children:"Disposed"}),o.jsx("option",{value:"lost",children:"Lost"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),o.jsxs("select",{value:nt,onChange:me=>pt(me.target.value),className:"input-field",children:[o.jsx("option",{value:"excellent",children:"Excellent"}),o.jsx("option",{value:"good",children:"Good"}),o.jsx("option",{value:"fair",children:"Fair"}),o.jsx("option",{value:"poor",children:"Poor"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:X,onChange:me=>Qe(me.target.value),className:"input-field",rows:3})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{A(!1),hn()},className:"btn-secondary flex-1",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary flex-1",children:b?"Update Item":"Add Item"})]})]})]})}),u&&x&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl p-6",children:[o.jsxs("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:["Asset Details: ",x.item_description]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Asset Tag:"})," ",o.jsx("strong",{children:x.asset_tag||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Category:"})," ",o.jsx("strong",{children:x.category})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Brand:"})," ",o.jsx("strong",{children:x.brand||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Model:"})," ",o.jsx("strong",{children:x.model||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Serial Number:"})," ",o.jsx("strong",{children:x.serial_number||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Purchase Date:"})," ",o.jsx("strong",{children:Yr(x.purchase_date)})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Purchase Price:"})," ",o.jsx("strong",{children:x.purchase_price?`${x.purchase_price.toLocaleString()}`:"N/A"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Supplier:"})," ",o.jsx("strong",{children:x.supplier||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Warranty Expiry:"})," ",o.jsx("strong",{children:Yr(x.warranty_expiry)})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Assigned To:"})," ",o.jsx("strong",{children:x.assigned_to||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Location:"})," ",o.jsx("strong",{children:x.location||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Status:"})," ",Ir(x.status)]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Condition:"})," ",o.jsx("strong",{children:x.condition||"N/A"})]}),x.notes&&o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Notes:"})," ",o.jsx("strong",{children:x.notes})]})]})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"History"}),o.jsx("button",{onClick:()=>c(!0),className:"btn-primary text-sm",children:"Add History"})]}),o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[r.map(me=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:me.action_type.replace("_"," ").toUpperCase()}),o.jsx("p",{className:"text-sm text-gray-600",children:me.description}),me.performed_by&&o.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",me.performed_by]})]}),o.jsxs("div",{className:"text-right text-xs text-gray-500",children:[o.jsx("p",{children:Yr(me.action_date)}),me.cost&&o.jsxs("p",{children:["",me.cost.toLocaleString()]})]})]}),me.notes&&o.jsx("p",{className:"text-xs text-gray-600 mt-2",children:me.notes})]},me.id)),r.length===0&&o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No history records found."})]})]}),o.jsx("div",{className:"mt-6 flex gap-3",children:o.jsx("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"Close"})})]})}),l&&x&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-md rounded-2xl p-6",children:[o.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Add History Record"}),o.jsxs("form",{onSubmit:HA,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Type"}),o.jsxs("select",{value:Ye,onChange:me=>dt(me.target.value),className:"input-field",children:[o.jsx("option",{value:"maintenance",children:"Maintenance"}),o.jsx("option",{value:"repair",children:"Repair"}),o.jsx("option",{value:"transfer",children:"Transfer"}),o.jsx("option",{value:"status_change",children:"Status Change"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),o.jsx("input",{type:"text",value:Et,onChange:me=>ht(me.target.value),className:"input-field",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Performed By"}),o.jsx("input",{type:"text",value:st,onChange:me=>ft(me.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost"}),o.jsx("input",{type:"number",step:"0.01",value:Te,onChange:me=>Ft(Number(me.target.value)),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:It,onChange:me=>Pt(me.target.value),className:"input-field",rows:3})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary flex-1",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Add Record"})]})]})]})}),f&&x&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-md rounded-2xl p-6 text-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"mx-auto h-12 w-auto mb-2"})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.item_description}),o.jsx("p",{className:"text-xs text-gray-500",children:x.asset_tag||"No Asset Tag"})]}),_&&o.jsx("div",{className:"mb-6",children:o.jsx("img",{src:_,alt:"QR Code",className:"mx-auto border-2 border-gray-200 rounded-lg"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>g(!1),className:"btn-secondary flex-1",children:"Close"}),o.jsx("button",{onClick:_s,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex-1",children:"Download"}),o.jsx("button",{onClick:Ri,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex-1",children:"Print"})]})]})}),m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-md rounded-2xl p-6",children:[o.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Scan QR Code"}),o.jsxs("div",{className:"mb-4 text-center",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Point your camera at a QR code to scan"}),o.jsx("video",{ref:j,className:"w-full h-64 bg-black rounded-lg border-2 border-gray-300",playsInline:!0,muted:!0,autoPlay:!0})]}),P&&o.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-green-800",children:P})}),o.jsx("div",{className:"text-xs text-gray-500 mb-4 text-center",children:"Make sure to allow camera access when prompted by your browser"}),o.jsx("div",{className:"flex gap-3",children:o.jsx("button",{onClick:Un,className:"btn-secondary flex-1",children:"Cancel"})})]})}),te&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"h-8 w-auto mb-2"}),o.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Bulk QR Codes (",J.length," items)"]})]}),o.jsx("button",{onClick:()=>W(!1),className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:J.map(({item:me,qrCode:Bt})=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-3 text-center bg-white",children:[o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"w-12 h-auto mx-auto mb-1"}),o.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Property of Avensetech"}),o.jsx("img",{src:Bt,alt:"QR Code",className:"w-24 h-24 mx-auto mb-2"}),o.jsxs("div",{className:"text-xs",children:[o.jsx("div",{className:"font-bold",children:me.asset_tag||"No Tag"}),o.jsx("div",{className:"truncate",children:me.item_description}),o.jsxs("div",{className:"text-gray-500",children:[me.brand," ",me.model]})]})]},me.id))}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>W(!1),className:"btn-secondary flex-1",children:"Close"}),o.jsxs("button",{onClick:is,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex-1 flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print All QR Codes"]})]})]})})]})}const ng=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},tn=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;function rK(){var et;const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState([]),[a,A]=T.useState(!0),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,g]=T.useState(null),[m,w]=T.useState(null),[b,v]=T.useState(!1),[x,C]=T.useState(!1),[_,F]=T.useState(""),[P,E]=T.useState("cash_advance"),[j,R]=T.useState(""),[Z,Q]=T.useState("0"),[I,z]=T.useState(""),[$,ce]=T.useState(new Date().toISOString().split("T")[0]),[ie,fe]=T.useState(new Date().toISOString().split("T")[0]),[te,W]=T.useState(""),[J,ee]=T.useState(""),[S,M]=T.useState(""),[K,G]=T.useState(new Date().toISOString().split("T")[0]),[re,ae]=T.useState("");T.useEffect(()=>{Ae()},[]);const Ae=async()=>{A(!0),c(null);try{const[ye,Oe,U]=await Promise.all([$e.from("loans").select("*").order("created_at",{ascending:!1}),$e.from("employees").select("*").order("name",{ascending:!0}),$e.from("loan_payments").select("*").order("payment_date",{ascending:!1})]);if(ye.error)throw ye.error;if(Oe.error)throw Oe.error;if(U.error)throw U.error;e(ye.data??[]),n(Oe.data??[]),i(U.data??[])}catch(ye){c(ye.message)}finally{A(!1)}},se=ye=>{ye?(g(ye),F(ye.employee_id),E(ye.loan_type),R(ye.principal_amount.toString()),Q(ye.interest_rate.toString()),z(ye.bimonthly_deduction.toString()),ce(ye.loan_date),fe(ye.start_deduction_date),W(ye.purpose||""),ee(ye.notes||"")):Ne(),d(!0)},Ne=()=>{g(null),F(""),E("cash_advance"),R(""),Q("0"),z(""),ce(new Date().toISOString().split("T")[0]),fe(new Date().toISOString().split("T")[0]),W(""),ee("")},Ue=()=>{const ye=Number(j)||0,Oe=Number(Z)||0,U=Number(I)||0;if(ye<=0||U<=0)return ye;const oe=Math.ceil(ye/U)/24,Be=ye*Oe*oe/100;return ye+Be},pe=async()=>{if(!_||!j||!I){alert("Please fill in all required fields");return}const ye=Number(j),Oe=Number(I),U=Number(Z)||0,ue=Ue();if(ye<=0||Oe<=0){alert("Principal amount and bi-monthly deduction must be greater than 0");return}const oe={employee_id:_,loan_type:P,principal_amount:ye,interest_rate:U,total_amount:ue,bimonthly_deduction:Oe,remaining_balance:f?f.remaining_balance:ue,loan_date:$,start_deduction_date:ie,purpose:te.trim()||null,notes:J.trim()||null,status:f?f.status:"active",approved_by:"System",approved_at:new Date().toISOString()};try{if(f){const{error:Be}=await $e.from("loans").update(oe).eq("id",f.id);if(Be)throw Be}else{const{error:Be}=await $e.from("loans").insert(oe);if(Be)throw Be}d(!1),Ne(),await Ae()}catch(Be){alert(Be.message)}},ve=async()=>{if(!m||!S||!K){alert("Please fill in all payment fields");return}const ye=Number(S);if(ye<=0||ye>m.remaining_balance){alert("Payment amount must be greater than 0 and not exceed remaining balance");return}const Oe=m.remaining_balance,U=Oe-ye;try{const{error:ue}=await $e.from("loan_payments").insert({loan_id:m.id,payment_date:K,amount:ye,balance_before:Oe,balance_after:U,payment_type:"manual_payment",notes:re.trim()||null});if(ue)throw ue;const oe=U<=0?"completed":"active",{error:Be}=await $e.from("loans").update({remaining_balance:U,status:oe,end_date:oe==="completed"?K:null}).eq("id",m.id);if(Be)throw Be;v(!1),M(""),G(new Date().toISOString().split("T")[0]),ae(""),await Ae();const Se={...m,remaining_balance:U,status:oe};w(Se)}catch(ue){alert(ue.message)}},je=async ye=>{if(confirm("Are you sure you want to delete this loan? This will also delete all payment records."))try{const{error:Oe}=await $e.from("loans").delete().eq("id",ye);if(Oe)throw Oe;await Ae()}catch(Oe){alert(Oe.message)}},ge=async ye=>{if(confirm("Delete this payment? This will restore the loan balance."))try{const Oe=t.find(Se=>Se.id===ye.loan_id);if(!Oe){alert("Loan not found");return}const U=Oe.remaining_balance+ye.amount,ue=U>0?"active":"completed",{error:oe}=await $e.from("loan_payments").delete().eq("id",ye.id);if(oe)throw oe;const{error:Be}=await $e.from("loans").update({remaining_balance:U,status:ue,end_date:ue==="completed"?null:Oe.end_date}).eq("id",ye.loan_id);if(Be)throw Be;if(await Ae(),m&&m.id===ye.loan_id){const Se={...m,remaining_balance:U,status:ue};w(Se)}alert("Payment deleted successfully")}catch(Oe){alert("Error deleting payment: "+Oe.message)}},Y=ye=>r.find(Oe=>Oe.id===ye),tt=ye=>s.filter(Oe=>Oe.loan_id===ye),Re=ye=>({cash_advance:"Cash Advance",emergency_loan:"Emergency Loan",salary_loan:"Salary Loan",equipment_loan:"Equipment Loan",other:"Other"})[ye]||ye,Ie=ye=>({active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[ye]||"bg-gray-100 text-gray-800",Ve=t.filter(ye=>ye.status==="active"),Ee=Ve.reduce((ye,Oe)=>ye+Oe.remaining_balance,0),Pe=t.reduce((ye,Oe)=>ye+Oe.total_amount,0),qe=Pe-t.reduce((ye,Oe)=>ye+Oe.remaining_balance,0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Loans Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage employee loans and automatic payroll deductions"})]}),o.jsx("button",{onClick:()=>se(),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"+ New Loan"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Active Loans"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:Ve.length})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Outstanding Balance"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:tn(Ee)})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Total Loaned"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:tn(Pe)})]}),o.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-indigo-200 bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Total Paid"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-900",children:tn(qe)})]}),o.jsx("div",{className:"rounded-full bg-indigo-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Loans"}),a?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading loans..."})]}):l?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-red-600",children:l})}):t.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No loans found. Create your first loan!"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Employee"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Total Amount"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Bi-monthly Deduction"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Remaining"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.sort((ye,Oe)=>{const U=Y(ye.employee_id),ue=Y(Oe.employee_id),oe=(U==null?void 0:U.name)||"",Be=(ue==null?void 0:ue.name)||"";return oe.localeCompare(Be)}).map(ye=>{const Oe=Y(ye.employee_id),U=(ye.total_amount-ye.remaining_balance)/ye.total_amount*100;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold",children:Oe==null?void 0:Oe.name.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:Oe==null?void 0:Oe.name}),o.jsx("div",{className:"text-sm text-gray-500",children:Oe==null?void 0:Oe.position})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold text-gray-800",children:Re(ye.loan_type)})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:tn(ye.total_amount)}),o.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900",children:tn(ye.bimonthly_deduction)}),o.jsxs("td",{className:"px-6 py-4 text-right",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:tn(ye.remaining_balance)}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${U}%`}})}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[U.toFixed(1),"% paid"]})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${Ie(ye.status)}`,children:ye.status.charAt(0).toUpperCase()+ye.status.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 text-center text-sm",children:[o.jsx("button",{onClick:()=>{w(ye),C(!0)},className:"mr-3 text-blue-600 hover:text-blue-800",children:"View"}),o.jsx("button",{onClick:()=>se(ye),className:"mr-3 text-indigo-600 hover:text-indigo-800",children:"Edit"}),o.jsx("button",{onClick:()=>je(ye.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},ye.id)})})]})})]})}),u&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:f?"Edit Loan":"Create New Loan"}),o.jsx("button",{onClick:()=>{d(!1),Ne()},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee *"}),o.jsxs("select",{value:_,onChange:ye=>F(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Employee"}),r.map(ye=>o.jsxs("option",{value:ye.id,children:[ye.name," - ",ye.position]},ye.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Type *"}),o.jsxs("select",{value:P,onChange:ye=>E(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"cash_advance",children:"Cash Advance"}),o.jsx("option",{value:"emergency_loan",children:"Emergency Loan"}),o.jsx("option",{value:"salary_loan",children:"Salary Loan"}),o.jsx("option",{value:"equipment_loan",children:"Equipment Loan"}),o.jsx("option",{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Principal Amount *"}),o.jsx("input",{type:"number",step:"0.01",value:j,onChange:ye=>R(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interest Rate (% per year)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:Z,onChange:ye=>Q(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bi-monthly Deduction *"}),o.jsx("input",{type:"number",step:"0.01",value:I,onChange:ye=>z(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]})]}),j&&I&&o.jsx("div",{className:"rounded-lg bg-blue-50 p-4",children:o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Calculation Preview:"}),o.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:["Principal: ",tn(Number(j))]}),o.jsxs("div",{children:["Total Amount: ",tn(Ue())]}),o.jsxs("div",{children:["Bi-monthly Payment: ",tn(Number(I))]}),o.jsxs("div",{children:["Estimated Payments: ",Math.ceil(Number(j)/Number(I))]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Date *"}),o.jsx("input",{type:"date",value:$,onChange:ye=>ce(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Deduction Date *"}),o.jsx("input",{type:"date",value:ie,onChange:ye=>fe(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose"}),o.jsx("input",{type:"text",value:te,onChange:ye=>W(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Purpose of the loan"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:J,onChange:ye=>ee(ye.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{d(!1),Ne()},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),o.jsx("button",{onClick:pe,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:f?"Update Loan":"Create Loan"})]})]})}),x&&m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-4xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Loan Details"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[(et=Y(m.employee_id))==null?void 0:et.name," - ",Re(m.loan_type)]})]}),o.jsxs("div",{className:"flex gap-2",children:[m.status==="active"&&o.jsx("button",{onClick:()=>v(!0),className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Add Payment"}),o.jsx("button",{onClick:()=>{C(!1),w(null)},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[o.jsx("div",{className:"text-sm text-blue-600",children:"Total Amount"}),o.jsx("div",{className:"text-xl font-bold text-blue-900",children:tn(m.total_amount)})]}),o.jsxs("div",{className:"rounded-lg bg-green-50 p-4",children:[o.jsx("div",{className:"text-sm text-green-600",children:"Remaining"}),o.jsx("div",{className:"text-xl font-bold text-green-900",children:tn(m.remaining_balance)})]}),o.jsxs("div",{className:"rounded-lg bg-purple-50 p-4",children:[o.jsx("div",{className:"text-sm text-purple-600",children:"Bi-monthly Deduction"}),o.jsx("div",{className:"text-xl font-bold text-purple-900",children:tn(m.bimonthly_deduction)})]}),o.jsxs("div",{className:"rounded-lg bg-indigo-50 p-4",children:[o.jsx("div",{className:"text-sm text-indigo-600",children:"Progress"}),o.jsxs("div",{className:"text-xl font-bold text-indigo-900",children:[((m.total_amount-m.remaining_balance)/m.total_amount*100).toFixed(1),"%"]})]})]}),o.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 p-4",children:[o.jsx("h4",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Loan Information"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Principal Amount:"}),o.jsx("div",{className:"font-medium",children:tn(m.principal_amount)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Interest Rate:"}),o.jsxs("div",{className:"font-medium",children:[m.interest_rate,"% per year"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Loan Date:"}),o.jsx("div",{className:"font-medium",children:ng(m.loan_date)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Start Deduction:"}),o.jsx("div",{className:"font-medium",children:ng(m.start_deduction_date)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("div",{className:"font-medium",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${Ie(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})})]}),m.end_date&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"End Date:"}),o.jsx("div",{className:"font-medium",children:ng(m.end_date)})]}),m.purpose&&o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("span",{className:"text-gray-500",children:"Purpose:"}),o.jsx("div",{className:"font-medium",children:m.purpose})]}),m.notes&&o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("span",{className:"text-gray-500",children:"Notes:"}),o.jsx("div",{className:"font-medium",children:m.notes})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[o.jsx("h4",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Payment History"}),(()=>{const ye=tt(m.id);return ye.length===0?o.jsx("p",{className:"text-gray-500",children:"No payments recorded yet."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Amount"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Balance Before"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Balance After"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Type"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Notes"}),o.jsx("th",{className:"px-3 py-2 text-center font-medium text-gray-700",children:"Actions"})]})}),o.jsx("tbody",{children:ye.map(Oe=>o.jsxs("tr",{className:"border-b border-gray-100",children:[o.jsx("td",{className:"px-3 py-2",children:ng(Oe.payment_date)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono",children:tn(Oe.amount)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono",children:tn(Oe.balance_before)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono",children:tn(Oe.balance_after)}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${Oe.payment_type==="payroll_deduction"?"bg-blue-100 text-blue-800":Oe.payment_type==="manual_payment"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Oe.payment_type.replace("_"," ").replace(/\b\w/g,U=>U.toUpperCase())})}),o.jsx("td",{className:"px-3 py-2",children:Oe.notes||"-"}),o.jsx("td",{className:"px-3 py-2 text-center",children:o.jsx("button",{onClick:()=>ge(Oe),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})})]},Oe.id))})]})})})()]})]})}),b&&m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Add Manual Payment"}),o.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"mb-4 rounded-lg bg-gray-50 p-3",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Current Balance"}),o.jsx("div",{className:"text-xl font-bold text-gray-900",children:tn(m.remaining_balance)})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),o.jsx("input",{type:"number",step:"0.01",max:m.remaining_balance,value:S,onChange:ye=>M(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),o.jsx("input",{type:"date",value:K,onChange:ye=>G(ye.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:re,onChange:ye=>ae(ye.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Payment notes"})]}),S&&o.jsx("div",{className:"rounded-lg bg-blue-50 p-3",children:o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"After Payment:"}),o.jsxs("div",{className:"mt-1",children:["New Balance: ",tn(m.remaining_balance-Number(S))]})]})})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>v(!1),className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),o.jsx("button",{onClick:ve,className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Add Payment"})]})]})})]})}const Tx=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},jl=t=>`$ ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ka=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,pC=()=>new Date().toISOString().slice(0,10);function nK(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(!1),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,g]=T.useState(null),[m,w]=T.useState(56),[b,v]=T.useState(pC()),[x,C]=T.useState(""),[_,F]=T.useState(""),[P,E]=T.useState(""),[j,R]=T.useState(""),[Z,Q]=T.useState("bank_transfer"),[I,z]=T.useState(""),[$,ce]=T.useState(""),[ie,fe]=T.useState(""),[te,W]=T.useState(""),[J,ee]=T.useState("confirmed"),[S,M]=T.useState("all"),[K,G]=T.useState("all"),[re,ae]=T.useState(""),[Ae,se]=T.useState("");T.useEffect(()=>{Ue(),Ne()},[]);const Ne=async()=>{try{const ue=await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json();ue.rates&&ue.rates.PHP&&w(ue.rates.PHP)}catch(U){console.error("Failed to fetch exchange rate:",U)}},Ue=async()=>{n(!0),i(null);try{const{data:U,error:ue}=await $e.from("money_received").select("*").order("date_received",{ascending:!1});if(ue)throw ue;e(U??[])}catch(U){i(U.message)}finally{n(!1)}},pe=U=>{U?(c(U),v(U.date_received),C(U.amount_usd.toString()),F(U.exchange_rate.toString()),E(U.sender_name),R(U.sender_contact||""),Q(U.payment_method),z(U.reference_number||""),ce(U.purpose),fe(U.category||""),W(U.notes||""),ee(U.status)):ve(),A(!0)},ve=()=>{c(null),v(pC()),C(""),F(m.toString()),E(""),R(""),Q("bank_transfer"),z(""),ce(""),fe(""),W(""),ee("confirmed")},je=async()=>{if(!b||!x||!P||!$){alert("Please fill in all required fields");return}const U=Number(x),ue=Number(_)||m;if(U<=0){alert("Amount must be greater than 0");return}if(ue<=0){alert("Exchange rate must be greater than 0");return}const oe=U*ue,Be={date_received:b,amount_usd:U,exchange_rate:ue,amount_php:oe,sender_name:P.trim(),sender_contact:j.trim()||null,payment_method:Z,reference_number:I.trim()||null,purpose:$.trim(),category:ie.trim()||null,notes:te.trim()||null,status:J};try{if(l){const{error:Se}=await $e.from("money_received").update(Be).eq("id",l.id);if(Se)throw Se}else{const{error:Se}=await $e.from("money_received").insert(Be);if(Se)throw Se}A(!1),ve(),await Ue()}catch(Se){alert(Se.message)}},ge=async U=>{if(confirm("Are you sure you want to delete this record?"))try{const{error:ue}=await $e.from("money_received").delete().eq("id",U);if(ue)throw ue;await Ue()}catch(ue){alert(ue.message)}},Y=U=>({bank_transfer:"Bank Transfer",cash:"Cash",check:"Check",gcash:"GCash",paymaya:"PayMaya",paypal:"PayPal",other:"Other"})[U]||U,tt=U=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cleared:"bg-blue-100 text-blue-800"})[U]||"bg-gray-100 text-gray-800",Re=t.filter(U=>!(S!=="all"&&U.status!==S||K!=="all"&&U.payment_method!==K||re&&U.date_received<re||Ae&&U.date_received>Ae)),Ie=Re.reduce((U,ue)=>U+ue.amount_usd,0),Ve=Re.reduce((U,ue)=>U+ue.amount_php,0),Ee=Re.filter(U=>U.status==="pending").reduce((U,ue)=>U+ue.amount_usd,0),Pe=Re.filter(U=>U.status==="pending").reduce((U,ue)=>U+ue.amount_php,0),qe=Re.filter(U=>U.status==="confirmed").reduce((U,ue)=>U+ue.amount_usd,0),et=Re.filter(U=>U.status==="confirmed").reduce((U,ue)=>U+ue.amount_php,0),ye=Re.filter(U=>U.status==="cleared").reduce((U,ue)=>U+ue.amount_usd,0),Oe=Re.filter(U=>U.status==="cleared").reduce((U,ue)=>U+ue.amount_php,0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Money Received"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Track all incoming payments and transfers"})]}),o.jsx("button",{onClick:()=>pe(),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"+ Add Record"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Received"}),o.jsx("p",{className:"mt-1 text-2xl font-bold text-blue-900",children:jl(Ie)}),o.jsx("p",{className:"text-lg font-semibold text-blue-700",children:Ka(Ve)})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-yellow-200 bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pending"}),o.jsx("p",{className:"mt-1 text-2xl font-bold text-yellow-900",children:jl(Ee)}),o.jsx("p",{className:"text-lg font-semibold text-yellow-700",children:Ka(Pe)})]}),o.jsx("div",{className:"rounded-full bg-yellow-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Confirmed"}),o.jsx("p",{className:"mt-1 text-2xl font-bold text-green-900",children:jl(qe)}),o.jsx("p",{className:"text-lg font-semibold text-green-700",children:Ka(et)})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-indigo-200 bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Cleared"}),o.jsx("p",{className:"mt-1 text-2xl font-bold text-indigo-900",children:jl(ye)}),o.jsx("p",{className:"text-lg font-semibold text-indigo-700",children:Ka(Oe)})]}),o.jsx("div",{className:"rounded-full bg-indigo-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:S,onChange:U=>M(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cleared",children:"Cleared"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),o.jsxs("select",{value:K,onChange:U=>G(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Methods"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"check",children:"Check"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"paymaya",children:"PayMaya"}),o.jsx("option",{value:"paypal",children:"PayPal"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),o.jsx("input",{type:"date",value:re,onChange:U=>ae(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),o.jsx("input",{type:"date",value:Ae,onChange:U=>se(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"mt-4 flex gap-2",children:o.jsx("button",{onClick:()=>{M("all"),G("all"),ae(""),se("")},className:"rounded-md bg-gray-200 px-3 py-1 text-sm text-gray-700 hover:bg-gray-300",children:"Clear Filters"})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Money Received Records (",Re.length,")"]}),r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading records..."})]}):s?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-red-600",children:s})}):Re.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No records found. Add your first money received record!"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount (USD)"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount (PHP)"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Sender"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Method"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Purpose"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:Re.map(U=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Tx(U.date_received)}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:jl(U.amount_usd)}),o.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:[Ka(U.amount_php),o.jsxs("div",{className:"text-xs text-gray-500",children:["Rate: ",U.exchange_rate.toFixed(2)]})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.sender_name}),U.sender_contact&&o.jsx("div",{className:"text-sm text-gray-500",children:U.sender_contact})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold text-gray-800",children:Y(U.payment_method)}),U.reference_number&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ref: ",U.reference_number]})]}),o.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[o.jsx("div",{className:"max-w-xs truncate",children:U.purpose}),U.category&&o.jsx("div",{className:"text-xs text-gray-500",children:U.category})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${tt(U.status)}`,children:U.status.charAt(0).toUpperCase()+U.status.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 text-center text-sm",children:[o.jsx("button",{onClick:()=>{g(U),d(!0)},className:"mr-3 text-blue-600 hover:text-blue-800",children:"View"}),o.jsx("button",{onClick:()=>pe(U),className:"mr-3 text-indigo-600 hover:text-indigo-800",children:"Edit"}),o.jsx("button",{onClick:()=>ge(U.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},U.id))})]})})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l?"Edit Record":"Add Money Received"}),o.jsx("button",{onClick:()=>{A(!1),ve()},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Received *"}),o.jsx("input",{type:"date",value:b,onChange:U=>v(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (USD) *"}),o.jsx("input",{type:"number",step:"0.01",value:x,onChange:U=>C(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exchange Rate (USD to PHP)"}),o.jsx("input",{type:"number",step:"0.01",value:_,onChange:U=>F(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:m.toString()}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Current rate: ",m.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (PHP)"}),o.jsx("div",{className:"w-full rounded-md border-gray-300 bg-gray-50 px-3 py-2 text-sm text-gray-900",children:Ka(x&&(_||m)?Number(x)*(Number(_)||m):0)}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Calculated automatically"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Name *"}),o.jsx("input",{type:"text",value:P,onChange:U=>E(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Person or company name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Contact"}),o.jsx("input",{type:"text",value:j,onChange:U=>R(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Phone, email, or other contact"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),o.jsxs("select",{value:Z,onChange:U=>Q(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"check",children:"Check"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"paymaya",children:"PayMaya"}),o.jsx("option",{value:"paypal",children:"PayPal"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),o.jsx("input",{type:"text",value:I,onChange:U=>z(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Transaction reference"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose *"}),o.jsx("input",{type:"text",value:$,onChange:U=>ce(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"What is this payment for?",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsx("input",{type:"text",value:ie,onChange:U=>fe(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g., Client Payment, Loan, Investment"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),o.jsxs("select",{value:J,onChange:U=>ee(U.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cleared",children:"Cleared"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:te,onChange:U=>W(U.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes or details"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{A(!1),ve()},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),o.jsx("button",{onClick:je,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:l?"Update Record":"Add Record"})]})]})}),u&&f&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Money Received Details"}),o.jsx("button",{onClick:()=>{d(!1),g(null)},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Date Received:"}),o.jsx("div",{className:"font-medium",children:Tx(f.date_received)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Exchange Rate:"}),o.jsxs("div",{className:"font-medium",children:[f.exchange_rate.toFixed(2)," PHP per USD"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Amount (USD):"}),o.jsx("div",{className:"font-medium text-lg",children:jl(f.amount_usd)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Amount (PHP):"}),o.jsx("div",{className:"font-medium text-lg",children:Ka(f.amount_php)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Sender:"}),o.jsx("div",{className:"font-medium",children:f.sender_name}),f.sender_contact&&o.jsx("div",{className:"text-sm text-gray-600",children:f.sender_contact})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method:"}),o.jsx("div",{className:"font-medium",children:Y(f.payment_method)}),f.reference_number&&o.jsxs("div",{className:"text-sm text-gray-600",children:["Ref: ",f.reference_number]})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Purpose:"}),o.jsx("div",{className:"font-medium",children:f.purpose})]}),f.category&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Category:"}),o.jsx("div",{className:"font-medium",children:f.category})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),o.jsx("div",{children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${tt(f.status)}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})})]}),f.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Notes:"}),o.jsx("div",{className:"font-medium",children:f.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",Tx(f.created_at)]})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:()=>{d(!1),g(null)},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Close"})})]})})]})}function sK({onLogin:t}){const[e,r]=T.useState(""),[n,s]=T.useState(""),[i,a]=T.useState(!1),[A,l]=T.useState(null),c=async u=>{u.preventDefault(),a(!0),l(null);try{const{data:d,error:f}=await $e.auth.signInWithPassword({email:e.trim(),password:n});if(f)throw f;d.user&&t()}catch(d){l(d.message||"Failed to login")}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"glass animate-fadeIn rounded-2xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"mx-auto h-24 w-24 rounded-xl object-contain shadow-lg"}),o.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Avensetech Accounting"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[A&&o.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:A})}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Email Address"}),o.jsx("input",{type:"email",value:e,onChange:u=>r(u.target.value),placeholder:"jade.c@avense-tech.com",required:!0,className:"w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Password"}),o.jsx("input",{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"Enter your password",required:!0,className:"w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsx("button",{type:"submit",disabled:i,className:`w-full rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3 font-medium text-white shadow-lg transition-all hover:from-blue-700 hover:to-blue-800 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Signing in...":"Sign In"})]}),o.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:o.jsx("p",{children:"Secure access for authorized personnel only"})})]})})})}function iK(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(!1),[l,c]=T.useState(null),[u,d]=T.useState(""),[f,g]=T.useState(""),[m,w]=T.useState(""),[b,v]=T.useState("user");T.useEffect(()=>{x()},[]);const x=async()=>{n(!0),i(null);try{const{data:E,error:j}=await $e.from("users").select("*").order("created_at",{ascending:!1});j?j.message.includes('relation "public.users" does not exist')?i("User management table not set up. Please run the auth setup script."):i(j.message):e(E??[])}catch(E){i(E.message)}n(!1)},C=async()=>{if(!u||!f||!m){alert("Please fill in all fields");return}try{const{data:E,error:j}=await $e.auth.signUp({email:u.trim(),password:f,options:{data:{full_name:m.trim(),role:b}}});if(j)throw j;if(E.user){const{error:R}=await $e.from("users").insert({id:E.user.id,email:E.user.email,full_name:m.trim(),role:b});R&&!R.message.includes("duplicate key")&&console.warn("Could not insert user into users table:",R)}alert("User created successfully! They will need to verify their email."),A(!1),P(),await x()}catch(E){alert(E.message||"Failed to create user")}},_=async E=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:j}=await $e.from("users").delete().eq("id",E);if(j)throw j;alert("User removed from system!"),await x()}catch(j){alert(j.message||"Failed to delete user")}},F=async(E,j)=>{try{const{error:R}=await $e.from("users").update({role:j}).eq("id",E);if(R)throw R;alert("User role updated successfully!"),await x()}catch(R){alert(R.message||"Failed to update user role")}},P=()=>{d(""),g(""),w(""),v("user")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage system users and their roles"})]}),o.jsx("button",{onClick:()=>A(!0),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"+ Add User"})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Users"}),r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading users..."})]}):s?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-red-600 mb-4",children:s}),s.includes("auth setup script")&&o.jsx("div",{className:"text-sm text-gray-600",children:o.jsx("p",{children:"To set up user management, run the auth-setup.sql script in Supabase."})}),o.jsx("button",{onClick:x,className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:"Retry Loading"})]}):t.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No users found. Add your first user!"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.sort((E,j)=>{const R=E.full_name||E.email||"",Z=j.full_name||j.email||"";return R.localeCompare(Z)}).map(E=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.full_name||"No name"}),o.jsx("div",{className:"text-sm text-gray-500",children:E.email})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("select",{value:E.role,onChange:j=>F(E.id,j.target.value),className:"text-sm rounded border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"super_admin",children:"Super Admin"})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 text-center text-sm",children:o.jsx("button",{onClick:()=>_(E.id),className:"text-red-600 hover:text-red-800",children:"Delete"})})]},E.id))})]})})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New User"}),o.jsx("button",{onClick:()=>{A(!1),P()},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),o.jsx("input",{type:"text",value:m,onChange:E=>w(E.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter full name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),o.jsx("input",{type:"email",value:u,onChange:E=>d(E.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter email address",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),o.jsx("input",{type:"password",value:f,onChange:E=>g(E.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter password",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),o.jsxs("select",{value:b,onChange:E=>v(E.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"admin",children:"Admin"})]})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{A(!1),P()},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),o.jsx("button",{onClick:C,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Create User"})]})]})})]})}function aK(){const[t,e]=T.useState(!1),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(!1);T.useEffect(()=>{l()},[]);const l=async()=>{const{data:{session:u}}=await $e.auth.getSession();if(e(!!u),u){const{data:d}=await $e.from("users").select("role").eq("id",u.user.id).single();i((d==null?void 0:d.role)||null)}n(!1)},c=async()=>{await $e.auth.signOut(),e(!1),i(null)};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"loading-shimmer h-12 w-48 rounded"})}):t?o.jsx(lk,{children:o.jsx("div",{className:"min-h-screen p-2 sm:p-4",children:o.jsxs("div",{className:"mx-auto max-w-6xl",children:[o.jsxs("header",{className:"glass animate-fadeIn mb-4 sm:mb-6 rounded-2xl p-4 sm:p-6 shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("img",{src:"/logo.jpg",alt:"Avensetech logo",className:"h-16 w-16 sm:h-24 sm:w-24 lg:h-40 lg:w-40 rounded-xl object-contain shadow-lg"}),o.jsxs("div",{children:[o.jsx("h1",{className:"gradient-text text-sm sm:text-lg lg:text-2xl font-bold",children:"Avensetech Software Development Services"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Accounting Tracker  Track cash in, cash out, expenses, and monthly summaries."}),o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Role: ",s||"Loading..."]})]})]}),o.jsx("button",{onClick:()=>A(!a),className:"lg:hidden rounded-lg bg-white p-2 shadow-md",children:o.jsx("svg",{className:"h-6 w-6 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a?o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[o.jsx(Cb,{}),o.jsxs("nav",{className:"flex flex-wrap gap-2 text-sm",children:[o.jsx(er,{to:"/",end:!0,className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Home"}),o.jsx(er,{to:"/monthly",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Monthly"}),o.jsx(er,{to:"/reports",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Reports"}),o.jsx(er,{to:"/savings",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Savings"}),o.jsx(er,{to:"/payroll",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Payroll"}),o.jsx(er,{to:"/hris",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"HRIS"}),o.jsx(er,{to:"/leave",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Leave"}),o.jsx(er,{to:"/inventory",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Inventory"}),o.jsx(er,{to:"/loans",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Loans"}),o.jsx(er,{to:"/money-received",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Money Received"}),o.jsx(er,{to:"/request-funds",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Request Funds"}),o.jsx(er,{to:"/invoice",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Invoice"}),o.jsx(er,{to:"/invoice-history",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"History"}),s==="super_admin"&&o.jsx(er,{to:"/users",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Users"}),o.jsx("button",{onClick:c,className:"rounded-lg bg-red-600 px-4 py-2 font-medium text-white shadow-sm transition-all hover:bg-red-700 hover:shadow-md",children:"Logout"})]})]})]}),a&&o.jsxs("nav",{className:"lg:hidden mt-4 flex flex-col gap-2 text-sm animate-slideIn",children:[o.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white px-4 py-3 shadow-sm",children:[o.jsx("span",{className:"font-medium text-blue-700",children:"Notifications"}),o.jsx(Cb,{})]}),o.jsx(er,{to:"/",end:!0,onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Home"}),o.jsx(er,{to:"/monthly",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Monthly"}),o.jsx(er,{to:"/reports",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Reports"}),o.jsx(er,{to:"/savings",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Savings"}),o.jsx(er,{to:"/payroll",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Payroll"}),o.jsx(er,{to:"/hris",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"HRIS"}),o.jsx(er,{to:"/leave",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Leave"}),o.jsx(er,{to:"/inventory",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Inventory"}),o.jsx(er,{to:"/loans",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Loans"}),o.jsx(er,{to:"/money-received",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Money Received"}),o.jsx(er,{to:"/request-funds",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Request Funds"}),o.jsx(er,{to:"/invoice",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Invoice"}),o.jsx(er,{to:"/invoice-history",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"History"}),s==="super_admin"&&o.jsx(er,{to:"/users",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Users"}),o.jsx("button",{onClick:()=>{c(),A(!1)},className:"rounded-lg bg-red-600 px-4 py-3 font-medium text-white shadow-sm transition-all hover:bg-red-700 hover:shadow-md text-left",children:"Logout"})]})]}),o.jsx("main",{className:"glass animate-scaleIn rounded-2xl p-4 sm:p-6 shadow-xl",children:o.jsxs(tk,{children:[o.jsx(bn,{path:"/",element:o.jsx(_b,{})}),o.jsx(bn,{path:"/monthly",element:o.jsx(t6,{})}),o.jsx(bn,{path:"/reports",element:o.jsx(a9,{})}),o.jsx(bn,{path:"/savings",element:o.jsx(A9,{})}),o.jsx(bn,{path:"/payroll",element:o.jsx(o9,{})}),o.jsx(bn,{path:"/hris",element:o.jsx(d9,{})}),o.jsx(bn,{path:"/leave",element:o.jsx(h9,{})}),o.jsx(bn,{path:"/inventory",element:o.jsx(tK,{})}),o.jsx(bn,{path:"/loans",element:o.jsx(rK,{})}),o.jsx(bn,{path:"/money-received",element:o.jsx(nK,{})}),o.jsx(bn,{path:"/request-funds",element:o.jsx(l9,{})}),o.jsx(bn,{path:"/invoice",element:o.jsx(c9,{})}),o.jsx(bn,{path:"/invoice-history",element:o.jsx(u9,{})}),s==="super_admin"&&o.jsx(bn,{path:"/users",element:o.jsx(iK,{})}),o.jsx(bn,{path:"*",element:o.jsx(_b,{})})]})}),o.jsx("footer",{className:"mt-4 sm:mt-6 text-center text-xs text-white opacity-80",children:"Built with React, Vite, Tailwind, and Supabase."})]})})}):o.jsx(sK,{onLogin:l})}Dx.createRoot(document.getElementById("root")).render(o.jsx(_0.StrictMode,{children:o.jsx(aK,{})}));export{Yt as _,Rs as c,DF as g};
