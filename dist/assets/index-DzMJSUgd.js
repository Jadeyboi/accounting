var Ij=Object.defineProperty;var Pj=(t,e,r)=>e in t?Ij(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Bt=(t,e,r)=>Pj(t,typeof e!="symbol"?e+"":e,r);function Tj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oj(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Q5={exports:{}},sp={},L5={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),Hj=Symbol.for("react.portal"),Mj=Symbol.for("react.fragment"),Rj=Symbol.for("react.strict_mode"),Kj=Symbol.for("react.profiler"),Vj=Symbol.for("react.provider"),zj=Symbol.for("react.context"),$j=Symbol.for("react.forward_ref"),qj=Symbol.for("react.suspense"),Gj=Symbol.for("react.memo"),Wj=Symbol.for("react.lazy"),o1=Symbol.iterator;function Jj(t){return t===null||typeof t!="object"?null:(t=o1&&t[o1]||t["@@iterator"],typeof t=="function"?t:null)}var I5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P5=Object.assign,T5={};function ac(t,e,r){this.props=t,this.context=e,this.refs=T5,this.updater=r||I5}ac.prototype.isReactComponent={};ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D5(){}D5.prototype=ac.prototype;function fw(t,e,r){this.props=t,this.context=e,this.refs=T5,this.updater=r||I5}var gw=fw.prototype=new D5;gw.constructor=fw;P5(gw,ac.prototype);gw.isPureReactComponent=!0;var A1=Array.isArray,O5=Object.prototype.hasOwnProperty,pw={current:null},H5={key:!0,ref:!0,__self:!0,__source:!0};function M5(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)O5.call(e,n)&&!H5.hasOwnProperty(n)&&(s[n]=e[n]);var A=arguments.length-2;if(A===1)s.children=r;else if(1<A){for(var l=Array(A),c=0;c<A;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in A=t.defaultProps,A)s[n]===void 0&&(s[n]=A[n]);return{$$typeof:Fd,type:t,key:i,ref:a,props:s,_owner:pw.current}}function Xj(t,e){return{$$typeof:Fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fd}function Yj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var l1=/\/+/g;function D0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yj(""+t.key):e.toString(36)}function Hf(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Fd:case Hj:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+D0(a,0):n,A1(s)?(r="",t!=null&&(r=t.replace(l1,"$&/")+"/"),Hf(s,e,r,"",function(c){return c})):s!=null&&(mw(s)&&(s=Xj(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(l1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",A1(t))for(var A=0;A<t.length;A++){i=t[A];var l=n+D0(i,A);a+=Hf(i,e,r,l,s)}else if(l=Jj(t),typeof l=="function")for(t=l.call(t),A=0;!(i=t.next()).done;)i=i.value,l=n+D0(i,A++),a+=Hf(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Uh(t,e,r){if(t==null)return t;var n=[],s=0;return Hf(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Zj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},Mf={transition:null},eF={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Mf,ReactCurrentOwner:pw};function R5(){throw Error("act(...) is not supported in production builds of React.")}Qt.Children={map:Uh,forEach:function(t,e,r){Uh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uh(t,function(){e++}),e},toArray:function(t){return Uh(t,function(e){return e})||[]},only:function(t){if(!mw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qt.Component=ac;Qt.Fragment=Mj;Qt.Profiler=Kj;Qt.PureComponent=fw;Qt.StrictMode=Rj;Qt.Suspense=qj;Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eF;Qt.act=R5;Qt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=P5({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=pw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var A=t.type.defaultProps;for(l in e)O5.call(e,l)&&!H5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&A!==void 0?A[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){A=Array(l);for(var c=0;c<l;c++)A[c]=arguments[c+2];n.children=A}return{$$typeof:Fd,type:t.type,key:s,ref:i,props:n,_owner:a}};Qt.createContext=function(t){return t={$$typeof:zj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vj,_context:t},t.Consumer=t};Qt.createElement=M5;Qt.createFactory=function(t){var e=M5.bind(null,t);return e.type=t,e};Qt.createRef=function(){return{current:null}};Qt.forwardRef=function(t){return{$$typeof:$j,render:t}};Qt.isValidElement=mw;Qt.lazy=function(t){return{$$typeof:Wj,_payload:{_status:-1,_result:t},_init:Zj}};Qt.memo=function(t,e){return{$$typeof:Gj,type:t,compare:e===void 0?null:e}};Qt.startTransition=function(t){var e=Mf.transition;Mf.transition={};try{t()}finally{Mf.transition=e}};Qt.unstable_act=R5;Qt.useCallback=function(t,e){return kn.current.useCallback(t,e)};Qt.useContext=function(t){return kn.current.useContext(t)};Qt.useDebugValue=function(){};Qt.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};Qt.useEffect=function(t,e){return kn.current.useEffect(t,e)};Qt.useId=function(){return kn.current.useId()};Qt.useImperativeHandle=function(t,e,r){return kn.current.useImperativeHandle(t,e,r)};Qt.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};Qt.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};Qt.useMemo=function(t,e){return kn.current.useMemo(t,e)};Qt.useReducer=function(t,e,r){return kn.current.useReducer(t,e,r)};Qt.useRef=function(t){return kn.current.useRef(t)};Qt.useState=function(t){return kn.current.useState(t)};Qt.useSyncExternalStore=function(t,e,r){return kn.current.useSyncExternalStore(t,e,r)};Qt.useTransition=function(){return kn.current.useTransition()};Qt.version="18.3.1";L5.exports=Qt;var T=L5.exports;const ip=Dj(T),tF=Tj({__proto__:null,default:ip},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rF=T,nF=Symbol.for("react.element"),sF=Symbol.for("react.fragment"),iF=Object.prototype.hasOwnProperty,aF=rF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oF={key:!0,ref:!0,__self:!0,__source:!0};function K5(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)iF.call(e,n)&&!oF.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:nF,type:t,key:i,ref:a,props:s,_owner:aF.current}}sp.Fragment=sF;sp.jsx=K5;sp.jsxs=K5;Q5.exports=sp;var o=Q5.exports,dx={},V5={exports:{}},us={},z5={exports:{}},$5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ie){var de=W.length;W.push(ie);e:for(;0<de;){var te=de-1>>>1,_=W[te];if(0<s(_,ie))W[te]=ie,W[de]=_,de=te;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var ie=W[0],de=W.pop();if(de!==ie){W[0]=de;e:for(var te=0,_=W.length,L=_>>>1;te<L;){var M=2*(te+1)-1,z=W[M],J=M+1,ae=W[J];if(0>s(z,de))J<_&&0>s(ae,z)?(W[te]=ae,W[J]=de,te=J):(W[te]=z,W[M]=de,te=M);else if(J<_&&0>s(ae,de))W[te]=ae,W[J]=de,te=J;else break e}}return ie}function s(W,ie){var de=W.sortIndex-ie.sortIndex;return de!==0?de:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,A=a.now();t.unstable_now=function(){return a.now()-A}}var l=[],c=[],u=1,d=null,f=3,g=!1,m=!1,w=!1,B=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(W){for(var ie=r(c);ie!==null;){if(ie.callback===null)n(c);else if(ie.startTime<=W)n(c),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=r(c)}}function S(W){if(w=!1,C(W),!m)if(r(l)!==null)m=!0,re(k);else{var ie=r(c);ie!==null&&ce(S,ie.startTime-W)}}function k(W,ie){m=!1,w&&(w=!1,x(j),j=-1),g=!0;var de=f;try{for(C(ie),d=r(l);d!==null&&(!(d.expirationTime>ie)||W&&!Q());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var _=te(d.expirationTime<=ie);ie=t.unstable_now(),typeof _=="function"?d.callback=_:d===r(l)&&n(l),C(ie)}else n(l);d=r(l)}if(d!==null)var L=!0;else{var M=r(c);M!==null&&ce(S,M.startTime-ie),L=!1}return L}finally{d=null,f=de,g=!1}}var O=!1,I=null,j=-1,R=5,X=-1;function Q(){return!(t.unstable_now()-X<R)}function F(){if(I!==null){var W=t.unstable_now();X=W;var ie=!0;try{ie=I(!0,W)}finally{ie?K():(O=!1,I=null)}}else O=!1}var K;if(typeof y=="function")K=function(){y(F)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,fe=$.port2;$.port1.onmessage=F,K=function(){fe.postMessage(null)}}else K=function(){B(F,0)};function re(W){I=W,O||(O=!0,K())}function ce(W,ie){j=B(function(){W(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,re(k))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var ie=3;break;default:ie=f}var de=f;f=ie;try{return W()}finally{f=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=f;f=W;try{return ie()}finally{f=de}},t.unstable_scheduleCallback=function(W,ie,de){var te=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?te+de:te):de=te,W){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=de+_,W={id:u++,callback:ie,priorityLevel:W,startTime:de,expirationTime:_,sortIndex:-1},de>te?(W.sortIndex=de,e(c,W),r(l)===null&&W===r(c)&&(w?(x(j),j=-1):w=!0,ce(S,de-te))):(W.sortIndex=_,e(l,W),m||g||(m=!0,re(k))),W},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(W){var ie=f;return function(){var de=f;f=ie;try{return W.apply(this,arguments)}finally{f=de}}}})($5);z5.exports=$5;var AF=z5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lF=T,cs=AF;function ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q5=new Set,Xu={};function wA(t,e){ql(t,e),ql(t+"Capture",e)}function ql(t,e){for(Xu[t]=e,t=0;t<e.length;t++)q5.add(e[t])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hx=Object.prototype.hasOwnProperty,cF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c1={},u1={};function uF(t){return hx.call(u1,t)?!0:hx.call(c1,t)?!1:cF.test(t)?u1[t]=!0:(c1[t]=!0,!1)}function dF(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hF(t,e,r,n){if(e===null||typeof e>"u"||dF(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var xw=/[\-:]([a-z])/g;function vw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xw,vw);ln[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xw,vw);ln[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xw,vw);ln[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ww(t,e,r,n){var s=ln.hasOwnProperty(e)?ln[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hF(e,r,s,n)&&(r=null),n||s===null?uF(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Aa=lF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kh=Symbol.for("react.element"),Bl=Symbol.for("react.portal"),Cl=Symbol.for("react.fragment"),yw=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),G5=Symbol.for("react.provider"),W5=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),gx=Symbol.for("react.suspense"),px=Symbol.for("react.suspense_list"),Bw=Symbol.for("react.memo"),La=Symbol.for("react.lazy"),J5=Symbol.for("react.offscreen"),d1=Symbol.iterator;function Vc(t){return t===null||typeof t!="object"?null:(t=d1&&t[d1]||t["@@iterator"],typeof t=="function"?t:null)}var mr=Object.assign,O0;function cu(t){if(O0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);O0=e&&e[1]||""}return`
`+O0+t}var H0=!1;function M0(t,e){if(!t||H0)return"";H0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,A=i.length-1;1<=a&&0<=A&&s[a]!==i[A];)A--;for(;1<=a&&0<=A;a--,A--)if(s[a]!==i[A]){if(a!==1||A!==1)do if(a--,A--,0>A||s[a]!==i[A]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=A);break}}}finally{H0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cu(t):""}function fF(t){switch(t.tag){case 5:return cu(t.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return t=M0(t.type,!1),t;case 11:return t=M0(t.type.render,!1),t;case 1:return t=M0(t.type,!0),t;default:return""}}function mx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cl:return"Fragment";case Bl:return"Portal";case fx:return"Profiler";case yw:return"StrictMode";case gx:return"Suspense";case px:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W5:return(t.displayName||"Context")+".Consumer";case G5:return(t._context.displayName||"Context")+".Provider";case bw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bw:return e=t.displayName||null,e!==null?e:mx(t.type)||"Memo";case La:e=t._payload,t=t._init;try{return mx(t(e))}catch{}}return null}function gF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mx(e);case 8:return e===yw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pF(t){var e=X5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qh(t){t._valueTracker||(t._valueTracker=pF(t))}function Y5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=X5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function lg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xx(t,e){var r=e.checked;return mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function h1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z5(t,e){e=e.checked,e!=null&&ww(t,"checked",e,!1)}function vx(t,e){Z5(t,e);var r=fo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wx(t,e.type,r):e.hasOwnProperty("defaultValue")&&wx(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wx(t,e,r){(e!=="number"||lg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var uu=Array.isArray;function Pl(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ze(91));return mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ze(92));if(uu(r)){if(1<r.length)throw Error(ze(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fo(r)}}function eC(t,e){var r=fo(e.value),n=fo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function p1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lh,rC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lh=Lh||document.createElement("div"),Lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mF=["Webkit","ms","Moz","O"];Object.keys(_u).forEach(function(t){mF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_u[e]=_u[t]})});function nC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_u.hasOwnProperty(t)&&_u[t]?(""+e).trim():e+"px"}function sC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var xF=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bx(t,e){if(e){if(xF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ze(62))}}function Cx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _x=null;function Cw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nx=null,Tl=null,Dl=null;function m1(t){if(t=kd(t)){if(typeof Nx!="function")throw Error(ze(280));var e=t.stateNode;e&&(e=cp(e),Nx(t.stateNode,t.type,e))}}function iC(t){Tl?Dl?Dl.push(t):Dl=[t]:Tl=t}function aC(){if(Tl){var t=Tl,e=Dl;if(Dl=Tl=null,m1(t),e)for(t=0;t<e.length;t++)m1(e[t])}}function oC(t,e){return t(e)}function AC(){}var R0=!1;function lC(t,e,r){if(R0)return t(e,r);R0=!0;try{return oC(t,e,r)}finally{R0=!1,(Tl!==null||Dl!==null)&&(AC(),aC())}}function Zu(t,e){var r=t.stateNode;if(r===null)return null;var n=cp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ze(231,e,typeof r));return r}var Sx=!1;if(ra)try{var zc={};Object.defineProperty(zc,"passive",{get:function(){Sx=!0}}),window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{Sx=!1}function vF(t,e,r,n,s,i,a,A,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Nu=!1,cg=null,ug=!1,jx=null,wF={onError:function(t){Nu=!0,cg=t}};function yF(t,e,r,n,s,i,a,A,l){Nu=!1,cg=null,vF.apply(wF,arguments)}function bF(t,e,r,n,s,i,a,A,l){if(yF.apply(this,arguments),Nu){if(Nu){var c=cg;Nu=!1,cg=null}else throw Error(ze(198));ug||(ug=!0,jx=c)}}function yA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function cC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x1(t){if(yA(t)!==t)throw Error(ze(188))}function BF(t){var e=t.alternate;if(!e){if(e=yA(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return x1(s),t;if(i===n)return x1(s),e;i=i.sibling}throw Error(ze(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,A=s.child;A;){if(A===r){a=!0,r=s,n=i;break}if(A===n){a=!0,n=s,r=i;break}A=A.sibling}if(!a){for(A=i.child;A;){if(A===r){a=!0,r=i,n=s;break}if(A===n){a=!0,n=i,r=s;break}A=A.sibling}if(!a)throw Error(ze(189))}}if(r.alternate!==n)throw Error(ze(190))}if(r.tag!==3)throw Error(ze(188));return r.stateNode.current===r?t:e}function uC(t){return t=BF(t),t!==null?dC(t):null}function dC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dC(t);if(e!==null)return e;t=t.sibling}return null}var hC=cs.unstable_scheduleCallback,v1=cs.unstable_cancelCallback,CF=cs.unstable_shouldYield,_F=cs.unstable_requestPaint,Fr=cs.unstable_now,NF=cs.unstable_getCurrentPriorityLevel,_w=cs.unstable_ImmediatePriority,fC=cs.unstable_UserBlockingPriority,dg=cs.unstable_NormalPriority,SF=cs.unstable_LowPriority,gC=cs.unstable_IdlePriority,ap=null,_i=null;function jF(t){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(ap,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:UF,FF=Math.log,EF=Math.LN2;function UF(t){return t>>>=0,t===0?32:31-(FF(t)/EF|0)|0}var Ih=64,Ph=4194304;function du(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var A=a&~s;A!==0?n=du(A):(i&=a,i!==0&&(n=du(i)))}else a=r&~s,a!==0?n=du(a):i!==0&&(n=du(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ei(e),s=1<<r,n|=t[r],e&=~s;return n}function kF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ei(i),A=1<<a,l=s[a];l===-1?(!(A&r)||A&n)&&(s[a]=kF(A,e)):l<=e&&(t.expiredLanes|=A),i&=~A}}function Fx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pC(){var t=Ih;return Ih<<=1,!(Ih&4194240)&&(Ih=64),t}function K0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ed(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=r}function LF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ei(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Nw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ei(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Xt=0;function mC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xC,Sw,vC,wC,yC,Ex=!1,Th=[],eo=null,to=null,ro=null,ed=new Map,td=new Map,Ta=[],IF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w1(t,e){switch(t){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":ed.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(e.pointerId)}}function $c(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=kd(e),e!==null&&Sw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PF(t,e,r,n,s){switch(e){case"focusin":return eo=$c(eo,t,e,r,n,s),!0;case"dragenter":return to=$c(to,t,e,r,n,s),!0;case"mouseover":return ro=$c(ro,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ed.set(i,$c(ed.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,td.set(i,$c(td.get(i)||null,t,e,r,n,s)),!0}return!1}function bC(t){var e=Xo(t.target);if(e!==null){var r=yA(e);if(r!==null){if(e=r.tag,e===13){if(e=cC(r),e!==null){t.blockedOn=e,yC(t.priority,function(){vC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ux(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);_x=n,r.target.dispatchEvent(n),_x=null}else return e=kd(r),e!==null&&Sw(e),t.blockedOn=r,!1;e.shift()}return!0}function y1(t,e,r){Rf(t)&&r.delete(e)}function TF(){Ex=!1,eo!==null&&Rf(eo)&&(eo=null),to!==null&&Rf(to)&&(to=null),ro!==null&&Rf(ro)&&(ro=null),ed.forEach(y1),td.forEach(y1)}function qc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ex||(Ex=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,TF)))}function rd(t){function e(s){return qc(s,t)}if(0<Th.length){qc(Th[0],t);for(var r=1;r<Th.length;r++){var n=Th[r];n.blockedOn===t&&(n.blockedOn=null)}}for(eo!==null&&qc(eo,t),to!==null&&qc(to,t),ro!==null&&qc(ro,t),ed.forEach(e),td.forEach(e),r=0;r<Ta.length;r++)n=Ta[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ta.length&&(r=Ta[0],r.blockedOn===null);)bC(r),r.blockedOn===null&&Ta.shift()}var Ol=Aa.ReactCurrentBatchConfig,fg=!0;function DF(t,e,r,n){var s=Xt,i=Ol.transition;Ol.transition=null;try{Xt=1,jw(t,e,r,n)}finally{Xt=s,Ol.transition=i}}function OF(t,e,r,n){var s=Xt,i=Ol.transition;Ol.transition=null;try{Xt=4,jw(t,e,r,n)}finally{Xt=s,Ol.transition=i}}function jw(t,e,r,n){if(fg){var s=Ux(t,e,r,n);if(s===null)Z0(t,e,n,gg,r),w1(t,n);else if(PF(s,t,e,r,n))n.stopPropagation();else if(w1(t,n),e&4&&-1<IF.indexOf(t)){for(;s!==null;){var i=kd(s);if(i!==null&&xC(i),i=Ux(t,e,r,n),i===null&&Z0(t,e,n,gg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Z0(t,e,n,null,r)}}var gg=null;function Ux(t,e,r,n){if(gg=null,t=Cw(n),t=Xo(t),t!==null)if(e=yA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=cC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gg=t,null}function BC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NF()){case _w:return 1;case fC:return 4;case dg:case SF:return 16;case gC:return 536870912;default:return 16}default:return 16}}var Ma=null,Fw=null,Kf=null;function CC(){if(Kf)return Kf;var t,e=Fw,r=e.length,n,s="value"in Ma?Ma.value:Ma.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Kf=s.slice(t,1<n?1-n:void 0)}function Vf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dh(){return!0}function b1(){return!1}function ds(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(i):i[A]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dh:b1,this.isPropagationStopped=b1,this}return mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dh)},persist:function(){},isPersistent:Dh}),e}var oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ew=ds(oc),Ud=mr({},oc,{view:0,detail:0}),HF=ds(Ud),V0,z0,Gc,op=mr({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gc&&(Gc&&t.type==="mousemove"?(V0=t.screenX-Gc.screenX,z0=t.screenY-Gc.screenY):z0=V0=0,Gc=t),V0)},movementY:function(t){return"movementY"in t?t.movementY:z0}}),B1=ds(op),MF=mr({},op,{dataTransfer:0}),RF=ds(MF),KF=mr({},Ud,{relatedTarget:0}),$0=ds(KF),VF=mr({},oc,{animationName:0,elapsedTime:0,pseudoElement:0}),zF=ds(VF),$F=mr({},oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qF=ds($F),GF=mr({},oc,{data:0}),C1=ds(GF),WF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XF[t])?!!e[t]:!1}function Uw(){return YF}var ZF=mr({},Ud,{key:function(t){if(t.key){var e=WF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uw,charCode:function(t){return t.type==="keypress"?Vf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e3=ds(ZF),t3=mr({},op,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_1=ds(t3),r3=mr({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uw}),n3=ds(r3),s3=mr({},oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),i3=ds(s3),a3=mr({},op,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),o3=ds(a3),A3=[9,13,27,32],kw=ra&&"CompositionEvent"in window,Su=null;ra&&"documentMode"in document&&(Su=document.documentMode);var l3=ra&&"TextEvent"in window&&!Su,_C=ra&&(!kw||Su&&8<Su&&11>=Su),N1=" ",S1=!1;function NC(t,e){switch(t){case"keyup":return A3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _l=!1;function c3(t,e){switch(t){case"compositionend":return SC(e);case"keypress":return e.which!==32?null:(S1=!0,N1);case"textInput":return t=e.data,t===N1&&S1?null:t;default:return null}}function u3(t,e){if(_l)return t==="compositionend"||!kw&&NC(t,e)?(t=CC(),Kf=Fw=Ma=null,_l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _C&&e.locale!=="ko"?null:e.data;default:return null}}var d3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!d3[t.type]:e==="textarea"}function jC(t,e,r,n){iC(n),e=pg(e,"onChange"),0<e.length&&(r=new Ew("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ju=null,nd=null;function h3(t){OC(t,0)}function Ap(t){var e=jl(t);if(Y5(e))return t}function f3(t,e){if(t==="change")return e}var FC=!1;if(ra){var q0;if(ra){var G0="oninput"in document;if(!G0){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),G0=typeof F1.oninput=="function"}q0=G0}else q0=!1;FC=q0&&(!document.documentMode||9<document.documentMode)}function E1(){ju&&(ju.detachEvent("onpropertychange",EC),nd=ju=null)}function EC(t){if(t.propertyName==="value"&&Ap(nd)){var e=[];jC(e,nd,t,Cw(t)),lC(h3,e)}}function g3(t,e,r){t==="focusin"?(E1(),ju=e,nd=r,ju.attachEvent("onpropertychange",EC)):t==="focusout"&&E1()}function p3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ap(nd)}function m3(t,e){if(t==="click")return Ap(e)}function x3(t,e){if(t==="input"||t==="change")return Ap(e)}function v3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:v3;function sd(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hx.call(e,s)||!ni(t[s],e[s]))return!1}return!0}function U1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k1(t,e){var r=U1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U1(r)}}function UC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kC(){for(var t=window,e=lg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=lg(t.document)}return e}function Qw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function w3(t){var e=kC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&UC(r.ownerDocument.documentElement,r)){if(n!==null&&Qw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=k1(r,i);var a=k1(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y3=ra&&"documentMode"in document&&11>=document.documentMode,Nl=null,kx=null,Fu=null,Qx=!1;function Q1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qx||Nl==null||Nl!==lg(n)||(n=Nl,"selectionStart"in n&&Qw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fu&&sd(Fu,n)||(Fu=n,n=pg(kx,"onSelect"),0<n.length&&(e=new Ew("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Nl)))}function Oh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sl={animationend:Oh("Animation","AnimationEnd"),animationiteration:Oh("Animation","AnimationIteration"),animationstart:Oh("Animation","AnimationStart"),transitionend:Oh("Transition","TransitionEnd")},W0={},QC={};ra&&(QC=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function lp(t){if(W0[t])return W0[t];if(!Sl[t])return t;var e=Sl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in QC)return W0[t]=e[r];return t}var LC=lp("animationend"),IC=lp("animationiteration"),PC=lp("animationstart"),TC=lp("transitionend"),DC=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(t,e){DC.set(t,e),wA(e,[t])}for(var J0=0;J0<L1.length;J0++){var X0=L1[J0],b3=X0.toLowerCase(),B3=X0[0].toUpperCase()+X0.slice(1);wo(b3,"on"+B3)}wo(LC,"onAnimationEnd");wo(IC,"onAnimationIteration");wo(PC,"onAnimationStart");wo("dblclick","onDoubleClick");wo("focusin","onFocus");wo("focusout","onBlur");wo(TC,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);wA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wA("onBeforeInput",["compositionend","keypress","textInput","paste"]);wA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function I1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bF(n,e,void 0,t),t.currentTarget=null}function OC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var A=n[a],l=A.instance,c=A.currentTarget;if(A=A.listener,l!==i&&s.isPropagationStopped())break e;I1(s,A,c),i=l}else for(a=0;a<n.length;a++){if(A=n[a],l=A.instance,c=A.currentTarget,A=A.listener,l!==i&&s.isPropagationStopped())break e;I1(s,A,c),i=l}}}if(ug)throw t=jx,ug=!1,jx=null,t}function Ar(t,e){var r=e[Dx];r===void 0&&(r=e[Dx]=new Set);var n=t+"__bubble";r.has(n)||(HC(e,t,2,!1),r.add(n))}function Y0(t,e,r){var n=0;e&&(n|=4),HC(r,t,n,e)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function id(t){if(!t[Hh]){t[Hh]=!0,q5.forEach(function(r){r!=="selectionchange"&&(C3.has(r)||Y0(r,!1,t),Y0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hh]||(e[Hh]=!0,Y0("selectionchange",!1,e))}}function HC(t,e,r,n){switch(BC(e)){case 1:var s=DF;break;case 4:s=OF;break;default:s=jw}r=s.bind(null,e,r,t),s=void 0,!Sx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Z0(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var A=n.stateNode.containerInfo;if(A===s||A.nodeType===8&&A.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;A!==null;){if(a=Xo(A),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}A=A.parentNode}}n=n.return}lC(function(){var c=i,u=Cw(r),d=[];e:{var f=DC.get(t);if(f!==void 0){var g=Ew,m=t;switch(t){case"keypress":if(Vf(r)===0)break e;case"keydown":case"keyup":g=e3;break;case"focusin":m="focus",g=$0;break;case"focusout":m="blur",g=$0;break;case"beforeblur":case"afterblur":g=$0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=B1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=RF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=n3;break;case LC:case IC:case PC:g=zF;break;case TC:g=i3;break;case"scroll":g=HF;break;case"wheel":g=o3;break;case"copy":case"cut":case"paste":g=qF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_1}var w=(e&4)!==0,B=!w&&t==="scroll",x=w?f!==null?f+"Capture":null:f;w=[];for(var y=c,C;y!==null;){C=y;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,x!==null&&(S=Zu(y,x),S!=null&&w.push(ad(y,S,C)))),B)break;y=y.return}0<w.length&&(f=new g(f,m,null,r,u),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==_x&&(m=r.relatedTarget||r.fromElement)&&(Xo(m)||m[na]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=c,m=m?Xo(m):null,m!==null&&(B=yA(m),m!==B||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(w=B1,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=_1,S="onPointerLeave",x="onPointerEnter",y="pointer"),B=g==null?f:jl(g),C=m==null?f:jl(m),f=new w(S,y+"leave",g,r,u),f.target=B,f.relatedTarget=C,S=null,Xo(u)===c&&(w=new w(x,y+"enter",m,r,u),w.target=C,w.relatedTarget=B,S=w),B=S,g&&m)t:{for(w=g,x=m,y=0,C=w;C;C=el(C))y++;for(C=0,S=x;S;S=el(S))C++;for(;0<y-C;)w=el(w),y--;for(;0<C-y;)x=el(x),C--;for(;y--;){if(w===x||x!==null&&w===x.alternate)break t;w=el(w),x=el(x)}w=null}else w=null;g!==null&&P1(d,f,g,w,!1),m!==null&&B!==null&&P1(d,B,m,w,!0)}}e:{if(f=c?jl(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=f3;else if(j1(f))if(FC)k=x3;else{k=p3;var O=g3}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=m3);if(k&&(k=k(t,c))){jC(d,k,r,u);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&wx(f,"number",f.value)}switch(O=c?jl(c):window,t){case"focusin":(j1(O)||O.contentEditable==="true")&&(Nl=O,kx=c,Fu=null);break;case"focusout":Fu=kx=Nl=null;break;case"mousedown":Qx=!0;break;case"contextmenu":case"mouseup":case"dragend":Qx=!1,Q1(d,r,u);break;case"selectionchange":if(y3)break;case"keydown":case"keyup":Q1(d,r,u)}var I;if(kw)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else _l?NC(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(_C&&r.locale!=="ko"&&(_l||j!=="onCompositionStart"?j==="onCompositionEnd"&&_l&&(I=CC()):(Ma=u,Fw="value"in Ma?Ma.value:Ma.textContent,_l=!0)),O=pg(c,j),0<O.length&&(j=new C1(j,t,null,r,u),d.push({event:j,listeners:O}),I?j.data=I:(I=SC(r),I!==null&&(j.data=I)))),(I=l3?c3(t,r):u3(t,r))&&(c=pg(c,"onBeforeInput"),0<c.length&&(u=new C1("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=I))}OC(d,e)})}function ad(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pg(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zu(t,r),i!=null&&n.unshift(ad(t,i,s)),i=Zu(t,e),i!=null&&n.push(ad(t,i,s))),t=t.return}return n}function el(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P1(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var A=r,l=A.alternate,c=A.stateNode;if(l!==null&&l===n)break;A.tag===5&&c!==null&&(A=c,s?(l=Zu(r,i),l!=null&&a.unshift(ad(r,l,A))):s||(l=Zu(r,i),l!=null&&a.push(ad(r,l,A)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var _3=/\r\n?/g,N3=/\u0000|\uFFFD/g;function T1(t){return(typeof t=="string"?t:""+t).replace(_3,`
`).replace(N3,"")}function Mh(t,e,r){if(e=T1(e),T1(t)!==e&&r)throw Error(ze(425))}function mg(){}var Lx=null,Ix=null;function Px(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tx=typeof setTimeout=="function"?setTimeout:void 0,S3=typeof clearTimeout=="function"?clearTimeout:void 0,D1=typeof Promise=="function"?Promise:void 0,j3=typeof queueMicrotask=="function"?queueMicrotask:typeof D1<"u"?function(t){return D1.resolve(null).then(t).catch(F3)}:Tx;function F3(t){setTimeout(function(){throw t})}function em(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),rd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);rd(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Ac,od="__reactProps$"+Ac,na="__reactContainer$"+Ac,Dx="__reactEvents$"+Ac,E3="__reactListeners$"+Ac,U3="__reactHandles$"+Ac;function Xo(t){var e=t[Bi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[na]||r[Bi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=O1(t);t!==null;){if(r=t[Bi])return r;t=O1(t)}return e}t=r,r=t.parentNode}return null}function kd(t){return t=t[Bi]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ze(33))}function cp(t){return t[od]||null}var Ox=[],Fl=-1;function yo(t){return{current:t}}function ur(t){0>Fl||(t.current=Ox[Fl],Ox[Fl]=null,Fl--)}function or(t,e){Fl++,Ox[Fl]=t.current,t.current=e}var go={},Cn=yo(go),qn=yo(!1),fA=go;function Gl(t,e){var r=t.type.contextTypes;if(!r)return go;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gn(t){return t=t.childContextTypes,t!=null}function xg(){ur(qn),ur(Cn)}function H1(t,e,r){if(Cn.current!==go)throw Error(ze(168));or(Cn,e),or(qn,r)}function MC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(ze(108,gF(t)||"Unknown",s));return mr({},r,n)}function vg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||go,fA=Cn.current,or(Cn,t),or(qn,qn.current),!0}function M1(t,e,r){var n=t.stateNode;if(!n)throw Error(ze(169));r?(t=MC(t,e,fA),n.__reactInternalMemoizedMergedChildContext=t,ur(qn),ur(Cn),or(Cn,t)):ur(qn),or(qn,r)}var Ji=null,up=!1,tm=!1;function RC(t){Ji===null?Ji=[t]:Ji.push(t)}function k3(t){up=!0,RC(t)}function bo(){if(!tm&&Ji!==null){tm=!0;var t=0,e=Xt;try{var r=Ji;for(Xt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ji=null,up=!1}catch(s){throw Ji!==null&&(Ji=Ji.slice(t+1)),hC(_w,bo),s}finally{Xt=e,tm=!1}}return null}var El=[],Ul=0,wg=null,yg=0,Bs=[],Cs=0,gA=null,Yi=1,Zi="";function Ro(t,e){El[Ul++]=yg,El[Ul++]=wg,wg=t,yg=e}function KC(t,e,r){Bs[Cs++]=Yi,Bs[Cs++]=Zi,Bs[Cs++]=gA,gA=t;var n=Yi;t=Zi;var s=32-ei(n)-1;n&=~(1<<s),r+=1;var i=32-ei(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Yi=1<<32-ei(e)+s|r<<s|n,Zi=i+t}else Yi=1<<i|r<<s|n,Zi=t}function Lw(t){t.return!==null&&(Ro(t,1),KC(t,1,0))}function Iw(t){for(;t===wg;)wg=El[--Ul],El[Ul]=null,yg=El[--Ul],El[Ul]=null;for(;t===gA;)gA=Bs[--Cs],Bs[Cs]=null,Zi=Bs[--Cs],Bs[Cs]=null,Yi=Bs[--Cs],Bs[Cs]=null}var ls=null,as=null,hr=!1,Ys=null;function VC(t,e){var r=Ns(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function R1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ls=t,as=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ls=t,as=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=gA!==null?{id:Yi,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ns(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ls=t,as=null,!0):!1;default:return!1}}function Hx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mx(t){if(hr){var e=as;if(e){var r=e;if(!R1(t,e)){if(Hx(t))throw Error(ze(418));e=no(r.nextSibling);var n=ls;e&&R1(t,e)?VC(n,r):(t.flags=t.flags&-4097|2,hr=!1,ls=t)}}else{if(Hx(t))throw Error(ze(418));t.flags=t.flags&-4097|2,hr=!1,ls=t}}}function K1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ls=t}function Rh(t){if(t!==ls)return!1;if(!hr)return K1(t),hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Px(t.type,t.memoizedProps)),e&&(e=as)){if(Hx(t))throw zC(),Error(ze(418));for(;e;)VC(t,e),e=no(e.nextSibling)}if(K1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){as=no(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}as=null}}else as=ls?no(t.stateNode.nextSibling):null;return!0}function zC(){for(var t=as;t;)t=no(t.nextSibling)}function Wl(){as=ls=null,hr=!1}function Pw(t){Ys===null?Ys=[t]:Ys.push(t)}var Q3=Aa.ReactCurrentBatchConfig;function Wc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ze(309));var n=r.stateNode}if(!n)throw Error(ze(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var A=s.refs;a===null?delete A[i]:A[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(ze(284));if(!r._owner)throw Error(ze(290,t))}return t}function Kh(t,e){throw t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V1(t){var e=t._init;return e(t._payload)}function $C(t){function e(x,y){if(t){var C=x.deletions;C===null?(x.deletions=[y],x.flags|=16):C.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=oo(x,y),x.index=0,x.sibling=null,x}function i(x,y,C){return x.index=C,t?(C=x.alternate,C!==null?(C=C.index,C<y?(x.flags|=2,y):C):(x.flags|=2,y)):(x.flags|=1048576,y)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function A(x,y,C,S){return y===null||y.tag!==6?(y=Am(C,x.mode,S),y.return=x,y):(y=s(y,C),y.return=x,y)}function l(x,y,C,S){var k=C.type;return k===Cl?u(x,y,C.props.children,S,C.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===La&&V1(k)===y.type)?(S=s(y,C.props),S.ref=Wc(x,y,C),S.return=x,S):(S=Xf(C.type,C.key,C.props,null,x.mode,S),S.ref=Wc(x,y,C),S.return=x,S)}function c(x,y,C,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=lm(C,x.mode,S),y.return=x,y):(y=s(y,C.children||[]),y.return=x,y)}function u(x,y,C,S,k){return y===null||y.tag!==7?(y=aA(C,x.mode,S,k),y.return=x,y):(y=s(y,C),y.return=x,y)}function d(x,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Am(""+y,x.mode,C),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kh:return C=Xf(y.type,y.key,y.props,null,x.mode,C),C.ref=Wc(x,null,y),C.return=x,C;case Bl:return y=lm(y,x.mode,C),y.return=x,y;case La:var S=y._init;return d(x,S(y._payload),C)}if(uu(y)||Vc(y))return y=aA(y,x.mode,C,null),y.return=x,y;Kh(x,y)}return null}function f(x,y,C,S){var k=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return k!==null?null:A(x,y,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case kh:return C.key===k?l(x,y,C,S):null;case Bl:return C.key===k?c(x,y,C,S):null;case La:return k=C._init,f(x,y,k(C._payload),S)}if(uu(C)||Vc(C))return k!==null?null:u(x,y,C,S,null);Kh(x,C)}return null}function g(x,y,C,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(C)||null,A(y,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kh:return x=x.get(S.key===null?C:S.key)||null,l(y,x,S,k);case Bl:return x=x.get(S.key===null?C:S.key)||null,c(y,x,S,k);case La:var O=S._init;return g(x,y,C,O(S._payload),k)}if(uu(S)||Vc(S))return x=x.get(C)||null,u(y,x,S,k,null);Kh(y,S)}return null}function m(x,y,C,S){for(var k=null,O=null,I=y,j=y=0,R=null;I!==null&&j<C.length;j++){I.index>j?(R=I,I=null):R=I.sibling;var X=f(x,I,C[j],S);if(X===null){I===null&&(I=R);break}t&&I&&X.alternate===null&&e(x,I),y=i(X,y,j),O===null?k=X:O.sibling=X,O=X,I=R}if(j===C.length)return r(x,I),hr&&Ro(x,j),k;if(I===null){for(;j<C.length;j++)I=d(x,C[j],S),I!==null&&(y=i(I,y,j),O===null?k=I:O.sibling=I,O=I);return hr&&Ro(x,j),k}for(I=n(x,I);j<C.length;j++)R=g(I,x,j,C[j],S),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?j:R.key),y=i(R,y,j),O===null?k=R:O.sibling=R,O=R);return t&&I.forEach(function(Q){return e(x,Q)}),hr&&Ro(x,j),k}function w(x,y,C,S){var k=Vc(C);if(typeof k!="function")throw Error(ze(150));if(C=k.call(C),C==null)throw Error(ze(151));for(var O=k=null,I=y,j=y=0,R=null,X=C.next();I!==null&&!X.done;j++,X=C.next()){I.index>j?(R=I,I=null):R=I.sibling;var Q=f(x,I,X.value,S);if(Q===null){I===null&&(I=R);break}t&&I&&Q.alternate===null&&e(x,I),y=i(Q,y,j),O===null?k=Q:O.sibling=Q,O=Q,I=R}if(X.done)return r(x,I),hr&&Ro(x,j),k;if(I===null){for(;!X.done;j++,X=C.next())X=d(x,X.value,S),X!==null&&(y=i(X,y,j),O===null?k=X:O.sibling=X,O=X);return hr&&Ro(x,j),k}for(I=n(x,I);!X.done;j++,X=C.next())X=g(I,x,j,X.value,S),X!==null&&(t&&X.alternate!==null&&I.delete(X.key===null?j:X.key),y=i(X,y,j),O===null?k=X:O.sibling=X,O=X);return t&&I.forEach(function(F){return e(x,F)}),hr&&Ro(x,j),k}function B(x,y,C,S){if(typeof C=="object"&&C!==null&&C.type===Cl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case kh:e:{for(var k=C.key,O=y;O!==null;){if(O.key===k){if(k=C.type,k===Cl){if(O.tag===7){r(x,O.sibling),y=s(O,C.props.children),y.return=x,x=y;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===La&&V1(k)===O.type){r(x,O.sibling),y=s(O,C.props),y.ref=Wc(x,O,C),y.return=x,x=y;break e}r(x,O);break}else e(x,O);O=O.sibling}C.type===Cl?(y=aA(C.props.children,x.mode,S,C.key),y.return=x,x=y):(S=Xf(C.type,C.key,C.props,null,x.mode,S),S.ref=Wc(x,y,C),S.return=x,x=S)}return a(x);case Bl:e:{for(O=C.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){r(x,y.sibling),y=s(y,C.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=lm(C,x.mode,S),y.return=x,x=y}return a(x);case La:return O=C._init,B(x,y,O(C._payload),S)}if(uu(C))return m(x,y,C,S);if(Vc(C))return w(x,y,C,S);Kh(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,C),y.return=x,x=y):(r(x,y),y=Am(C,x.mode,S),y.return=x,x=y),a(x)):r(x,y)}return B}var Jl=$C(!0),qC=$C(!1),bg=yo(null),Bg=null,kl=null,Tw=null;function Dw(){Tw=kl=Bg=null}function Ow(t){var e=bg.current;ur(bg),t._currentValue=e}function Rx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Hl(t,e){Bg=t,Tw=kl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zn=!0),t.firstContext=null)}function ks(t){var e=t._currentValue;if(Tw!==t)if(t={context:t,memoizedValue:e,next:null},kl===null){if(Bg===null)throw Error(ze(308));kl=t,Bg.dependencies={lanes:0,firstContext:t}}else kl=kl.next=t;return e}var Yo=null;function Hw(t){Yo===null?Yo=[t]:Yo.push(t)}function GC(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Hw(e)):(r.next=s.next,s.next=r),e.interleaved=r,sa(t,n)}function sa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ia=!1;function Mw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function so(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,sa(t,r)}return s=n.interleaved,s===null?(e.next=e,Hw(n)):(e.next=s.next,s.next=e),n.interleaved=e,sa(t,r)}function zf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Nw(t,r)}}function z1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cg(t,e,r,n){var s=t.updateQueue;Ia=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,A=s.shared.pending;if(A!==null){s.shared.pending=null;var l=A,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,A=u.lastBaseUpdate,A!==a&&(A===null?u.firstBaseUpdate=c:A.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,u=c=l=null,A=i;do{var f=A.lane,g=A.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var m=t,w=A;switch(f=e,g=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(g,d,f):m,f==null)break e;d=mr({},d,f);break e;case 2:Ia=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[A]:f.push(A))}else g={eventTime:g,lane:f,tag:A.tag,payload:A.payload,callback:A.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,a|=f;if(A=A.next,A===null){if(A=s.shared.pending,A===null)break;f=A,A=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);mA|=a,t.lanes=a,t.memoizedState=d}}function $1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ze(191,s));s.call(n)}}}var Qd={},Ni=yo(Qd),Ad=yo(Qd),ld=yo(Qd);function Zo(t){if(t===Qd)throw Error(ze(174));return t}function Rw(t,e){switch(or(ld,e),or(Ad,t),or(Ni,Qd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bx(e,t)}ur(Ni),or(Ni,e)}function Xl(){ur(Ni),ur(Ad),ur(ld)}function JC(t){Zo(ld.current);var e=Zo(Ni.current),r=bx(e,t.type);e!==r&&(or(Ad,t),or(Ni,r))}function Kw(t){Ad.current===t&&(ur(Ni),ur(Ad))}var gr=yo(0);function _g(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rm=[];function Vw(){for(var t=0;t<rm.length;t++)rm[t]._workInProgressVersionPrimary=null;rm.length=0}var $f=Aa.ReactCurrentDispatcher,nm=Aa.ReactCurrentBatchConfig,pA=0,pr=null,Vr=null,en=null,Ng=!1,Eu=!1,cd=0,L3=0;function dn(){throw Error(ze(321))}function zw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ni(t[r],e[r]))return!1;return!0}function $w(t,e,r,n,s,i){if(pA=i,pr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$f.current=t===null||t.memoizedState===null?D3:O3,t=r(n,s),Eu){i=0;do{if(Eu=!1,cd=0,25<=i)throw Error(ze(301));i+=1,en=Vr=null,e.updateQueue=null,$f.current=H3,t=r(n,s)}while(Eu)}if($f.current=Sg,e=Vr!==null&&Vr.next!==null,pA=0,en=Vr=pr=null,Ng=!1,e)throw Error(ze(300));return t}function qw(){var t=cd!==0;return cd=0,t}function vi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?pr.memoizedState=en=t:en=en.next=t,en}function Qs(){if(Vr===null){var t=pr.alternate;t=t!==null?t.memoizedState:null}else t=Vr.next;var e=en===null?pr.memoizedState:en.next;if(e!==null)en=e,Vr=t;else{if(t===null)throw Error(ze(310));Vr=t,t={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},en===null?pr.memoizedState=en=t:en=en.next=t}return en}function ud(t,e){return typeof e=="function"?e(t):e}function sm(t){var e=Qs(),r=e.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=t;var n=Vr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var A=a=null,l=null,c=i;do{var u=c.lane;if((pA&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(A=l=d,a=n):l=l.next=d,pr.lanes|=u,mA|=u}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=A,ni(n,e.memoizedState)||(zn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,pr.lanes|=i,mA|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function im(t){var e=Qs(),r=e.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ni(i,e.memoizedState)||(zn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function XC(){}function YC(t,e){var r=pr,n=Qs(),s=e(),i=!ni(n.memoizedState,s);if(i&&(n.memoizedState=s,zn=!0),n=n.queue,Gw(t_.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||en!==null&&en.memoizedState.tag&1){if(r.flags|=2048,dd(9,e_.bind(null,r,n,s,e),void 0,null),tn===null)throw Error(ze(349));pA&30||ZC(r,e,s)}return s}function ZC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=pr.updateQueue,e===null?(e={lastEffect:null,stores:null},pr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function e_(t,e,r,n){e.value=r,e.getSnapshot=n,r_(e)&&n_(t)}function t_(t,e,r){return r(function(){r_(e)&&n_(t)})}function r_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ni(t,r)}catch{return!0}}function n_(t){var e=sa(t,1);e!==null&&ti(e,t,1,-1)}function q1(t){var e=vi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:t},e.queue=t,t=t.dispatch=T3.bind(null,pr,t),[e.memoizedState,t]}function dd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=pr.updateQueue,e===null?(e={lastEffect:null,stores:null},pr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function s_(){return Qs().memoizedState}function qf(t,e,r,n){var s=vi();pr.flags|=t,s.memoizedState=dd(1|e,r,void 0,n===void 0?null:n)}function dp(t,e,r,n){var s=Qs();n=n===void 0?null:n;var i=void 0;if(Vr!==null){var a=Vr.memoizedState;if(i=a.destroy,n!==null&&zw(n,a.deps)){s.memoizedState=dd(e,r,i,n);return}}pr.flags|=t,s.memoizedState=dd(1|e,r,i,n)}function G1(t,e){return qf(8390656,8,t,e)}function Gw(t,e){return dp(2048,8,t,e)}function i_(t,e){return dp(4,2,t,e)}function a_(t,e){return dp(4,4,t,e)}function o_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A_(t,e,r){return r=r!=null?r.concat([t]):null,dp(4,4,o_.bind(null,e,t),r)}function Ww(){}function l_(t,e){var r=Qs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function c_(t,e){var r=Qs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function u_(t,e,r){return pA&21?(ni(r,e)||(r=pC(),pr.lanes|=r,mA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zn=!0),t.memoizedState=r)}function I3(t,e){var r=Xt;Xt=r!==0&&4>r?r:4,t(!0);var n=nm.transition;nm.transition={};try{t(!1),e()}finally{Xt=r,nm.transition=n}}function d_(){return Qs().memoizedState}function P3(t,e,r){var n=ao(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},h_(t))f_(e,r);else if(r=GC(t,e,r,n),r!==null){var s=Un();ti(r,t,n,s),g_(r,e,n)}}function T3(t,e,r){var n=ao(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(h_(t))f_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,A=i(a,r);if(s.hasEagerState=!0,s.eagerState=A,ni(A,a)){var l=e.interleaved;l===null?(s.next=s,Hw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=GC(t,e,s,n),r!==null&&(s=Un(),ti(r,t,n,s),g_(r,e,n))}}function h_(t){var e=t.alternate;return t===pr||e!==null&&e===pr}function f_(t,e){Eu=Ng=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function g_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Nw(t,r)}}var Sg={readContext:ks,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},D3={readContext:ks,useCallback:function(t,e){return vi().memoizedState=[t,e===void 0?null:e],t},useContext:ks,useEffect:G1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,qf(4194308,4,o_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return qf(4194308,4,t,e)},useInsertionEffect:function(t,e){return qf(4,2,t,e)},useMemo:function(t,e){var r=vi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=vi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=P3.bind(null,pr,t),[n.memoizedState,t]},useRef:function(t){var e=vi();return t={current:t},e.memoizedState=t},useState:q1,useDebugValue:Ww,useDeferredValue:function(t){return vi().memoizedState=t},useTransition:function(){var t=q1(!1),e=t[0];return t=I3.bind(null,t[1]),vi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=pr,s=vi();if(hr){if(r===void 0)throw Error(ze(407));r=r()}else{if(r=e(),tn===null)throw Error(ze(349));pA&30||ZC(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,G1(t_.bind(null,n,i,t),[t]),n.flags|=2048,dd(9,e_.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=vi(),e=tn.identifierPrefix;if(hr){var r=Zi,n=Yi;r=(n&~(1<<32-ei(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=cd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=L3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O3={readContext:ks,useCallback:l_,useContext:ks,useEffect:Gw,useImperativeHandle:A_,useInsertionEffect:i_,useLayoutEffect:a_,useMemo:c_,useReducer:sm,useRef:s_,useState:function(){return sm(ud)},useDebugValue:Ww,useDeferredValue:function(t){var e=Qs();return u_(e,Vr.memoizedState,t)},useTransition:function(){var t=sm(ud)[0],e=Qs().memoizedState;return[t,e]},useMutableSource:XC,useSyncExternalStore:YC,useId:d_,unstable_isNewReconciler:!1},H3={readContext:ks,useCallback:l_,useContext:ks,useEffect:Gw,useImperativeHandle:A_,useInsertionEffect:i_,useLayoutEffect:a_,useMemo:c_,useReducer:im,useRef:s_,useState:function(){return im(ud)},useDebugValue:Ww,useDeferredValue:function(t){var e=Qs();return Vr===null?e.memoizedState=t:u_(e,Vr.memoizedState,t)},useTransition:function(){var t=im(ud)[0],e=Qs().memoizedState;return[t,e]},useMutableSource:XC,useSyncExternalStore:YC,useId:d_,unstable_isNewReconciler:!1};function Gs(t,e){if(t&&t.defaultProps){e=mr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Kx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hp={isMounted:function(t){return(t=t._reactInternals)?yA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Un(),s=ao(t),i=ea(n,s);i.payload=e,r!=null&&(i.callback=r),e=so(t,i,s),e!==null&&(ti(e,t,s,n),zf(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Un(),s=ao(t),i=ea(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=so(t,i,s),e!==null&&(ti(e,t,s,n),zf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Un(),n=ao(t),s=ea(r,n);s.tag=2,e!=null&&(s.callback=e),e=so(t,s,n),e!==null&&(ti(e,t,n,r),zf(e,t,n))}};function W1(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!sd(r,n)||!sd(s,i):!0}function p_(t,e,r){var n=!1,s=go,i=e.contextType;return typeof i=="object"&&i!==null?i=ks(i):(s=Gn(e)?fA:Cn.current,n=e.contextTypes,i=(n=n!=null)?Gl(t,s):go),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function J1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&hp.enqueueReplaceState(e,e.state,null)}function Vx(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Mw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ks(i):(i=Gn(e)?fA:Cn.current,s.context=Gl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kx(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hp.enqueueReplaceState(s,s.state,null),Cg(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yl(t,e){try{var r="",n=e;do r+=fF(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function am(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function zx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var M3=typeof WeakMap=="function"?WeakMap:Map;function m_(t,e,r){r=ea(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Fg||(Fg=!0,tv=n),zx(t,e)},r}function x_(t,e,r){r=ea(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){zx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){zx(t,e),typeof n!="function"&&(io===null?io=new Set([this]):io.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function X1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new M3;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=tE.bind(null,t,e,r),e.then(t,t))}function Y1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Z1(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ea(-1,1),e.tag=2,so(r,e,1))),r.lanes|=1),t)}var R3=Aa.ReactCurrentOwner,zn=!1;function En(t,e,r,n){e.child=t===null?qC(e,null,r,n):Jl(e,t.child,r,n)}function eb(t,e,r,n,s){r=r.render;var i=e.ref;return Hl(e,s),n=$w(t,e,r,n,i,s),r=qw(),t!==null&&!zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ia(t,e,s)):(hr&&r&&Lw(e),e.flags|=1,En(t,e,n,s),e.child)}function tb(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ny(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,v_(t,e,i,n,s)):(t=Xf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:sd,r(a,n)&&t.ref===e.ref)return ia(t,e,s)}return e.flags|=1,t=oo(i,n),t.ref=e.ref,t.return=e,e.child=t}function v_(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(sd(i,n)&&t.ref===e.ref)if(zn=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(zn=!0);else return e.lanes=t.lanes,ia(t,e,s)}return $x(t,e,r,n,s)}function w_(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(Ll,is),is|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,or(Ll,is),is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,or(Ll,is),is|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,or(Ll,is),is|=n;return En(t,e,s,r),e.child}function y_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $x(t,e,r,n,s){var i=Gn(r)?fA:Cn.current;return i=Gl(e,i),Hl(e,s),r=$w(t,e,r,n,i,s),n=qw(),t!==null&&!zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ia(t,e,s)):(hr&&n&&Lw(e),e.flags|=1,En(t,e,r,s),e.child)}function rb(t,e,r,n,s){if(Gn(r)){var i=!0;vg(e)}else i=!1;if(Hl(e,s),e.stateNode===null)Gf(t,e),p_(e,r,n),Vx(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,A=e.memoizedProps;a.props=A;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=ks(c):(c=Gn(r)?fA:Cn.current,c=Gl(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==n||l!==c)&&J1(e,a,n,c),Ia=!1;var f=e.memoizedState;a.state=f,Cg(e,n,a,s),l=e.memoizedState,A!==n||f!==l||qn.current||Ia?(typeof u=="function"&&(Kx(e,r,u,n),l=e.memoizedState),(A=Ia||W1(e,r,A,n,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=A):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,WC(t,e),A=e.memoizedProps,c=e.type===e.elementType?A:Gs(e.type,A),a.props=c,d=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ks(l):(l=Gn(r)?fA:Cn.current,l=Gl(e,l));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==d||f!==l)&&J1(e,a,n,l),Ia=!1,f=e.memoizedState,a.state=f,Cg(e,n,a,s);var m=e.memoizedState;A!==d||f!==m||qn.current||Ia?(typeof g=="function"&&(Kx(e,r,g,n),m=e.memoizedState),(c=Ia||W1(e,r,c,n,f,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return qx(t,e,r,n,i,s)}function qx(t,e,r,n,s,i){y_(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&M1(e,r,!1),ia(t,e,i);n=e.stateNode,R3.current=e;var A=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Jl(e,t.child,null,i),e.child=Jl(e,null,A,i)):En(t,e,A,i),e.memoizedState=n.state,s&&M1(e,r,!0),e.child}function b_(t){var e=t.stateNode;e.pendingContext?H1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&H1(t,e.context,!1),Rw(t,e.containerInfo)}function nb(t,e,r,n,s){return Wl(),Pw(s),e.flags|=256,En(t,e,r,n),e.child}var Gx={dehydrated:null,treeContext:null,retryLane:0};function Wx(t){return{baseLanes:t,cachePool:null,transitions:null}}function B_(t,e,r){var n=e.pendingProps,s=gr.current,i=!1,a=(e.flags&128)!==0,A;if((A=a)||(A=t!==null&&t.memoizedState===null?!1:(s&2)!==0),A?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),or(gr,s&1),t===null)return Mx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=pp(a,n,0,null),t=aA(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wx(r),e.memoizedState=Gx,t):Jw(e,a));if(s=t.memoizedState,s!==null&&(A=s.dehydrated,A!==null))return K3(t,e,a,n,A,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,A=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=oo(s,l),n.subtreeFlags=s.subtreeFlags&14680064),A!==null?i=oo(A,i):(i=aA(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Wx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Gx,n}return i=t.child,t=i.sibling,n=oo(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Jw(t,e){return e=pp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vh(t,e,r,n){return n!==null&&Pw(n),Jl(e,t.child,null,r),t=Jw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function K3(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=am(Error(ze(422))),Vh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=pp({mode:"visible",children:n.children},s,0,null),i=aA(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Jl(e,t.child,null,a),e.child.memoizedState=Wx(a),e.memoizedState=Gx,i);if(!(e.mode&1))return Vh(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var A=n.dgst;return n=A,i=Error(ze(419)),n=am(i,n,void 0),Vh(t,e,a,n)}if(A=(a&t.childLanes)!==0,zn||A){if(n=tn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sa(t,s),ti(n,t,s,-1))}return ry(),n=am(Error(ze(421))),Vh(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rE.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,as=no(s.nextSibling),ls=e,hr=!0,Ys=null,t!==null&&(Bs[Cs++]=Yi,Bs[Cs++]=Zi,Bs[Cs++]=gA,Yi=t.id,Zi=t.overflow,gA=e),e=Jw(e,n.children),e.flags|=4096,e)}function sb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Rx(t.return,e,r)}function om(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function C_(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(En(t,e,n.children,r),n=gr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sb(t,r,e);else if(t.tag===19)sb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(or(gr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&_g(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),om(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&_g(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}om(e,!0,r,null,i);break;case"together":om(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ia(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),mA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,r=oo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=oo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function V3(t,e,r){switch(e.tag){case 3:b_(e),Wl();break;case 5:JC(e);break;case 1:Gn(e.type)&&vg(e);break;case 4:Rw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;or(bg,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(or(gr,gr.current&1),e.flags|=128,null):r&e.child.childLanes?B_(t,e,r):(or(gr,gr.current&1),t=ia(t,e,r),t!==null?t.sibling:null);or(gr,gr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return C_(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),or(gr,gr.current),n)break;return null;case 22:case 23:return e.lanes=0,w_(t,e,r)}return ia(t,e,r)}var __,Jx,N_,S_;__=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jx=function(){};N_=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Zo(Ni.current);var i=null;switch(r){case"input":s=xx(t,s),n=xx(t,n),i=[];break;case"select":s=mr({},s,{value:void 0}),n=mr({},n,{value:void 0}),i=[];break;case"textarea":s=yx(t,s),n=yx(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=mg)}Bx(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var A=s[c];for(a in A)A.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(A=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==A&&(l!=null||A!=null))if(c==="style")if(A){for(a in A)!A.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&A[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,A=A?A.__html:void 0,l!=null&&A!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ar("scroll",t),i||A===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};S_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Jc(t,e){if(!hr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function z3(t,e,r){var n=e.pendingProps;switch(Iw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return Gn(e.type)&&xg(),hn(e),null;case 3:return n=e.stateNode,Xl(),ur(qn),ur(Cn),Vw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Rh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ys!==null&&(sv(Ys),Ys=null))),Jx(t,e),hn(e),null;case 5:Kw(e);var s=Zo(ld.current);if(r=e.type,t!==null&&e.stateNode!=null)N_(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ze(166));return hn(e),null}if(t=Zo(Ni.current),Rh(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Bi]=e,n[od]=i,t=(e.mode&1)!==0,r){case"dialog":Ar("cancel",n),Ar("close",n);break;case"iframe":case"object":case"embed":Ar("load",n);break;case"video":case"audio":for(s=0;s<hu.length;s++)Ar(hu[s],n);break;case"source":Ar("error",n);break;case"img":case"image":case"link":Ar("error",n),Ar("load",n);break;case"details":Ar("toggle",n);break;case"input":h1(n,i),Ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ar("invalid",n);break;case"textarea":g1(n,i),Ar("invalid",n)}Bx(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var A=i[a];a==="children"?typeof A=="string"?n.textContent!==A&&(i.suppressHydrationWarning!==!0&&Mh(n.textContent,A,t),s=["children",A]):typeof A=="number"&&n.textContent!==""+A&&(i.suppressHydrationWarning!==!0&&Mh(n.textContent,A,t),s=["children",""+A]):Xu.hasOwnProperty(a)&&A!=null&&a==="onScroll"&&Ar("scroll",n)}switch(r){case"input":Qh(n),f1(n,i,!0);break;case"textarea":Qh(n),p1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mg)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Bi]=e,t[od]=n,__(t,e,!1,!1),e.stateNode=t;e:{switch(a=Cx(r,n),r){case"dialog":Ar("cancel",t),Ar("close",t),s=n;break;case"iframe":case"object":case"embed":Ar("load",t),s=n;break;case"video":case"audio":for(s=0;s<hu.length;s++)Ar(hu[s],t);s=n;break;case"source":Ar("error",t),s=n;break;case"img":case"image":case"link":Ar("error",t),Ar("load",t),s=n;break;case"details":Ar("toggle",t),s=n;break;case"input":h1(t,n),s=xx(t,n),Ar("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=mr({},n,{value:void 0}),Ar("invalid",t);break;case"textarea":g1(t,n),s=yx(t,n),Ar("invalid",t);break;default:s=n}Bx(r,s),A=s;for(i in A)if(A.hasOwnProperty(i)){var l=A[i];i==="style"?sC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rC(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yu(t,l):typeof l=="number"&&Yu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ar("scroll",t):l!=null&&ww(t,i,l,a))}switch(r){case"input":Qh(t),f1(t,n,!1);break;case"textarea":Qh(t),p1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fo(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Pl(t,!!n.multiple,i,!1):n.defaultValue!=null&&Pl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=mg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)S_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ze(166));if(r=Zo(ld.current),Zo(Ni.current),Rh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bi]=e,(i=n.nodeValue!==r)&&(t=ls,t!==null))switch(t.tag){case 3:Mh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mh(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bi]=e,e.stateNode=n}return hn(e),null;case 13:if(ur(gr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hr&&as!==null&&e.mode&1&&!(e.flags&128))zC(),Wl(),e.flags|=98560,i=!1;else if(i=Rh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ze(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[Bi]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),i=!1}else Ys!==null&&(sv(Ys),Ys=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gr.current&1?Gr===0&&(Gr=3):ry())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Xl(),Jx(t,e),t===null&&id(e.stateNode.containerInfo),hn(e),null;case 10:return Ow(e.type._context),hn(e),null;case 17:return Gn(e.type)&&xg(),hn(e),null;case 19:if(ur(gr),i=e.memoizedState,i===null)return hn(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Jc(i,!1);else{if(Gr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=_g(t),a!==null){for(e.flags|=128,Jc(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return or(gr,gr.current&1|2),e.child}t=t.sibling}i.tail!==null&&Fr()>Zl&&(e.flags|=128,n=!0,Jc(i,!1),e.lanes=4194304)}else{if(!n)if(t=_g(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Jc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!hr)return hn(e),null}else 2*Fr()-i.renderingStartTime>Zl&&r!==1073741824&&(e.flags|=128,n=!0,Jc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fr(),e.sibling=null,r=gr.current,or(gr,n?r&1|2:r&1),e):(hn(e),null);case 22:case 23:return ty(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?is&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(ze(156,e.tag))}function $3(t,e){switch(Iw(e),e.tag){case 1:return Gn(e.type)&&xg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xl(),ur(qn),ur(Cn),Vw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kw(e),null;case 13:if(ur(gr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ur(gr),null;case 4:return Xl(),null;case 10:return Ow(e.type._context),null;case 22:case 23:return ty(),null;case 24:return null;default:return null}}var zh=!1,yn=!1,q3=typeof WeakSet=="function"?WeakSet:Set,it=null;function Ql(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){br(t,e,n)}else r.current=null}function Xx(t,e,r){try{r()}catch(n){br(t,e,n)}}var ib=!1;function G3(t,e){if(Lx=fg,t=kC(),Qw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,A=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(A=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++c===s&&(A=a),f===i&&++u===n&&(l=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=A===-1||l===-1?null:{start:A,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ix={focusedElem:t,selectionRange:r},fg=!1,it=e;it!==null;)if(e=it,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,it=t;else for(;it!==null;){e=it;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,B=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Gs(e.type,w),B);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(S){br(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,it=t;break}it=e.return}return m=ib,ib=!1,m}function Uu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xx(e,r,i)}s=s.next}while(s!==n)}}function fp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Yx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function j_(t){var e=t.alternate;e!==null&&(t.alternate=null,j_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[od],delete e[Dx],delete e[E3],delete e[U3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F_(t){return t.tag===5||t.tag===3||t.tag===4}function ab(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=mg));else if(n!==4&&(t=t.child,t!==null))for(Zx(t,e,r),t=t.sibling;t!==null;)Zx(t,e,r),t=t.sibling}function ev(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ev(t,e,r),t=t.sibling;t!==null;)ev(t,e,r),t=t.sibling}var sn=null,Js=!1;function Ba(t,e,r){for(r=r.child;r!==null;)E_(t,e,r),r=r.sibling}function E_(t,e,r){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(ap,r)}catch{}switch(r.tag){case 5:yn||Ql(r,e);case 6:var n=sn,s=Js;sn=null,Ba(t,e,r),sn=n,Js=s,sn!==null&&(Js?(t=sn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):sn.removeChild(r.stateNode));break;case 18:sn!==null&&(Js?(t=sn,r=r.stateNode,t.nodeType===8?em(t.parentNode,r):t.nodeType===1&&em(t,r),rd(t)):em(sn,r.stateNode));break;case 4:n=sn,s=Js,sn=r.stateNode.containerInfo,Js=!0,Ba(t,e,r),sn=n,Js=s;break;case 0:case 11:case 14:case 15:if(!yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Xx(r,e,a),s=s.next}while(s!==n)}Ba(t,e,r);break;case 1:if(!yn&&(Ql(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(A){br(r,e,A)}Ba(t,e,r);break;case 21:Ba(t,e,r);break;case 22:r.mode&1?(yn=(n=yn)||r.memoizedState!==null,Ba(t,e,r),yn=n):Ba(t,e,r);break;default:Ba(t,e,r)}}function ob(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new q3),e.forEach(function(n){var s=nE.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ks(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,A=a;e:for(;A!==null;){switch(A.tag){case 5:sn=A.stateNode,Js=!1;break e;case 3:sn=A.stateNode.containerInfo,Js=!0;break e;case 4:sn=A.stateNode.containerInfo,Js=!0;break e}A=A.return}if(sn===null)throw Error(ze(160));E_(i,a,s),sn=null,Js=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){br(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U_(e,t),e=e.sibling}function U_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ks(e,t),fi(t),n&4){try{Uu(3,t,t.return),fp(3,t)}catch(w){br(t,t.return,w)}try{Uu(5,t,t.return)}catch(w){br(t,t.return,w)}}break;case 1:Ks(e,t),fi(t),n&512&&r!==null&&Ql(r,r.return);break;case 5:if(Ks(e,t),fi(t),n&512&&r!==null&&Ql(r,r.return),t.flags&32){var s=t.stateNode;try{Yu(s,"")}catch(w){br(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,A=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{A==="input"&&i.type==="radio"&&i.name!=null&&Z5(s,i),Cx(A,a);var c=Cx(A,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?sC(s,d):u==="dangerouslySetInnerHTML"?rC(s,d):u==="children"?Yu(s,d):ww(s,u,d,c)}switch(A){case"input":vx(s,i);break;case"textarea":eC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Pl(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Pl(s,!!i.multiple,i.defaultValue,!0):Pl(s,!!i.multiple,i.multiple?[]:"",!1))}s[od]=i}catch(w){br(t,t.return,w)}}break;case 6:if(Ks(e,t),fi(t),n&4){if(t.stateNode===null)throw Error(ze(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){br(t,t.return,w)}}break;case 3:if(Ks(e,t),fi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rd(e.containerInfo)}catch(w){br(t,t.return,w)}break;case 4:Ks(e,t),fi(t);break;case 13:Ks(e,t),fi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zw=Fr())),n&4&&ob(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(yn=(c=yn)||u,Ks(e,t),yn=c):Ks(e,t),fi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(it=t,u=t.child;u!==null;){for(d=it=u;it!==null;){switch(f=it,g=f.child,f.tag){case 0:case 11:case 14:case 15:Uu(4,f,f.return);break;case 1:Ql(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){br(n,r,w)}}break;case 5:Ql(f,f.return);break;case 22:if(f.memoizedState!==null){lb(d);continue}}g!==null?(g.return=f,it=g):lb(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(A=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,A.style.display=nC("display",a))}catch(w){br(t,t.return,w)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){br(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ks(e,t),fi(t),n&4&&ob(t);break;case 21:break;default:Ks(e,t),fi(t)}}function fi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(F_(r)){var n=r;break e}r=r.return}throw Error(ze(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Yu(s,""),n.flags&=-33);var i=ab(t);ev(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,A=ab(t);Zx(t,A,a);break;default:throw Error(ze(161))}}catch(l){br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W3(t,e,r){it=t,k_(t)}function k_(t,e,r){for(var n=(t.mode&1)!==0;it!==null;){var s=it,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||zh;if(!a){var A=s.alternate,l=A!==null&&A.memoizedState!==null||yn;A=zh;var c=yn;if(zh=a,(yn=l)&&!c)for(it=s;it!==null;)a=it,l=a.child,a.tag===22&&a.memoizedState!==null?cb(s):l!==null?(l.return=a,it=l):cb(s);for(;i!==null;)it=i,k_(i),i=i.sibling;it=s,zh=A,yn=c}Ab(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,it=i):Ab(t)}}function Ab(t){for(;it!==null;){var e=it;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yn||fp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!yn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Gs(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$1(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$1(e,a,r)}break;case 5:var A=e.stateNode;if(r===null&&e.flags&4){r=A;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&rd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}yn||e.flags&512&&Yx(e)}catch(f){br(e,e.return,f)}}if(e===t){it=null;break}if(r=e.sibling,r!==null){r.return=e.return,it=r;break}it=e.return}}function lb(t){for(;it!==null;){var e=it;if(e===t){it=null;break}var r=e.sibling;if(r!==null){r.return=e.return,it=r;break}it=e.return}}function cb(t){for(;it!==null;){var e=it;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{fp(4,e)}catch(l){br(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){br(e,s,l)}}var i=e.return;try{Yx(e)}catch(l){br(e,i,l)}break;case 5:var a=e.return;try{Yx(e)}catch(l){br(e,a,l)}}}catch(l){br(e,e.return,l)}if(e===t){it=null;break}var A=e.sibling;if(A!==null){A.return=e.return,it=A;break}it=e.return}}var J3=Math.ceil,jg=Aa.ReactCurrentDispatcher,Xw=Aa.ReactCurrentOwner,Es=Aa.ReactCurrentBatchConfig,Rt=0,tn=null,Mr=null,An=0,is=0,Ll=yo(0),Gr=0,hd=null,mA=0,gp=0,Yw=0,ku=null,Rn=null,Zw=0,Zl=1/0,Gi=null,Fg=!1,tv=null,io=null,$h=!1,Ra=null,Eg=0,Qu=0,rv=null,Wf=-1,Jf=0;function Un(){return Rt&6?Fr():Wf!==-1?Wf:Wf=Fr()}function ao(t){return t.mode&1?Rt&2&&An!==0?An&-An:Q3.transition!==null?(Jf===0&&(Jf=pC()),Jf):(t=Xt,t!==0||(t=window.event,t=t===void 0?16:BC(t.type)),t):1}function ti(t,e,r,n){if(50<Qu)throw Qu=0,rv=null,Error(ze(185));Ed(t,r,n),(!(Rt&2)||t!==tn)&&(t===tn&&(!(Rt&2)&&(gp|=r),Gr===4&&Da(t,An)),Wn(t,n),r===1&&Rt===0&&!(e.mode&1)&&(Zl=Fr()+500,up&&bo()))}function Wn(t,e){var r=t.callbackNode;QF(t,e);var n=hg(t,t===tn?An:0);if(n===0)r!==null&&v1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&v1(r),e===1)t.tag===0?k3(ub.bind(null,t)):RC(ub.bind(null,t)),j3(function(){!(Rt&6)&&bo()}),r=null;else{switch(mC(n)){case 1:r=_w;break;case 4:r=fC;break;case 16:r=dg;break;case 536870912:r=gC;break;default:r=dg}r=H_(r,Q_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Q_(t,e){if(Wf=-1,Jf=0,Rt&6)throw Error(ze(327));var r=t.callbackNode;if(Ml()&&t.callbackNode!==r)return null;var n=hg(t,t===tn?An:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ug(t,n);else{e=n;var s=Rt;Rt|=2;var i=I_();(tn!==t||An!==e)&&(Gi=null,Zl=Fr()+500,iA(t,e));do try{Z3();break}catch(A){L_(t,A)}while(!0);Dw(),jg.current=i,Rt=s,Mr!==null?e=0:(tn=null,An=0,e=Gr)}if(e!==0){if(e===2&&(s=Fx(t),s!==0&&(n=s,e=nv(t,s))),e===1)throw r=hd,iA(t,0),Da(t,n),Wn(t,Fr()),r;if(e===6)Da(t,n);else{if(s=t.current.alternate,!(n&30)&&!X3(s)&&(e=Ug(t,n),e===2&&(i=Fx(t),i!==0&&(n=i,e=nv(t,i))),e===1))throw r=hd,iA(t,0),Da(t,n),Wn(t,Fr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(ze(345));case 2:Ko(t,Rn,Gi);break;case 3:if(Da(t,n),(n&130023424)===n&&(e=Zw+500-Fr(),10<e)){if(hg(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Tx(Ko.bind(null,t,Rn,Gi),e);break}Ko(t,Rn,Gi);break;case 4:if(Da(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-ei(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*J3(n/1960))-n,10<n){t.timeoutHandle=Tx(Ko.bind(null,t,Rn,Gi),n);break}Ko(t,Rn,Gi);break;case 5:Ko(t,Rn,Gi);break;default:throw Error(ze(329))}}}return Wn(t,Fr()),t.callbackNode===r?Q_.bind(null,t):null}function nv(t,e){var r=ku;return t.current.memoizedState.isDehydrated&&(iA(t,e).flags|=256),t=Ug(t,e),t!==2&&(e=Rn,Rn=r,e!==null&&sv(e)),t}function sv(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function X3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ni(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e){for(e&=~Yw,e&=~gp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ei(e),n=1<<r;t[r]=-1,e&=~n}}function ub(t){if(Rt&6)throw Error(ze(327));Ml();var e=hg(t,0);if(!(e&1))return Wn(t,Fr()),null;var r=Ug(t,e);if(t.tag!==0&&r===2){var n=Fx(t);n!==0&&(e=n,r=nv(t,n))}if(r===1)throw r=hd,iA(t,0),Da(t,e),Wn(t,Fr()),r;if(r===6)throw Error(ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ko(t,Rn,Gi),Wn(t,Fr()),null}function ey(t,e){var r=Rt;Rt|=1;try{return t(e)}finally{Rt=r,Rt===0&&(Zl=Fr()+500,up&&bo())}}function xA(t){Ra!==null&&Ra.tag===0&&!(Rt&6)&&Ml();var e=Rt;Rt|=1;var r=Es.transition,n=Xt;try{if(Es.transition=null,Xt=1,t)return t()}finally{Xt=n,Es.transition=r,Rt=e,!(Rt&6)&&bo()}}function ty(){is=Ll.current,ur(Ll)}function iA(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,S3(r)),Mr!==null)for(r=Mr.return;r!==null;){var n=r;switch(Iw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xg();break;case 3:Xl(),ur(qn),ur(Cn),Vw();break;case 5:Kw(n);break;case 4:Xl();break;case 13:ur(gr);break;case 19:ur(gr);break;case 10:Ow(n.type._context);break;case 22:case 23:ty()}r=r.return}if(tn=t,Mr=t=oo(t.current,null),An=is=e,Gr=0,hd=null,Yw=gp=mA=0,Rn=ku=null,Yo!==null){for(e=0;e<Yo.length;e++)if(r=Yo[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Yo=null}return t}function L_(t,e){do{var r=Mr;try{if(Dw(),$f.current=Sg,Ng){for(var n=pr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ng=!1}if(pA=0,en=Vr=pr=null,Eu=!1,cd=0,Xw.current=null,r===null||r.return===null){Gr=1,hd=e,Mr=null;break}e:{var i=t,a=r.return,A=r,l=e;if(e=An,A.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=A,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Y1(a);if(g!==null){g.flags&=-257,Z1(g,a,A,i,e),g.mode&1&&X1(i,c,e),e=g,l=c;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){X1(i,c,e),ry();break e}l=Error(ze(426))}}else if(hr&&A.mode&1){var B=Y1(a);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Z1(B,a,A,i,e),Pw(Yl(l,A));break e}}i=l=Yl(l,A),Gr!==4&&(Gr=2),ku===null?ku=[i]:ku.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=m_(i,l,e);z1(i,x);break e;case 1:A=l;var y=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(io===null||!io.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=x_(i,A,e);z1(i,S);break e}}i=i.return}while(i!==null)}T_(r)}catch(k){e=k,Mr===r&&r!==null&&(Mr=r=r.return);continue}break}while(!0)}function I_(){var t=jg.current;return jg.current=Sg,t===null?Sg:t}function ry(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),tn===null||!(mA&268435455)&&!(gp&268435455)||Da(tn,An)}function Ug(t,e){var r=Rt;Rt|=2;var n=I_();(tn!==t||An!==e)&&(Gi=null,iA(t,e));do try{Y3();break}catch(s){L_(t,s)}while(!0);if(Dw(),Rt=r,jg.current=n,Mr!==null)throw Error(ze(261));return tn=null,An=0,Gr}function Y3(){for(;Mr!==null;)P_(Mr)}function Z3(){for(;Mr!==null&&!CF();)P_(Mr)}function P_(t){var e=O_(t.alternate,t,is);t.memoizedProps=t.pendingProps,e===null?T_(t):Mr=e,Xw.current=null}function T_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$3(r,e),r!==null){r.flags&=32767,Mr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gr=6,Mr=null;return}}else if(r=z3(r,e,is),r!==null){Mr=r;return}if(e=e.sibling,e!==null){Mr=e;return}Mr=e=t}while(e!==null);Gr===0&&(Gr=5)}function Ko(t,e,r){var n=Xt,s=Es.transition;try{Es.transition=null,Xt=1,eE(t,e,r,n)}finally{Es.transition=s,Xt=n}return null}function eE(t,e,r,n){do Ml();while(Ra!==null);if(Rt&6)throw Error(ze(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ze(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(LF(t,i),t===tn&&(Mr=tn=null,An=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$h||($h=!0,H_(dg,function(){return Ml(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Es.transition,Es.transition=null;var a=Xt;Xt=1;var A=Rt;Rt|=4,Xw.current=null,G3(t,r),U_(r,t),w3(Ix),fg=!!Lx,Ix=Lx=null,t.current=r,W3(r),_F(),Rt=A,Xt=a,Es.transition=i}else t.current=r;if($h&&($h=!1,Ra=t,Eg=s),i=t.pendingLanes,i===0&&(io=null),jF(r.stateNode),Wn(t,Fr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fg)throw Fg=!1,t=tv,tv=null,t;return Eg&1&&t.tag!==0&&Ml(),i=t.pendingLanes,i&1?t===rv?Qu++:(Qu=0,rv=t):Qu=0,bo(),null}function Ml(){if(Ra!==null){var t=mC(Eg),e=Es.transition,r=Xt;try{if(Es.transition=null,Xt=16>t?16:t,Ra===null)var n=!1;else{if(t=Ra,Ra=null,Eg=0,Rt&6)throw Error(ze(331));var s=Rt;for(Rt|=4,it=t.current;it!==null;){var i=it,a=i.child;if(it.flags&16){var A=i.deletions;if(A!==null){for(var l=0;l<A.length;l++){var c=A[l];for(it=c;it!==null;){var u=it;switch(u.tag){case 0:case 11:case 15:Uu(8,u,i)}var d=u.child;if(d!==null)d.return=u,it=d;else for(;it!==null;){u=it;var f=u.sibling,g=u.return;if(j_(u),u===c){it=null;break}if(f!==null){f.return=g,it=f;break}it=g}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var B=w.sibling;w.sibling=null,w=B}while(w!==null)}}it=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,it=a;else e:for(;it!==null;){if(i=it,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,it=x;break e}it=i.return}}var y=t.current;for(it=y;it!==null;){a=it;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,it=C;else e:for(a=y;it!==null;){if(A=it,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:fp(9,A)}}catch(k){br(A,A.return,k)}if(A===a){it=null;break e}var S=A.sibling;if(S!==null){S.return=A.return,it=S;break e}it=A.return}}if(Rt=s,bo(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(ap,t)}catch{}n=!0}return n}finally{Xt=r,Es.transition=e}}return!1}function db(t,e,r){e=Yl(r,e),e=m_(t,e,1),t=so(t,e,1),e=Un(),t!==null&&(Ed(t,1,e),Wn(t,e))}function br(t,e,r){if(t.tag===3)db(t,t,r);else for(;e!==null;){if(e.tag===3){db(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(io===null||!io.has(n))){t=Yl(r,t),t=x_(e,t,1),e=so(e,t,1),t=Un(),e!==null&&(Ed(e,1,t),Wn(e,t));break}}e=e.return}}function tE(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&r,tn===t&&(An&r)===r&&(Gr===4||Gr===3&&(An&130023424)===An&&500>Fr()-Zw?iA(t,0):Yw|=r),Wn(t,e)}function D_(t,e){e===0&&(t.mode&1?(e=Ph,Ph<<=1,!(Ph&130023424)&&(Ph=4194304)):e=1);var r=Un();t=sa(t,e),t!==null&&(Ed(t,e,r),Wn(t,r))}function rE(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),D_(t,r)}function nE(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ze(314))}n!==null&&n.delete(e),D_(t,r)}var O_;O_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||qn.current)zn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return zn=!1,V3(t,e,r);zn=!!(t.flags&131072)}else zn=!1,hr&&e.flags&1048576&&KC(e,yg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gf(t,e),t=e.pendingProps;var s=Gl(e,Cn.current);Hl(e,r),s=$w(null,e,n,t,s,r);var i=qw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(n)?(i=!0,vg(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mw(e),s.updater=hp,e.stateNode=s,s._reactInternals=e,Vx(e,n,t,r),e=qx(null,e,n,!0,i,r)):(e.tag=0,hr&&i&&Lw(e),En(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Gf(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=iE(n),t=Gs(n,t),s){case 0:e=$x(null,e,n,t,r);break e;case 1:e=rb(null,e,n,t,r);break e;case 11:e=eb(null,e,n,t,r);break e;case 14:e=tb(null,e,n,Gs(n.type,t),r);break e}throw Error(ze(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gs(n,s),$x(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gs(n,s),rb(t,e,n,s,r);case 3:e:{if(b_(e),t===null)throw Error(ze(387));n=e.pendingProps,i=e.memoizedState,s=i.element,WC(t,e),Cg(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yl(Error(ze(423)),e),e=nb(t,e,n,r,s);break e}else if(n!==s){s=Yl(Error(ze(424)),e),e=nb(t,e,n,r,s);break e}else for(as=no(e.stateNode.containerInfo.firstChild),ls=e,hr=!0,Ys=null,r=qC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wl(),n===s){e=ia(t,e,r);break e}En(t,e,n,r)}e=e.child}return e;case 5:return JC(e),t===null&&Mx(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Px(n,s)?a=null:i!==null&&Px(n,i)&&(e.flags|=32),y_(t,e),En(t,e,a,r),e.child;case 6:return t===null&&Mx(e),null;case 13:return B_(t,e,r);case 4:return Rw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Jl(e,null,n,r):En(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gs(n,s),eb(t,e,n,s,r);case 7:return En(t,e,e.pendingProps,r),e.child;case 8:return En(t,e,e.pendingProps.children,r),e.child;case 12:return En(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,or(bg,n._currentValue),n._currentValue=a,i!==null)if(ni(i.value,a)){if(i.children===s.children&&!qn.current){e=ia(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var A=i.dependencies;if(A!==null){a=i.child;for(var l=A.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ea(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Rx(i.return,r,e),A.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ze(341));a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),Rx(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}En(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Hl(e,r),s=ks(s),n=n(s),e.flags|=1,En(t,e,n,r),e.child;case 14:return n=e.type,s=Gs(n,e.pendingProps),s=Gs(n.type,s),tb(t,e,n,s,r);case 15:return v_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Gs(n,s),Gf(t,e),e.tag=1,Gn(n)?(t=!0,vg(e)):t=!1,Hl(e,r),p_(e,n,s),Vx(e,n,s,r),qx(null,e,n,!0,t,r);case 19:return C_(t,e,r);case 22:return w_(t,e,r)}throw Error(ze(156,e.tag))};function H_(t,e){return hC(t,e)}function sE(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(t,e,r,n){return new sE(t,e,r,n)}function ny(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iE(t){if(typeof t=="function")return ny(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bw)return 11;if(t===Bw)return 14}return 2}function oo(t,e){var r=t.alternate;return r===null?(r=Ns(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xf(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")ny(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Cl:return aA(r.children,s,i,e);case yw:a=8,s|=8;break;case fx:return t=Ns(12,r,e,s|2),t.elementType=fx,t.lanes=i,t;case gx:return t=Ns(13,r,e,s),t.elementType=gx,t.lanes=i,t;case px:return t=Ns(19,r,e,s),t.elementType=px,t.lanes=i,t;case J5:return pp(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G5:a=10;break e;case W5:a=9;break e;case bw:a=11;break e;case Bw:a=14;break e;case La:a=16,n=null;break e}throw Error(ze(130,t==null?t:typeof t,""))}return e=Ns(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function aA(t,e,r,n){return t=Ns(7,t,n,e),t.lanes=r,t}function pp(t,e,r,n){return t=Ns(22,t,n,e),t.elementType=J5,t.lanes=r,t.stateNode={isHidden:!1},t}function Am(t,e,r){return t=Ns(6,t,null,e),t.lanes=r,t}function lm(t,e,r){return e=Ns(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aE(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K0(0),this.expirationTimes=K0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sy(t,e,r,n,s,i,a,A,l){return t=new aE(t,e,r,A,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ns(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mw(i),t}function oE(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function M_(t){if(!t)return go;t=t._reactInternals;e:{if(yA(t)!==t||t.tag!==1)throw Error(ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ze(171))}if(t.tag===1){var r=t.type;if(Gn(r))return MC(t,r,e)}return e}function R_(t,e,r,n,s,i,a,A,l){return t=sy(r,n,!0,t,s,i,a,A,l),t.context=M_(null),r=t.current,n=Un(),s=ao(r),i=ea(n,s),i.callback=e??null,so(r,i,s),t.current.lanes=s,Ed(t,s,n),Wn(t,n),t}function mp(t,e,r,n){var s=e.current,i=Un(),a=ao(s);return r=M_(r),e.context===null?e.context=r:e.pendingContext=r,e=ea(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=so(s,e,a),t!==null&&(ti(t,s,a,i),zf(t,s,a)),a}function kg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function iy(t,e){hb(t,e),(t=t.alternate)&&hb(t,e)}function AE(){return null}var K_=typeof reportError=="function"?reportError:function(t){console.error(t)};function ay(t){this._internalRoot=t}xp.prototype.render=ay.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));mp(t,e,null,null)};xp.prototype.unmount=ay.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xA(function(){mp(null,t,null,null)}),e[na]=null}};function xp(t){this._internalRoot=t}xp.prototype.unstable_scheduleHydration=function(t){if(t){var e=wC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ta.length&&e!==0&&e<Ta[r].priority;r++);Ta.splice(r,0,t),r===0&&bC(t)}};function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fb(){}function lE(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=kg(a);i.call(c)}}var a=R_(e,n,t,0,null,!1,!1,"",fb);return t._reactRootContainer=a,t[na]=a.current,id(t.nodeType===8?t.parentNode:t),xA(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var A=n;n=function(){var c=kg(l);A.call(c)}}var l=sy(t,0,!1,null,null,!1,!1,"",fb);return t._reactRootContainer=l,t[na]=l.current,id(t.nodeType===8?t.parentNode:t),xA(function(){mp(e,l,r,n)}),l}function wp(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var A=s;s=function(){var l=kg(a);A.call(l)}}mp(e,a,t,s)}else a=lE(r,e,t,s,n);return kg(a)}xC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=du(e.pendingLanes);r!==0&&(Nw(e,r|1),Wn(e,Fr()),!(Rt&6)&&(Zl=Fr()+500,bo()))}break;case 13:xA(function(){var n=sa(t,1);if(n!==null){var s=Un();ti(n,t,1,s)}}),iy(t,1)}};Sw=function(t){if(t.tag===13){var e=sa(t,134217728);if(e!==null){var r=Un();ti(e,t,134217728,r)}iy(t,134217728)}};vC=function(t){if(t.tag===13){var e=ao(t),r=sa(t,e);if(r!==null){var n=Un();ti(r,t,e,n)}iy(t,e)}};wC=function(){return Xt};yC=function(t,e){var r=Xt;try{return Xt=t,e()}finally{Xt=r}};Nx=function(t,e,r){switch(e){case"input":if(vx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=cp(n);if(!s)throw Error(ze(90));Y5(n),vx(n,s)}}}break;case"textarea":eC(t,r);break;case"select":e=r.value,e!=null&&Pl(t,!!r.multiple,e,!1)}};oC=ey;AC=xA;var cE={usingClientEntryPoint:!1,Events:[kd,jl,cp,iC,aC,ey]},Xc={findFiberByHostInstance:Xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uE={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uC(t),t===null?null:t.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||AE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{ap=qh.inject(uE),_i=qh}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cE;us.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(e))throw Error(ze(200));return oE(t,e,null,r)};us.createRoot=function(t,e){if(!oy(t))throw Error(ze(299));var r=!1,n="",s=K_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sy(t,1,!1,null,null,r,!1,n,s),t[na]=e.current,id(t.nodeType===8?t.parentNode:t),new ay(e)};us.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=uC(e),t=t===null?null:t.stateNode,t};us.flushSync=function(t){return xA(t)};us.hydrate=function(t,e,r){if(!vp(e))throw Error(ze(200));return wp(null,t,e,!0,r)};us.hydrateRoot=function(t,e,r){if(!oy(t))throw Error(ze(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=K_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=R_(e,null,t,1,r??null,s,!1,i,a),t[na]=e.current,id(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new xp(e)};us.render=function(t,e,r){if(!vp(e))throw Error(ze(200));return wp(null,t,e,!1,r)};us.unmountComponentAtNode=function(t){if(!vp(t))throw Error(ze(40));return t._reactRootContainer?(xA(function(){wp(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1};us.unstable_batchedUpdates=ey;us.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!vp(r))throw Error(ze(200));if(t==null||t._reactInternals===void 0)throw Error(ze(38));return wp(t,e,r,!1,n)};us.version="18.3.1-next-f1338f8080-20240426";function V_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V_)}catch(t){console.error(t)}}V_(),V5.exports=us;var dE=V5.exports,gb=dE;dx.createRoot=gb.createRoot,dx.hydrateRoot=gb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fd.apply(this,arguments)}var Ka;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ka||(Ka={}));const pb="popstate";function hE(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:A}=n.location;return iv("",{pathname:i,search:a,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qg(s)}return gE(e,r,null,t)}function Br(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function z_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fE(){return Math.random().toString(36).substr(2,8)}function mb(t,e){return{usr:t.state,key:t.key,idx:e}}function iv(t,e,r,n){return r===void 0&&(r=null),fd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lc(e):e,{state:r,key:e&&e.key||n||fE()})}function Qg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function gE(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,A=Ka.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(fd({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){A=Ka.Pop;let B=u(),x=B==null?null:B-c;c=B,l&&l({action:A,location:w.location,delta:x})}function f(B,x){A=Ka.Push;let y=iv(w.location,B,x);c=u()+1;let C=mb(y,c),S=w.createHref(y);try{a.pushState(C,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:A,location:w.location,delta:1})}function g(B,x){A=Ka.Replace;let y=iv(w.location,B,x);c=u();let C=mb(y,c),S=w.createHref(y);a.replaceState(C,"",S),i&&l&&l({action:A,location:w.location,delta:0})}function m(B){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof B=="string"?B:Qg(B);return y=y.replace(/ $/,"%20"),Br(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let w={get action(){return A},get location(){return t(s,a)},listen(B){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(pb,d),l=B,()=>{s.removeEventListener(pb,d),l=null}},createHref(B){return e(s,B)},createURL:m,encodeLocation(B){let x=m(B);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(B){return a.go(B)}};return w}var xb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xb||(xb={}));function pE(t,e,r){return r===void 0&&(r="/"),mE(t,e,r)}function mE(t,e,r,n){let s=typeof e=="string"?lc(e):e,i=ec(s.pathname||"/",r);if(i==null)return null;let a=$_(t);xE(a);let A=null;for(let l=0;A==null&&l<a.length;++l){let c=FE(i);A=SE(a[l],c)}return A}function $_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,A)=>{let l={relativePath:A===void 0?i.path||"":A,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Br(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ao([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Br(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$_(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_E(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var A;if(i.path===""||!((A=i.path)!=null&&A.includes("?")))s(i,a);else for(let l of q_(i.path))s(i,a,l)}),e}function q_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=q_(n.join("/")),A=[];return A.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&A.push(...a),A.map(l=>t.startsWith("/")&&l===""?"/":l)}function xE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:NE(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vE=/^:[\w-]+$/,wE=3,yE=2,bE=1,BE=10,CE=-2,vb=t=>t==="*";function _E(t,e){let r=t.split("/"),n=r.length;return r.some(vb)&&(n+=CE),e&&(n+=yE),r.filter(s=>!vb(s)).reduce((s,i)=>s+(vE.test(i)?wE:i===""?bE:BE),n)}function NE(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function SE(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let A=0;A<n.length;++A){let l=n[A],c=A===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=av({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Ao([i,d.pathname]),pathnameBase:QE(Ao([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Ao([i,d.pathnameBase]))}return a}function av(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jE(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),A=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let w=A[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=A[d];return g&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function jE(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),z_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,A,l)=>(n.push({paramName:A,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function FE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return z_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ec(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function EE(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?lc(t):t;return{pathname:r?r.startsWith("/")?r:UE(r,e):e,search:LE(n),hash:IE(s)}}function UE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kE(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function G_(t,e){let r=kE(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function W_(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=lc(t):(s=fd({},t),Br(!s.pathname||!s.pathname.includes("?"),cm("?","pathname","search",s)),Br(!s.pathname||!s.pathname.includes("#"),cm("#","pathname","hash",s)),Br(!s.search||!s.search.includes("#"),cm("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,A;if(a==null)A=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}A=d>=0?e[d]:"/"}let l=EE(s,A),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ao=t=>t.join("/").replace(/\/\/+/g,"/"),QE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const J_=["post","put","patch","delete"];new Set(J_);const TE=["get",...J_];new Set(TE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}const yp=T.createContext(null),X_=T.createContext(null),Bo=T.createContext(null),bp=T.createContext(null),bA=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Y_=T.createContext(null);function DE(t,e){let{relative:r}=e===void 0?{}:e;Ld()||Br(!1);let{basename:n,navigator:s}=T.useContext(Bo),{hash:i,pathname:a,search:A}=Bp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Ao([n,a])),s.createHref({pathname:l,search:A,hash:i})}function Ld(){return T.useContext(bp)!=null}function Id(){return Ld()||Br(!1),T.useContext(bp).location}function Z_(t){T.useContext(Bo).static||T.useLayoutEffect(t)}function e4(){let{isDataRoute:t}=T.useContext(bA);return t?XE():OE()}function OE(){Ld()||Br(!1);let t=T.useContext(yp),{basename:e,future:r,navigator:n}=T.useContext(Bo),{matches:s}=T.useContext(bA),{pathname:i}=Id(),a=JSON.stringify(G_(s,r.v7_relativeSplatPath)),A=T.useRef(!1);return Z_(()=>{A.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!A.current)return;if(typeof c=="number"){n.go(c);return}let d=W_(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ao([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}function Bp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(Bo),{matches:s}=T.useContext(bA),{pathname:i}=Id(),a=JSON.stringify(G_(s,n.v7_relativeSplatPath));return T.useMemo(()=>W_(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function HE(t,e){return ME(t,e)}function ME(t,e,r,n){Ld()||Br(!1);let{navigator:s}=T.useContext(Bo),{matches:i}=T.useContext(bA),a=i[i.length-1],A=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Id(),u;if(e){var d;let B=typeof e=="string"?lc(e):e;l==="/"||(d=B.pathname)!=null&&d.startsWith(l)||Br(!1),u=B}else u=c;let f=u.pathname||"/",g=f;if(l!=="/"){let B=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(B.length).join("/")}let m=pE(t,{pathname:g}),w=$E(m&&m.map(B=>Object.assign({},B,{params:Object.assign({},A,B.params),pathname:Ao([l,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?l:Ao([l,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),i,r,n);return e&&w?T.createElement(bp.Provider,{value:{location:gd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ka.Pop}},w):w}function RE(){let t=JE(),e=PE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:s},r):null,null)}const KE=T.createElement(RE,null);class VE extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(bA.Provider,{value:this.props.routeContext},T.createElement(Y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zE(t){let{routeContext:e,match:r,children:n}=t,s=T.useContext(yp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(bA.Provider,{value:e},n)}function $E(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,A=(s=r)==null?void 0:s.errors;if(A!=null){let u=a.findIndex(d=>d.route.id&&(A==null?void 0:A[d.route.id])!==void 0);u>=0||Br(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let g,m=!1,w=null,B=null;r&&(g=A&&d.route.id?A[d.route.id]:void 0,w=d.route.errorElement||KE,l&&(c<0&&f===0?(YE("route-fallback"),m=!0,B=null):c===f&&(m=!0,B=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,f+1)),y=()=>{let C;return g?C=w:m?C=B:d.route.Component?C=T.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,T.createElement(zE,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:C})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement(VE,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var t4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(t4||{}),r4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(r4||{});function qE(t){let e=T.useContext(yp);return e||Br(!1),e}function GE(t){let e=T.useContext(X_);return e||Br(!1),e}function WE(t){let e=T.useContext(bA);return e||Br(!1),e}function n4(t){let e=WE(),r=e.matches[e.matches.length-1];return r.route.id||Br(!1),r.route.id}function JE(){var t;let e=T.useContext(Y_),r=GE(),n=n4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function XE(){let{router:t}=qE(t4.UseNavigateStable),e=n4(r4.UseNavigateStable),r=T.useRef(!1);return Z_(()=>{r.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gd({fromRouteId:e},i)))},[t,e])}const wb={};function YE(t,e,r){wb[t]||(wb[t]=!0)}function ZE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xn(t){Br(!1)}function eU(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ka.Pop,navigator:i,static:a=!1,future:A}=t;Ld()&&Br(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:a,future:gd({v7_relativeSplatPath:!1},A)}),[l,A,i,a]);typeof n=="string"&&(n=lc(n));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:m="default"}=n,w=T.useMemo(()=>{let B=ec(u,l);return B==null?null:{location:{pathname:B,search:d,hash:f,state:g,key:m},navigationType:s}},[l,u,d,f,g,m,s]);return w==null?null:T.createElement(Bo.Provider,{value:c},T.createElement(bp.Provider,{children:r,value:w}))}function tU(t){let{children:e,location:r}=t;return HE(ov(e),r)}new Promise(()=>{});function ov(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,s)=>{if(!T.isValidElement(n))return;let i=[...e,s];if(n.type===T.Fragment){r.push.apply(r,ov(n.props.children,i));return}n.type!==xn&&Br(!1),!n.props.index||!n.props.children||Br(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=ov(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lg.apply(this,arguments)}function s4(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function rU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nU(t,e){return t.button===0&&(!e||e==="_self")&&!rU(t)}const sU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],aU="6";try{window.__reactRouterVersion=aU}catch{}const oU=T.createContext({isTransitioning:!1}),AU="startTransition",yb=tF[AU];function lU(t){let{basename:e,children:r,future:n,window:s}=t,i=T.useRef();i.current==null&&(i.current=hE({window:s,v5Compat:!0}));let a=i.current,[A,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=T.useCallback(d=>{c&&yb?yb(()=>l(d)):l(d)},[l,c]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.useEffect(()=>ZE(n),[n]),T.createElement(eU,{basename:e,children:r,location:A.location,navigationType:A.action,navigator:a,future:n})}const cU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yf=T.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:A,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=s4(e,sU),{basename:g}=T.useContext(Bo),m,w=!1;if(typeof c=="string"&&uU.test(c)&&(m=c,cU))try{let C=new URL(window.location.href),S=c.startsWith("//")?new URL(C.protocol+c):new URL(c),k=ec(S.pathname,g);S.origin===C.origin&&k!=null?c=k+S.search+S.hash:w=!0}catch{}let B=DE(c,{relative:s}),x=hU(c,{replace:a,state:A,target:l,preventScrollReset:u,relative:s,viewTransition:d});function y(C){n&&n(C),C.defaultPrevented||x(C)}return T.createElement("a",Lg({},f,{href:m||B,onClick:w||i?n:y,ref:r,target:l}))}),Zt=T.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:A,to:l,viewTransition:c,children:u}=e,d=s4(e,iU),f=Bp(l,{relative:d.relative}),g=Id(),m=T.useContext(X_),{navigator:w,basename:B}=T.useContext(Bo),x=m!=null&&fU(f)&&c===!0,y=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,C=g.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(C=C.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&B&&(S=ec(S,B)||S);const k=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=C===y||!a&&C.startsWith(y)&&C.charAt(k)==="/",I=S!=null&&(S===y||!a&&S.startsWith(y)&&S.charAt(y.length)==="/"),j={isActive:O,isPending:I,isTransitioning:x},R=O?n:void 0,X;typeof i=="function"?X=i(j):X=[i,O?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let Q=typeof A=="function"?A(j):A;return T.createElement(Yf,Lg({},d,{"aria-current":R,className:X,ref:r,style:Q,to:l,viewTransition:c}),typeof u=="function"?u(j):u)});var Av;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Av||(Av={}));var bb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bb||(bb={}));function dU(t){let e=T.useContext(yp);return e||Br(!1),e}function hU(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:A}=e===void 0?{}:e,l=e4(),c=Id(),u=Bp(t,{relative:a});return T.useCallback(d=>{if(nU(d,r)){d.preventDefault();let f=n!==void 0?n:Qg(c)===Qg(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:A})}},[c,l,u,n,s,r,t,i,a,A])}function fU(t,e){e===void 0&&(e={});let r=T.useContext(oU);r==null&&Br(!1);let{basename:n}=dU(Av.useViewTransitionState),s=Bp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=ec(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ec(r.nextLocation.pathname,n)||r.nextLocation.pathname;return av(s.pathname,a)!=null||av(s.pathname,i)!=null}const gU="modulepreload",pU=function(t){return"/"+t},Bb={},Ss=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),A=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=pU(l),l in Bb)return;Bb[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":gU,c||(d.as="script"),d.crossOrigin="",d.href=l,A&&d.setAttribute("nonce",A),document.head.appendChild(d),c)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=a,window.dispatchEvent(A),!A.defaultPrevented)throw a}return s.then(a=>{for(const A of a||[])A.status==="rejected"&&i(A.reason);return e().catch(i)})},mU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>cc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ay extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Cb extends Ay{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _b extends Ay{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nb extends Ay{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var lv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(lv||(lv={}));var xU=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class vU{constructor(e,{headers:r={},customFetch:n,region:s=lv.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=mU(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xU(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:a,body:A,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;A&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&A instanceof Blob||A instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=A):typeof A=="string"?(c["Content-Type"]="text/plain",f=A):typeof FormData<"u"&&A instanceof FormData?f=A:(c["Content-Type"]="application/json",f=JSON.stringify(A)));const g=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:l}).catch(x=>{throw x.name==="AbortError"?x:new Cb(x)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new _b(g);if(!g.ok)throw new Nb(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),B;return w==="application/json"?B=yield g.json():w==="application/octet-stream"?B=yield g.blob():w==="text/event-stream"?B=g:w==="multipart/form-data"?B=yield g.formData():B=yield g.text(),{data:B,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Cb(i)}:{data:null,error:i,response:i instanceof Nb||i instanceof _b?i.context:void 0}}})}}var Kn={},ly={},Cp={},Pd={},_p={},Np={},wU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tc=wU();const yU=tc.fetch,i4=tc.fetch.bind(tc),a4=tc.Headers,bU=tc.Request,BU=tc.Response,cc=Object.freeze(Object.defineProperty({__proto__:null,Headers:a4,Request:bU,Response:BU,default:i4,fetch:yU},Symbol.toStringTag,{value:"Module"})),CU=Oj(cc);var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});let _U=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Sp.default=_U;var o4=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Np,"__esModule",{value:!0});const NU=o4(CU),SU=o4(Sp);let jU=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=NU.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,A,l,c;let u=null,d=null,f=null,g=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?d=y:d=JSON.parse(y))}const B=(A=this.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");B&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,g=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const B=await i.text();try{u=JSON.parse(B),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,m="OK")}catch{i.status===404&&B===""?(g=204,m="No Content"):u={message:B}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,g=200,m="OK"),u&&this.shouldThrowOnError)throw new SU.default(u)}return{error:u,data:d,count:f,status:g,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,A,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(A=i==null?void 0:i.stack)!==null&&A!==void 0?A:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Np.default=jU;var FU=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_p,"__esModule",{value:!0});const EU=FU(Np);let UU=class extends EU.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",A=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${A?`${A},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var A;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(A=this.headers.get("Accept"))!==null&&A!==void 0?A:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};_p.default=UU;var kU=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pd,"__esModule",{value:!0});const QU=kU(_p);let LU=class extends QU.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Pd.default=LU;var IU=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cp,"__esModule",{value:!0});const Yc=IU(Pd);let PU=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,r){const{head:n=!1,count:s}=r??{},i=n?"HEAD":"GET";let a=!1;const A=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",A),s&&this.headers.append("Prefer",`count=${s}`),new Yc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((A,l)=>A.concat(Object.keys(l)),[]);if(a.length>0){const A=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",A.join(","))}}return new Yc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const A="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Yc.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Yc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Yc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Cp.default=PU;var A4=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ly,"__esModule",{value:!0});const TU=A4(Cp),DU=A4(Pd);let OU=class l4{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new TU.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new l4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let A;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(A=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(A="POST",c=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new DU.default({method:A,url:l,headers:u,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};ly.default=OU;var uc=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.PostgrestError=Kn.PostgrestBuilder=Kn.PostgrestTransformBuilder=Kn.PostgrestFilterBuilder=Kn.PostgrestQueryBuilder=Kn.PostgrestClient=void 0;const c4=uc(ly);Kn.PostgrestClient=c4.default;const u4=uc(Cp);Kn.PostgrestQueryBuilder=u4.default;const d4=uc(Pd);Kn.PostgrestFilterBuilder=d4.default;const h4=uc(_p);Kn.PostgrestTransformBuilder=h4.default;const f4=uc(Np);Kn.PostgrestBuilder=f4.default;const g4=uc(Sp);Kn.PostgrestError=g4.default;var HU=Kn.default={PostgrestClient:c4.default,PostgrestQueryBuilder:u4.default,PostgrestFilterBuilder:d4.default,PostgrestTransformBuilder:h4.default,PostgrestBuilder:f4.default,PostgrestError:g4.default};const{PostgrestClient:MU,PostgrestQueryBuilder:SR,PostgrestFilterBuilder:jR,PostgrestTransformBuilder:FR,PostgrestBuilder:ER,PostgrestError:UR}=HU;class RU{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const KU="2.75.0",VU=`realtime-js/${KU}`,zU="1.0.0",cv=1e4,$U=1e3,qU=100;var Lu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Lu||(Lu={}));var Kr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Kr||(Kr={}));var Xs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xs||(Xs={}));var uv;(function(t){t.websocket="websocket"})(uv||(uv={}));var Go;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Go||(Go={}));class GU{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const A=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:A,event:l,payload:c}}}class p4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ir;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ir||(ir={}));const Sb=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=WU(a,t,e,s),i),{}):{}},WU=(t,e,r,n)=>{const s=e.find(A=>A.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?m4(i,a):dv(a)},m4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ZU(e,r)}switch(t){case ir.bool:return JU(e);case ir.float4:case ir.float8:case ir.int2:case ir.int4:case ir.int8:case ir.numeric:case ir.oid:return XU(e);case ir.json:case ir.jsonb:return YU(e);case ir.timestamp:return ek(e);case ir.abstime:case ir.date:case ir.daterange:case ir.int4range:case ir.int8range:case ir.money:case ir.reltime:case ir.text:case ir.time:case ir.timestamptz:case ir.timetz:case ir.tsrange:case ir.tstzrange:return dv(e);default:return dv(e)}},dv=t=>t,JU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},XU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},YU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ZU=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(A=>m4(e,A))}return t},ek=t=>typeof t=="string"?t.replace(" ","T"):t,x4=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class um{constructor(e,r,n={},s=cv){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jb||(jb={}));class Iu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Iu.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Iu.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],A()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Iu.syncDiff(this.state,s,i,a),A())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),A={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const f=u.map(B=>B.presence_ref),g=d.map(B=>B.presence_ref),m=u.filter(B=>g.indexOf(B.presence_ref)<0),w=d.filter(B=>f.indexOf(B.presence_ref)<0);m.length>0&&(A[c]=m),w.length>0&&(l[c]=w)}else A[c]=u}),this.syncDiff(i,{joins:A,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(A,l)=>{var c;const u=(c=e[A])!==null&&c!==void 0?c:[];if(e[A]=this.cloneDeep(l),u.length>0){const d=e[A].map(g=>g.presence_ref),f=u.filter(g=>d.indexOf(g.presence_ref)<0);e[A].unshift(...f)}n(A,u,l)}),this.map(a,(A,l)=>{let c=e[A];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[A]=c,s(A,c,l),c.length===0&&delete e[A]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fb||(Fb={}));var Pu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pu||(Pu={}));var Wi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wi||(Wi={}));class cy{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new um(this,Xs.join,this.params,this.timeout),this.rejoinTimer=new p4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xs.reply,{},(a,A)=>{this._trigger(this._replyEventName(A),a)}),this.presence=new Iu(this),this.broadcastEndpointURL=x4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){const{config:{broadcast:a,presence:A,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Pu.PRESENCE]&&this.bindings[Pu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},A),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Wi.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Wi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket.setAuth(),g===void 0){e==null||e(Wi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,B=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,x=[];for(let y=0;y<B;y++){const C=w[y],{filter:{event:S,schema:k,table:O,filter:I}}=C,j=g&&g[y];if(j&&j.event===S&&j.schema===k&&j.table===O&&j.filter===I)x.push(Object.assign(Object.assign({},C),{id:j.id}));else{this.unsubscribe(),this.state=Kr.errored,e==null||e(Wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Wi.SUBSCRIBED);return}}).receive("error",g=>{this.state=Kr.errored,e==null||e(Wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Kr.joined&&e===Pu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,A,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(A=(a=this.params)===null||a===void 0?void 0:a.config)===null||A===void 0?void 0:A.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new um(this,Xs.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new um(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:A,error:l,leave:c,join:u}=Xs;if(n&&[A,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var m,w,B;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((B=(w=g.filter)===null||w===void 0?void 0:w.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===a}).map(g=>g.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var m,w,B,x,y,C;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const S=g.id,k=(m=g.filter)===null||m===void 0?void 0:m.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((B=r.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const S=(y=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((C=r==null?void 0:r.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:w,table:B,commit_timestamp:x,type:y,errors:C}=m;f=Object.assign(Object.assign({},{schema:w,table:B,commit_timestamp:x,eventType:y,new:{},old:{},errors:C}),this._getPayloadRecords(m))}g.callback(f,n)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cy.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xs.close,{},e)}_onError(e){this._on(Xs.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Sb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Sb(e.columns,e.old_record)),r}}const dm=()=>{},Gh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tk=[1e3,2e3,5e3,1e4],rk=1e4,nk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sk{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cv,this.transport=null,this.heartbeatIntervalMs=Gh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dm,this.ref=0,this.reconnectTimer=null,this.logger=dm,this.conn=null,this.sendBuffer=[],this.serializer=new GU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Ss(async()=>{const{default:A}=await Promise.resolve().then(()=>cc);return{default:A}},void 0).then(({default:A})=>A(...a)).catch(A=>{throw new Error(`Failed to load @supabase/node-fetch: ${A.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${uv.websocket}`,this.httpEndpoint=x4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zU}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Lu.connecting:return Go.Connecting;case Lu.open:return Go.Open;case Lu.closing:return Go.Closing;default:return Go.Closed}}isConnected(){return this.connectionState()===Go.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new cy(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,A=>{var l;(l=this.conn)===null||l===void 0||l.send(A)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($U,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,A=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${A}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xs.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([nk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:VU};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Xs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new p4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,A,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:cv,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Gh.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(A=e==null?void 0:e.heartbeatCallback)!==null&&A!==void 0?A:dm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>tk[d-1]||rk,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class uy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Or(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ik extends uy{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hv extends uy{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var ak=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};const v4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>cc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ok=()=>ak(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>cc),void 0)).Response:Response}),fv=t=>{if(Array.isArray(t))return t.map(r=>fv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fv(n)}),e},Ak=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var BA=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};const hm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lk=(t,e,r)=>BA(void 0,void 0,void 0,function*(){const n=yield ok();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new ik(hm(s),i,a))}).catch(s=>{e(new hv(hm(s),s))}):e(new hv(hm(t),t))}),ck=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Ak(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Td(t,e,r,n,s,i){return BA(this,void 0,void 0,function*(){return new Promise((a,A)=>{t(r,ck(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>lk(l,A,n))})})}function Ig(t,e,r,n){return BA(this,void 0,void 0,function*(){return Td(t,"GET",e,r,n)})}function wi(t,e,r,n,s){return BA(this,void 0,void 0,function*(){return Td(t,"POST",e,n,s,r)})}function gv(t,e,r,n,s){return BA(this,void 0,void 0,function*(){return Td(t,"PUT",e,n,s,r)})}function uk(t,e,r,n){return BA(this,void 0,void 0,function*(){return Td(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function w4(t,e,r,n,s){return BA(this,void 0,void 0,function*(){return Td(t,"DELETE",e,n,s,r)})}var dk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class hk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return dk(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}})}}var fk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class gk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new hk(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return fk(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}})}}var On=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};const pk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mk{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=v4(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return On(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Eb),s);let A=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,A["cache-control"]=`max-age=${a.cacheControl}`,A["content-type"]=a.contentType,l&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(A=Object.assign(Object.assign({},A),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(e=="PUT"?gv:wi)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:A},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Or(i))return{data:null,error:i};throw i}})}upload(e,r,n){return On(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return On(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),A=new URL(this.url+`/object/upload/sign/${a}`);A.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Eb.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield gv(this.fetch,A.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Or(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return On(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),A=a.searchParams.get("token");if(!A)throw new uy("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:A},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}update(e,r,n){return On(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return On(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Or(s))return{data:null,error:s};throw s}})}copy(e,r,n){return On(this,void 0,void 0,function*(){try{return{data:{path:(yield wi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Or(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return On(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield wi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Or(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return On(this,void 0,void 0,function*(){try{const s=yield wi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Or(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",A=this._getFinalPath(e),l=()=>Ig(this.fetch,`${this.url}/${s}/${A}${a}`,{headers:this.headers,noResolveJson:!0});return new gk(l,this.shouldThrowOnError)}info(e){return On(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ig(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}exists(e){return On(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield uk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n)&&n instanceof hv){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const A=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${n}${c}`)}}}remove(e){return On(this,void 0,void 0,function*(){try{return{data:yield w4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}list(e,r,n){return On(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pk),r),{prefix:e||""});return{data:yield wi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Or(s))return{data:null,error:s};throw s}})}listV2(e,r){return On(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield wi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const xk="2.75.0",vk={"X-Client-Info":`storage-js/${xk}`};var tl=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class wk{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vk),r),this.fetch=v4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return tl(this,void 0,void 0,function*(){try{return{data:yield Ig(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}})}getBucket(e){return tl(this,void 0,void 0,function*(){try{return{data:yield Ig(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}createBucket(e){return tl(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Or(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return tl(this,void 0,void 0,function*(){try{return{data:yield gv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}emptyBucket(e){return tl(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}deleteBucket(e){return tl(this,void 0,void 0,function*(){try{return{data:yield w4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}}class yk extends wk{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new mk(this.url,this.headers,e,this.fetch)}}const bk="2.75.0";let fu="";typeof Deno<"u"?fu="deno":typeof document<"u"?fu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fu="react-native":fu="node";const Bk={"X-Client-Info":`supabase-js-${fu}/${bk}`},Ck={headers:Bk},_k={schema:"public"},Nk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sk={};var jk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};const Fk=t=>{let e;return t?e=t:typeof fetch>"u"?e=i4:e=fetch,(...r)=>e(...r)},Ek=()=>typeof Headers>"u"?a4:Headers,Uk=(t,e,r)=>{const n=Fk(r),s=Ek();return(i,a)=>jk(void 0,void 0,void 0,function*(){var A;const l=(A=yield e())!==null&&A!==void 0?A:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var kk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};function Qk(t){return t.endsWith("/")?t:t+"/"}function Lk(t,e){var r,n;const{db:s,auth:i,realtime:a,global:A}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),A),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=A==null?void 0:A.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>kk(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Ik(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const y4="2.75.0",ml=30*1e3,pv=3,fm=pv*ml,Pk="http://localhost:9999",Tk="supabase.auth.token",Dk={"X-Client-Info":`gotrue-js/${y4}`},mv="X-Supabase-Api-Version",b4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ok=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hk=10*60*1e3;class pd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function gt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Mk extends pd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Rk(t){return gt(t)&&t.name==="AuthApiError"}class Wo extends pd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Co extends pd{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ua extends Co{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kk(t){return gt(t)&&t.name==="AuthSessionMissingError"}class rl extends Co{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wh extends Co{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jh extends Co{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vk(t){return gt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ub extends Co{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xv extends Co{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function gm(t){return gt(t)&&t.name==="AuthRetryableFetchError"}class kb extends Co{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vv extends Co{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qb=` 	
\r=`.split(""),zk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qb.length;e+=1)t[Qb[e].charCodeAt(0)]=-2;for(let e=0;e<Pg.length;e+=1)t[Pg[e].charCodeAt(0)]=e;return t})();function Lb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pg[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pg[n]),e.queuedBits-=6}}function B4(t,e,r){const n=zk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ib(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Gk(a,n,r)};for(let a=0;a<t.length;a+=1)B4(t.charCodeAt(a),s,i);return e.join("")}function $k(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function qk(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$k(n,e)}}function Gk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Rl(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)B4(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Wk(t){const e=[];return qk(t,r=>e.push(r)),new Uint8Array(e)}function eA(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Lb(s,r,n)),Lb(null,r,n),e.join("")}function Jk(t){return Math.round(Date.now()/1e3)+t}function Xk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ns=()=>typeof window<"u"&&typeof document<"u",Po={tested:!1,writable:!1},C4=()=>{if(!ns())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Po.tested)return Po.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Po.tested=!0,Po.writable=!0}catch{Po.tested=!0,Po.writable=!1}return Po.writable};function Yk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const _4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>cc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Zk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},To=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ca=async(t,e)=>{await t.removeItem(e)};class jp{constructor(){this.promise=new jp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}jp.promiseConstructor=Promise;function pm(t){const e=t.split(".");if(e.length!==3)throw new vv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ok.test(e[n]))throw new vv("JWT not in base64url format");return{header:JSON.parse(Ib(e[0])),payload:JSON.parse(Ib(e[1])),signature:Rl(e[2]),raw:{header:e[0],payload:e[1]}}}async function eQ(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tQ(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function rQ(t){return("0"+t.toString(16)).substr(-2)}function nQ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,rQ).join("")}async function sQ(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iQ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await sQ(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nl(t,e,r=!1){const n=nQ();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await xl(t,`${e}-code-verifier`,s);const i=await iQ(n);return[i,n===i?"plain":"s256"]}const aQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oQ(t){const e=t.headers.get(mv);if(!e||!e.match(aQ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AQ(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lQ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sl(t){if(!cQ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pb(t){return JSON.parse(JSON.stringify(t))}var uQ=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dQ=[502,503,504];async function Tb(t){var e;if(!Zk(t))throw new xv(Vo(t),0);if(dQ.includes(t.status))throw new xv(Vo(t),t.status);let r;try{r=await t.json()}catch(i){throw new Wo(Vo(i),i)}let n;const s=oQ(t);if(s&&s.getTime()>=b4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kb(Vo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ua}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new kb(Vo(r),t.status,r.weak_password.reasons);throw new Mk(Vo(r),t.status||500,n)}const hQ=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function St(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[mv]||(i[mv]=b4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const A=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await fQ(t,e,r+A,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function fQ(t,e,r,n,s,i){const a=hQ(e,n,s,i);let A;try{A=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new xv(Vo(l),0)}if(A.ok||await Tb(A),n!=null&&n.noResolveJson)return A;try{return await A.json()}catch(l){await Tb(l)}}function $s(t){var e;let r=null;mQ(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Jk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Db(t){const e=$s(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Oa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gQ(t){return{data:t,error:null}}function pQ(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=uQ(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:A,user:l},error:null}}function Ob(t){return t}function mQ(t){return t.access_token&&t.refresh_token&&t.expires_in}const xm=["global","local","others"];var xQ=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class vQ{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=_4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=xm[0]){if(xm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xm.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Oa})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=xQ(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pQ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(gt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oa})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ob});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(m.split(";")[1].split("=")[1]);c[`${B}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(gt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){sl(e);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oa})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){sl(e);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Oa})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){sl(e);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Oa})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){sl(e.userId);try{const{data:r,error:n}=await St(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){sl(e.userId),sl(e.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ob});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(m.split(";")[1].split("=")[1]);c[`${B}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(gt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}}function Hb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const il={debug:!!(globalThis&&C4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class N4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wQ extends N4{}async function yQ(t,e,r){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),il.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{il.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw il.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wQ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(il.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function bQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function S4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function BQ(t){return parseInt(t,16)}function CQ(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function _Q(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:A,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=S4(t.address),m=u?`${u}://${n}`:n,w=t.statement?`${t.statement}
`:"",B=`${m} wants you to sign in with your Ethereum account:
${g}

${w}`;let x=`URI: ${d}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),A&&(x+=`
Not Before: ${A.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const C of c){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);y+=`
- ${C}`}x+=y}return`${B}
${x}`}class Dr extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Tg extends Dr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function NQ({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Dr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Dr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Dr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Dr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Dr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new Dr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Dr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(F4(a)){if(i.rp.id!==a)return new Dr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Dr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Dr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function SQ({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Dr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(F4(n)){if(r.rpId!==n)return new Dr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Dr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var j4=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class jQ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const FQ=new jQ;function EQ(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=j4(t,["challenge","user","excludeCredentials"]),i=Rl(e).buffer,a=Object.assign(Object.assign({},r),{id:Rl(r.id).buffer}),A=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){A.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];A.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Rl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return A}function UQ(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=j4(t,["challenge","allowCredentials"]),s=Rl(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const A=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},A),{id:Rl(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return i}function kQ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:eA(new Uint8Array(t.response.attestationObject)),clientDataJSON:eA(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QQ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:eA(new Uint8Array(s.authenticatorData)),clientDataJSON:eA(new Uint8Array(s.clientDataJSON)),signature:eA(new Uint8Array(s.signature)),userHandle:s.userHandle?eA(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function F4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Mb(){var t,e;return!!(ns()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LQ(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tg("Browser returned unexpected credential type",e)}:{data:null,error:new Tg("Empty credential response",e)}}catch(e){return{data:null,error:NQ({error:e,options:t})}}}async function IQ(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tg("Browser returned unexpected credential type",e)}:{data:null,error:new Tg("Empty credential response",e)}}catch(e){return{data:null,error:SQ({error:e,options:t})}}}const PQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},TQ={userVerification:"preferred",hints:["security-key"]};function Dg(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const A=n[i];e(A)?n[i]=Dg(A,a):n[i]=Dg(a)}else n[i]=a}return n}function DQ(t,e){return Dg(PQ,t,e||{})}function OQ(t,e){return Dg(TQ,t,e||{})}class HQ{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:A}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:A};const l=s??FQ.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=DQ(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await LQ({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=OQ(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await IQ(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(a){return gt(a)?{data:null,error:a}:{data:null,error:new Wo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new pd("rpId is required for WebAuthn authentication")};try{if(!Mb())return{data:null,error:new Wo("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:A};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return gt(a)?{data:null,error:a}:{data:null,error:new Wo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new pd("rpId is required for WebAuthn registration")};try{if(!Mb())return{data:null,error:new Wo("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:A};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return gt(a)?{data:null,error:a}:{data:null,error:new Wo("Unexpected error in register",a)}}}}bQ();const MQ={url:Pk,storageKey:Tk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rb(t,e,r){return await r()}const al={};class md{get jwks(){var e,r;return(r=(e=al[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){al[this.storageKey]=Object.assign(Object.assign({},al[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=al[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){al[this.storageKey]=Object.assign(Object.assign({},al[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=md.nextInstanceID,md.nextInstanceID+=1,this.instanceID>0&&ns()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},MQ),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vQ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_4(s.fetch),this.lock=s.lock||Rb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ns()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yQ:this.lock=Rb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HQ(this)},this.persistSession?(s.storage?this.storage=s.storage:C4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hb(this.memoryStorage)),ns()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${y4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Yk(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ns()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Vk(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:A}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",A),await this._saveSession(a),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return gt(r)?{error:r}:{error:new Wo("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$s}),{data:a,error:A}=i;if(A||!a)return{data:{user:null,session:null},error:A};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(gt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await nl(this.storage,this.storageKey)),i=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:m},xform:$s})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$s})}else throw new Wh("You must provide either an email or phone number and a password");const{data:a,error:A}=i;if(A||!a)return{data:{user:null,session:null},error:A};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(gt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:A}=e;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Db})}else if("phone"in e){const{phone:i,password:a,options:A}=e;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Db})}else throw new Wh("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,A,l,c,u,d,f;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:w,wallet:B,statement:x,options:y}=e;let C;if(ns())if(typeof B=="object")C=B;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")C=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=B}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),k=await C.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=S4(k[0]);let I=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!I){const R=await C.request({method:"eth_chainId"});I=BQ(R)}const j={domain:S.host,address:O,statement:x,uri:S.href,version:"1",chainId:I,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(A=y==null?void 0:y.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=_Q(j),m=await C.request({method:"personal_sign",params:[CQ(g),O]})}try{const{data:w,error:B}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:$s});if(B)throw B;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new rl}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:B})}catch(w){if(gt(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var r,n,s,i,a,A,l,c,u,d,f,g;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:B,wallet:x,statement:y,options:C}=e;let S;if(ns())if(typeof x=="object")S=x;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))S=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const k=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const O=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let I;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")I=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)I=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)m=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=C==null?void 0:C.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=C==null?void 0:C.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((A=C==null?void 0:C.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((d=(u=C==null?void 0:C.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...C.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const O=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=O}}try{const{data:B,error:x}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:eA(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:$s});if(x)throw x;return!B||!B.session||!B.user?{data:{user:null,session:null},error:new rl}:(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),{data:Object.assign({},B),error:x})}catch(B){if(gt(B))return{data:{user:null,session:null},error:B};throw B}}async _exchangeCodeForSession(e){const r=await To(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$s});if(await Ca(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(gt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,A=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$s}),{data:l,error:c}=A;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:A,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await nl(this.storage,this.storageKey));const{error:d}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:A,options:l}=e,{data:c,error:u}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Wh("You must provide either an email or phone number.")}catch(A){if(gt(A))return{data:{user:null,session:null},error:A};throw A}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:A}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$s});if(A)throw A;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(gt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await nl(this.storage,this.storageKey)),await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:gQ})}catch(i){if(gt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ua;const{error:s}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(gt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await St(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:A}=await St(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:A}}throw new Wh("You must provide either an email or phone number and a type")}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await To(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<fm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await To(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=mm()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oa}):await this._useSession(async r=>{var n,s,i;const{data:a,error:A}=r;if(A)throw A;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ua}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Oa})})}catch(r){if(gt(r))return Kk(r)&&(await this._removeSession(),await Ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ua;const a=s.session;let A=null,l=null;this.flowType==="pkce"&&e.email!=null&&([A,l]=await nl(this.storage,this.storageKey));const{data:c,error:u}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:A,code_challenge_method:l}),jwt:a.access_token,xform:Oa});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ua;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=pm(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:A,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!A)return{data:{user:null,session:null},error:null};i=A}else{const{data:A,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:A.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(gt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:A}=r;if(A)throw A;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ua;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ns())throw new Jh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ub("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ub("No code detected.");const{data:y,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:A,expires_at:l,token_type:c}=e;if(!i||!A||!a||!c)throw new Jh("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(A);let f=u+d;l&&(f=parseInt(l));const g=f-u;g*1e3<=ml&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:w,error:B}=await this._getUser(i);if(B)throw B;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(gt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await To(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:A}=await this.admin.signOut(a,e);if(A&&!(Rk(A)&&(A.status===404||A.status===401||A.status===403)))return{error:A}}return e!=="others"&&(await this._removeSession(),await Ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Xk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await nl(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(gt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,A,l,c,u;const{data:d,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(A=e.options)===null||A===void 0?void 0:A.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ns()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(gt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:A,token:l,access_token:c,nonce:u}=e,d=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:A,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$s}),{data:f,error:g}=d;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new rl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(s){if(gt(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tQ(async s=>(s>0&&await eQ(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$s})),(s,i)=>{const a=200*Math.pow(2,s);return i&&gm(i)&&Date.now()+a-n<ml})}catch(n){if(this._debug(r,"error",n),gt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ns()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await To(this.storage,this.storageKey);if(s&&this.userStorage){let a=await To(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await xl(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:mm()}else if(s&&!s.user&&!s.user){const a=await To(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ca(this.storage,this.storageKey+"-user"),await xl(this.storage,this.storageKey,s)):s.user=mm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),gm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:A}=await this._getUser(s.access_token);!A&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ua;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jp;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ua;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const A={data:i.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(i){if(this._debug(s,"error",i),gt(i)){const a={data:null,error:i};return gm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let A=0;A<i.length;A+=1)console.error(i[A]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await xl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Pb(s);await xl(this.storage,this.storageKey,i)}else{const s=Pb(r);await xl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ca(this.storage,this.storageKey),await Ca(this.storage,this.storageKey+"-code-verifier"),await Ca(this.storage,this.storageKey+"-user"),this.userStorage&&await Ca(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ns()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ml);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ml);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ml}ms, refresh threshold is ${pv} ticks`),s<=pv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof N4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ns()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await nl(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(A.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await St(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const A=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await St(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kQ(e.webauthn.credential_response):QQ(e.webauthn.credential_response)})}:{code:e.code}),{data:A,error:l}=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),{data:A,error:l})})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:A}=a;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:EQ(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:UQ(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=pm(s.access_token);let A=null;a.aal&&(A=a.aal);let l=A;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:A,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(A=>A.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(A=>A.kid===e),n&&this.jwks_cached_at+Hk>s)return n;const{data:i,error:a}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(A=>A.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:A,payload:l}}=pm(n);r!=null&&r.allowExpired||AQ(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const u=lQ(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,Wk(`${A}.${l}`)))throw new vv("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}}md.nextInstanceID=0;const RQ=md;class KQ extends RQ{constructor(e){super(e)}}var VQ=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})};class zQ{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const A=Ik(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const l=`sb-${A.hostname.split(".")[0]}-auth-token`,c={db:_k,realtime:Sk,auth:Object.assign(Object.assign({},Nk),{storageKey:l}),global:Ck},u=Lk(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=Uk(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new MU(new URL("rest/v1",A).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new yk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new vU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return VQ(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:A,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:A,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $Q=(t,e,r)=>new zQ(t,e,r);function qQ(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}qQ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wv="https://blgvfnhpnieqzcyfgtnn.supabase.co",E4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJsZ3ZmbmhwbmllcXpjeWZndG5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1MTI3OTMsImV4cCI6MjA3NjA4ODc5M30.O5HIskUBqArBQNPMeQ8inEu6RzSAzCVaGo0pkCQ4xu4";if(!wv.startsWith("https://")||!wv.includes(".supabase.co"))throw new Error("Missing or invalid VITE_SUPABASE_URL. Set it to your project URL, e.g. https://YOUR_PROJECT.supabase.co");if(E4.length<20)throw new Error("Missing or invalid VITE_SUPABASE_ANON_KEY. Copy the anon public key from your Supabase project settings.");const He=$Q(wv,E4);function U4({onClose:t}){const[e,r]=T.useState([]),[n,s]=T.useState(!0),[i,a]=T.useState(!1),A=m=>{const w=new Date,B=new Date(m);B.getFullYear()!==w.getFullYear()&&(B.setFullYear(w.getFullYear()),B<w&&B.setFullYear(w.getFullYear()+1));const x=B.getTime()-w.getTime();return Math.ceil(x/(1e3*60*60*24))},l=m=>{const w=[],B=new Date;return m.forEach(x=>{if(x.birthdate){const y=A(x.birthdate);y>=0&&y<=30&&w.push({id:`birthday-${x.id}`,type:"birthday",employee:x,date:x.birthdate,daysUntil:y,message:y===0?` Today is ${x.name}'s birthday!`:y===1?` ${x.name}'s birthday is tomorrow`:` ${x.name}'s birthday is in ${y} days`})}if(x.employment_status==="probationary"&&x.date_hired){const y=new Date(x.date_hired),C=new Date(y);C.setMonth(C.getMonth()+6);const S=Math.ceil((C.getTime()-B.getTime())/(1e3*60*60*24));S>=0&&S<=30&&w.push({id:`regularization-${x.id}`,type:"regularization",employee:x,date:C.toISOString().split("T")[0],daysUntil:S,message:S===0?` ${x.name} is eligible for regularization today!`:S===1?` ${x.name} is eligible for regularization tomorrow`:` ${x.name} is eligible for regularization in ${S} days`})}if(x.date_hired){const y=new Date(x.date_hired),C=new Date(B.getFullYear(),y.getMonth(),y.getDate());C<B&&C.setFullYear(B.getFullYear()+1);const S=Math.ceil((C.getTime()-B.getTime())/(1e3*60*60*24)),k=B.getFullYear()-y.getFullYear();if(k>=1&&S>=0&&S<=30){const O=k+(C.getFullYear()>B.getFullYear()?0:1);w.push({id:`anniversary-${x.id}`,type:"anniversary",employee:x,date:C.toISOString().split("T")[0],daysUntil:S,message:S===0?` Today is ${x.name}'s ${O} year work anniversary!`:S===1?` ${x.name}'s ${O} year work anniversary is tomorrow`:` ${x.name}'s ${O} year work anniversary is in ${S} days`})}}}),w.sort((x,y)=>x.daysUntil-y.daysUntil)},c=async()=>{s(!0);try{const{data:m,error:w}=await He.from("employees").select("*").order("name");if(w)throw w;const B=l(m||[]);r(B)}catch(m){console.error("Error fetching notifications:",m)}finally{s(!1)}};T.useEffect(()=>{c()},[]);const u=e.filter(m=>m.daysUntil<=7),d=e.filter(m=>m.daysUntil>7),f=(m,w)=>{if(w===0)return"bg-red-50 border-red-200 text-red-800";if(w<=3)return"bg-orange-50 border-orange-200 text-orange-800";if(w<=7)return"bg-yellow-50 border-yellow-200 text-yellow-800";switch(m){case"birthday":return"bg-pink-50 border-pink-200 text-pink-800";case"regularization":return"bg-blue-50 border-blue-200 text-blue-800";case"anniversary":return"bg-purple-50 border-purple-200 text-purple-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},g=m=>{const w=new Date(m);return w.toLocaleDateString("en-US",{month:"short",day:"numeric",year:w.getFullYear()!==new Date().getFullYear()?"numeric":void 0})};return n?o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-3"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 bg-slate-200 rounded"}),o.jsx("div",{className:"h-3 bg-slate-200 rounded w-5/6"})]})]})}):e.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:" Notifications"}),t&&o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:""})]}),o.jsx("p",{className:"text-sm text-slate-600",children:"No upcoming birthdays, regularizations, or anniversaries."})]}):o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-900",children:[" Notifications (",e.length,")"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>a(!i),className:"text-sm text-blue-600 hover:text-blue-800",children:i?"Show Less":"Show All"}),t&&o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:""})]})]}),o.jsxs("div",{className:"space-y-3",children:[u.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:" Urgent (Within 7 days)"}),o.jsx("div",{className:"space-y-2",children:u.map(m=>o.jsx("div",{className:`p-3 rounded-lg border ${f(m.type,m.daysUntil)}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:m.message}),o.jsxs("p",{className:"text-xs mt-1 opacity-75",children:[m.employee.position&&`${m.employee.position}  `,g(m.date)]})]}),o.jsx("span",{className:"text-xs font-medium ml-2",children:m.daysUntil===0?"Today":`${m.daysUntil}d`})]})},m.id))})]}),i&&d.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:" Upcoming (8-30 days)"}),o.jsx("div",{className:"space-y-2",children:d.map(m=>o.jsx("div",{className:`p-3 rounded-lg border ${f(m.type,m.daysUntil)}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:m.message}),o.jsxs("p",{className:"text-xs mt-1 opacity-75",children:[m.employee.position&&`${m.employee.position}  `,g(m.date)]})]}),o.jsxs("span",{className:"text-xs font-medium ml-2",children:[m.daysUntil,"d"]})]})},m.id))})]}),!i&&d.length>0&&o.jsxs("p",{className:"text-xs text-slate-500 text-center",children:["+",d.length," more upcoming notifications"]})]})]})}function Kb(){const[t,e]=T.useState([]),[r,n]=T.useState(!1),[s,i]=T.useState(!0),a=d=>{const f=new Date,g=new Date(d);g.getFullYear()!==f.getFullYear()&&(g.setFullYear(f.getFullYear()),g<f&&g.setFullYear(f.getFullYear()+1));const m=g.getTime()-f.getTime();return Math.ceil(m/(1e3*60*60*24))},A=d=>{const f=[],g=new Date;return d.forEach(m=>{if(m.birthdate){const w=a(m.birthdate);w>=0&&w<=30&&f.push({id:`birthday-${m.id}`,type:"birthday",employee:m,date:m.birthdate,daysUntil:w,message:w===0?` Today is ${m.name}'s birthday!`:w===1?` ${m.name}'s birthday is tomorrow`:` ${m.name}'s birthday is in ${w} days`})}if(m.employment_status==="probationary"&&m.date_hired){const w=new Date(m.date_hired),B=new Date(w);B.setMonth(B.getMonth()+6);const x=Math.ceil((B.getTime()-g.getTime())/(1e3*60*60*24));x>=0&&x<=30&&f.push({id:`regularization-${m.id}`,type:"regularization",employee:m,date:B.toISOString().split("T")[0],daysUntil:x,message:x===0?` ${m.name} is eligible for regularization today!`:x===1?` ${m.name} is eligible for regularization tomorrow`:` ${m.name} is eligible for regularization in ${x} days`})}if(m.date_hired){const w=new Date(m.date_hired),B=new Date(g.getFullYear(),w.getMonth(),w.getDate());B<g&&B.setFullYear(g.getFullYear()+1);const x=Math.ceil((B.getTime()-g.getTime())/(1e3*60*60*24)),y=g.getFullYear()-w.getFullYear();if(y>=1&&x>=0&&x<=30){const C=y+(B.getFullYear()>g.getFullYear()?0:1);f.push({id:`anniversary-${m.id}`,type:"anniversary",employee:m,date:B.toISOString().split("T")[0],daysUntil:x,message:x===0?` Today is ${m.name}'s ${C} year work anniversary!`:x===1?` ${m.name}'s ${C} year work anniversary is tomorrow`:` ${m.name}'s ${C} year work anniversary is in ${x} days`})}}}),f.sort((m,w)=>m.daysUntil-w.daysUntil)},l=async()=>{i(!0);try{const{data:d,error:f}=await He.from("employees").select("*").order("name");if(f)throw f;const g=A(d||[]);e(g)}catch(d){console.error("Error fetching notifications:",d)}finally{i(!1)}};T.useEffect(()=>{l()},[]);const c=t.filter(d=>d.daysUntil<=7).length,u=t.length>0;return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>n(!r),className:`relative rounded-lg p-2 transition-all ${u?"bg-red-100 text-red-600 hover:bg-red-200":"bg-white text-gray-600 hover:bg-gray-100"} shadow-sm hover:shadow-md`,children:[o.jsxs("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM11 19H6.5A2.5 2.5 0 014 16.5v-9A2.5 2.5 0 016.5 5h11A2.5 2.5 0 0120 7.5v3.5"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7v6l4 4"})]}),u&&o.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white",children:t.length>9?"9+":t.length}),c>0&&o.jsx("span",{className:"absolute -top-1 -left-1 h-3 w-3 rounded-full bg-orange-500 animate-pulse"})]}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),o.jsx("div",{className:"absolute right-0 top-full z-20 mt-2 w-80 max-h-96 overflow-y-auto",children:o.jsx(U4,{onClose:()=>n(!1)})})]})]})}function GQ({transactions:t}){const e=t.reduce((i,a)=>(a.type==="in"&&(i.in+=a.amount),a.type==="out"&&(i.out+=a.amount),a.type==="expense"&&(i.expense+=a.amount),i),{in:0,out:0,expense:0}),r=e.in-(e.out+e.expense),n=i=>i.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),s=(i,a,A,l,c,u)=>o.jsxs("div",{className:`group relative overflow-hidden rounded-xl border bg-white p-6 shadow-sm transition-all hover:shadow-md ${l}`,children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:i}),o.jsxs("div",{className:`mt-3 text-3xl font-bold ${c}`,children:["",n(a)]})]}),o.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${u} transition-transform group-hover:scale-110`,children:A})]}),o.jsx("div",{className:"mt-4 flex items-center gap-1 text-xs text-gray-500",children:o.jsxs("span",{children:[t.filter(d=>i==="Cash In"&&d.type==="in"||i==="Cash Out"&&d.type==="out"||i==="Expenses"&&d.type==="expense").length," transactions"]})})]});return o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s("Cash In",e.in,o.jsx("svg",{className:"h-6 w-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),"border-emerald-100 hover:border-emerald-200","text-emerald-700","bg-emerald-100"),s("Cash Out",e.out,o.jsx("svg",{className:"h-6 w-6 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),"border-amber-100 hover:border-amber-200","text-amber-700","bg-amber-100"),s("Expenses",e.expense,o.jsx("svg",{className:"h-6 w-6 text-rose-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"border-rose-100 hover:border-rose-200","text-rose-700","bg-rose-100"),s("Balance",r,o.jsx("svg",{className:`h-6 w-6 ${r>=0?"text-emerald-600":"text-rose-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r>=0?"border-emerald-200 hover:border-emerald-300":"border-rose-200 hover:border-rose-300",r>=0?"text-emerald-700":"text-rose-700",r>=0?"bg-emerald-100":"bg-rose-100")]})}function WQ({onCreated:t}){const[e,r]=T.useState(()=>new Date().toISOString().slice(0,10)),[n,s]=T.useState("in"),[i,a]=T.useState(""),[A,l]=T.useState(""),[c,u]=T.useState(""),[d,f]=T.useState(null),[g,m]=T.useState(!1),[w,B]=T.useState(null),x=async y=>{y.preventDefault(),B(null);const C=Number(i);if(!C||C<=0){B("Amount must be a positive number");return}m(!0);let S=null;if(d)try{const O=d;if(!""){const{error:j}=await He.storage.from("receipts").list("",{limit:1});if(j){B("Storage bucket 'receipts' not found. Create it in Supabase Storage (Storage  Create bucket  name: receipts)."),m(!1);return}const R=O.name.includes(".")?O.name.split(".").pop():"bin",X=`receipt-${Date.now()}.${R}`,{data:Q,error:F}=await He.storage.from("receipts").upload(X,O,{cacheControl:"3600",upsert:!1,contentType:O.type||"application/octet-stream"});if(F){B(F!=null&&F.message?`Upload failed: ${F.message}`:`Upload failed: ${String(F)}`),m(!1);return}if(!Q||!Q.path){B("Unexpected upload result"),m(!1);return}const{data:K}=He.storage.from("receipts").getPublicUrl(Q.path);S=(K==null?void 0:K.publicUrl)??null}}catch(O){B((O==null?void 0:O.message)||String(O)),m(!1);return}const{error:k}=await He.from("transactions").insert({date:e,type:n,amount:C,category:A||null,note:c||null,receipt_url:S});if(m(!1),k){B(k.message);return}a(""),l(""),u(""),f(null),t()};return o.jsxs("form",{onSubmit:x,className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Add Transaction"}),o.jsx("span",{className:"text-xs text-slate-500",children:"Quick entry"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-5",children:[o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Date"}),o.jsx("input",{type:"date",value:e,onChange:y=>r(y.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Type"}),o.jsxs("select",{value:n,onChange:y=>s(y.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"in",children:"Cash In"}),o.jsx("option",{value:"out",children:"Cash Out"}),o.jsx("option",{value:"expense",children:"Expense"})]})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Amount"}),o.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[o.jsx("span",{className:"inline-flex items-center rounded-l-md border border-r-0 border-slate-300 bg-slate-50 px-3 text-slate-500",children:""}),o.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:i,onChange:y=>a(y.target.value),className:"w-full rounded-r-md border border-slate-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Category"}),o.jsx("input",{type:"text",placeholder:"e.g. Salary, Supplies",value:A,onChange:y=>l(y.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Note"}),o.jsx("input",{type:"text",placeholder:"Optional",value:c,onChange:y=>u(y.target.value),className:"mt-1 w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{className:"sm:col-span-1",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Receipt (photo)"}),o.jsx("input",{type:"file",accept:"image/*",onChange:y=>{var C;return f(((C=y.target.files)==null?void 0:C[0])??null)},className:"mt-1 w-full"})]})]}),w&&o.jsx("p",{className:"mt-3 text-sm text-rose-600",children:w}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{disabled:g,type:"submit",className:"inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-60",children:g?"Saving...":"Add Transaction"})})]})}const JQ=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function XQ({refreshKey:t,onChanged:e}){const[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(null);T.useEffect(()=>{let B=!1;return(async()=>{i(!0),A(null);const{data:y,error:C}=await He.from("transactions").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});B||(C?A(C.message):n(y??[]),i(!1))})(),()=>{B=!0}},[t]);const l=async B=>{if(!confirm("Delete this transaction?"))return;const{error:x}=await He.from("transactions").delete().eq("id",B);x?alert(x.message):e()},[c,u]=T.useState(null),[d,f]=T.useState({date:"",type:"in",amount:"",category:"",note:"",receipt:"",receiptFile:null}),g=B=>{u(B.id),f({date:B.date,type:B.type,amount:B.amount,category:B.category??"",note:B.note??"",receipt:B.receipt_url??"",receiptFile:null})},m=()=>{u(null),f({date:"",type:"in",amount:"",category:"",note:"",receipt:"",receiptFile:null})},w=async()=>{if(!d.amount||Number(d.amount)<=0)return alert("Enter a positive amount");let B;if(d.receiptFile)try{const C=d.receiptFile.name.split(".").pop(),S=`receipt-${Date.now()}.${C}`,{data:k,error:O}=await He.storage.from("receipts").upload(S,d.receiptFile,{cacheControl:"3600",upsert:!1});if(O)throw O;const{data:I}=He.storage.from("receipts").getPublicUrl(k.path);B=I.publicUrl}catch(C){return alert(C.message||String(C))}else d.receipt===""&&(B=null);const x={date:d.date,type:d.type,amount:Number(d.amount),category:d.category||null,note:d.note||null};B!==void 0&&(x.receipt_url=B);const{error:y}=await He.from("transactions").update(x).eq("id",c);if(y)return alert(y.message);m(),e()};return s?o.jsx("div",{className:"mt-4 text-sm text-slate-600",children:"Loading..."}):a?o.jsx("div",{className:"mt-4 text-sm text-rose-600",children:a}):o.jsx("div",{className:"mt-4 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[o.jsx("thead",{className:"bg-slate-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Type"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Amount"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Category"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Note"}),o.jsx("th",{className:"px-4 py-2"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[r.map((B,x)=>o.jsx("tr",{className:x%2===0?"bg-white":"bg-slate-50 hover:bg-slate-100",children:c===B.id?o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("input",{type:"date",value:d.date,onChange:y=>f(C=>({...C,date:y.target.value})),className:"w-full rounded border px-2 py-1"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsxs("select",{value:d.type,onChange:y=>f(C=>({...C,type:y.target.value})),className:"w-full rounded border px-2 py-1",children:[o.jsx("option",{value:"in",children:"in"}),o.jsx("option",{value:"out",children:"out"}),o.jsx("option",{value:"expense",children:"expense"})]})}),o.jsx("td",{className:"px-4 py-2 text-right text-sm",children:o.jsx("input",{type:"number",step:"0.01",value:d.amount,onChange:y=>f(C=>({...C,amount:y.target.value===""?"":Number(y.target.value)})),className:"w-full rounded border px-2 py-1 text-right"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("input",{type:"text",value:d.category,onChange:y=>f(C=>({...C,category:y.target.value})),className:"w-full rounded border px-2 py-1"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsxs("div",{children:[o.jsx("input",{type:"text",value:d.note,onChange:y=>f(C=>({...C,note:y.target.value})),className:"w-full rounded border px-2 py-1"}),o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[d.receipt?o.jsx("img",{src:d.receipt,alt:"receipt",className:"h-12 w-12 rounded object-cover border"}):null,o.jsx("input",{type:"file",accept:"image/*",onChange:y=>f(C=>{var S;return{...C,receiptFile:((S=y.target.files)==null?void 0:S[0])??null}})}),d.receipt&&o.jsx("button",{type:"button",className:"rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>f(y=>({...y,receipt:"",receiptFile:null})),children:"Remove"})]})]})}),o.jsxs("td",{className:"px-4 py-2 text-right flex gap-2",children:[o.jsx("button",{type:"button",className:"rounded bg-blue-600 px-2 py-1 text-white",onClick:w,children:"Save"}),o.jsx("button",{type:"button",className:"rounded bg-gray-400 px-2 py-1 text-white",onClick:m,children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-slate-800",children:JQ(B.date)}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("span",{className:B.type==="in"?"rounded bg-emerald-100 px-2 py-1 text-emerald-800":B.type==="out"?"rounded bg-amber-100 px-2 py-1 text-amber-800":"rounded bg-rose-100 px-2 py-1 text-rose-800",children:B.type})}),o.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-slate-900",children:[""," ",B.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-700",children:B.category??""}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-700",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{children:B.note??""}),B.receipt_url?o.jsx("a",{href:B.receipt_url,target:"_blank",rel:"noreferrer",children:o.jsx("img",{src:B.receipt_url,alt:"receipt",className:"h-8 w-8 rounded object-cover border"})}):null]})}),o.jsxs("td",{className:"px-4 py-2 text-right flex gap-2",children:[o.jsx("button",{type:"button",className:"rounded bg-yellow-500 px-2 py-1 text-white",onClick:()=>g(B),children:"Edit"}),o.jsx("button",{onClick:()=>l(B.id),className:"rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",children:"Delete"})]})]})},B.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-slate-500",children:"No transactions yet."})})]})]})})}const YQ=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function Vb(){const[t,e]=T.useState(0),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(null),[l,c]=T.useState(!1);T.useEffect(()=>{let f=!1;return(async()=>{i(!0),A(null);const{data:m,error:w}=await He.from("transactions").select("*");f||(w?A(w.message):n(m??[]),i(!1))})(),()=>{f=!0}},[t]);const u=()=>e(f=>f+1),d=r.sort((f,g)=>new Date(g.date).getTime()-new Date(f.date).getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700 p-8 text-white shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Welcome Back!"}),o.jsx("p",{className:"mt-2 text-blue-100",children:"Track your finances and manage your business accounting with ease"})]}),o.jsx("div",{className:"hidden md:block",children:o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-blue-100",children:"Today"}),o.jsx("div",{className:"text-2xl font-semibold",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})})]})}),o.jsx(U4,{}),o.jsx("div",{children:s?o.jsx("div",{className:"flex items-center justify-center rounded-xl border border-gray-200 bg-white p-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),o.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Loading your financial summary..."})]})}):a?o.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-red-900",children:"Connection Error"}),o.jsx("p",{className:"mt-1 text-sm text-red-700",children:a}),o.jsx("p",{className:"mt-2 text-xs text-red-600",children:"Please check your Supabase configuration in .env.local"})]})]})}):o.jsx(GQ,{transactions:r})}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("button",{onClick:()=>c(!l),className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-blue-500 hover:bg-blue-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:"Add Transaction"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Record income or expense"})]})]}),o.jsxs(Yf,{to:"/invoice",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-emerald-500 hover:bg-emerald-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-emerald-100 text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:"Create Invoice"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Generate client invoice"})]})]}),o.jsxs(Yf,{to:"/reports",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-purple-500 hover:bg-purple-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600 group-hover:bg-purple-600 group-hover:text-white",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:"View Reports"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Financial insights"})]})]}),o.jsxs(Yf,{to:"/payroll",className:"group flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 bg-white p-5 transition-all hover:border-amber-500 hover:bg-amber-50",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 text-amber-600 group-hover:bg-amber-600 group-hover:text-white",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:"Manage Payroll"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Employee payments"})]})]})]}),l&&o.jsx("div",{className:"animate-fadeIn",children:o.jsx(WQ,{onCreated:()=>{u(),c(!1)}})}),!s&&!a&&d.length>0&&o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[d.length," recent transactions"]})]}),o.jsx("div",{className:"space-y-3",children:d.map(f=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 p-4 hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${f.type==="in"?"bg-emerald-100 text-emerald-600":f.type==="out"?"bg-amber-100 text-amber-600":"bg-rose-100 text-rose-600"}`,children:f.type==="in"?"":""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:f.category||"Uncategorized"}),o.jsxs("div",{className:"text-xs text-gray-500",children:[YQ(f.date)," ",f.note&&` ${f.note}`]})]})]}),o.jsxs("div",{className:`text-lg font-semibold ${f.type==="in"?"text-emerald-600":"text-gray-900"}`,children:[f.type==="in"?"+":"-","",f.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]},f.id))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Transactions"}),o.jsx("button",{onClick:()=>c(!l),className:"text-sm text-blue-600 hover:text-blue-700",children:l?"Hide Form":"Add New"})]}),o.jsx(XQ,{refreshKey:t,onChanged:u})]})]})}function ZQ(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${e}-${r}`}function zb(t){const[e,r]=t.split("-").map(Number),n=new Date(e,r-1,1),s=new Date(e,r,0),i=a=>a.toISOString().slice(0,10);return{first:i(n),last:i(s)}}function eL(){const[t,e]=T.useState(()=>ZQ(new Date)),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState([]),[f,g]=T.useState(!1),[m,w]=T.useState(!1),[B,x]=T.useState("");T.useEffect(()=>{let j=!1;return(async()=>{i(!0),A(null);const{first:X,last:Q}=zb(t),{data:F,error:K}=await He.from("transactions").select("*").gte("date",X).lte("date",Q).order("date",{ascending:!1}).order("created_at",{ascending:!1});j||(K?A(K.message):n(F??[]),i(!1))})(),()=>{j=!0}},[t]);const{credit:y,debit:C,remaining:S}=T.useMemo(()=>{const j=r.reduce((R,X)=>(X.type==="in"?R.credit+=X.amount:R.debit+=X.amount,R),{credit:0,debit:0});return{...j,remaining:j.credit-j.debit}},[r]),k=()=>{if(!B.trim()){A("Please paste some text first");return}c(!0),A(null);try{const j=O(B);j.length===0?A("No transactions found. Please check the format."):(d(j),g(!0),w(!1),x(""))}catch(j){A("Failed to parse text. Please check the format."),console.error(j)}finally{c(!1)}},O=j=>{const R=j.split(`
`).filter(F=>F.trim()),X=[],Q=/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/;for(let F=0;F<R.length;F++){const K=R[F].trim();if(K.match(/^(DATE|DESCRIPTION|DEBIT|CREDIT|TOTAL|CASH ON HAND)/i))continue;const $=K.match(Q);if($){const fe=$[1],re=K.substring($.index+fe.length).trim(),ce=re.match(/[\d,]+\.?\d*/g),W=(ce==null?void 0:ce.map(_=>parseFloat(_.replace(/,/g,""))))||[];let ie=re;if(W.length>0&&ce){const _=re.indexOf(ce[0]);_>0&&(ie=re.substring(0,_).trim())}const de=fe.split(/[\/\-]/);let te="";if(de.length===3){const[_,L,M]=de;te=`${M.length===2?`20${M}`:M}-${_.padStart(2,"0")}-${L.padStart(2,"0")}`}if(te&&ie&&W.length>0){let _=0,L=0;W.length>=2?(_=W[0],L=W[1]):W.length===1&&(L=W[0]),X.push({date:te,description:ie,debit:_,credit:L})}}}return X},I=async()=>{if(u.length!==0){c(!0),A(null);try{const j=u.map(K=>({date:K.date,type:K.credit>0&&K.debit===0?"in":K.debit>0?"expense":"out",amount:K.credit>0&&K.debit===0?K.credit:K.debit,category:"Imported",note:K.description})),{error:R}=await He.from("transactions").insert(j);if(R)throw R;const{first:X,last:Q}=zb(t),{data:F}=await He.from("transactions").select("*").gte("date",X).lte("date",Q).order("date",{ascending:!1}).order("created_at",{ascending:!1});n(F??[]),g(!1),d([])}catch(j){A(j.message||"Failed to import transactions")}finally{c(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Summary"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Credit, debit, and remaining for selected month."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Month"}),o.jsx("input",{type:"month",value:t,onChange:j=>e(j.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Import Data"}),o.jsxs("button",{onClick:()=>w(!m),className:"mt-1 flex items-center gap-2 rounded border bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:[o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Paste Text"]})]})]})]}),l&&o.jsx("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-center text-blue-800",children:"Processing data..."}),m&&o.jsxs("div",{className:"rounded-lg border border-blue-200 bg-white p-6 shadow-sm",children:[o.jsx("h3",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Paste Transaction Data"}),o.jsx("p",{className:"mb-3 text-sm text-gray-600",children:"Copy text from your PDF (Date | Description | Debit | Credit format) and paste below:"}),o.jsx("textarea",{value:B,onChange:j=>x(j.target.value),placeholder:`Example:
01/15/2024 Cash on hand 5000.00
01/16/2024 Payroll 2000.00 1500.00`,className:"mb-3 h-48 w-full rounded border p-3 font-mono text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{w(!1),x("")},className:"rounded border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:k,disabled:l||!B.trim(),className:"rounded bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700 disabled:opacity-50",children:"Parse Data"})]})]}),f&&u.length>0&&o.jsxs("div",{className:"rounded-lg border border-green-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Preview Imported Data (",u.length," transactions)"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{g(!1),d([])},className:"rounded border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:I,disabled:l,className:"rounded bg-green-600 px-4 py-2 text-sm text-white hover:bg-green-700 disabled:opacity-50",children:"Import All"})]})]}),o.jsx("div",{className:"max-h-96 overflow-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-600",children:"Description"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase text-gray-600",children:"Debit"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase text-gray-600",children:"Credit"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map((j,R)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:j.date}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:j.description}),o.jsx("td",{className:"px-4 py-2 text-right text-sm text-gray-900",children:j.debit>0?` ${j.debit.toLocaleString(void 0,{maximumFractionDigits:2})}`:"-"}),o.jsx("td",{className:"px-4 py-2 text-right text-sm text-gray-900",children:j.credit>0?` ${j.credit.toLocaleString(void 0,{maximumFractionDigits:2})}`:"-"})]},R))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Credit (Cash In)"}),o.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",y.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Debit (Cash Out + Expenses)"}),o.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",C.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),o.jsxs("div",{className:`rounded-lg border p-4 shadow-sm ${S>=0?"border-green-200 bg-white":"border-red-200 bg-white"}`,children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Remaining"}),o.jsxs("div",{className:"mt-2 text-2xl font-semibold",children:[" ",S.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Type"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Category"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Note"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-600",children:"Loading..."})}),a&&!s&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-red-600",children:a})}),!s&&!a&&r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No transactions for this month."})}),!s&&!a&&r.map(j=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:j.date}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("span",{className:j.type==="in"?"rounded bg-green-100 px-2 py-1 text-green-800":j.type==="out"?"rounded bg-yellow-100 px-2 py-1 text-yellow-800":"rounded bg-red-100 px-2 py-1 text-red-800",children:j.type})}),o.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:[" ",j.amount.toLocaleString(void 0,{maximumFractionDigits:2})]}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:j.category??""}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:j.note??""})]},j.id))]})]})})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yv=function(t,e){return yv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},yv(t,e)};function ii(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bv=function(){return bv=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},bv.apply(this,arguments)};function Fn(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,[])).next())})}function vn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Xh(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var aa=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Fp=function(t,e){return aa.fromClientRect(t,e.getBoundingClientRect())},tL=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new aa(0,0,n,s)},Ep=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},jr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},$b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yh=0;Yh<$b.length;Yh++)rL[$b.charCodeAt(Yh)]=Yh;var qb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zh=0;Zh<qb.length;Zh++)gu[qb.charCodeAt(Zh)]=Zh;var nL=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=gu[t.charCodeAt(n)],a=gu[t.charCodeAt(n+1)],A=gu[t.charCodeAt(n+2)],l=gu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},sL=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},iL=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},oA=5,dy=11,vm=2,aL=dy-oA,k4=65536>>oA,oL=1<<oA,wm=oL-1,AL=1024>>oA,lL=k4+AL,cL=lL,uL=32,dL=cL+uL,hL=65536>>dy,fL=1<<aL,gL=fL-1,Gb=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},pL=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},mL=function(t,e){var r=nL(t),n=Array.isArray(r)?iL(r):new Uint32Array(r),s=Array.isArray(r)?sL(r):new Uint16Array(r),i=24,a=Gb(s,i/2,n[4]/2),A=n[5]===2?Gb(s,(i+n[4])/2):pL(n,Math.ceil((i+n[4])/4));return new xL(n[0],n[1],n[2],n[3],a,A)},xL=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>oA],r=(r<<vm)+(e&wm),this.data[r];if(e<=65535)return r=this.index[k4+(e-55296>>oA)],r=(r<<vm)+(e&wm),this.data[r];if(e<this.highStart)return r=dL-hL+(e>>dy),r=this.index[r],r+=e>>oA&gL,r=this.index[r],r=(r<<vm)+(e&wm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Wb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ef=0;ef<Wb.length;ef++)vL[Wb.charCodeAt(ef)]=ef;var wL="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Jb=50,yL=1,Q4=2,L4=3,bL=4,BL=5,Xb=7,I4=8,Yb=9,Va=10,Bv=11,Zb=12,Cv=13,CL=14,pu=15,_v=16,tf=17,Zc=18,_L=19,e2=20,Nv=21,eu=22,ym=23,ol=24,rs=25,mu=26,xu=27,Al=28,NL=29,Jo=30,SL=31,rf=32,nf=33,Sv=34,jv=35,Fv=36,xd=37,Ev=38,Zf=39,eg=40,bm=41,P4=42,jL=43,FL=[9001,65288],T4="!",Pt="",sf="",Uv=mL(wL),Ri=[Jo,Fv],kv=[yL,Q4,L4,BL],D4=[Va,I4],t2=[xu,mu],EL=kv.concat(D4),r2=[Ev,Zf,eg,Sv,jv],UL=[pu,Cv],kL=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,a){var A=Uv.get(i);if(A>Jb?(s.push(!0),A-=Jb):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),r.push(_v);if(A===bL||A===Bv){if(a===0)return n.push(a),r.push(Jo);var l=r[a-1];return EL.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(Jo))}if(n.push(a),A===SL)return r.push(e==="strict"?Nv:xd);if(A===P4||A===NL)return r.push(Jo);if(A===jL)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(xd):r.push(Jo);r.push(A)}),[n,r,s]},Bm=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var a=n[i];if(a===e)return!0;if(a!==Va)break}if(s===Va)for(var i=r;i>0;){i--;var A=n[i];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==Va)break}if(A!==Va)break}return!1},n2=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Va)r--;else return n}return 0},QL=function(t,e,r,n,s){if(r[n]===0)return Pt;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Pt;var a=i-1,A=i+1,l=e[i],c=a>=0?e[a]:0,u=e[A];if(l===Q4&&u===L4)return Pt;if(kv.indexOf(l)!==-1)return T4;if(kv.indexOf(u)!==-1||D4.indexOf(u)!==-1)return Pt;if(n2(i,e)===I4)return sf;if(Uv.get(t[i])===Bv||(l===rf||l===nf)&&Uv.get(t[A])===Bv||l===Xb||u===Xb||l===Yb||[Va,Cv,pu].indexOf(l)===-1&&u===Yb||[tf,Zc,_L,ol,Al].indexOf(u)!==-1||n2(i,e)===eu||Bm(ym,eu,i,e)||Bm([tf,Zc],Nv,i,e)||Bm(Zb,Zb,i,e))return Pt;if(l===Va)return sf;if(l===ym||u===ym)return Pt;if(u===_v||l===_v)return sf;if([Cv,pu,Nv].indexOf(u)!==-1||l===CL||c===Fv&&UL.indexOf(l)!==-1||l===Al&&u===Fv||u===e2||Ri.indexOf(u)!==-1&&l===rs||Ri.indexOf(l)!==-1&&u===rs||l===xu&&[xd,rf,nf].indexOf(u)!==-1||[xd,rf,nf].indexOf(l)!==-1&&u===mu||Ri.indexOf(l)!==-1&&t2.indexOf(u)!==-1||t2.indexOf(l)!==-1&&Ri.indexOf(u)!==-1||[xu,mu].indexOf(l)!==-1&&(u===rs||[eu,pu].indexOf(u)!==-1&&e[A+1]===rs)||[eu,pu].indexOf(l)!==-1&&u===rs||l===rs&&[rs,Al,ol].indexOf(u)!==-1)return Pt;if([rs,Al,ol,tf,Zc].indexOf(u)!==-1)for(var d=i;d>=0;){var f=e[d];if(f===rs)return Pt;if([Al,ol].indexOf(f)!==-1)d--;else break}if([xu,mu].indexOf(u)!==-1)for(var d=[tf,Zc].indexOf(l)!==-1?a:i;d>=0;){var f=e[d];if(f===rs)return Pt;if([Al,ol].indexOf(f)!==-1)d--;else break}if(Ev===l&&[Ev,Zf,Sv,jv].indexOf(u)!==-1||[Zf,Sv].indexOf(l)!==-1&&[Zf,eg].indexOf(u)!==-1||[eg,jv].indexOf(l)!==-1&&u===eg||r2.indexOf(l)!==-1&&[e2,mu].indexOf(u)!==-1||r2.indexOf(u)!==-1&&l===xu||Ri.indexOf(l)!==-1&&Ri.indexOf(u)!==-1||l===ol&&Ri.indexOf(u)!==-1||Ri.concat(rs).indexOf(l)!==-1&&u===eu&&FL.indexOf(t[A])===-1||Ri.concat(rs).indexOf(u)!==-1&&l===Zc)return Pt;if(l===bm&&u===bm){for(var g=r[i],m=1;g>0&&(g--,e[g]===bm);)m++;if(m%2!==0)return Pt}return l===rf&&u===nf?Pt:sf},LL=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=kL(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(A){return[rs,Jo,P4].indexOf(A)!==-1?xd:A}));var a=e.wordBreak==="keep-all"?i.map(function(A,l){return A&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,a]},IL=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===T4,this.start=n,this.end=s}return t.prototype.slice=function(){return jr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),PL=function(t,e){var r=Ep(t),n=LL(r,e),s=n[0],i=n[1],a=n[2],A=r.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var u=Pt;c<A&&(u=QL(r,i,s,++c,a))===Pt;);if(u!==Pt||c===A){var d=new IL(r,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},TL=1,DL=2,Dd=4,s2=8,Og=10,i2=47,Tu=92,OL=9,HL=32,af=34,tu=61,ML=35,RL=36,KL=37,of=39,Af=40,ru=41,VL=95,Mn=45,zL=33,$L=60,qL=62,GL=64,WL=91,JL=93,XL=61,YL=123,lf=63,ZL=125,a2=124,e6=126,t6=128,o2=65533,Cm=42,tA=43,r6=44,n6=58,s6=59,vd=46,i6=0,a6=8,o6=11,A6=14,l6=31,c6=127,gi=-1,O4=48,H4=97,M4=101,u6=102,d6=117,h6=122,R4=65,K4=69,V4=70,f6=85,g6=90,wn=function(t){return t>=O4&&t<=57},p6=function(t){return t>=55296&&t<=57343},ll=function(t){return wn(t)||t>=R4&&t<=V4||t>=H4&&t<=u6},m6=function(t){return t>=H4&&t<=h6},x6=function(t){return t>=R4&&t<=g6},v6=function(t){return m6(t)||x6(t)},w6=function(t){return t>=t6},cf=function(t){return t===Og||t===OL||t===HL},Hg=function(t){return v6(t)||w6(t)||t===VL},A2=function(t){return Hg(t)||wn(t)||t===Mn},y6=function(t){return t>=i6&&t<=a6||t===o6||t>=A6&&t<=l6||t===c6},Pa=function(t,e){return t!==Tu?!1:e!==Og},uf=function(t,e,r){return t===Mn?Hg(e)||Pa(e,r):Hg(t)?!0:!!(t===Tu&&Pa(t,e))},_m=function(t,e,r){return t===tA||t===Mn?wn(e)?!0:e===vd&&wn(r):wn(t===vd?e:t)},b6=function(t){var e=0,r=1;(t[e]===tA||t[e]===Mn)&&(t[e]===Mn&&(r=-1),e++);for(var n=[];wn(t[e]);)n.push(t[e++]);var s=n.length?parseInt(jr.apply(void 0,n),10):0;t[e]===vd&&e++;for(var i=[];wn(t[e]);)i.push(t[e++]);var a=i.length,A=a?parseInt(jr.apply(void 0,i),10):0;(t[e]===K4||t[e]===M4)&&e++;var l=1;(t[e]===tA||t[e]===Mn)&&(t[e]===Mn&&(l=-1),e++);for(var c=[];wn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(jr.apply(void 0,c),10):0;return r*(s+A*Math.pow(10,-a))*Math.pow(10,l*u)},B6={type:2},C6={type:3},_6={type:4},N6={type:13},S6={type:8},j6={type:21},F6={type:9},E6={type:10},U6={type:11},k6={type:12},Q6={type:14},df={type:23},L6={type:1},I6={type:25},P6={type:24},T6={type:26},D6={type:27},O6={type:28},H6={type:29},M6={type:31},Qv={type:32},z4=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Ep(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Qv;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case af:return this.consumeStringToken(af);case ML:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(A2(r)||Pa(n,s)){var i=uf(r,n,s)?DL:TL,a=this.consumeName();return{type:5,value:a,flags:i}}break;case RL:if(this.peekCodePoint(0)===tu)return this.consumeCodePoint(),N6;break;case of:return this.consumeStringToken(of);case Af:return B6;case ru:return C6;case Cm:if(this.peekCodePoint(0)===tu)return this.consumeCodePoint(),Q6;break;case tA:if(_m(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case r6:return _6;case Mn:var A=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(_m(A,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(uf(A,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Mn&&c===qL)return this.consumeCodePoint(),this.consumeCodePoint(),P6;break;case vd:if(_m(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case i2:if(this.peekCodePoint(0)===Cm)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Cm&&(u=this.consumeCodePoint(),u===i2))return this.consumeToken();if(u===gi)return this.consumeToken()}break;case n6:return T6;case s6:return D6;case $L:if(this.peekCodePoint(0)===zL&&this.peekCodePoint(1)===Mn&&this.peekCodePoint(2)===Mn)return this.consumeCodePoint(),this.consumeCodePoint(),I6;break;case GL:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(uf(d,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case WL:return O6;case Tu:if(Pa(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case JL:return H6;case XL:if(this.peekCodePoint(0)===tu)return this.consumeCodePoint(),S6;break;case YL:return U6;case ZL:return k6;case d6:case f6:var m=this.peekCodePoint(0),w=this.peekCodePoint(1);return m===tA&&(ll(w)||w===lf)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case a2:if(this.peekCodePoint(0)===tu)return this.consumeCodePoint(),F6;if(this.peekCodePoint(0)===a2)return this.consumeCodePoint(),j6;break;case e6:if(this.peekCodePoint(0)===tu)return this.consumeCodePoint(),E6;break;case gi:return Qv}return cf(e)?(this.consumeWhiteSpace(),M6):wn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Hg(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:jr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();ll(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===lf&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(jr.apply(void 0,e.map(function(l){return l===lf?O4:l})),16),i=parseInt(jr.apply(void 0,e.map(function(l){return l===lf?V4:l})),16);return{type:30,start:s,end:i}}var a=parseInt(jr.apply(void 0,e),16);if(this.peekCodePoint(0)===Mn&&ll(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];ll(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var i=parseInt(jr.apply(void 0,A),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Af?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Af?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===gi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===of||r===af){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===gi||this.peekCodePoint(0)===ru)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),df)}for(;;){var s=this.consumeCodePoint();if(s===gi||s===ru)return{type:22,value:jr.apply(void 0,e)};if(cf(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===gi||this.peekCodePoint(0)===ru?(this.consumeCodePoint(),{type:22,value:jr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),df);if(s===af||s===of||s===Af||y6(s))return this.consumeBadUrlRemnants(),df;if(s===Tu)if(Pa(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),df;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;cf(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ru||e===gi)return;Pa(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=jr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===gi||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Og)return this._value.splice(0,n),L6;if(s===Tu){var i=this._value[n+1];i!==gi&&i!==void 0&&(i===Og?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Pa(s,i)&&(r+=this.consumeStringSlice(n),r+=jr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Dd,n=this.peekCodePoint(0);for((n===tA||n===Mn)&&e.push(this.consumeCodePoint());wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===vd&&wn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=s2;wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===K4||n===M4)&&((s===tA||s===Mn)&&wn(i)||wn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=s2;wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[b6(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(uf(s,i,a)){var A=this.consumeName();return{type:15,number:r,flags:n,unit:A}}return s===KL?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ll(e)){for(var r=jr(e);ll(this.peekCodePoint(0))&&r.length<6;)r+=jr(this.consumeCodePoint());cf(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||p6(n)||n>1114111?o2:n}return e===gi?o2:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(A2(r))e+=jr(r);else if(Pa(r,this.peekCodePoint(0)))e+=jr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),$4=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new z4;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||K6(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Qv:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Od=function(t){return t.type===15},dc=function(t){return t.type===17},er=function(t){return t.type===20},R6=function(t){return t.type===0},Lv=function(t,e){return er(t)&&t.value===e},q4=function(t){return t.type!==31},rc=function(t){return t.type!==31&&t.type!==4},Fi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},K6=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},po=function(t){return t.type===17||t.type===15},Hr=function(t){return t.type===16||po(t)},G4=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},on={type:17,number:0,flags:Dd},hy={type:16,number:50,flags:Dd},za={type:16,number:100,flags:Dd},vu=function(t,e,r){var n=t[0],s=t[1];return[ar(n,e),ar(typeof s<"u"?s:n,r)]},ar=function(t,e){if(t.type===16)return t.number/100*e;if(Od(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},W4="deg",J4="grad",X4="rad",Y4="turn",Up={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case W4:return Math.PI*e.number/180;case J4:return Math.PI/200*e.number;case X4:return e.number;case Y4:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Z4=function(t){return t.type===15&&(t.unit===W4||t.unit===J4||t.unit===X4||t.unit===Y4)},eN=function(t){var e=t.filter(er).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[on,on];case"to top":case"bottom":return js(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[on,za];case"to right":case"left":return js(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[za,za];case"to bottom":case"top":return js(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[za,on];case"to left":case"right":return js(270)}return 0},js=function(t){return Math.PI*t/180},lo={name:"color",parse:function(t,e){if(e.type===18){var r=V6[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return $a(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return $a(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return $a(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return $a(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var A=ta[e.value.toUpperCase()];if(typeof A<"u")return A}return ta.TRANSPARENT}},co=function(t){return(255&t)===0},Zr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},$a=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},l2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},c2=function(t,e){var r=e.filter(rc);if(r.length===3){var n=r.map(l2),s=n[0],i=n[1],a=n[2];return $a(s,i,a,1)}if(r.length===4){var A=r.map(l2),s=A[0],i=A[1],a=A[2],l=A[3];return $a(s,i,a,l)}return 0};function Nm(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var u2=function(t,e){var r=e.filter(rc),n=r[0],s=r[1],i=r[2],a=r[3],A=(n.type===17?js(n.number):Up.parse(t,n))/(Math.PI*2),l=Hr(s)?s.number/100:0,c=Hr(i)?i.number/100:0,u=typeof a<"u"&&Hr(a)?ar(a,1):1;if(l===0)return $a(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,f=c*2-d,g=Nm(f,d,A+1/3),m=Nm(f,d,A),w=Nm(f,d,A-1/3);return $a(g*255,m*255,w*255,u)},V6={hsl:u2,hsla:u2,rgb:c2,rgba:c2},Du=function(t,e){return lo.parse(t,$4.create(e).parseComponentValue())},ta={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},z6={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(er(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$6={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kp=function(t,e){var r=lo.parse(t,e[0]),n=e[1];return n&&Hr(n)?{color:r,stop:n}:{color:r,stop:null}},d2=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=on),n.stop===null&&(n.stop=za);for(var s=[],i=0,a=0;a<t.length;a++){var A=t[a].stop;if(A!==null){var l=ar(A,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,a=0;a<s.length;a++){var u=s[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var d=a-c,f=s[c-1],g=(u-f)/(d+1),m=1;m<=d;m++)s[c+m-1]=g*m;c=null}}return t.map(function(w,B){var x=w.color;return{color:x,stop:Math.max(Math.min(1,s[B]/e),0)}})},q6=function(t,e,r){var n=e/2,s=r/2,i=ar(t[0],e)-n,a=s-ar(t[1],r);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},G6=function(t,e,r){var n=typeof t=="number"?t:q6(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,a=r/2,A=s/2,l=Math.sin(n-Math.PI/2)*A,c=Math.cos(n-Math.PI/2)*A;return[s,i-c,i+c,a-l,a+l]},qs=function(t,e){return Math.sqrt(t*t+e*e)},h2=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(a,A){var l=A[0],c=A[1],u=qs(r-l,n-c);return(s?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:A,optimumDistance:u}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},W6=function(t,e,r,n,s){var i=0,a=0;switch(t.size){case 0:t.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=a=Math.min(qs(e,r),qs(e,r-s),qs(e-n,r),qs(e-n,r-s));else if(t.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=h2(n,s,e,r,!0),c=l[0],u=l[1];i=qs(c-e,(u-r)/A),a=A*i}break;case 1:t.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=a=Math.max(qs(e,r),qs(e,r-s),qs(e-n,r),qs(e-n,r-s));else if(t.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),d=h2(n,s,e,r,!1),c=d[0],u=d[1];i=qs(c-e,(u-r)/A),a=A*i}break}return Array.isArray(t.size)&&(i=ar(t.size[0],n),a=t.size.length===2?ar(t.size[1],s):i),[i,a]},J6=function(t,e){var r=js(180),n=[];return Fi(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){r=eN(s);return}else if(Z4(a)){r=Up.parse(t,a);return}}var A=kp(t,s);n.push(A)}),{angle:r,stops:n,type:1}},hf=function(t,e){var r=js(180),n=[];return Fi(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=eN(s);return}else if(Z4(a)){r=(Up.parse(t,a)+js(270))%js(360);return}}var A=kp(t,s);n.push(A)}),{angle:r,stops:n,type:1}},X6=function(t,e){var r=js(180),n=[],s=1,i=0,a=3,A=[];return Fi(e).forEach(function(l,c){var u=l[0];if(c===0){if(er(u)&&u.value==="linear"){s=1;return}else if(er(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var d=lo.parse(t,u.values[0]);n.push({stop:on,color:d})}else if(u.name==="to"){var d=lo.parse(t,u.values[0]);n.push({stop:za,color:d})}else if(u.name==="color-stop"){var f=u.values.filter(rc);if(f.length===2){var d=lo.parse(t,f[1]),g=f[0];dc(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),s===1?{angle:(r+js(180))%js(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:A,type:s}},tN="closest-side",rN="farthest-side",nN="closest-corner",sN="farthest-corner",iN="circle",aN="ellipse",oN="cover",AN="contain",Y6=function(t,e){var r=0,n=3,s=[],i=[];return Fi(e).forEach(function(a,A){var l=!0;if(A===0){var c=!1;l=a.reduce(function(d,f){if(c)if(er(f))switch(f.value){case"center":return i.push(hy),d;case"top":case"left":return i.push(on),d;case"right":case"bottom":return i.push(za),d}else(Hr(f)||po(f))&&i.push(f);else if(er(f))switch(f.value){case iN:return r=0,!1;case aN:return r=1,!1;case"at":return c=!0,!1;case tN:return n=0,!1;case oN:case rN:return n=1,!1;case AN:case nN:return n=2,!1;case sN:return n=3,!1}else if(po(f)||Hr(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},l)}if(l){var u=kp(t,a);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},ff=function(t,e){var r=0,n=3,s=[],i=[];return Fi(e).forEach(function(a,A){var l=!0;if(A===0?l=a.reduce(function(u,d){if(er(d))switch(d.value){case"center":return i.push(hy),!1;case"top":case"left":return i.push(on),!1;case"right":case"bottom":return i.push(za),!1}else if(Hr(d)||po(d))return i.push(d),!1;return u},l):A===1&&(l=a.reduce(function(u,d){if(er(d))switch(d.value){case iN:return r=0,!1;case aN:return r=1,!1;case AN:case tN:return n=0,!1;case rN:return n=1,!1;case nN:return n=2,!1;case oN:case sN:return n=3,!1}else if(po(d)||Hr(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},l)),l){var c=kp(t,a);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},Z6=function(t){return t.type===1},eI=function(t){return t.type===2},fy={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=lN[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function tI(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!lN[t.name])}var lN={"linear-gradient":J6,"-moz-linear-gradient":hf,"-ms-linear-gradient":hf,"-o-linear-gradient":hf,"-webkit-linear-gradient":hf,"radial-gradient":Y6,"-moz-radial-gradient":ff,"-ms-radial-gradient":ff,"-o-radial-gradient":ff,"-webkit-radial-gradient":ff,"-webkit-gradient":X6},rI={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return rc(n)&&tI(n)}).map(function(n){return fy.parse(t,n)})}},nI={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(er(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sI={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Fi(e).map(function(r){return r.filter(Hr)}).map(G4)}},iI={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Fi(e).map(function(r){return r.filter(er).map(function(n){return n.value}).join(" ")}).map(aI)}},aI=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Kl;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Kl||(Kl={}));var oI={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Fi(e).map(function(r){return r.filter(AI)})}},AI=function(t){return er(t)||Hr(t)},Qp=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},lI=Qp("top"),cI=Qp("right"),uI=Qp("bottom"),dI=Qp("left"),Lp=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return G4(r.filter(Hr))}}},hI=Lp("top-left"),fI=Lp("top-right"),gI=Lp("bottom-right"),pI=Lp("bottom-left"),Ip=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},mI=Ip("top"),xI=Ip("right"),vI=Ip("bottom"),wI=Ip("left"),Pp=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Od(r)?r.number:0}}},yI=Pp("top"),bI=Pp("right"),BI=Pp("bottom"),CI=Pp("left"),_I={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},NI={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},SI={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(er).reduce(function(r,n){return r|jI(n.value)},0)}},jI=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},FI={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},EI={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Mg;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Mg||(Mg={}));var UI={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Mg.STRICT;case"normal":default:return Mg.NORMAL}}},kI={name:"line-height",initialValue:"normal",prefix:!1,type:4},f2=function(t,e){return er(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Hr(t)?ar(t,e):e},QI={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:fy.parse(t,e)}},LI={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Iv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Tp=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},II=Tp("top"),PI=Tp("right"),TI=Tp("bottom"),DI=Tp("left"),OI={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(er).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},HI={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Dp=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},MI=Dp("top"),RI=Dp("right"),KI=Dp("bottom"),VI=Dp("left"),zI={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$I={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},qI={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Lv(e[0],"none")?[]:Fi(e).map(function(r){for(var n={color:ta.TRANSPARENT,offsetX:on,offsetY:on,blur:on},s=0,i=0;i<r.length;i++){var a=r[i];po(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=lo.parse(t,a)}return n})}},GI={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},WI={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=YI[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},JI=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},XI=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],e.length===16?[r,n,s,i,a,A]:null},YI={matrix:JI,matrix3d:XI},g2={type:16,number:50,flags:Dd},ZI=[g2,g2],eP={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Hr);return r.length!==2?ZI:[r[0],r[1]]}},tP={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ou;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Ou||(Ou={}));var rP={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Ou.BREAK_ALL;case"keep-all":return Ou.KEEP_ALL;case"normal":default:return Ou.NORMAL}}},nP={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(dc(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},cN={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},sP={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return dc(e)?e.number:1}},iP={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aP={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(er).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},oP={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},AP={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},lP={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(dc(e))return e.number;if(er(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},cP={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(er).map(function(r){return r.value})}},uP={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},$r=function(t,e){return(t&e)!==0},dP={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},hP={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(q4),i=0;i<s.length;i++){var a=s[i],A=s[i+1];if(a.type===20){var l=A&&dc(A)?A.number:1;n.push({counter:a.value,increment:l})}}return n}},fP={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(q4),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if(er(i)&&i.value!=="none"){var A=a&&dc(a)?a.number:0;r.push({counter:i.value,reset:A})}}return r}},gP={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Od).map(function(r){return cN.parse(t,r)})}},pP={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(R6);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,A=s[i+1].value;n.push({open:a,close:A})}return n}},p2=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},mP={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Lv(e[0],"none")?[]:Fi(e).map(function(r){for(var n={color:255,offsetX:on,offsetY:on,blur:on,spread:on,inset:!1},s=0,i=0;i<r.length;i++){var a=r[i];Lv(a,"inset")?n.inset=!0:po(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=lo.parse(t,a)}return n})}},xP={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(er).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},vP={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},wP={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Od(e)?e.number:0}},yP=function(){function t(e,r){var n,s;this.animationDuration=st(e,gP,r.animationDuration),this.backgroundClip=st(e,z6,r.backgroundClip),this.backgroundColor=st(e,$6,r.backgroundColor),this.backgroundImage=st(e,rI,r.backgroundImage),this.backgroundOrigin=st(e,nI,r.backgroundOrigin),this.backgroundPosition=st(e,sI,r.backgroundPosition),this.backgroundRepeat=st(e,iI,r.backgroundRepeat),this.backgroundSize=st(e,oI,r.backgroundSize),this.borderTopColor=st(e,lI,r.borderTopColor),this.borderRightColor=st(e,cI,r.borderRightColor),this.borderBottomColor=st(e,uI,r.borderBottomColor),this.borderLeftColor=st(e,dI,r.borderLeftColor),this.borderTopLeftRadius=st(e,hI,r.borderTopLeftRadius),this.borderTopRightRadius=st(e,fI,r.borderTopRightRadius),this.borderBottomRightRadius=st(e,gI,r.borderBottomRightRadius),this.borderBottomLeftRadius=st(e,pI,r.borderBottomLeftRadius),this.borderTopStyle=st(e,mI,r.borderTopStyle),this.borderRightStyle=st(e,xI,r.borderRightStyle),this.borderBottomStyle=st(e,vI,r.borderBottomStyle),this.borderLeftStyle=st(e,wI,r.borderLeftStyle),this.borderTopWidth=st(e,yI,r.borderTopWidth),this.borderRightWidth=st(e,bI,r.borderRightWidth),this.borderBottomWidth=st(e,BI,r.borderBottomWidth),this.borderLeftWidth=st(e,CI,r.borderLeftWidth),this.boxShadow=st(e,mP,r.boxShadow),this.color=st(e,_I,r.color),this.direction=st(e,NI,r.direction),this.display=st(e,SI,r.display),this.float=st(e,FI,r.cssFloat),this.fontFamily=st(e,oP,r.fontFamily),this.fontSize=st(e,AP,r.fontSize),this.fontStyle=st(e,uP,r.fontStyle),this.fontVariant=st(e,cP,r.fontVariant),this.fontWeight=st(e,lP,r.fontWeight),this.letterSpacing=st(e,EI,r.letterSpacing),this.lineBreak=st(e,UI,r.lineBreak),this.lineHeight=st(e,kI,r.lineHeight),this.listStyleImage=st(e,QI,r.listStyleImage),this.listStylePosition=st(e,LI,r.listStylePosition),this.listStyleType=st(e,Iv,r.listStyleType),this.marginTop=st(e,II,r.marginTop),this.marginRight=st(e,PI,r.marginRight),this.marginBottom=st(e,TI,r.marginBottom),this.marginLeft=st(e,DI,r.marginLeft),this.opacity=st(e,sP,r.opacity);var i=st(e,OI,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=st(e,HI,r.overflowWrap),this.paddingTop=st(e,MI,r.paddingTop),this.paddingRight=st(e,RI,r.paddingRight),this.paddingBottom=st(e,KI,r.paddingBottom),this.paddingLeft=st(e,VI,r.paddingLeft),this.paintOrder=st(e,xP,r.paintOrder),this.position=st(e,$I,r.position),this.textAlign=st(e,zI,r.textAlign),this.textDecorationColor=st(e,iP,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=st(e,aP,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=st(e,qI,r.textShadow),this.textTransform=st(e,GI,r.textTransform),this.transform=st(e,WI,r.transform),this.transformOrigin=st(e,eP,r.transformOrigin),this.visibility=st(e,tP,r.visibility),this.webkitTextStrokeColor=st(e,vP,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=st(e,wP,r.webkitTextStrokeWidth),this.wordBreak=st(e,rP,r.wordBreak),this.zIndex=st(e,nP,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return co(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return $r(this.display,4)||$r(this.display,33554432)||$r(this.display,268435456)||$r(this.display,536870912)||$r(this.display,67108864)||$r(this.display,134217728)},t}(),bP=function(){function t(e,r){this.content=st(e,dP,r.content),this.quotes=st(e,pP,r.quotes)}return t}(),m2=function(){function t(e,r){this.counterIncrement=st(e,hP,r.counterIncrement),this.counterReset=st(e,fP,r.counterReset)}return t}(),st=function(t,e,r){var n=new z4,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new $4(n.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(t,er(a)?a.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return Up.parse(t,i.parseComponentValue());case"color":return lo.parse(t,i.parseComponentValue());case"image":return fy.parse(t,i.parseComponentValue());case"length":var A=i.parseComponentValue();return po(A)?A:on;case"length-percentage":var l=i.parseComponentValue();return Hr(l)?l:on;case"time":return cN.parse(t,i.parseComponentValue())}break}},BP="data-html2canvas-debug",CP=function(t){var e=t.getAttribute(BP);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Pv=function(t,e){var r=CP(t);return r===1||e===r},Ei=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Pv(r,3))debugger;this.styles=new yP(e,window.getComputedStyle(r,null)),Ov(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Fp(this.context,r),Pv(r,4)&&(this.flags|=16)}return t}(),_P="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",x2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gf=0;gf<x2.length;gf++)wu[x2.charCodeAt(gf)]=gf;var NP=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=wu[t.charCodeAt(n)],a=wu[t.charCodeAt(n+1)],A=wu[t.charCodeAt(n+2)],l=wu[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},SP=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},jP=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},AA=5,gy=11,Sm=2,FP=gy-AA,uN=65536>>AA,EP=1<<AA,jm=EP-1,UP=1024>>AA,kP=uN+UP,QP=kP,LP=32,IP=QP+LP,PP=65536>>gy,TP=1<<FP,DP=TP-1,v2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},OP=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},HP=function(t,e){var r=NP(t),n=Array.isArray(r)?jP(r):new Uint32Array(r),s=Array.isArray(r)?SP(r):new Uint16Array(r),i=24,a=v2(s,i/2,n[4]/2),A=n[5]===2?v2(s,(i+n[4])/2):OP(n,Math.ceil((i+n[4])/4));return new MP(n[0],n[1],n[2],n[3],a,A)},MP=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>AA],r=(r<<Sm)+(e&jm),this.data[r];if(e<=65535)return r=this.index[uN+(e-55296>>AA)],r=(r<<Sm)+(e&jm),this.data[r];if(e<this.highStart)return r=IP-PP+(e>>gy),r=this.index[r],r+=e>>AA&DP,r=this.index[r],r=(r<<Sm)+(e&jm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),w2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pf=0;pf<w2.length;pf++)RP[w2.charCodeAt(pf)]=pf;var KP=1,Fm=2,Em=3,y2=4,b2=5,VP=7,B2=8,Um=9,km=10,C2=11,_2=12,N2=13,S2=14,Qm=15,zP=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},$P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},qP=HP(_P),bs="",Lm="",GP=function(t){return qP.get(t)},WP=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],a=e[r];if(i===Fm&&a===Em)return bs;if(i===Fm||i===Em||i===y2||a===Fm||a===Em||a===y2)return Lm;if(i===B2&&[B2,Um,C2,_2].indexOf(a)!==-1||(i===C2||i===Um)&&(a===Um||a===km)||(i===_2||i===km)&&a===km||a===N2||a===b2||a===VP||i===KP)return bs;if(i===N2&&a===S2){for(;s===b2;)s=e[--n];if(s===S2)return bs}if(i===Qm&&a===Qm){for(var A=0;s===Qm;)A++,s=e[--n];if(A%2===0)return bs}return Lm},JP=function(t){var e=zP(t),r=e.length,n=0,s=0,i=e.map(GP);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=bs;n<r&&(a=WP(e,i,++n))===bs;);if(a!==bs||n===r){var A=$P.apply(null,e.slice(s,n));return s=n,{value:A,done:!1}}return{done:!0,value:null}}}},XP=function(t){for(var e=JP(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},YP=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},ZP=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=Ep(n.data).map(function(l){return jr(l)}),i=0,a={},A=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var u=r.getBoundingClientRect();i+=l.length;var d=u.x>a.x||u.y>a.y;return a=u,c===0?!0:d});return t.body.removeChild(e),A},eT=function(){return typeof new Image().crossOrigin<"u"},tT=function(){return typeof new XMLHttpRequest().responseType=="string"},rT=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},j2=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},nT=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var a=Tv(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),F2(a).then(function(A){n.drawImage(A,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",j2(l)?F2(Tv(r,r,0,0,c)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),j2(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Tv=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",n.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(s),a},F2=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},an={get SUPPORT_RANGE_BOUNDS(){var t=YP(document);return Object.defineProperty(an,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=an.SUPPORT_RANGE_BOUNDS&&ZP(document);return Object.defineProperty(an,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=rT(document);return Object.defineProperty(an,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?nT(document):Promise.resolve(!1);return Object.defineProperty(an,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=eT();return Object.defineProperty(an,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=tT();return Object.defineProperty(an,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(an,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(an,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Hu=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),sT=function(t,e,r,n){var s=oT(e,r),i=[],a=0;return s.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(an.SUPPORT_RANGE_BOUNDS){var l=E2(n,a,A.length).getClientRects();if(l.length>1){var c=py(A),u=0;c.forEach(function(f){i.push(new Hu(f,aa.fromDOMRectList(t,E2(n,u+a,f.length).getClientRects()))),u+=f.length})}else i.push(new Hu(A,aa.fromDOMRectList(t,l)))}else{var d=n.splitText(A.length);i.push(new Hu(A,iT(t,n))),n=d}else an.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));a+=A.length}),i},iT=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=Fp(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return aa.EMPTY},E2=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},py=function(t){if(an.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return XP(t)},aT=function(t,e){if(an.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return lT(t,e)},oT=function(t,e){return e.letterSpacing!==0?py(t):aT(t,e)},AT=[32,160,4961,65792,65793,4153,4241],lT=function(t,e){for(var r=PL(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),A=Ep(a),l="";A.forEach(function(c){AT.indexOf(c)===-1?l+=jr(c):(l.length&&n.push(l),n.push(jr(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},cT=function(){function t(e,r,n){this.text=uT(r.data,n.textTransform),this.textBounds=sT(e,this.text,n,r)}return t}(),uT=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(dT,hT);case 2:return t.toUpperCase();default:return t}},dT=/(^|\s|:|-|\(|\))([a-z])/g,hT=function(t,e,r){return t.length>0?e+r.toUpperCase():t},dN=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Ei),hN=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Ei),fN=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,a=Fp(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Ei),gN=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Ei),Dv=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Ei),fT=[{type:15,flags:0,unit:"px",number:3}],gT=[{type:16,flags:0,number:50}],pT=function(t){return t.width>t.height?new aa(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new aa(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},mT=function(t){var e=t.type===xT?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Rg="checkbox",Kg="radio",xT="password",U2=707406591,my=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=mT(n),(s.type===Rg||s.type===Kg)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=pT(s.bounds)),s.type){case Rg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=fT;break;case Kg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=gT;break}return s}return e}(Ei),pN=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Ei),mN=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Ei),xN=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=wN(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Du(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ta.TRANSPARENT,a=n.contentWindow.document.body?Du(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ta.TRANSPARENT;s.backgroundColor=co(i)?co(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e}(Ei),vT=["OL","UL","MENU"],tg=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,yN(s)&&s.data.trim().length>0)r.textNodes.push(new cT(t,s,r.styles));else if(Il(s))if(_N(s)&&s.assignedNodes)s.assignedNodes().forEach(function(A){return tg(t,A,r,n)});else{var a=vN(t,s);a.styles.isVisible()&&(wT(s,a,n)?a.flags|=4:yT(a.styles)&&(a.flags|=2),vT.indexOf(s.tagName)!==-1&&(a.flags|=8),r.elements.push(a),s.slot,s.shadowRoot?tg(t,s.shadowRoot,a,n):!Vg(s)&&!bN(s)&&!zg(s)&&tg(t,s,a,n))}},vN=function(t,e){return Hv(e)?new dN(t,e):BN(e)?new hN(t,e):bN(e)?new fN(t,e):bT(e)?new gN(t,e):BT(e)?new Dv(t,e):CT(e)?new my(t,e):zg(e)?new pN(t,e):Vg(e)?new mN(t,e):CN(e)?new xN(t,e):new Ei(t,e)},wN=function(t,e){var r=vN(t,e);return r.flags|=4,tg(t,e,r,r),r},wT=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||xy(t)&&r.styles.isTransparent()},yT=function(t){return t.isPositioned()||t.isFloating()},yN=function(t){return t.nodeType===Node.TEXT_NODE},Il=function(t){return t.nodeType===Node.ELEMENT_NODE},Ov=function(t){return Il(t)&&typeof t.style<"u"&&!rg(t)},rg=function(t){return typeof t.className=="object"},bT=function(t){return t.tagName==="LI"},BT=function(t){return t.tagName==="OL"},CT=function(t){return t.tagName==="INPUT"},_T=function(t){return t.tagName==="HTML"},bN=function(t){return t.tagName==="svg"},xy=function(t){return t.tagName==="BODY"},BN=function(t){return t.tagName==="CANVAS"},k2=function(t){return t.tagName==="VIDEO"},Hv=function(t){return t.tagName==="IMG"},CN=function(t){return t.tagName==="IFRAME"},Q2=function(t){return t.tagName==="STYLE"},NT=function(t){return t.tagName==="SCRIPT"},Vg=function(t){return t.tagName==="TEXTAREA"},zg=function(t){return t.tagName==="SELECT"},_N=function(t){return t.tagName==="SLOT"},L2=function(t){return t.tagName.indexOf("-")>0},ST=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(A){var l=r.counters[A.counter];l&&A.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var a=[];return i&&s.forEach(function(A){var l=r.counters[A.counter];a.push(A.counter),l||(l=r.counters[A.counter]=[]),l.push(A.reset)}),a},t}(),I2={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},P2={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jT={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},FT={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cl=function(t,e,r,n,s,i){return t<e||t>r?wd(t,s,i.length>0):n.integers.reduce(function(a,A,l){for(;t>=A;)t-=A,a+=n.values[l];return a},"")+i},NN=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},Sr=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(NN(Math.abs(t),i,n,function(a){return jr(Math.floor(a%i)+e)})+s)},Do=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return NN(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},vl=1,ka=2,Qa=4,yu=8,Ki=function(t,e,r,n,s,i){if(t<-9999||t>9999)return wd(t,4,s.length>0);var a=Math.abs(t),A=s;if(a===0)return e[0]+A;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&$r(i,vl)&&A!==""?A=e[c]+A:c>1||c===1&&l===0||c===1&&l===1&&$r(i,ka)||c===1&&l===1&&$r(i,Qa)&&t>100||c===1&&l>1&&$r(i,yu)?A=e[c]+(l>0?r[l-1]:"")+A:c===1&&l>0&&(A=r[l-1]+A),a=Math.floor(a/10)}return(t<0?n:"")+A},T2="",D2="",O2="",Im="",wd=function(t,e,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=Sr(t,48,57,!0,n);return A.length<4?"0"+A:A;case 4:return Do(t,"",s);case 6:return cl(t,1,3999,I2,3,n).toLowerCase();case 7:return cl(t,1,3999,I2,3,n);case 8:return Sr(t,945,969,!1,n);case 9:return Sr(t,97,122,!1,n);case 10:return Sr(t,65,90,!1,n);case 11:return Sr(t,1632,1641,!0,n);case 12:case 49:return cl(t,1,9999,P2,3,n);case 35:return cl(t,1,9999,P2,3,n).toLowerCase();case 13:return Sr(t,2534,2543,!0,n);case 14:case 30:return Sr(t,6112,6121,!0,n);case 15:return Do(t,"",s);case 16:return Do(t,"",s);case 17:case 48:return Ki(t,"",T2,"",s,ka|Qa|yu);case 47:return Ki(t,"",D2,"",s,vl|ka|Qa|yu);case 42:return Ki(t,"",T2,"",s,ka|Qa|yu);case 41:return Ki(t,"",D2,"",s,vl|ka|Qa|yu);case 26:return Ki(t,"","",O2,s,0);case 25:return Ki(t,"","",O2,s,vl|ka|Qa);case 31:return Ki(t,"","",Im,i,vl|ka|Qa);case 33:return Ki(t,"","",Im,i,0);case 32:return Ki(t,"","",Im,i,vl|ka|Qa);case 18:return Sr(t,2406,2415,!0,n);case 20:return cl(t,1,19999,FT,3,n);case 21:return Sr(t,2790,2799,!0,n);case 22:return Sr(t,2662,2671,!0,n);case 22:return cl(t,1,10999,jT,3,n);case 23:return Do(t,"");case 24:return Do(t,"");case 27:return Sr(t,3302,3311,!0,n);case 28:return Do(t,"",s);case 29:return Do(t,"",s);case 34:return Sr(t,3792,3801,!0,n);case 37:return Sr(t,6160,6169,!0,n);case 38:return Sr(t,4160,4169,!0,n);case 39:return Sr(t,2918,2927,!0,n);case 40:return Sr(t,1776,1785,!0,n);case 43:return Sr(t,3046,3055,!0,n);case 44:return Sr(t,3174,3183,!0,n);case 45:return Sr(t,3664,3673,!0,n);case 46:return Sr(t,3872,3881,!0,n);case 3:default:return Sr(t,48,57,!0,n)}},SN="data-html2canvas-ignore",H2=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new ST,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=ET(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=s.contentWindow,l=A.document,c=QT(s).then(function(){return Fn(n,void 0,void 0,function(){var u,d;return vn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(TT),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,kT(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(IT(document.doctype)+"<html></html>"),PT(this.referenceElement.ownerDocument,i,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(Pv(e,2))debugger;if(BN(e))return this.createCanvasClone(e);if(k2(e))return this.createVideoClone(e);if(Q2(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Hv(r)&&(Hv(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),L2(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Pm(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var A=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!Il(r)||!NT(r)&&!r.hasAttribute(SN)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Il(r)||!Q2(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Il(i)&&_N(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(A){return s.appendChildNode(r,A,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(yN(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Il(e)&&(Ov(e)||rg(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),A=n.getComputedStyle(e,":after");this.referenceElement===e&&Ov(s)&&(this.clonedReferenceElement=s),xy(s)&&HT(s);var l=this.counters.parse(new m2(this.context,i)),c=this.resolvePseudoContent(e,s,a,Mu.BEFORE);L2(e)&&(r=!0),k2(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,A,Mu.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||rg(e))&&!CN(e)||r)&&Pm(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(Vg(e)||zg(e))&&(Vg(s)||zg(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var a=n.content,A=r.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new m2(this.context,n));var l=new bP(this.context,n),c=A.createElement("html2canvaspseudoelement");Pm(n,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(A.createTextNode(d.value));else if(d.type===22){var f=A.createElement("img");f.src=d.value,f.style.opacity="1",c.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(er);g.length&&c.appendChild(A.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(rc),w=m[0],B=m[1];if(w&&er(w)){var x=i.counters.getCounterValue(w.value),y=B&&er(B)?Iv.parse(i.context,B.value):3;c.appendChild(A.createTextNode(wd(x,y,!1)))}}else if(d.name==="counters"){var C=d.values.filter(rc),w=C[0],S=C[1],B=C[2];if(w&&er(w)){var k=i.counters.getCounterValues(w.value),O=B&&er(B)?Iv.parse(i.context,B.value):3,I=S&&S.type===0?S.value:"",j=k.map(function(Q){return wd(Q,O,!1)}).join(I);c.appendChild(A.createTextNode(j))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(A.createTextNode(p2(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(p2(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(d.value))}}),c.className=Mv+" "+Rv;var u=s===Mu.BEFORE?" "+Mv:" "+Rv;return rg(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Mu;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Mu||(Mu={}));var ET=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(SN,"true"),t.body.appendChild(r),r},UT=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},kT=function(t){return Promise.all([].slice.call(t.images,0).map(UT))},QT=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},LT=["all","d","content"],Pm=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);LT.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},IT=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},PT=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},TT=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},DT=":before",OT=":after",Mv="___html2canvas___pseudoelement_before",Rv="___html2canvas___pseudoelement_after",M2=`{
    content: "" !important;
    display: none !important;
}`,HT=function(t){MT(t,"."+Mv+DT+M2+`
         .`+Rv+OT+M2)},MT=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},jN=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),RT=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Dm(e)||$T(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Fn(this,void 0,void 0,function(){var r,n,s,i,a=this;return vn(this,function(A){switch(A.label){case 0:return r=jN.isSameOrigin(e),n=!Tm(e)&&this._options.useCORS===!0&&an.SUPPORT_CORS_IMAGES&&!r,s=!Tm(e)&&!r&&!Dm(e)&&typeof this._options.proxy=="string"&&an.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Tm(e)&&!Dm(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(qT(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var A=an.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")i(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+s)}}l.send()})},t}(),KT=/^data:image\/svg\+xml/i,VT=/^data:image\/.*;base64,/i,zT=/^data:image\/.*/i,$T=function(t){return an.SUPPORT_SVG_DRAWING||!GT(t)},Tm=function(t){return zT.test(t)},qT=function(t){return VT.test(t)},Dm=function(t){return t.substr(0,4)==="blob"},GT=function(t){return t.substr(-3).toLowerCase()==="svg"||KT.test(t)},Ze=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),ul=function(t,e,r){return new Ze(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},mf=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=ul(this.start,this.startControl,e),s=ul(this.startControl,this.endControl,e),i=ul(this.endControl,this.end,e),a=ul(n,s,e),A=ul(s,i,e),l=ul(a,A,e);return r?new t(this.start,n,a,l):new t(l,A,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),_s=function(t){return t.type===1},WT=function(){function t(e){var r=e.styles,n=e.bounds,s=vu(r.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],A=vu(r.borderTopRightRadius,n.width,n.height),l=A[0],c=A[1],u=vu(r.borderBottomRightRadius,n.width,n.height),d=u[0],f=u[1],g=vu(r.borderBottomLeftRadius,n.width,n.height),m=g[0],w=g[1],B=[];B.push((i+l)/n.width),B.push((m+d)/n.width),B.push((a+w)/n.height),B.push((c+f)/n.height);var x=Math.max.apply(Math,B);x>1&&(i/=x,a/=x,l/=x,c/=x,d/=x,f/=x,m/=x,w/=x);var y=n.width-l,C=n.height-f,S=n.width-d,k=n.height-w,O=r.borderTopWidth,I=r.borderRightWidth,j=r.borderBottomWidth,R=r.borderLeftWidth,X=ar(r.paddingTop,e.bounds.width),Q=ar(r.paddingRight,e.bounds.width),F=ar(r.paddingBottom,e.bounds.width),K=ar(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?dr(n.left+R/3,n.top+O/3,i-R/3,a-O/3,zt.TOP_LEFT):new Ze(n.left+R/3,n.top+O/3),this.topRightBorderDoubleOuterBox=i>0||a>0?dr(n.left+y,n.top+O/3,l-I/3,c-O/3,zt.TOP_RIGHT):new Ze(n.left+n.width-I/3,n.top+O/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?dr(n.left+S,n.top+C,d-I/3,f-j/3,zt.BOTTOM_RIGHT):new Ze(n.left+n.width-I/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=m>0||w>0?dr(n.left+R/3,n.top+k,m-R/3,w-j/3,zt.BOTTOM_LEFT):new Ze(n.left+R/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?dr(n.left+R*2/3,n.top+O*2/3,i-R*2/3,a-O*2/3,zt.TOP_LEFT):new Ze(n.left+R*2/3,n.top+O*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?dr(n.left+y,n.top+O*2/3,l-I*2/3,c-O*2/3,zt.TOP_RIGHT):new Ze(n.left+n.width-I*2/3,n.top+O*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?dr(n.left+S,n.top+C,d-I*2/3,f-j*2/3,zt.BOTTOM_RIGHT):new Ze(n.left+n.width-I*2/3,n.top+n.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||w>0?dr(n.left+R*2/3,n.top+k,m-R*2/3,w-j*2/3,zt.BOTTOM_LEFT):new Ze(n.left+R*2/3,n.top+n.height-j*2/3),this.topLeftBorderStroke=i>0||a>0?dr(n.left+R/2,n.top+O/2,i-R/2,a-O/2,zt.TOP_LEFT):new Ze(n.left+R/2,n.top+O/2),this.topRightBorderStroke=i>0||a>0?dr(n.left+y,n.top+O/2,l-I/2,c-O/2,zt.TOP_RIGHT):new Ze(n.left+n.width-I/2,n.top+O/2),this.bottomRightBorderStroke=d>0||f>0?dr(n.left+S,n.top+C,d-I/2,f-j/2,zt.BOTTOM_RIGHT):new Ze(n.left+n.width-I/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=m>0||w>0?dr(n.left+R/2,n.top+k,m-R/2,w-j/2,zt.BOTTOM_LEFT):new Ze(n.left+R/2,n.top+n.height-j/2),this.topLeftBorderBox=i>0||a>0?dr(n.left,n.top,i,a,zt.TOP_LEFT):new Ze(n.left,n.top),this.topRightBorderBox=l>0||c>0?dr(n.left+y,n.top,l,c,zt.TOP_RIGHT):new Ze(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?dr(n.left+S,n.top+C,d,f,zt.BOTTOM_RIGHT):new Ze(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||w>0?dr(n.left,n.top+k,m,w,zt.BOTTOM_LEFT):new Ze(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?dr(n.left+R,n.top+O,Math.max(0,i-R),Math.max(0,a-O),zt.TOP_LEFT):new Ze(n.left+R,n.top+O),this.topRightPaddingBox=l>0||c>0?dr(n.left+Math.min(y,n.width-I),n.top+O,y>n.width+I?0:Math.max(0,l-I),Math.max(0,c-O),zt.TOP_RIGHT):new Ze(n.left+n.width-I,n.top+O),this.bottomRightPaddingBox=d>0||f>0?dr(n.left+Math.min(S,n.width-R),n.top+Math.min(C,n.height-j),Math.max(0,d-I),Math.max(0,f-j),zt.BOTTOM_RIGHT):new Ze(n.left+n.width-I,n.top+n.height-j),this.bottomLeftPaddingBox=m>0||w>0?dr(n.left+R,n.top+Math.min(k,n.height-j),Math.max(0,m-R),Math.max(0,w-j),zt.BOTTOM_LEFT):new Ze(n.left+R,n.top+n.height-j),this.topLeftContentBox=i>0||a>0?dr(n.left+R+K,n.top+O+X,Math.max(0,i-(R+K)),Math.max(0,a-(O+X)),zt.TOP_LEFT):new Ze(n.left+R+K,n.top+O+X),this.topRightContentBox=l>0||c>0?dr(n.left+Math.min(y,n.width+R+K),n.top+O+X,y>n.width+R+K?0:l-R+K,c-(O+X),zt.TOP_RIGHT):new Ze(n.left+n.width-(I+Q),n.top+O+X),this.bottomRightContentBox=d>0||f>0?dr(n.left+Math.min(S,n.width-(R+K)),n.top+Math.min(C,n.height+O+X),Math.max(0,d-(I+Q)),f-(j+F),zt.BOTTOM_RIGHT):new Ze(n.left+n.width-(I+Q),n.top+n.height-(j+F)),this.bottomLeftContentBox=m>0||w>0?dr(n.left+R+K,n.top+k,Math.max(0,m-(R+K)),w-(j+F),zt.BOTTOM_LEFT):new Ze(n.left+R+K,n.top+n.height-(j+F))}return t}(),zt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(zt||(zt={}));var dr=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),a=r*i,A=n*i,l=t+r,c=e+n;switch(s){case zt.TOP_LEFT:return new mf(new Ze(t,c),new Ze(t,c-A),new Ze(l-a,e),new Ze(l,e));case zt.TOP_RIGHT:return new mf(new Ze(t,e),new Ze(t+a,e),new Ze(l,c-A),new Ze(l,c));case zt.BOTTOM_RIGHT:return new mf(new Ze(l,e),new Ze(l,e+A),new Ze(t+a,c),new Ze(t,c));case zt.BOTTOM_LEFT:default:return new mf(new Ze(l,c),new Ze(l-a,c),new Ze(t,e+A),new Ze(t,e))}},$g=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},JT=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},qg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},XT=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),xf=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),YT=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),ZT=function(t){return t.type===0},FN=function(t){return t.type===1},eD=function(t){return t.type===2},R2=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},tD=function(t,e,r,n,s){return t.map(function(i,a){switch(a){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},EN=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),UN=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new WT(this.container),this.container.styles.opacity<1&&this.effects.push(new YT(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new XT(n,s,i))}if(this.container.styles.overflowX!==0){var a=$g(this.curves),A=qg(this.curves);R2(a,A)?this.effects.push(new xf(a,6)):(this.effects.push(new xf(a,2)),this.effects.push(new xf(A,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!FN(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=$g(n.curves),A=qg(n.curves);R2(a,A)||s.unshift(new xf(A,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return $r(l.target,e)})},t}(),Kv=function(t,e,r,n){t.container.elements.forEach(function(s){var i=$r(s.flags,4),a=$r(s.flags,2),A=new UN(s,t);$r(s.styles.display,2048)&&n.push(A);var l=$r(s.flags,8)?[]:n;if(i||a){var c=i||s.styles.isPositioned()?r:e,u=new EN(A);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var f=0;c.negativeZIndex.some(function(m,w){return d>m.element.container.styles.zIndex.order?(f=w,!1):f>0}),c.negativeZIndex.splice(f,0,u)}else if(d>0){var g=0;c.positiveZIndex.some(function(m,w){return d>=m.element.container.styles.zIndex.order?(g=w+1,!1):g>0}),c.positiveZIndex.splice(g,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Kv(A,u,i?u:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),Kv(A,e,r,l);$r(s.flags,8)&&kN(s,l)})},kN=function(t,e){for(var r=t instanceof Dv?t.start:1,n=t instanceof Dv?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof gN&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=wd(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},rD=function(t){var e=new UN(t,null),r=new EN(e),n=[];return Kv(e,r,r,n),kN(e.container,n),r},K2=function(t,e){switch(e){case 0:return Fs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Fs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Fs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Fs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},nD=function(t,e){switch(e){case 0:return Fs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Fs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Fs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Fs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},sD=function(t,e){switch(e){case 0:return Fs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Fs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Fs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Fs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},iD=function(t,e){switch(e){case 0:return vf(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return vf(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return vf(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return vf(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},vf=function(t,e){var r=[];return _s(t)?r.push(t.subdivide(.5,!1)):r.push(t),_s(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Fs=function(t,e,r,n){var s=[];return _s(t)?s.push(t.subdivide(.5,!1)):s.push(t),_s(r)?s.push(r.subdivide(.5,!0)):s.push(r),_s(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),_s(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},QN=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Gg=function(t){var e=t.styles,r=t.bounds,n=ar(e.paddingLeft,r.width),s=ar(e.paddingRight,r.width),i=ar(e.paddingTop,r.width),a=ar(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},aD=function(t,e){return t===0?e.bounds:t===2?Gg(e):QN(e)},oD=function(t,e){return t===0?e.bounds:t===2?Gg(e):QN(e)},Om=function(t,e,r){var n=aD(wl(t.styles.backgroundOrigin,e),t),s=oD(wl(t.styles.backgroundClip,e),t),i=AD(wl(t.styles.backgroundSize,e),r,n),a=i[0],A=i[1],l=vu(wl(t.styles.backgroundPosition,e),n.width-a,n.height-A),c=lD(wl(t.styles.backgroundRepeat,e),l,i,n,s),u=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[c,u,d,a,A]},dl=function(t){return er(t)&&t.value===Kl.AUTO},wf=function(t){return typeof t=="number"},AD=function(t,e,r){var n=e[0],s=e[1],i=e[2],a=t[0],A=t[1];if(!a)return[0,0];if(Hr(a)&&A&&Hr(A))return[ar(a,r.width),ar(A,r.height)];var l=wf(i);if(er(a)&&(a.value===Kl.CONTAIN||a.value===Kl.COVER)){if(wf(i)){var c=r.width/r.height;return c<i!=(a.value===Kl.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=wf(n),d=wf(s),f=u||d;if(dl(a)&&(!A||dl(A))){if(u&&d)return[n,s];if(!l&&!f)return[r.width,r.height];if(f&&l){var g=u?n:s*i,m=d?s:n/i;return[g,m]}var w=u?n:r.width,B=d?s:r.height;return[w,B]}if(l){var x=0,y=0;return Hr(a)?x=ar(a,r.width):Hr(A)&&(y=ar(A,r.height)),dl(a)?x=y*i:(!A||dl(A))&&(y=x/i),[x,y]}var C=null,S=null;if(Hr(a)?C=ar(a,r.width):A&&Hr(A)&&(S=ar(A,r.height)),C!==null&&(!A||dl(A))&&(S=u&&d?C/n*s:r.height),S!==null&&dl(a)&&(C=u&&d?S/s*n:r.width),C!==null&&S!==null)return[C,S];throw new Error("Unable to calculate background-size for element")},wl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},lD=function(t,e,r,n,s){var i=e[0],a=e[1],A=r[0],l=r[1];switch(t){case 2:return[new Ze(Math.round(n.left),Math.round(n.top+a)),new Ze(Math.round(n.left+n.width),Math.round(n.top+a)),new Ze(Math.round(n.left+n.width),Math.round(l+n.top+a)),new Ze(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new Ze(Math.round(n.left+i),Math.round(n.top)),new Ze(Math.round(n.left+i+A),Math.round(n.top)),new Ze(Math.round(n.left+i+A),Math.round(n.height+n.top)),new Ze(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Ze(Math.round(n.left+i),Math.round(n.top+a)),new Ze(Math.round(n.left+i+A),Math.round(n.top+a)),new Ze(Math.round(n.left+i+A),Math.round(n.top+a+l)),new Ze(Math.round(n.left+i),Math.round(n.top+a+l))];default:return[new Ze(Math.round(s.left),Math.round(s.top)),new Ze(Math.round(s.left+s.width),Math.round(s.top)),new Ze(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Ze(Math.round(s.left),Math.round(s.height+s.top))]}},cD="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",V2="Hidden Text",uD=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=cD,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(V2)),n.appendChild(i),n.appendChild(s);var A=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(V2)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:A,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),LN=function(){function t(e,r){this.context=e,this.options=r}return t}(),dD=1e4,hD=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new uD(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),eD(r)&&(this.ctx.globalAlpha=r.opacity),ZT(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),FN(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Fn(this,void 0,void 0,function(){var n;return vn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Fn(this,void 0,void 0,function(){return vn(this,function(n){switch(n.label){case 0:if($r(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var a=py(r.text);a.reduce(function(A,l){return i.ctx.fillText(l,A,r.bounds.top+s),A+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=xD(r.fontFamily).join(", "),i=Od(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return Fn(this,void 0,void 0,function(){var s,i,a,A,l,c,u,d,f=this;return vn(this,function(g){return s=this.createFontStyle(n),i=s[0],a=s[1],A=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,A),c=l.baseline,u=l.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(w){switch(w){case 0:f.ctx.fillStyle=Zr(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,c);var B=n.textShadow;B.length&&m.text.trim().length&&(B.slice(0).reverse().forEach(function(x){f.ctx.shadowColor=Zr(x.color),f.ctx.shadowOffsetX=x.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=x.offsetY.number*f.options.scale,f.ctx.shadowBlur=x.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=Zr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=Zr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Gg(r),a=qg(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Fn(this,void 0,void 0,function(){var n,s,i,a,A,l,y,y,c,u,d,f,S,g,m,k,w,B,x,y,C,S,k;return vn(this,function(O){switch(O.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,a=0,A=n.textNodes,O.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,i)]):[3,4];case 2:O.sent(),O.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof dN))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=O.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof hN&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof fN))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=O.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof xN&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=O.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),O.label=14;case 14:if(n instanceof my&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===Rg?n.checked&&(this.ctx.save(),this.path([new Ze(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Ze(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Ze(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Ze(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Ze(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Ze(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Ze(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=Zr(U2),this.ctx.fill(),this.ctx.restore()):n.type===Kg&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Zr(U2),this.ctx.fill(),this.ctx.restore())),fD(n)&&n.value.length){switch(f=this.createFontStyle(i),S=f[0],g=f[1],m=this.fontMetrics.getMetrics(S,g).baseline,this.ctx.font=S,this.ctx.fillStyle=Zr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pD(n.styles.textAlign),k=Gg(n),w=0,n.styles.textAlign){case 1:w+=k.width/2;break;case 2:w+=k.width;break}B=k.add(w,0,0,-k.height/2+1),this.ctx.save(),this.path([new Ze(k.left,k.top),new Ze(k.left+k.width,k.top),new Ze(k.left+k.width,k.top+k.height),new Ze(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Hu(n.value,B),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!$r(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];y=void 0,C=x.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return y=O.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(i)[0],this.ctx.font=S,this.ctx.fillStyle=Zr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new aa(n.bounds.left,n.bounds.top+ar(n.styles.paddingTop,n.bounds.width),n.bounds.width,f2(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Hu(r.listValue,k),i.letterSpacing,f2(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Fn(this,void 0,void 0,function(){var n,s,x,i,a,x,A,l,x,c,u,x,d,f,x,g,m,x,w,B,x;return vn(this,function(y){switch(y.label){case 0:if($r(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(x=s[n],[4,this.renderStack(x)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,a=r.nonInlineLevel,y.label=7;case 7:return i<a.length?(x=a[i],[4,this.renderNode(x)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:A=0,l=r.nonPositionedFloats,y.label=11;case 11:return A<l.length?(x=l[A],[4,this.renderStack(x)]):[3,14];case 12:y.sent(),y.label=13;case 13:return A++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return c<u.length?(x=u[c],[4,this.renderStack(x)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:d=0,f=r.inlineLevel,y.label=19;case 19:return d<f.length?(x=f[d],[4,this.renderNode(x)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return g<m.length?(x=m[g],[4,this.renderStack(x)]):[3,26];case 24:y.sent(),y.label=25;case 25:return g++,[3,23];case 26:w=0,B=r.positiveZIndex,y.label=27;case 27:return w<B.length?(x=B[w],[4,this.renderStack(x)]):[3,30];case 28:y.sent(),y.label=29;case 29:return w++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var a=_s(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),_s(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=a.createElement("canvas");A.width=Math.max(1,n),A.height=Math.max(1,s);var l=A.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),A},e.prototype.renderBackgroundImage=function(r){return Fn(this,void 0,void 0,function(){var n,s,i,a,A,l;return vn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(u){var d,f,g,X,re,ce,K,$,j,m,X,re,ce,K,$,w,B,x,y,C,S,k,O,I,j,R,X,Q,F,K,$,fe,re,ce,W,ie,de,te,_,L,M,z;return vn(this,function(J){switch(J.label){case 0:if(u.type!==0)return[3,5];d=void 0,f=u.url,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return d=J.sent(),[3,4];case 3:return J.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(g=Om(r,n,[d.width,d.height,d.width/d.height]),X=g[0],re=g[1],ce=g[2],K=g[3],$=g[4],j=i.ctx.createPattern(i.resizeImage(d,K,$),"repeat"),i.renderRepeat(X,j,re,ce)),[3,6];case 5:Z6(u)?(m=Om(r,n,[null,null,null]),X=m[0],re=m[1],ce=m[2],K=m[3],$=m[4],w=G6(u.angle,K,$),B=w[0],x=w[1],y=w[2],C=w[3],S=w[4],k=document.createElement("canvas"),k.width=K,k.height=$,O=k.getContext("2d"),I=O.createLinearGradient(x,C,y,S),d2(u.stops,B).forEach(function(ae){return I.addColorStop(ae.stop,Zr(ae.color))}),O.fillStyle=I,O.fillRect(0,0,K,$),K>0&&$>0&&(j=i.ctx.createPattern(k,"repeat"),i.renderRepeat(X,j,re,ce))):eI(u)&&(R=Om(r,n,[null,null,null]),X=R[0],Q=R[1],F=R[2],K=R[3],$=R[4],fe=u.position.length===0?[hy]:u.position,re=ar(fe[0],K),ce=ar(fe[fe.length-1],$),W=W6(u,re,ce,K,$),ie=W[0],de=W[1],ie>0&&de>0&&(te=i.ctx.createRadialGradient(Q+re,F+ce,0,Q+re,F+ce,ie),d2(u.stops,ie*2).forEach(function(ae){return te.addColorStop(ae.stop,Zr(ae.color))}),i.path(X),i.ctx.fillStyle=te,ie!==de?(_=r.bounds.left+.5*r.bounds.width,L=r.bounds.top+.5*r.bounds.height,M=de/ie,z=1/M,i.ctx.save(),i.ctx.translate(_,L),i.ctx.transform(1,0,0,M,0,0),i.ctx.translate(-_,-L),i.ctx.fillRect(Q,z*(F-L)+L,K,$*z),i.ctx.restore()):i.ctx.fill())),J.label=6;case 6:return n--,[2]}})},i=this,a=0,A=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<A.length?(l=A[a],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return Fn(this,void 0,void 0,function(){return vn(this,function(i){return this.path(K2(s,n)),this.ctx.fillStyle=Zr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return Fn(this,void 0,void 0,function(){var a,A;return vn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return a=nD(i,s),this.path(a),this.ctx.fillStyle=Zr(r),this.ctx.fill(),A=sD(i,s),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Fn(this,void 0,void 0,function(){var n,s,i,a,A,l,c,u,d=this;return vn(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!co(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=gD(wl(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),co(n.backgroundColor)||(this.ctx.fillStyle=Zr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var m=$g(r.curves),w=g.inset?0:dD,B=tD(m,-w+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(m),d.ctx.clip(),d.mask(B)):(d.mask(m),d.ctx.clip(),d.path(B)),d.ctx.shadowOffsetX=g.offsetX.number+w,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=Zr(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?Zr(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:A=0,l=0,c=i,f.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!co(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,A,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,A,r.curves)];case 10:f.sent(),f.label=11;case 11:A++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,a){return Fn(this,void 0,void 0,function(){var A,l,c,u,d,f,g,m,w,B,x,y,C,S,k,O,k,O;return vn(this,function(I){return this.ctx.save(),A=iD(i,s),l=K2(i,s),a===2&&(this.path(l),this.ctx.clip()),_s(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),_s(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),s===0||s===2?g=Math.abs(c-d):g=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(l.slice(0,2)),m=n<3?n*3:n*2,w=n<3?n*2:n,a===3&&(m=n,w=n),B=!0,g<=m*2?B=!1:g<=m*2+w?(x=g/(2*m+w),m*=x,w*=x):(y=Math.floor((g+w)/(m+w)),C=(g-y*m)/(y-1),S=(g-(y+1)*m)/y,w=S<=0||Math.abs(w-C)<Math.abs(w-S)?C:S),B&&(a===3?this.ctx.setLineDash([0,m+w]):this.ctx.setLineDash([m,w])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Zr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(_s(l[0])&&(k=l[3],O=l[0],this.ctx.beginPath(),this.formatPath([new Ze(k.end.x,k.end.y),new Ze(O.start.x,O.start.y)]),this.ctx.stroke()),_s(l[1])&&(k=l[1],O=l[2],this.ctx.beginPath(),this.formatPath([new Ze(k.end.x,k.end.y),new Ze(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Fn(this,void 0,void 0,function(){var n;return vn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Zr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=rD(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(LN),fD=function(t){return t instanceof mN||t instanceof pN?!0:t instanceof my&&t.type!==Kg&&t.type!==Rg},gD=function(t,e){switch(t){case 0:return $g(e);case 2:return JT(e);case 1:default:return qg(e)}},pD=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},mD=["-apple-system","system-ui"],xD=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return mD.indexOf(e)===-1}):t},vD=function(t){ii(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return Fn(this,void 0,void 0,function(){var n,s;return vn(this,function(i){switch(i.label){case 0:return n=Tv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,wD(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Zr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(LN),wD=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},yD=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Xh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Xh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Xh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Xh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),bD=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new yD({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new RT(this,e)}return t.instanceCount=1,t}(),Op=function(t,e){return e===void 0&&(e={}),BD(t,e)};typeof window<"u"&&jN.setContext(window);var BD=function(t,e){return Fn(void 0,void 0,void 0,function(){var r,n,s,i,a,A,l,c,u,d,f,g,m,w,B,x,y,C,S,k,I,O,I,j,R,X,Q,F,K,$,fe,re,ce,W,ie,de,te,_,L,M;return vn(this,function(z){switch(z.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(R=e.imageTimeout)!==null&&R!==void 0?R:15e3,proxy:e.proxy,useCORS:(X=e.useCORS)!==null&&X!==void 0?X:!1},i=bv({logging:(Q=e.logging)!==null&&Q!==void 0?Q:!0,cache:e.cache},s),a={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(K=e.windowHeight)!==null&&K!==void 0?K:n.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:n.pageXOffset,scrollY:(fe=e.scrollY)!==null&&fe!==void 0?fe:n.pageYOffset},A=new aa(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new bD(i,A),c=(re=e.foreignObjectRendering)!==null&&re!==void 0?re:!1,u={allowTaint:(ce=e.allowTaint)!==null&&ce!==void 0?ce:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),d=new H2(l,t,u),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=z.sent(),m=xy(f)||_T(f)?tL(f.ownerDocument):Fp(l,f),w=m.width,B=m.height,x=m.left,y=m.top,C=CD(l,f,e.backgroundColor),S={canvas:e.canvas,backgroundColor:C,scale:(ie=(W=e.scale)!==null&&W!==void 0?W:n.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((de=e.x)!==null&&de!==void 0?de:0)+x,y:((te=e.y)!==null&&te!==void 0?te:0)+y,width:(_=e.width)!==null&&_!==void 0?_:Math.ceil(w),height:(L=e.height)!==null&&L!==void 0?L:Math.ceil(B)},c?(l.logger.debug("Document cloned, using foreign object rendering"),I=new vD(l,S),[4,I.render(f)]):[3,3];case 2:return k=z.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+y+" with size "+w+"x"+B+" using computed rendering"),l.logger.debug("Starting DOM parsing"),O=wN(l,f),C===O.styles.backgroundColor&&(O.styles.backgroundColor=ta.TRANSPARENT),l.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),I=new hD(l,S),[4,I.render(O)];case 4:k=z.sent(),z.label=5;case 5:return(!((M=e.removeContainer)!==null&&M!==void 0)||M)&&(H2.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,k]}})})},CD=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?Du(t,getComputedStyle(n.documentElement).backgroundColor):ta.TRANSPARENT,i=n.body?Du(t,getComputedStyle(n.body).backgroundColor):ta.TRANSPARENT,a=typeof r=="string"?Du(t,r):r===null?ta.TRANSPARENT:4294967295;return e===n.documentElement?co(s)?co(i)?a:i:s:a};const Vv=Object.freeze(Object.defineProperty({__proto__:null,default:Op},Symbol.toStringTag,{value:"Module"}));function Jt(t){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(t)}var bn=Uint8Array,os=Uint16Array,vy=Int32Array,Hp=new bn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mp=new bn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zv=new bn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IN=function(t,e){for(var r=new os(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new vy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},PN=IN(Hp,2),TN=PN.b,$v=PN.r;TN[28]=258,$v[258]=28;var DN=IN(Mp,0),_D=DN.b,z2=DN.r,qv=new os(32768);for(var cr=0;cr<32768;++cr){var _a=(cr&43690)>>1|(cr&21845)<<1;_a=(_a&52428)>>2|(_a&13107)<<2,_a=(_a&61680)>>4|(_a&3855)<<4,qv[cr]=((_a&65280)>>8|(_a&255)<<8)>>1}var Si=function(t,e,r){for(var n=t.length,s=0,i=new os(e);s<n;++s)t[s]&&++i[t[s]-1];var a=new os(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var A;if(r){A=new os(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],d=a[t[s]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)A[qv[d]>>l]=c}else for(A=new os(n),s=0;s<n;++s)t[s]&&(A[s]=qv[a[t[s]-1]++]>>15-t[s]);return A},mo=new bn(288);for(var cr=0;cr<144;++cr)mo[cr]=8;for(var cr=144;cr<256;++cr)mo[cr]=9;for(var cr=256;cr<280;++cr)mo[cr]=7;for(var cr=280;cr<288;++cr)mo[cr]=8;var yd=new bn(32);for(var cr=0;cr<32;++cr)yd[cr]=5;var ND=Si(mo,9,0),SD=Si(mo,9,1),jD=Si(yd,5,0),FD=Si(yd,5,1),Hm=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Vs=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Mm=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},wy=function(t){return(t+7)/8|0},ON=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new bn(t.subarray(e,r))},ED=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ws=function(t,e,r){var n=new Error(e||ED[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ws),!r)throw n;return n},UD=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new bn(0);var a=!r,A=a||e.i!=2,l=e.i;a&&(r=new bn(s*3));var c=function(_e){var je=r.length;if(_e>je){var ke=new bn(Math.max(je*2,_e));ke.set(r),r=ke}},u=e.f||0,d=e.p||0,f=e.b||0,g=e.l,m=e.d,w=e.m,B=e.n,x=s*8;do{if(!g){u=Vs(t,d,1);var y=Vs(t,d+1,3);if(d+=3,y)if(y==1)g=SD,m=FD,w=9,B=5;else if(y==2){var O=Vs(t,d,31)+257,I=Vs(t,d+10,15)+4,j=O+Vs(t,d+5,31)+1;d+=14;for(var R=new bn(j),X=new bn(19),Q=0;Q<I;++Q)X[zv[Q]]=Vs(t,d+Q*3,7);d+=I*3;for(var F=Hm(X),K=(1<<F)-1,$=Si(X,F,1),Q=0;Q<j;){var fe=$[Vs(t,d,K)];d+=fe&15;var C=fe>>4;if(C<16)R[Q++]=C;else{var re=0,ce=0;for(C==16?(ce=3+Vs(t,d,3),d+=2,re=R[Q-1]):C==17?(ce=3+Vs(t,d,7),d+=3):C==18&&(ce=11+Vs(t,d,127),d+=7);ce--;)R[Q++]=re}}var W=R.subarray(0,O),ie=R.subarray(O);w=Hm(W),B=Hm(ie),g=Si(W,w,1),m=Si(ie,B,1)}else Ws(1);else{var C=wy(d)+4,S=t[C-4]|t[C-3]<<8,k=C+S;if(k>s){l&&Ws(0);break}A&&c(f+S),r.set(t.subarray(C,k),f),e.b=f+=S,e.p=d=k*8,e.f=u;continue}if(d>x){l&&Ws(0);break}}A&&c(f+131072);for(var de=(1<<w)-1,te=(1<<B)-1,_=d;;_=d){var re=g[Mm(t,d)&de],L=re>>4;if(d+=re&15,d>x){l&&Ws(0);break}if(re||Ws(2),L<256)r[f++]=L;else if(L==256){_=d,g=null;break}else{var M=L-254;if(L>264){var Q=L-257,z=Hp[Q];M=Vs(t,d,(1<<z)-1)+TN[Q],d+=z}var J=m[Mm(t,d)&te],ae=J>>4;J||Ws(3),d+=J&15;var ie=_D[ae];if(ae>3){var z=Mp[ae];ie+=Mm(t,d)&(1<<z)-1,d+=z}if(d>x){l&&Ws(0);break}A&&c(f+131072);var le=f+M;if(f<ie){var ne=i-ie,we=Math.min(ie,le);for(ne+f<0&&Ws(3);f<we;++f)r[f]=n[ne+f]}for(;f<le;++f)r[f]=r[f-ie]}}e.l=g,e.p=_,e.b=f,e.f=u,g&&(u=1,e.m=w,e.d=m,e.n=B)}while(!u);return f!=r.length&&a?ON(r,0,f):r.subarray(0,f)},Vi=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},nu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Rm=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:MN,l:0};if(s==1){var a=new bn(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(k,O){return k.f-O.f}),r.push({s:-1,f:25001});var A=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:A.f+l.f,l:A,r:l};u!=s-1;)A=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:A.f+l.f,l:A,r:l};for(var f=i[0].s,n=1;n<s;++n)i[n].s>f&&(f=i[n].s);var g=new os(f+1),m=Gv(r[u-1],g,0);if(m>e){var n=0,w=0,B=m-e,x=1<<B;for(i.sort(function(O,I){return g[I.s]-g[O.s]||O.f-I.f});n<s;++n){var y=i[n].s;if(g[y]>e)w+=x-(1<<m-g[y]),g[y]=e;else break}for(w>>=B;w>0;){var C=i[n].s;g[C]<e?w-=1<<e-g[C]++-1:++n}for(;n>=0&&w;--n){var S=i[n].s;g[S]==e&&(--g[S],++w)}m=e}return{t:new bn(g),l:m}},Gv=function(t,e,r){return t.s==-1?Math.max(Gv(t.l,e,r+1),Gv(t.r,e,r+1)):e[t.s]=r},$2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new os(++e),n=0,s=t[0],i=1,a=function(l){r[n++]=l},A=1;A<=e;++A)if(t[A]==s&&A!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[A]}return{c:r.subarray(0,n),n:e}},su=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},HN=function(t,e,r){var n=r.length,s=wy(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},q2=function(t,e,r,n,s,i,a,A,l,c,u){Vi(e,u++,r),++s[256];for(var d=Rm(s,15),f=d.t,g=d.l,m=Rm(i,15),w=m.t,B=m.l,x=$2(f),y=x.c,C=x.n,S=$2(w),k=S.c,O=S.n,I=new os(19),j=0;j<y.length;++j)++I[y[j]&31];for(var j=0;j<k.length;++j)++I[k[j]&31];for(var R=Rm(I,7),X=R.t,Q=R.l,F=19;F>4&&!X[zv[F-1]];--F);var K=c+5<<3,$=su(s,mo)+su(i,yd)+a,fe=su(s,f)+su(i,w)+a+14+3*F+su(I,X)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&K<=$&&K<=fe)return HN(e,u,t.subarray(l,l+c));var re,ce,W,ie;if(Vi(e,u,1+(fe<$)),u+=2,fe<$){re=Si(f,g,0),ce=f,W=Si(w,B,0),ie=w;var de=Si(X,Q,0);Vi(e,u,C-257),Vi(e,u+5,O-1),Vi(e,u+10,F-4),u+=14;for(var j=0;j<F;++j)Vi(e,u+3*j,X[zv[j]]);u+=3*F;for(var te=[y,k],_=0;_<2;++_)for(var L=te[_],j=0;j<L.length;++j){var M=L[j]&31;Vi(e,u,de[M]),u+=X[M],M>15&&(Vi(e,u,L[j]>>5&127),u+=L[j]>>12)}}else re=ND,ce=mo,W=jD,ie=yd;for(var j=0;j<A;++j){var z=n[j];if(z>255){var M=z>>18&31;nu(e,u,re[M+257]),u+=ce[M+257],M>7&&(Vi(e,u,z>>23&31),u+=Hp[M]);var J=z&31;nu(e,u,W[J]),u+=ie[J],J>3&&(nu(e,u,z>>5&8191),u+=Mp[J])}else nu(e,u,re[z]),u+=ce[z]}return nu(e,u,re[256]),u+ce[256]},kD=new vy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MN=new bn(0),QD=function(t,e,r,n,s,i){var a=i.z||t.length,A=new bn(n+a+5*(1+Math.ceil(a/7e3))+s),l=A.subarray(n,A.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var d=kD[e-1],f=d>>13,g=d&8191,m=(1<<r)-1,w=i.p||new os(32768),B=i.h||new os(m+1),x=Math.ceil(r/3),y=2*x,C=function(De){return(t[De]^t[De+1]<<x^t[De+2]<<y)&m},S=new vy(25e3),k=new os(288),O=new os(32),I=0,j=0,R=i.i||0,X=0,Q=i.w||0,F=0;R+2<a;++R){var K=C(R),$=R&32767,fe=B[K];if(w[$]=fe,B[K]=$,Q<=R){var re=a-R;if((I>7e3||X>24576)&&(re>423||!c)){u=q2(t,l,0,S,k,O,j,X,F,R-F,u),X=I=j=0,F=R;for(var ce=0;ce<286;++ce)k[ce]=0;for(var ce=0;ce<30;++ce)O[ce]=0}var W=2,ie=0,de=g,te=$-fe&32767;if(re>2&&K==C(R-te))for(var _=Math.min(f,re)-1,L=Math.min(32767,R),M=Math.min(258,re);te<=L&&--de&&$!=fe;){if(t[R+W]==t[R+W-te]){for(var z=0;z<M&&t[R+z]==t[R+z-te];++z);if(z>W){if(W=z,ie=te,z>_)break;for(var J=Math.min(te,z-2),ae=0,ce=0;ce<J;++ce){var le=R-te+ce&32767,ne=w[le],we=le-ne&32767;we>ae&&(ae=we,fe=le)}}}$=fe,fe=w[$],te+=$-fe&32767}if(ie){S[X++]=268435456|$v[W]<<18|z2[ie];var _e=$v[W]&31,je=z2[ie]&31;j+=Hp[_e]+Mp[je],++k[257+_e],++O[je],Q=R+W,++I}else S[X++]=t[R],++k[t[R]]}}for(R=Math.max(R,Q);R<a;++R)S[X++]=t[R],++k[t[R]];u=q2(t,l,c,S,k,O,j,X,F,R-F,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=B,i.p=w,i.i=R,i.w=Q)}else{for(var R=i.w||0;R<a+c;R+=65535){var ke=R+65535;ke>=a&&(l[u/8|0]=c,ke=a),u=HN(l,u+1,t.subarray(R,ke))}i.i=a}return ON(A,0,n+wy(u)+s)},RN=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,a=0;a!=i;){for(var A=Math.min(a+2655,i);a<A;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},LD=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new bn(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return QD(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},KN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},ID=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=RN();s.p(e.dictionary),KN(t,2,s.d())}},PD=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ws(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ws(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Wv(t,e){e||(e={});var r=RN();r.p(t);var n=LD(t,e,e.dictionary?6:2,4);return ID(n,e),KN(n,n.length-4,r.d()),n}function TD(t,e){return UD(t.subarray(PD(t),-4),{i:2},e,e)}var DD=typeof TextDecoder<"u"&&new TextDecoder,OD=0;try{DD.decode(MN,{stream:!0}),OD=1}catch{}var xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Km(){xt.console&&typeof xt.console.log=="function"&&xt.console.log.apply(xt.console,arguments)}var rr={log:Km,warn:function(t){xt.console&&(typeof xt.console.warn=="function"?xt.console.warn.apply(xt.console,arguments):Km.call(null,arguments))},error:function(t){xt.console&&(typeof xt.console.error=="function"?xt.console.error.apply(xt.console,arguments):Km(t))}};function Vm(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){zo(n.response,e,r)},n.onerror=function(){rr.error("could not download file")},n.send()}function G2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function yf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ru,Jv,zo=xt.saveAs||((typeof window>"u"?"undefined":Jt(window))!=="object"||window!==xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=xt.URL||xt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?G2(s.href)?Vm(t,e,r):yf(s,s.target="_blank"):yf(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){yf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(G2(t))Vm(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){yf(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Jt(i)!=="object"&&(rr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Vm(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(xt.HTMLElement)||xt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Jt(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var u=A.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},A.readAsDataURL(t)}else{var l=xt.URL||xt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function VN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zm(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=fn(r,n,s,i,e[0],7,-680876936),i=fn(i,r,n,s,e[1],12,-389564586),s=fn(s,i,r,n,e[2],17,606105819),n=fn(n,s,i,r,e[3],22,-1044525330),r=fn(r,n,s,i,e[4],7,-176418897),i=fn(i,r,n,s,e[5],12,1200080426),s=fn(s,i,r,n,e[6],17,-1473231341),n=fn(n,s,i,r,e[7],22,-45705983),r=fn(r,n,s,i,e[8],7,1770035416),i=fn(i,r,n,s,e[9],12,-1958414417),s=fn(s,i,r,n,e[10],17,-42063),n=fn(n,s,i,r,e[11],22,-1990404162),r=fn(r,n,s,i,e[12],7,1804603682),i=fn(i,r,n,s,e[13],12,-40341101),s=fn(s,i,r,n,e[14],17,-1502002290),r=gn(r,n=fn(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=gn(i,r,n,s,e[6],9,-1069501632),s=gn(s,i,r,n,e[11],14,643717713),n=gn(n,s,i,r,e[0],20,-373897302),r=gn(r,n,s,i,e[5],5,-701558691),i=gn(i,r,n,s,e[10],9,38016083),s=gn(s,i,r,n,e[15],14,-660478335),n=gn(n,s,i,r,e[4],20,-405537848),r=gn(r,n,s,i,e[9],5,568446438),i=gn(i,r,n,s,e[14],9,-1019803690),s=gn(s,i,r,n,e[3],14,-187363961),n=gn(n,s,i,r,e[8],20,1163531501),r=gn(r,n,s,i,e[13],5,-1444681467),i=gn(i,r,n,s,e[2],9,-51403784),s=gn(s,i,r,n,e[7],14,1735328473),r=pn(r,n=gn(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=pn(i,r,n,s,e[8],11,-2022574463),s=pn(s,i,r,n,e[11],16,1839030562),n=pn(n,s,i,r,e[14],23,-35309556),r=pn(r,n,s,i,e[1],4,-1530992060),i=pn(i,r,n,s,e[4],11,1272893353),s=pn(s,i,r,n,e[7],16,-155497632),n=pn(n,s,i,r,e[10],23,-1094730640),r=pn(r,n,s,i,e[13],4,681279174),i=pn(i,r,n,s,e[0],11,-358537222),s=pn(s,i,r,n,e[3],16,-722521979),n=pn(n,s,i,r,e[6],23,76029189),r=pn(r,n,s,i,e[9],4,-640364487),i=pn(i,r,n,s,e[12],11,-421815835),s=pn(s,i,r,n,e[15],16,530742520),r=mn(r,n=pn(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=mn(i,r,n,s,e[7],10,1126891415),s=mn(s,i,r,n,e[14],15,-1416354905),n=mn(n,s,i,r,e[5],21,-57434055),r=mn(r,n,s,i,e[12],6,1700485571),i=mn(i,r,n,s,e[3],10,-1894986606),s=mn(s,i,r,n,e[10],15,-1051523),n=mn(n,s,i,r,e[1],21,-2054922799),r=mn(r,n,s,i,e[8],6,1873313359),i=mn(i,r,n,s,e[15],10,-30611744),s=mn(s,i,r,n,e[6],15,-1560198380),n=mn(n,s,i,r,e[13],21,1309151649),r=mn(r,n,s,i,e[4],6,-145523070),i=mn(i,r,n,s,e[11],10,-1120210379),s=mn(s,i,r,n,e[2],15,718787259),n=mn(n,s,i,r,e[9],21,-343485551),t[0]=qa(r,t[0]),t[1]=qa(n,t[1]),t[2]=qa(s,t[2]),t[3]=qa(i,t[3])}function Rp(t,e,r,n,s,i){return e=qa(qa(e,t),qa(n,i)),qa(e<<s|e>>>32-s,r)}function fn(t,e,r,n,s,i,a){return Rp(e&r|~e&n,t,e,s,i,a)}function gn(t,e,r,n,s,i,a){return Rp(e&n|r&~n,t,e,s,i,a)}function pn(t,e,r,n,s,i,a){return Rp(e^r^n,t,e,s,i,a)}function mn(t,e,r,n,s,i,a){return Rp(r^(e|~n),t,e,s,i,a)}function zN(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)zm(n,HD(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(zm(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,zm(n,s),n}function HD(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Ru=xt.atob.bind(xt),Jv=xt.btoa.bind(xt);var W2="0123456789abcdef".split("");function MD(t){for(var e="",r=0;r<4;r++)e+=W2[t>>8*r+4&15]+W2[t>>8*r&15];return e}function RD(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Xv(t){return zN(t).map(RD).join("")}var KD=function(t){for(var e=0;e<t.length;e++)t[e]=MD(t[e]);return t.join("")}(zN("hello"))!="5d41402abc4b2a76b9719d911017c592";function qa(t,e){if(KD){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Yv(t,e){var r,n,s,i;if(t!==r){for(var a=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var u=A[l];c=(c+u+a.charCodeAt(l))%256,A[l]=A[c],A[c]=u}r=t,n=A}else A=n;var d=e.length,f=0,g=0,m="";for(l=0;l<d;l++)g=(g+(u=A[f=(f+1)%256]))%256,A[f]=A[g],A[g]=u,a=A[(A[f]+A[g])%256],m+=String.fromCharCode(e.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var J2={print:4,modify:8,copy:16,"annot-forms":32};function yl(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(A){if(J2.perm!==void 0)throw new Error("Invalid permission: "+A);s+=J2[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Xv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Yv(this.encryptionKey,this.padding)}function bl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function X2(t){if(Jt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var a=e[r][i];try{a[0].apply(t,n)}catch(A){xt.console&&rr.error("jsPDF PubSub Error",A.message,A)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function bd(t){if(!(this instanceof bd))return new bd(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function $N(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ha(t,e,r,n,s){if(!(this instanceof Ha))return new Ha(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,$N.call(this,n,s)}function rA(t,e,r,n,s){if(!(this instanceof rA))return new rA(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,$N.call(this,n,s)}function dt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],A=1,l=16,c="S",u=null;Jt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),A=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},g={internal:{},__private__:{}};g.__private__.PubSub=X2;var m="1.3",w=g.__private__.getPdfVersion=function(){return m};g.__private__.setPdfVersion=function(v){m=v};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return B};var x=g.__private__.getPageFormat=function(v){return B[v]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},C=y.COMPAT;function S(){this.saveGraphicsState(),Y(new et(be,0,0,-be,0,ua()*be).toString()+" cm"),this.setFontSize(this.getFontSize()/be),c="n",C=y.ADVANCED}function k(){this.restoreGraphicsState(),c="S",C=y.COMPAT}var O=g.__private__.combineFontStyleAndFontWeight=function(v,U){if(v=="bold"&&U=="normal"||v=="bold"&&U==400||v=="normal"&&U=="italic"||v=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(v=U==400||U==="normal"?v==="italic"?"italic":"normal":U!=700&&U!=="bold"||v!=="normal"?(U==700?"bold":U)+""+v:"bold"),v};g.advancedAPI=function(v){var U=C===y.COMPAT;return U&&S.call(this),typeof v!="function"||(v(this),U&&k.call(this)),this},g.compatAPI=function(v){var U=C===y.ADVANCED;return U&&k.call(this),typeof v!="function"||(v(this),U&&S.call(this)),this},g.isAdvancedAPI=function(){return C===y.ADVANCED};var I,j=function(v){if(C!==y.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=g.roundToPrecision=g.__private__.roundToPrecision=function(v,U){var Z=e||U;if(isNaN(v)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Z).replace(/0+$/,"")};I=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return R(v,16)};var X=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return R(v,2)},Q=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return R(v,3)},F=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return C===y.COMPAT?v*be:C===y.ADVANCED?v:void 0},K=function(v){return C===y.COMPAT?ua()-v:C===y.ADVANCED?v:void 0},$=function(v){return F(K(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var fe,re="00000000000000000000000000000000",ce=g.__private__.getFileId=function(){return re},W=g.__private__.setFileId=function(v){return re=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(cn=new yl(u.userPermissions,u.userPassword,u.ownerPassword,re)),re};g.setFileId=function(v){return W(v),this},g.getFileId=function(){return ce()};var ie=g.__private__.convertDateToPDFDate=function(v){var U=v.getTimezoneOffset(),Z=U<0?"+":"-",Ae=Math.floor(Math.abs(U/60)),ve=Math.abs(U%60),Fe=[Z,M(Ae),"'",M(ve),"'"].join("");return["D:",v.getFullYear(),M(v.getMonth()+1),M(v.getDate()),M(v.getHours()),M(v.getMinutes()),M(v.getSeconds()),Fe].join("")},de=g.__private__.convertPDFDateToDate=function(v){var U=parseInt(v.substr(2,4),10),Z=parseInt(v.substr(6,2),10)-1,Ae=parseInt(v.substr(8,2),10),ve=parseInt(v.substr(10,2),10),Fe=parseInt(v.substr(12,2),10),Oe=parseInt(v.substr(14,2),10);return new Date(U,Z,Ae,ve,Fe,Oe,0)},te=g.__private__.setCreationDate=function(v){var U;if(v===void 0&&(v=new Date),v instanceof Date)U=ie(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=v}return fe=U},_=g.__private__.getCreationDate=function(v){var U=fe;return v==="jsDate"&&(U=de(fe)),U};g.setCreationDate=function(v){return te(v),this},g.getCreationDate=function(v){return _(v)};var L,M=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},z=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},J=0,ae=[],le=[],ne=0,we=[],_e=[],je=!1,ke=le,De=function(){J=0,ne=0,le=[],ae=[],we=[],Ls=Vt(),Is=Vt()};g.__private__.setCustomOutputDestination=function(v){je=!0,ke=v};var me=function(v){je||(ke=v)};g.__private__.resetCustomOutputDestination=function(){je=!1,ke=le};var Y=g.__private__.out=function(v){return v=v.toString(),ne+=v.length+1,ke.push(v),ke},ct=g.__private__.write=function(v){return Y(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ke=g.__private__.getArrayBuffer=function(v){for(var U=v.length,Z=new ArrayBuffer(U),Ae=new Uint8Array(Z);U--;)Ae[U]=v.charCodeAt(U);return Z},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Qe};var Re=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Re=C===y.ADVANCED?v/be:v,this};var $e,Ve=g.__private__.getFontSize=g.getFontSize=function(){return C===y.COMPAT?Re:Re*be},Ye=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return Ye=v,this},g.__private__.getR2L=g.getR2L=function(){return Ye};var Ne,Pe=g.__private__.setZoomMode=function(v){var U=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))$e=v;else if(isNaN(v)){if(U.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');$e=v}else $e=parseInt(v,10)};g.__private__.getZoomMode=function(){return $e};var q,ee=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Ne=v};g.__private__.getPageMode=function(){return Ne};var xe=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');q=v};g.__private__.getLayoutMode=function(){return q},g.__private__.setDisplayMode=g.setDisplayMode=function(v,U,Z){return Pe(v),xe(U),ee(Z),this};var Ee={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(Ee).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ee[v]},g.__private__.getDocumentProperties=function(){return Ee},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var U in Ee)Ee.hasOwnProperty(U)&&v[U]&&(Ee[U]=v[U]);return this},g.__private__.setDocumentProperty=function(v,U){if(Object.keys(Ee).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ee[v]=U};var qe,be,ot,At,Ut,rt={},Me={},Dt=[],ye={},Ht={},mt={},vt={},Et=null,yt=0,ht=[],se=new X2(g),oe=t.hotfixes||[],Ge={},We={},lt=[],et=function v(U,Z,Ae,ve,Fe,Oe){if(!(this instanceof v))return new v(U,Z,Ae,ve,Fe,Oe);isNaN(U)&&(U=1),isNaN(Z)&&(Z=0),isNaN(Ae)&&(Ae=0),isNaN(ve)&&(ve=1),isNaN(Fe)&&(Fe=0),isNaN(Oe)&&(Oe=0),this._matrix=[U,Z,Ae,ve,Fe,Oe]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(v)},et.prototype.multiply=function(v){var U=v.sx*this.sx+v.shy*this.shx,Z=v.sx*this.shy+v.shy*this.sy,Ae=v.shx*this.sx+v.sy*this.shx,ve=v.shx*this.shy+v.sy*this.sy,Fe=v.tx*this.sx+v.ty*this.shx+this.tx,Oe=v.tx*this.shy+v.ty*this.sy+this.ty;return new et(U,Z,Ae,ve,Fe,Oe)},et.prototype.decompose=function(){var v=this.sx,U=this.shy,Z=this.shx,Ae=this.sy,ve=this.tx,Fe=this.ty,Oe=Math.sqrt(v*v+U*U),tt=(v/=Oe)*Z+(U/=Oe)*Ae;Z-=v*tt,Ae-=U*tt;var ut=Math.sqrt(Z*Z+Ae*Ae);return tt/=ut,v*(Ae/=ut)<U*(Z/=ut)&&(v=-v,U=-U,tt=-tt,Oe=-Oe),{scale:new et(Oe,0,0,ut,0,0),translate:new et(1,0,0,1,ve,Fe),rotate:new et(v,U,-U,v,0,0),skew:new et(1,0,tt,1,0,0)}},et.prototype.toString=function(v){return this.join(" ")},et.prototype.inversed=function(){var v=this.sx,U=this.shy,Z=this.shx,Ae=this.sy,ve=this.tx,Fe=this.ty,Oe=1/(v*Ae-U*Z),tt=Ae*Oe,ut=-U*Oe,jt=-Z*Oe,_t=v*Oe;return new et(tt,ut,jt,_t,-tt*ve-jt*Fe,-ut*ve-_t*Fe)},et.prototype.applyToPoint=function(v){var U=v.x*this.sx+v.y*this.shx+this.tx,Z=v.x*this.shy+v.y*this.sy+this.ty;return new DA(U,Z)},et.prototype.applyToRectangle=function(v){var U=this.applyToPoint(v),Z=this.applyToPoint(new DA(v.x+v.w,v.y+v.h));return new Cc(U.x,U.y,Z.x-U.x,Z.y-U.y)},et.prototype.clone=function(){var v=this.sx,U=this.shy,Z=this.shx,Ae=this.sy,ve=this.tx,Fe=this.ty;return new et(v,U,Z,Ae,ve,Fe)},g.Matrix=et;var bt=g.matrixMult=function(v,U){return U.multiply(v)},Lt=new et(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Lt;var wt=function(v,U){if(!Ht[v]){var Z=(U instanceof Ha?"Sh":"P")+(Object.keys(ye).length+1).toString(10);U.id=Z,Ht[v]=Z,ye[Z]=U,se.publish("addPattern",U)}};g.ShadingPattern=Ha,g.TilingPattern=rA,g.addShadingPattern=function(v,U){return j("addShadingPattern()"),wt(v,U),this},g.beginTilingPattern=function(v){j("beginTilingPattern()"),ih(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,U){j("endTilingPattern()"),U.stream=_e[L].join(`
`),wt(v,U),se.publish("endTilingPattern",U),lt.pop().restore()};var pt=g.__private__.newObject=function(){var v=Vt();return xr(v,!0),v},Vt=g.__private__.newObjectDeferred=function(){return J++,ae[J]=function(){return ne},J},xr=function(v,U){return U=typeof U=="boolean"&&U,ae[v]=ne,U&&Y(v+" 0 obj"),v},ki=g.__private__.newAdditionalObject=function(){var v={objId:Vt(),content:""};return we.push(v),v},Ls=Vt(),Is=Vt(),Ps=g.__private__.decodeColorString=function(v){var U=v.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length===5&&(U[4]==="k"||U[4]==="K")&&(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var Z=parseFloat(U[0]);U=[Z,Z,Z,"r"]}for(var Ae="#",ve=0;ve<3;ve++)Ae+=("0"+Math.floor(255*parseFloat(U[ve])).toString(16)).slice(-2);return Ae},Ts=g.__private__.encodeColorString=function(v){var U;typeof v=="string"&&(v={ch1:v});var Z=v.ch1,Ae=v.ch2,ve=v.ch3,Fe=v.ch4,Oe=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var tt=new VN(Z);if(tt.ok)Z=tt.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var ut=parseInt(Z.substr(1),16);Z=ut>>16&255,Ae=ut>>8&255,ve=255&ut}if(Ae===void 0||Fe===void 0&&Z===Ae&&Ae===ve)if(typeof Z=="string")U=Z+" "+Oe[0];else switch(v.precision){case 2:U=X(Z/255)+" "+Oe[0];break;case 3:default:U=Q(Z/255)+" "+Oe[0]}else if(Fe===void 0||Jt(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return U=["1.","1.","1.",Oe[1]].join(" ");if(typeof Z=="string")U=[Z,Ae,ve,Oe[1]].join(" ");else switch(v.precision){case 2:U=[X(Z/255),X(Ae/255),X(ve/255),Oe[1]].join(" ");break;default:case 3:U=[Q(Z/255),Q(Ae/255),Q(ve/255),Oe[1]].join(" ")}}else if(typeof Z=="string")U=[Z,Ae,ve,Fe,Oe[2]].join(" ");else switch(v.precision){case 2:U=[X(Z),X(Ae),X(ve),X(Fe),Oe[2]].join(" ");break;case 3:default:U=[Q(Z),Q(Ae),Q(ve),Q(Fe),Oe[2]].join(" ")}return U},Ai=g.__private__.getFilters=function(){return a},hs=g.__private__.putStream=function(v){var U=(v=v||{}).data||"",Z=v.filters||Ai(),Ae=v.alreadyAppliedFilters||[],ve=v.addLength1||!1,Fe=U.length,Oe=v.objectId,tt=function(un){return un};if(u!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(tt=cn.encryptor(Oe,0));var ut={};Z===!0&&(Z=["FlateEncode"]);var jt=v.additionalKeyValues||[],_t=(ut=dt.API.processDataByFilters!==void 0?dt.API.processDataByFilters(U,Z):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(ut.data.length!==0&&(jt.push({key:"Length",value:ut.data.length}),ve===!0&&jt.push({key:"Length1",value:Fe})),_t.length!=0)if(_t.split("/").length-1==1)jt.push({key:"Filter",value:_t});else{jt.push({key:"Filter",value:"["+_t+"]"});for(var Ot=0;Ot<jt.length;Ot+=1)if(jt[Ot].key==="DecodeParms"){for(var fr=[],vr=0;vr<ut.reverseChain.split("/").length-1;vr+=1)fr.push("null");fr.push(jt[Ot].value),jt[Ot].value="["+fr.join(" ")+"]"}}Y("<<");for(var Lr=0;Lr<jt.length;Lr++)Y("/"+jt[Lr].key+" "+jt[Lr].value);Y(">>"),ut.data.length!==0&&(Y("stream"),Y(tt(ut.data)),Y("endstream"))},li=g.__private__.putPage=function(v){var U=v.number,Z=v.data,Ae=v.objId,ve=v.contentsObjId;xr(Ae,!0),Y("<</Type /Page"),Y("/Parent "+v.rootDictionaryObjId+" 0 R"),Y("/Resources "+v.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(I(v.mediaBox.bottomLeftX))+" "+parseFloat(I(v.mediaBox.bottomLeftY))+" "+I(v.mediaBox.topRightX)+" "+I(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&Y("/CropBox ["+I(v.cropBox.bottomLeftX)+" "+I(v.cropBox.bottomLeftY)+" "+I(v.cropBox.topRightX)+" "+I(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&Y("/BleedBox ["+I(v.bleedBox.bottomLeftX)+" "+I(v.bleedBox.bottomLeftY)+" "+I(v.bleedBox.topRightX)+" "+I(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&Y("/TrimBox ["+I(v.trimBox.bottomLeftX)+" "+I(v.trimBox.bottomLeftY)+" "+I(v.trimBox.topRightX)+" "+I(v.trimBox.topRightY)+"]"),v.artBox!==null&&Y("/ArtBox ["+I(v.artBox.bottomLeftX)+" "+I(v.artBox.bottomLeftY)+" "+I(v.artBox.topRightX)+" "+I(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&Y("/UserUnit "+v.userUnit),se.publish("putPage",{objId:Ae,pageContext:ht[U],pageNumber:U,page:Z}),Y("/Contents "+ve+" 0 R"),Y(">>"),Y("endobj");var Fe=Z.join(`
`);return C===y.ADVANCED&&(Fe+=`
Q`),xr(ve,!0),hs({data:Fe,filters:Ai(),objectId:ve}),Y("endobj"),Ae},_o=g.__private__.putPages=function(){var v,U,Z=[];for(v=1;v<=yt;v++)ht[v].objId=Vt(),ht[v].contentsObjId=Vt();for(v=1;v<=yt;v++)Z.push(li({number:v,data:_e[v],objId:ht[v].objId,contentsObjId:ht[v].contentsObjId,mediaBox:ht[v].mediaBox,cropBox:ht[v].cropBox,bleedBox:ht[v].bleedBox,trimBox:ht[v].trimBox,artBox:ht[v].artBox,userUnit:ht[v].userUnit,rootDictionaryObjId:Ls,resourceDictionaryObjId:Is}));xr(Ls,!0),Y("<</Type /Pages");var Ae="/Kids [";for(U=0;U<yt;U++)Ae+=Z[U]+" 0 R ";Y(Ae+"]"),Y("/Count "+yt),Y(">>"),Y("endobj"),se.publish("postPutPages")},NA=function(v){se.publish("putFont",{font:v,out:Y,newObject:pt,putStream:hs}),v.isAlreadyPutted!==!0&&(v.objectNumber=pt(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+bl(v.postScriptName)),Y("/Subtype /Type1"),typeof v.encoding=="string"&&Y("/Encoding /"+v.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},SA=function(){for(var v in rt)rt.hasOwnProperty(v)&&(d===!1||d===!0&&f.hasOwnProperty(v))&&NA(rt[v])},jA=function(v){v.objectNumber=pt();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[I(v.x),I(v.y),I(v.x+v.width),I(v.y+v.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Z=v.pages[1].join(`
`);hs({data:Z,additionalKeyValues:U,objectId:v.objectNumber}),Y("endobj")},FA=function(){for(var v in Ge)Ge.hasOwnProperty(v)&&jA(Ge[v])},Md=function(v,U){var Z,Ae=[],ve=1/(U-1);for(Z=0;Z<1;Z+=ve)Ae.push(Z);if(Ae.push(1),v[0].offset!=0){var Fe={offset:0,color:v[0].color};v.unshift(Fe)}if(v[v.length-1].offset!=1){var Oe={offset:1,color:v[v.length-1].color};v.push(Oe)}for(var tt="",ut=0,jt=0;jt<Ae.length;jt++){for(Z=Ae[jt];Z>v[ut+1].offset;)ut++;var _t=v[ut].offset,Ot=(Z-_t)/(v[ut+1].offset-_t),fr=v[ut].color,vr=v[ut+1].color;tt+=z(Math.round((1-Ot)*fr[0]+Ot*vr[0]).toString(16))+z(Math.round((1-Ot)*fr[1]+Ot*vr[1]).toString(16))+z(Math.round((1-Ot)*fr[2]+Ot*vr[2]).toString(16))}return tt.trim()},Jp=function(v,U){U||(U=21);var Z=pt(),Ae=Md(v.colors,U),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+U+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hs({data:Ae,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),Y("endobj"),v.objectNumber=pt(),Y("<< /ShadingType "+v.type),Y("/ColorSpace /DeviceRGB");var Fe="/Coords ["+I(parseFloat(v.coords[0]))+" "+I(parseFloat(v.coords[1]))+" ";v.type===2?Fe+=I(parseFloat(v.coords[2]))+" "+I(parseFloat(v.coords[3])):Fe+=I(parseFloat(v.coords[2]))+" "+I(parseFloat(v.coords[3]))+" "+I(parseFloat(v.coords[4]))+" "+I(parseFloat(v.coords[5])),Y(Fe+="]"),v.matrix&&Y("/Matrix ["+v.matrix.toString()+"]"),Y("/Function "+Z+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Xp=function(v,U){var Z=Vt(),Ae=pt();U.push({resourcesOid:Z,objectOid:Ae}),v.objectNumber=Ae;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+v.boundingBox.map(I).join(" ")+"]"}),ve.push({key:"XStep",value:I(v.xStep)}),ve.push({key:"YStep",value:I(v.yStep)}),ve.push({key:"Resources",value:Z+" 0 R"}),v.matrix&&ve.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),hs({data:v.stream,additionalKeyValues:ve,objectId:v.objectNumber}),Y("endobj")},EA=function(v){var U;for(U in ye)ye.hasOwnProperty(U)&&(ye[U]instanceof Ha?Jp(ye[U]):ye[U]instanceof rA&&Xp(ye[U],v))},Rd=function(v){for(var U in v.objectNumber=pt(),Y("<<"),v)switch(U){case"opacity":Y("/ca "+X(v[U]));break;case"stroke-opacity":Y("/CA "+X(v[U]))}Y(">>"),Y("endobj")},Yp=function(){var v;for(v in mt)mt.hasOwnProperty(v)&&Rd(mt[v])},fc=function(){for(var v in Y("/XObject <<"),Ge)Ge.hasOwnProperty(v)&&Ge[v].objectNumber>=0&&Y("/"+v+" "+Ge[v].objectNumber+" 0 R");se.publish("putXobjectDict"),Y(">>")},Zp=function(){cn.oid=pt(),Y("<<"),Y("/Filter /Standard"),Y("/V "+cn.v),Y("/R "+cn.r),Y("/U <"+cn.toHexString(cn.U)+">"),Y("/O <"+cn.toHexString(cn.O)+">"),Y("/P "+cn.P),Y(">>"),Y("endobj")},Kd=function(){for(var v in Y("/Font <<"),rt)rt.hasOwnProperty(v)&&(d===!1||d===!0&&f.hasOwnProperty(v))&&Y("/"+v+" "+rt[v].objectNumber+" 0 R");Y(">>")},e0=function(){if(Object.keys(ye).length>0){for(var v in Y("/Shading <<"),ye)ye.hasOwnProperty(v)&&ye[v]instanceof Ha&&ye[v].objectNumber>=0&&Y("/"+v+" "+ye[v].objectNumber+" 0 R");se.publish("putShadingPatternDict"),Y(">>")}},UA=function(v){if(Object.keys(ye).length>0){for(var U in Y("/Pattern <<"),ye)ye.hasOwnProperty(U)&&ye[U]instanceof g.TilingPattern&&ye[U].objectNumber>=0&&ye[U].objectNumber<v&&Y("/"+U+" "+ye[U].objectNumber+" 0 R");se.publish("putTilingPatternDict"),Y(">>")}},t0=function(){if(Object.keys(mt).length>0){var v;for(v in Y("/ExtGState <<"),mt)mt.hasOwnProperty(v)&&mt[v].objectNumber>=0&&Y("/"+v+" "+mt[v].objectNumber+" 0 R");se.publish("putGStateDict"),Y(">>")}},Cr=function(v){xr(v.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Kd(),e0(),UA(v.objectOid),t0(),fc(),Y(">>"),Y("endobj")},Vd=function(){var v=[];SA(),Yp(),FA(),EA(v),se.publish("putResources"),v.forEach(Cr),Cr({resourcesOid:Is,objectOid:Number.MAX_SAFE_INTEGER}),se.publish("postPutResources")},zd=function(){se.publish("putAdditionalObjects");for(var v=0;v<we.length;v++){var U=we[v];xr(U.objId,!0),Y(U.content),Y("endobj")}se.publish("postPutAdditionalObjects")},$d=function(v){Me[v.fontName]=Me[v.fontName]||{},Me[v.fontName][v.fontStyle]=v.id},gc=function(v,U,Z,Ae,ve){var Fe={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:v,fontName:U,fontStyle:Z,encoding:Ae,isStandardFont:ve||!1,metadata:{}};return se.publish("addFont",{font:Fe,instance:this}),rt[Fe.id]=Fe,$d(Fe),Fe.id},r0=function(v){for(var U=0,Z=Qe.length;U<Z;U++){var Ae=gc.call(this,v[U][0],v[U][1],v[U][2],Qe[U][3],!0);d===!1&&(f[Ae]=!0);var ve=v[U][0].split("-");$d({id:Ae,fontName:ve[0],fontStyle:ve[1]||""})}se.publish("addFonts",{fonts:rt,dictionary:Me})},Ds=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(Ae){var U=Ae.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var Z="Error in function "+U.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!xt.console)throw new Error(Z);xt.console.error(Z,Ae),xt.alert&&alert(Z)}},v.foo.bar=v,v.foo},kA=function(v,U){var Z,Ae,ve,Fe,Oe,tt,ut,jt,_t;if(ve=(U=U||{}).sourceEncoding||"Unicode",Oe=U.outputEncoding,(U.autoencode||Oe)&&rt[qe].metadata&&rt[qe].metadata[ve]&&rt[qe].metadata[ve].encoding&&(Fe=rt[qe].metadata[ve].encoding,!Oe&&rt[qe].encoding&&(Oe=rt[qe].encoding),!Oe&&Fe.codePages&&(Oe=Fe.codePages[0]),typeof Oe=="string"&&(Oe=Fe[Oe]),Oe)){for(ut=!1,tt=[],Z=0,Ae=v.length;Z<Ae;Z++)(jt=Oe[v.charCodeAt(Z)])?tt.push(String.fromCharCode(jt)):tt.push(v[Z]),tt[Z].charCodeAt(0)>>8&&(ut=!0);v=tt.join("")}for(Z=v.length;ut===void 0&&Z!==0;)v.charCodeAt(Z-1)>>8&&(ut=!0),Z--;if(!ut)return v;for(tt=U.noBOM?[]:[254,255],Z=0,Ae=v.length;Z<Ae;Z++){if((_t=(jt=v.charCodeAt(Z))>>8)>>8)throw new Error("Character at position "+Z+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tt.push(_t),tt.push(jt-(_t<<8))}return String.fromCharCode.apply(void 0,tt)},Ln=g.__private__.pdfEscape=g.pdfEscape=function(v,U){return kA(v,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pc=g.__private__.beginPage=function(v){_e[++yt]=[],ht[yt]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Gd(yt),me(_e[L])},qd=function(v,U){var Z,Ae,ve;switch(r=U||r,typeof v=="string"&&(Z=x(v.toLowerCase()),Array.isArray(Z)&&(Ae=Z[0],ve=Z[1])),Array.isArray(v)&&(Ae=v[0]*be,ve=v[1]*be),isNaN(Ae)&&(Ae=s[0],ve=s[1]),(Ae>14400||ve>14400)&&(rr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),ve=Math.min(14400,ve)),s=[Ae,ve],r.substr(0,1)){case"l":ve>Ae&&(s=[ve,Ae]);break;case"p":Ae>ve&&(s=[ve,Ae])}pc(s),eh(wc),Y(Os),bc!==0&&Y(bc+" J"),Bc!==0&&Y(Bc+" j"),se.publish("addPage",{pageNumber:yt})},n0=function(v){v>0&&v<=yt&&(_e.splice(v,1),ht.splice(v,1),yt--,L>yt&&(L=yt),this.setPage(L))},Gd=function(v){v>0&&v<=yt&&(L=v)},s0=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return _e.length-1},Wd=function(v,U,Z){var Ae,ve=void 0;return Z=Z||{},v=v!==void 0?v:rt[qe].fontName,U=U!==void 0?U:rt[qe].fontStyle,Ae=v.toLowerCase(),Me[Ae]!==void 0&&Me[Ae][U]!==void 0?ve=Me[Ae][U]:Me[v]!==void 0&&Me[v][U]!==void 0?ve=Me[v][U]:Z.disableWarning===!1&&rr.warn("Unable to look up font label for font '"+v+"', '"+U+"'. Refer to getFontList() for available fonts."),ve||Z.noFallback||(ve=Me.times[U])==null&&(ve=Me.times.normal),ve},i0=g.__private__.putInfo=function(){var v=pt(),U=function(Ae){return Ae};for(var Z in u!==null&&(U=cn.encryptor(v,0)),Y("<<"),Y("/Producer ("+Ln(U("jsPDF "+dt.version))+")"),Ee)Ee.hasOwnProperty(Z)&&Ee[Z]&&Y("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+Ln(U(Ee[Z]))+")");Y("/CreationDate ("+Ln(U(fe))+")"),Y(">>"),Y("endobj")},mc=g.__private__.putCatalog=function(v){var U=(v=v||{}).rootDictionaryObjId||Ls;switch(pt(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+U+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+$e;Z.substr(Z.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+X($e)+"]")}switch(q||(q="continuous"),q){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Ne&&Y("/PageMode /"+Ne),se.publish("putCatalog"),Y(">>"),Y("endobj")},a0=g.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(J+1)),Y("/Root "+J+" 0 R"),Y("/Info "+(J-1)+" 0 R"),u!==null&&Y("/Encrypt "+cn.oid+" 0 R"),Y("/ID [ <"+re+"> <"+re+"> ]"),Y(">>")},o0=g.__private__.putHeader=function(){Y("%PDF-"+m),Y("%")},A0=g.__private__.putXRef=function(){var v="0000000000";Y("xref"),Y("0 "+(J+1)),Y("0000000000 65535 f ");for(var U=1;U<=J;U++)typeof ae[U]=="function"?Y((v+ae[U]()).slice(-10)+" 00000 n "):ae[U]!==void 0?Y((v+ae[U]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Qi=g.__private__.buildDocument=function(){De(),me(le),se.publish("buildDocument"),o0(),_o(),zd(),Vd(),u!==null&&Zp(),i0(),mc();var v=ne;return A0(),a0(),Y("startxref"),Y(""+v),Y("%%EOF"),me(_e[L]),le.join(`
`)},QA=g.__private__.getBlob=function(v){return new Blob([Ke(v)],{type:"application/pdf"})},LA=g.output=g.__private__.output=Ds(function(v,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",v){case void 0:return Qi();case"save":g.save(U.filename);break;case"arraybuffer":return Ke(Qi());case"blob":return QA(Qi());case"bloburi":case"bloburl":if(xt.URL!==void 0&&typeof xt.URL.createObjectURL=="function")return xt.URL&&xt.URL.createObjectURL(QA(Qi()))||void 0;rr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",Ae=Qi();try{Z=Jv(Ae)}catch{Z=Jv(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+U.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(ve=U.pdfObjectUrl,Fe="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",tt=xt.open();return tt!==null&&tt.document.write(Oe),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',jt=xt.open();if(jt!==null){jt.document.write(ut);var _t=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=U.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_t.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',fr=xt.open();if(fr!==null&&(fr.document.write(Ot),fr.document.title=U.filename),fr||typeof safari>"u")return fr;break;case"datauri":case"dataurl":return xt.document.location.href=this.output("datauristring",U);default:return null}}),Jd=function(v){return Array.isArray(oe)===!0&&oe.indexOf(v)>-1};switch(n){case"pt":be=1;break;case"mm":be=72/25.4;break;case"cm":be=72/2.54;break;case"in":be=72;break;case"px":be=Jd("px_scaling")==1?.75:96/72;break;case"pc":case"em":be=12;break;case"ex":be=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);be=n}var cn=null;te(),W();var l0=function(v){return u!==null?cn.encryptor(v,0):function(U){return U}},Xd=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[v].objId,pageNumber:v,pageContext:ht[v]}},Ct=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in ht)if(ht[U].objId===v)break;return Xd(U)},c0=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ht[L].objId,pageNumber:L,pageContext:ht[L]}};g.addPage=function(){return qd.apply(this,arguments),this},g.setPage=function(){return Gd.apply(this,arguments),me.call(this,_e[L]),this},g.insertPage=function(v){return this.addPage(),this.movePage(L,v),this},g.movePage=function(v,U){var Z,Ae;if(v>U){Z=_e[v],Ae=ht[v];for(var ve=v;ve>U;ve--)_e[ve]=_e[ve-1],ht[ve]=ht[ve-1];_e[U]=Z,ht[U]=Ae,this.setPage(U)}else if(v<U){Z=_e[v],Ae=ht[v];for(var Fe=v;Fe<U;Fe++)_e[Fe]=_e[Fe+1],ht[Fe]=ht[Fe+1];_e[U]=Z,ht[U]=Ae,this.setPage(U)}return this},g.deletePage=function(){return n0.apply(this,arguments),this},g.__private__.text=g.text=function(v,U,Z,Ae,ve){var Fe,Oe,tt,ut,jt,_t,Ot,fr,vr,Lr=(Ae=Ae||{}).scope||this;if(typeof v=="number"&&typeof U=="number"&&(typeof Z=="string"||Array.isArray(Z))){var un=Z;Z=U,U=v,v=un}if(arguments[3]instanceof et?(j("The transform parameter of text() with a Matrix value"),vr=ve):(tt=arguments[4],ut=arguments[5],Jt(Ot=arguments[3])==="object"&&Ot!==null||(typeof tt=="string"&&(ut=tt,tt=null),typeof Ot=="string"&&(ut=Ot,Ot=null),typeof Ot=="number"&&(tt=Ot,Ot=null),Ae={flags:Ot,angle:tt,align:ut})),isNaN(U)||isNaN(Z)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Lr;var Wr="",Hs=!1,Xn=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:So,di=Lr.internal.scaleFactor;function ah(nr){return nr=nr.split("	").join(Array(Ae.TabLen||9).join(" ")),Ln(nr,Ot)}function jc(nr){for(var sr,Nr=nr.concat(),Rr=[],Di=Nr.length;Di--;)typeof(sr=Nr.shift())=="string"?Rr.push(sr):Array.isArray(nr)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?Rr.push(sr[0]):Rr.push([sr[0],sr[1],sr[2]]);return Rr}function Fc(nr,sr){var Nr;if(typeof nr=="string")Nr=sr(nr)[0];else if(Array.isArray(nr)){for(var Rr,Di,Tc=nr.concat(),WA=[],uh=Tc.length;uh--;)typeof(Rr=Tc.shift())=="string"?WA.push(sr(Rr)[0]):Array.isArray(Rr)&&typeof Rr[0]=="string"&&(Di=sr(Rr[0],Rr[1],Rr[2]),WA.push([Di[0],Di[1],Di[2]]));Nr=WA}return Nr}var HA=!1,Ec=!0;if(typeof v=="string")HA=!0;else if(Array.isArray(v)){var Uc=v.concat();Oe=[];for(var MA,rn=Uc.length;rn--;)(typeof(MA=Uc.shift())!="string"||Array.isArray(MA)&&typeof MA[0]!="string")&&(Ec=!1);HA=Ec}if(HA===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var RA=Re/Lr.internal.scaleFactor,KA=RA*(Xn-1);switch(Ae.baseline){case"bottom":Z-=KA;break;case"top":Z+=RA-KA;break;case"hanging":Z+=RA-2*KA;break;case"middle":Z+=RA/2-KA}if((_t=Ae.maxWidth||0)>0&&(typeof v=="string"?v=Lr.splitTextToSize(v,_t):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(nr,sr){return nr.concat(Lr.splitTextToSize(sr,_t))},[]))),Fe={text:v,x:U,y:Z,options:Ae,mutex:{pdfEscape:Ln,activeFontKey:qe,fonts:rt,activeFontSize:Re}},se.publish("preProcessText",Fe),v=Fe.text,tt=(Ae=Fe.options).angle,!(vr instanceof et)&&tt&&typeof tt=="number"){tt*=Math.PI/180,Ae.rotationDirection===0&&(tt=-tt),C===y.ADVANCED&&(tt=-tt);var VA=Math.cos(tt),kc=Math.sin(tt);vr=new et(VA,kc,-kc,VA,0,0)}else tt&&tt instanceof et&&(vr=tt);C!==y.ADVANCED||vr||(vr=Lt),(jt=Ae.charSpace||TA)!==void 0&&(Wr+=I(F(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fr=Ae.horizontalScale)!==void 0&&(Wr+=I(100*fr)+` Tz
`),Ae.lang;var In=-1,w0=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Qc=Lr.internal.getCurrentPageInfo().pageContext;switch(w0){case 0:case!1:case"fill":In=0;break;case 1:case!0:case"stroke":In=1;break;case 2:case"fillThenStroke":In=2;break;case 3:case"invisible":In=3;break;case 4:case"fillAndAddForClipping":In=4;break;case 5:case"strokeAndAddPathForClipping":In=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":In=6;break;case 7:case"addToPathForClipping":In=7}var oh=Qc.usedRenderingMode!==void 0?Qc.usedRenderingMode:-1;In!==-1?Wr+=In+` Tr
`:oh!==-1&&(Wr+=`0 Tr
`),In!==-1&&(Qc.usedRenderingMode=In),ut=Ae.align||"left";var fs,zA=Re*Xn,Ah=Lr.internal.pageSize.getWidth(),lh=rt[qe];jt=Ae.charSpace||TA,_t=Ae.maxWidth||0,Ot=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var da=[],Eo=function(nr){return Lr.getStringUnitWidth(nr,{font:lh,charSpace:jt,fontSize:Re,doKerning:!1})*Re/di};if(Object.prototype.toString.call(v)==="[object Array]"){var Pn;Oe=jc(v),ut!=="left"&&(fs=Oe.map(Eo));var Nn,ha=0;if(ut==="right"){U-=fs[0],v=[],rn=Oe.length;for(var Ii=0;Ii<rn;Ii++)Ii===0?(Nn=ui(U),Pn=Li(Z)):(Nn=F(ha-fs[Ii]),Pn=-zA),v.push([Oe[Ii],Nn,Pn]),ha=fs[Ii]}else if(ut==="center"){U-=fs[0]/2,v=[],rn=Oe.length;for(var Pi=0;Pi<rn;Pi++)Pi===0?(Nn=ui(U),Pn=Li(Z)):(Nn=F((ha-fs[Pi])/2),Pn=-zA),v.push([Oe[Pi],Nn,Pn]),ha=fs[Pi]}else if(ut==="left"){v=[],rn=Oe.length;for(var $A=0;$A<rn;$A++)v.push(Oe[$A])}else if(ut==="justify"&&lh.encoding==="Identity-H"){v=[],rn=Oe.length,_t=_t!==0?_t:Ah;for(var Ti=0,_r=0;_r<rn;_r++)if(Pn=_r===0?Li(Z):-zA,Nn=_r===0?ui(U):Ti,_r<rn-1){var Lc=F((_t-fs[_r])/(Oe[_r].split(" ").length-1)),Sn=Oe[_r].split(" ");v.push([Sn[0]+" ",Nn,Pn]),Ti=0;for(var gs=1;gs<Sn.length;gs++){var qA=(Eo(Sn[gs-1]+" "+Sn[gs])-Eo(Sn[gs]))*di+Lc;gs==Sn.length-1?v.push([Sn[gs],qA,0]):v.push([Sn[gs]+" ",qA,0]),Ti-=qA}}else v.push([Oe[_r],Nn,Pn]);v.push(["",Ti,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],rn=Oe.length,_t=_t!==0?_t:Ah,_r=0;_r<rn;_r++)Pn=_r===0?Li(Z):-zA,Nn=_r===0?ui(U):0,_r<rn-1?da.push(I(F((_t-fs[_r])/(Oe[_r].split(" ").length-1)))):da.push(0),v.push([Oe[_r],Nn,Pn])}}var ch=typeof Ae.R2L=="boolean"?Ae.R2L:Ye;ch===!0&&(v=Fc(v,function(nr,sr,Nr){return[nr.split("").reverse().join(""),sr,Nr]})),Fe={text:v,x:U,y:Z,options:Ae,mutex:{pdfEscape:Ln,activeFontKey:qe,fonts:rt,activeFontSize:Re}},se.publish("postProcessText",Fe),v=Fe.text,Hs=Fe.mutex.isHex||!1;var Ic=rt[qe].encoding;Ic!=="WinAnsiEncoding"&&Ic!=="StandardEncoding"||(v=Fc(v,function(nr,sr,Nr){return[ah(nr),sr,Nr]})),Oe=jc(v),v=[];for(var Uo,ko,fa,Qo=0,GA=1,Lo=Array.isArray(Oe[0])?GA:Qo,ga="",Pc=function(nr,sr,Nr){var Rr="";return Nr instanceof et?(Nr=typeof Ae.angle=="number"?bt(Nr,new et(1,0,0,1,nr,sr)):bt(new et(1,0,0,1,nr,sr),Nr),C===y.ADVANCED&&(Nr=bt(new et(1,0,0,-1,0,0),Nr)),Rr=Nr.join(" ")+` Tm
`):Rr=I(nr)+" "+I(sr)+` Td
`,Rr},ps=0;ps<Oe.length;ps++){switch(ga="",Lo){case GA:fa=(Hs?"<":"(")+Oe[ps][0]+(Hs?">":")"),Uo=parseFloat(Oe[ps][1]),ko=parseFloat(Oe[ps][2]);break;case Qo:fa=(Hs?"<":"(")+Oe[ps]+(Hs?">":")"),Uo=ui(U),ko=Li(Z)}da!==void 0&&da[ps]!==void 0&&(ga=da[ps]+` Tw
`),ps===0?v.push(ga+Pc(Uo,ko,vr)+fa):Lo===Qo?v.push(ga+fa):Lo===GA&&v.push(ga+Pc(Uo,ko,vr)+fa)}v=Lo===Qo?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var ms=`BT
/`;return ms+=qe+" "+Re+` Tf
`,ms+=I(Re*Xn)+` TL
`,ms+=jo+`
`,ms+=Wr,ms+=v,Y(ms+="ET"),f[qe]=!0,Lr};var u0=g.__private__.clip=g.clip=function(v){return Y(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return u0("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Y("n"),this};var ci=g.__private__.isValidStyle=function(v){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(U=!0),U};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return ci(v)&&(c=v),this};var Yd=g.__private__.getStyle=g.getStyle=function(v){var U=c;switch(v){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=v}return U},Zd=g.close=function(){return Y("h"),this};g.stroke=function(){return Y("S"),this},g.fill=function(v){return IA("f",v),this},g.fillEvenOdd=function(v){return IA("f*",v),this},g.fillStroke=function(v){return IA("B",v),this},g.fillStrokeEvenOdd=function(v){return IA("B*",v),this};var IA=function(v,U){Jt(U)==="object"?h0(U,v):Y(v)},xc=function(v){v===null||C===y.ADVANCED&&v===void 0||(v=Yd(v),Y(v))};function d0(v,U,Z,Ae,ve){var Fe=new rA(U||this.boundingBox,Z||this.xStep,Ae||this.yStep,this.gState,ve||this.matrix);Fe.stream=this.stream;var Oe=v+"$$"+this.cloneIndex+++"$$";return wt(Oe,Fe),Fe}var h0=function(v,U){var Z=Ht[v.key],Ae=ye[Z];if(Ae instanceof Ha)Y("q"),Y(f0(U)),Ae.gState&&g.setGState(Ae.gState),Y(v.matrix.toString()+" cm"),Y("/"+Z+" sh"),Y("Q");else if(Ae instanceof rA){var ve=new et(1,0,0,-1,0,ua());v.matrix&&(ve=ve.multiply(v.matrix||Lt),Z=d0.call(Ae,v.key,v.boundingBox,v.xStep,v.yStep,ve).id),Y("q"),Y("/Pattern cs"),Y("/"+Z+" scn"),Ae.gState&&g.setGState(Ae.gState),Y(U),Y("Q")}},f0=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},vc=g.moveTo=function(v,U){return Y(I(F(v))+" "+I($(U))+" m"),this},No=g.lineTo=function(v,U){return Y(I(F(v))+" "+I($(U))+" l"),this},la=g.curveTo=function(v,U,Z,Ae,ve,Fe){return Y([I(F(v)),I($(U)),I(F(Z)),I($(Ae)),I(F(ve)),I($(Fe)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,U,Z,Ae,ve){if(isNaN(v)||isNaN(U)||isNaN(Z)||isNaN(Ae)||!ci(ve))throw new Error("Invalid arguments passed to jsPDF.line");return C===y.COMPAT?this.lines([[Z-v,Ae-U]],v,U,[1,1],ve||"S"):this.lines([[Z-v,Ae-U]],v,U,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,U,Z,Ae,ve,Fe){var Oe,tt,ut,jt,_t,Ot,fr,vr,Lr,un,Wr,Hs;if(typeof v=="number"&&(Hs=Z,Z=U,U=v,v=Hs),Ae=Ae||[1,1],Fe=Fe||!1,isNaN(U)||isNaN(Z)||!Array.isArray(v)||!Array.isArray(Ae)||!ci(ve)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vc(U,Z),Oe=Ae[0],tt=Ae[1],jt=v.length,un=U,Wr=Z,ut=0;ut<jt;ut++)(_t=v[ut]).length===2?(un=_t[0]*Oe+un,Wr=_t[1]*tt+Wr,No(un,Wr)):(Ot=_t[0]*Oe+un,fr=_t[1]*tt+Wr,vr=_t[2]*Oe+un,Lr=_t[3]*tt+Wr,un=_t[4]*Oe+un,Wr=_t[5]*tt+Wr,la(Ot,fr,vr,Lr,un,Wr));return Fe&&Zd(),xc(ve),this},g.path=function(v){for(var U=0;U<v.length;U++){var Z=v[U],Ae=Z.c;switch(Z.op){case"m":vc(Ae[0],Ae[1]);break;case"l":No(Ae[0],Ae[1]);break;case"c":la.apply(this,Ae);break;case"h":Zd()}}return this},g.__private__.rect=g.rect=function(v,U,Z,Ae,ve){if(isNaN(v)||isNaN(U)||isNaN(Z)||isNaN(Ae)||!ci(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return C===y.COMPAT&&(Ae=-Ae),Y([I(F(v)),I($(U)),I(F(Z)),I(F(Ae)),"re"].join(" ")),xc(ve),this},g.__private__.triangle=g.triangle=function(v,U,Z,Ae,ve,Fe,Oe){if(isNaN(v)||isNaN(U)||isNaN(Z)||isNaN(Ae)||isNaN(ve)||isNaN(Fe)||!ci(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-v,Ae-U],[ve-Z,Fe-Ae],[v-ve,U-Fe]],v,U,[1,1],Oe,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,U,Z,Ae,ve,Fe,Oe){if(isNaN(v)||isNaN(U)||isNaN(Z)||isNaN(Ae)||isNaN(ve)||isNaN(Fe)||!ci(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*Z),Fe=Math.min(Fe,.5*Ae),this.lines([[Z-2*ve,0],[ve*tt,0,ve,Fe-Fe*tt,ve,Fe],[0,Ae-2*Fe],[0,Fe*tt,-ve*tt,Fe,-ve,Fe],[2*ve-Z,0],[-ve*tt,0,-ve,-Fe*tt,-ve,-Fe],[0,2*Fe-Ae],[0,-Fe*tt,ve*tt,-Fe,ve,-Fe]],v+ve,U,[1,1],Oe,!0),this},g.__private__.ellipse=g.ellipse=function(v,U,Z,Ae,ve){if(isNaN(v)||isNaN(U)||isNaN(Z)||isNaN(Ae)||!ci(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*Z,Oe=4/3*(Math.SQRT2-1)*Ae;return vc(v+Z,U),la(v+Z,U-Oe,v+Fe,U-Ae,v,U-Ae),la(v-Fe,U-Ae,v-Z,U-Oe,v-Z,U),la(v-Z,U+Oe,v-Fe,U+Ae,v,U+Ae),la(v+Fe,U+Ae,v+Z,U+Oe,v+Z,U),xc(ve),this},g.__private__.circle=g.circle=function(v,U,Z,Ae){if(isNaN(v)||isNaN(U)||isNaN(Z)||!ci(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,U,Z,Z,Ae)},g.setFont=function(v,U,Z){return Z&&(U=O(U,Z)),qe=Wd(v,U,{disableWarning:!1}),this};var g0=g.__private__.getFont=g.getFont=function(){return rt[Wd.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,U,Z={};for(v in Me)if(Me.hasOwnProperty(v))for(U in Z[v]=[],Me[v])Me[v].hasOwnProperty(U)&&Z[v].push(U);return Z},g.addFont=function(v,U,Z,Ae,ve){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(Z=O(Z,Ae)),ve=ve||"Identity-H",gc.call(this,v,U,Z,ve)};var So,wc=t.lineWidth||.200025,PA=g.__private__.getLineWidth=g.getLineWidth=function(){return wc},eh=g.__private__.setLineWidth=g.setLineWidth=function(v){return wc=v,Y(I(F(v))+" w"),this};g.__private__.setLineDash=dt.API.setLineDash=dt.API.setLineDashPattern=function(v,U){if(v=v||[],U=U||0,isNaN(U)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Z){return I(F(Z))}).join(" "),U=I(F(U)),Y("["+v+"] "+U+" d"),this};var th=g.__private__.getLineHeight=g.getLineHeight=function(){return Re*So};g.__private__.getLineHeight=g.getLineHeight=function(){return Re*So};var rh=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(So=v),this},nh=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return So};rh(t.lineHeight);var ui=g.__private__.getHorizontalCoordinate=function(v){return F(v)},Li=g.__private__.getVerticalCoordinate=function(v){return C===y.ADVANCED?v:ht[L].mediaBox.topRightY-ht[L].mediaBox.bottomLeftY-F(v)},p0=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return I(ui(v))},ca=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return I(Li(v))},Os=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ps(Os)},g.__private__.setStrokeColor=g.setDrawColor=function(v,U,Z,Ae){return Os=Ts({ch1:v,ch2:U,ch3:Z,ch4:Ae,pdfColorType:"draw",precision:2}),Y(Os),this};var yc=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ps(yc)},g.__private__.setFillColor=g.setFillColor=function(v,U,Z,Ae){return yc=Ts({ch1:v,ch2:U,ch3:Z,ch4:Ae,pdfColorType:"fill",precision:2}),Y(yc),this};var jo=t.textColor||"0 g",m0=g.__private__.getTextColor=g.getTextColor=function(){return Ps(jo)};g.__private__.setTextColor=g.setTextColor=function(v,U,Z,Ae){return jo=Ts({ch1:v,ch2:U,ch3:Z,ch4:Ae,pdfColorType:"text",precision:3}),this};var TA=t.charSpace,x0=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(TA||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return TA=v,this};var bc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var U=g.CapJoinStyles[v];if(U===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bc=U,Y(U+" J"),this};var Bc=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var U=g.CapJoinStyles[v];if(U===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bc=U,Y(U+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(I(F(v))+" M"),this},g.GState=bd,g.setGState=function(v){(v=typeof v=="string"?mt[vt[v]]:sh(null,v)).equals(Et)||(Y("/"+v.id+" gs"),Et=v)};var sh=function(v,U){if(!v||!vt[v]){var Z=!1;for(var Ae in mt)if(mt.hasOwnProperty(Ae)&&mt[Ae].equals(U)){Z=!0;break}if(Z)U=mt[Ae];else{var ve="GS"+(Object.keys(mt).length+1).toString(10);mt[ve]=U,U.id=ve}return v&&(vt[v]=U.id),se.publish("addGState",U),U}};g.addGState=function(v,U){return sh(v,U),this},g.saveGraphicsState=function(){return Y("q"),Dt.push({key:qe,size:Re,color:jo}),this},g.restoreGraphicsState=function(){Y("Q");var v=Dt.pop();return qe=v.key,Re=v.size,jo=v.color,Et=null,this},g.setCurrentTransformationMatrix=function(v){return Y(v.toString()+" cm"),this},g.comment=function(v){return Y("#"+v),this};var DA=function(v,U){var Z=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(Fe){isNaN(Fe)||(Z=parseFloat(Fe))}});var Ae=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Fe){isNaN(Fe)||(Ae=parseFloat(Fe))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Fe){ve=Fe.toString()}}),this},Cc=function(v,U,Z,Ae){DA.call(this,v,U),this.type="rect";var ve=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Oe){isNaN(Oe)||(ve=parseFloat(Oe))}});var Fe=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Oe){isNaN(Oe)||(Fe=parseFloat(Oe))}}),this},_c=function(){this.page=yt,this.currentPage=L,this.pages=_e.slice(0),this.pagesContext=ht.slice(0),this.x=ot,this.y=At,this.matrix=Ut,this.width=Fo(L),this.height=ua(L),this.outputDestination=ke,this.id="",this.objectNumber=-1};_c.prototype.restore=function(){yt=this.page,L=this.currentPage,ht=this.pagesContext,_e=this.pages,ot=this.x,At=this.y,Ut=this.matrix,Nc(L,this.width),Sc(L,this.height),ke=this.outputDestination};var ih=function(v,U,Z,Ae,ve){lt.push(new _c),yt=L=0,_e=[],ot=v,At=U,Ut=ve,pc([Z,Ae])},v0=function(v){if(We[v])lt.pop().restore();else{var U=new _c,Z="Xo"+(Object.keys(Ge).length+1).toString(10);U.id=Z,We[v]=Z,Ge[Z]=U,se.publish("addFormObject",U),lt.pop().restore()}};for(var OA in g.beginFormObject=function(v,U,Z,Ae,ve){return ih(v,U,Z,Ae,ve),this},g.endFormObject=function(v){return v0(v),this},g.doFormObject=function(v,U){var Z=Ge[We[v]];return Y("q"),Y(U.toString()+" cm"),Y("/"+Z.id+" Do"),Y("Q"),this},g.getFormObject=function(v){var U=Ge[We[v]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},g.save=function(v,U){return v=v||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(zo(QA(Qi()),v),typeof zo.unload=="function"&&xt.setTimeout&&setTimeout(zo.unload,911),this):new Promise(function(Z,Ae){try{var ve=zo(QA(Qi()),v);typeof zo.unload=="function"&&xt.setTimeout&&setTimeout(zo.unload,911),Z(ve)}catch(Fe){Ae(Fe.message)}})},dt.API)dt.API.hasOwnProperty(OA)&&(OA==="events"&&dt.API.events.length?function(v,U){var Z,Ae,ve;for(ve=U.length-1;ve!==-1;ve--)Z=U[ve][0],Ae=U[ve][1],v.subscribe.apply(v,[Z].concat(typeof Ae=="function"?[Ae]:Ae))}(se,dt.API.events):g[OA]=dt.API[OA]);var Fo=g.getPageWidth=function(v){return(ht[v=v||L].mediaBox.topRightX-ht[v].mediaBox.bottomLeftX)/be},Nc=g.setPageWidth=function(v,U){ht[v].mediaBox.topRightX=U*be+ht[v].mediaBox.bottomLeftX},ua=g.getPageHeight=function(v){return(ht[v=v||L].mediaBox.topRightY-ht[v].mediaBox.bottomLeftY)/be},Sc=g.setPageHeight=function(v,U){ht[v].mediaBox.topRightY=U*be+ht[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:Ln,getStyle:Yd,getFont:g0,getFontSize:Ve,getCharSpace:x0,getTextColor:m0,getLineHeight:th,getLineHeightFactor:nh,getLineWidth:PA,write:ct,getHorizontalCoordinate:ui,getVerticalCoordinate:Li,getCoordinateString:p0,getVerticalCoordinateString:ca,collections:{},newObject:pt,newAdditionalObject:ki,newObjectDeferred:Vt,newObjectDeferredBegin:xr,getFilters:Ai,putStream:hs,events:se,scaleFactor:be,pageSize:{getWidth:function(){return Fo(L)},setWidth:function(v){Nc(L,v)},getHeight:function(){return ua(L)},setHeight:function(v){Sc(L,v)}},encryptionOptions:u,encryption:cn,getEncryptor:l0,output:LA,getNumberOfPages:s0,pages:_e,out:Y,f2:X,f3:Q,getPageInfo:Xd,getPageInfoByObjId:Ct,getCurrentPageInfo:c0,getPDFVersion:w,Point:DA,Rectangle:Cc,Matrix:et,hasHotfix:Jd},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Fo(L)},set:function(v){Nc(L,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ua(L)},set:function(v){Sc(L,v)},enumerable:!0,configurable:!0}),r0.call(g,Qe),qe="F1",qd(s,r),se.publish("initialized"),g}yl.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},yl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},yl.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},yl.prototype.processOwnerPassword=function(t,e){return Yv(Xv(e).substr(0,5),t)},yl.prototype.encryptor=function(t,e){var r=Xv(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Yv(r,n)}},bd.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Jt(t)!==Jt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},dt.API={events:[]},dt.version="2.5.2";var yr=dt.API,yy=1,CA=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(t){return t.toFixed(2)},Na=function(t){return t.toFixed(5)};yr.__acroform__={};var Jn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Y2=function(t){return t*yy},mi=function(t){var e=new GN,r=at.internal.getHeight(t)||0,n=at.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Nt(n)),Number(Nt(r))],e},VD=yr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},zD=yr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},$D=yr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Er=yr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $D(t,e-1)},Ur=yr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VD(t,e-1)},kr=yr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zD(t,e-1)},qD=yr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],A=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+A)||0,l.upperRight_X=r(s+a)||0,l.upperRight_Y=n(i)||0,[Number(Nt(l.lowerLeft_X)),Number(Nt(l.lowerLeft_Y)),Number(Nt(l.upperRight_X)),Number(Nt(l.upperRight_Y))]},GD=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Zv(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Nt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=mi(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Zv=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(Q){return Q.split(`
`)}):s.map(function(Q){return[Q]});var i=r,a=at.internal.getHeight(t)||0;a=a<0?-a:a;var A=at.internal.getWidth(t)||0;A=A<0?-A:A;var l=function(Q,F,K){if(Q+1<s.length){var $=F+" "+s[Q+1][0];return bf($,t,K).width<=A-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,d=bf("3",t,i).height,f=t.multiline?a-i:(a-d)/2,g=f+=2,m=0,w=0,B=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+bf(e,t,i=12).width+", FieldWidth:"+A+`
`;break}for(var x="",y=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var S=!1;if(s[C].length!==1&&B!==s[C].length-1){if((d+2)*(y+2)+2>a)continue e;x+=s[C][B],S=!0,w=C,C--}else{x=(x+=s[C][B]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var k=parseInt(C),O=l(k,x,i),I=C>=s.length-1;if(O&&!I){x+=" ",B=0;continue}if(O||I){if(I)w=k;else if(t.multiline&&(d+2)*(y+2)+2>a)continue e}else{if(!t.multiline||(d+2)*(y+2)+2>a)continue e;w=k}}for(var j="",R=m;R<=w;R++){var X=s[R];if(t.multiline){if(R===w){j+=X[B]+" ",B=(B+1)%X.length;continue}if(R===m){j+=X[X.length-1]+" ";continue}}j+=X[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,u=bf(j,t,i).width,t.textAlign){case"right":c=A-u-2;break;case"center":c=(A-u)/2;break;case"left":default:c=2}e+=Nt(c)+" "+Nt(g)+` Td
`,e+="("+CA(j)+`) Tj
`,e+=-Nt(c)+` 0 Td
`,g=-(i+2),u=0,m=S?w:w+1,y++,x=""}break}return n.text=e,n.fontSize=i,n},bf=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},WD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JD=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},XD=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Jt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},YD=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ai.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(WD)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yy=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new WN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&JD(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var A=n[a],l=[],c=A.Rect;if(A.Rect&&(A.Rect=qD(A.Rect,s)),s.internal.newObjectDeferredBegin(A.objId,!0),A.DA=at.createDefaultAppearanceStream(A),Jt(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var u=GD(A);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(A.appearanceStreamContent){var d="";for(var f in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(f)){var g=A.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var m=g[a];typeof m=="function"&&(m=m.call(s,A)),d+="/"+a+" "+m+" ",s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m)}}else typeof(m=g)=="function"&&(m=m.call(s,A)),d+="/"+a+" "+m,s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:A.objId}),s.internal.out("endobj")}i&&XD(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},qN=yr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Jt(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+CA(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$m=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+CA(n(t))+")"},Ci=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ci.prototype.toString=function(){return this.objId+" 0 R"},Ci.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ci.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:qN(s,this.objId,this.scope)}):s instanceof Ci?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var GN=function(){Ci.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Jn(GN,Ci);var WN=function(){Ci.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+CA(r(t))+")"}},set:function(r){t=r}})};Jn(WN,Ci);var ai=function t(){Ci.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Er(e,3)},set:function(x){x?this.F=Ur(e,3):this.F=kr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Wg)return;i="FieldObject"+t.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+CA(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/yy:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Wg||this instanceof uo))return $m(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof zr?f:$m(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof zr?x:x.substr(0,1)==="("?hl(x.substr(1,x.length-2)):hl(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?hl(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof zr?"/"+x:x}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof zr?g:$m(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof zr?x:x.substr(0,1)==="("?hl(x.substr(1,x.length-2)):hl(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?hl(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof zr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(x){x=!!x,w=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,1)},set:function(x){x?this.Ff=Ur(this.Ff,1):this.Ff=kr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,2)},set:function(x){x?this.Ff=Ur(this.Ff,2):this.Ff=kr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,3)},set:function(x){x?this.Ff=Ur(this.Ff,3):this.Ff=kr(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');B=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(B){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:B=2;break;case"center":case 1:B=1;break;case"left":case 0:default:B=0}}})};Jn(ai,Ci);var lA=function(){ai.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qN(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,A){A||(A=1);for(var l,c=[];l=a.exec(i);)c.push(l[A]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,18)},set:function(r){r?this.Ff=Ur(this.Ff,18):this.Ff=kr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ur(this.Ff,19):this.Ff=kr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,20)},set:function(r){r?(this.Ff=Ur(this.Ff,20),e.sort()):this.Ff=kr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,22)},set:function(r){r?this.Ff=Ur(this.Ff,22):this.Ff=kr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(r){r?this.Ff=Ur(this.Ff,23):this.Ff=kr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,27)},set:function(r){r?this.Ff=Ur(this.Ff,27):this.Ff=kr(this.Ff,27)}}),this.hasAppearanceStream=!1};Jn(lA,ai);var cA=function(){lA.call(this),this.fontName="helvetica",this.combo=!1};Jn(cA,lA);var uA=function(){cA.call(this),this.combo=!0};Jn(uA,cA);var Ku=function(){uA.call(this),this.edit=!0};Jn(Ku,uA);var zr=function(){ai.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,15)},set:function(r){r?this.Ff=Ur(this.Ff,15):this.Ff=kr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,16)},set:function(r){r?this.Ff=Ur(this.Ff,16):this.Ff=kr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,17)},set:function(r){r?this.Ff=Ur(this.Ff,17):this.Ff=kr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(r){r?this.Ff=Ur(this.Ff,26):this.Ff=kr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+CA(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Jt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Jn(zr,ai);var Vu=function(){zr.call(this),this.pushButton=!0};Jn(Vu,zr);var dA=function(){zr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Jn(dA,zr);var Wg=function(){var t,e;ai.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(A){return A};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+CA(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Jt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Jn(Wg,ai),dA.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},dA.prototype.createOption=function(t){var e=new Wg;return e.Parent=this,e.optionName=t,this.Kids.push(e),ZD.call(this.scope,e),e};var zu=function(){zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};Jn(zu,zr);var uo=function(){ai.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,13)},set:function(e){e?this.Ff=Ur(this.Ff,13):this.Ff=kr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,21)},set:function(e){e?this.Ff=Ur(this.Ff,21):this.Ff=kr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(e){e?this.Ff=Ur(this.Ff,23):this.Ff=kr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,24)},set:function(e){e?this.Ff=Ur(this.Ff,24):this.Ff=kr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,25)},set:function(e){e?this.Ff=Ur(this.Ff,25):this.Ff=kr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(e){e?this.Ff=Ur(this.Ff,26):this.Ff=kr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Jn(uo,ai);var $u=function(){uo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,14)},set:function(t){t?this.Ff=Ur(this.Ff,14):this.Ff=kr(this.Ff,14)}}),this.password=!0};Jn($u,uo);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Zv(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Nt(at.internal.getWidth(t))+" "+Nt(at.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Nt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=at.internal.getHeight(t),a=at.internal.getWidth(t),A=Zv(t,t.caption);return s.push("1 g"),s.push("0 0 "+Nt(a)+" "+Nt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Nt(a-1)+" "+Nt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Nt(A.fontSize)+" Tf "+n),s.push(A.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(at.internal.getWidth(t))+" "+Nt(at.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Circle.YesNormal,e.D[t]=at.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=at.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Na(at.internal.getWidth(t)/2)+" "+Na(at.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*at.internal.Bezier_C).toFixed(5)),a=Number((n*at.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Na(at.internal.getWidth(t)/2)+" "+Na(at.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Na(at.internal.getWidth(t)/2)+" "+Na(at.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*at.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Na(at.internal.getWidth(t)/2)+" "+Na(at.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Cross.YesNormal,e.D[t]=at.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var r=[],n=at.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Nt(at.internal.getWidth(t)-2)+" "+Nt(at.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Nt(n.x1.x)+" "+Nt(n.x1.y)+" m"),r.push(Nt(n.x2.x)+" "+Nt(n.x2.y)+" l"),r.push(Nt(n.x4.x)+" "+Nt(n.x4.y)+" m"),r.push(Nt(n.x3.x)+" "+Nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=at.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(at.internal.getWidth(t))+" "+Nt(at.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Nt(at.internal.getWidth(t)-2)+" "+Nt(at.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Nt(r.x1.x)+" "+Nt(r.x1.y)+" m"),n.push(Nt(r.x2.x)+" "+Nt(r.x2.y)+" l"),n.push(Nt(r.x4.x)+" "+Nt(r.x4.y)+" m"),n.push(Nt(r.x3.x)+" "+Nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(at.internal.getWidth(t))+" "+Nt(at.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};at.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=at.internal.getWidth(t),r=at.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},at.internal.getWidth=function(t){var e=0;return Jt(t)==="object"&&(e=Y2(t.Rect[2])),e},at.internal.getHeight=function(t){var e=0;return Jt(t)==="object"&&(e=Y2(t.Rect[3])),e};var ZD=yr.addField=function(t){if(YD(this,t),!(t instanceof ai))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yr.AcroFormChoiceField=lA,yr.AcroFormListBox=cA,yr.AcroFormComboBox=uA,yr.AcroFormEditBox=Ku,yr.AcroFormButton=zr,yr.AcroFormPushButton=Vu,yr.AcroFormRadioButton=dA,yr.AcroFormCheckBox=zu,yr.AcroFormTextField=uo,yr.AcroFormPasswordField=$u,yr.AcroFormAppearance=at,yr.AcroForm={ChoiceField:lA,ListBox:cA,ComboBox:uA,EditBox:Ku,Button:zr,PushButton:Vu,RadioButton:dA,CheckBox:zu,TextField:uo,PasswordField:$u,Appearance:at},dt.AcroForm={ChoiceField:lA,ListBox:cA,ComboBox:uA,EditBox:Ku,Button:zr,PushButton:Vu,RadioButton:dA,CheckBox:zu,TextField:uo,PasswordField:$u,Appearance:at};var e8=dt.AcroForm;function JN(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(Q,F){var K,$,fe,re,ce,W=e;if((F=F||e)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(O(Q))for(ce in r)for(fe=r[ce],K=0;K<fe.length;K+=1){for(re=!0,$=0;$<fe[K].length;$+=1)if(fe[K][$]!==void 0&&fe[K][$]!==Q[$]){re=!1;break}if(re===!0){W=ce;break}}else for(ce in r)for(fe=r[ce],K=0;K<fe.length;K+=1){for(re=!0,$=0;$<fe[K].length;$+=1)if(fe[K][$]!==void 0&&fe[K][$]!==Q.charCodeAt($)){re=!1;break}if(re===!0){W=ce;break}}return W===e&&F!==e&&(W=F),W},s=function Q(F){for(var K=this.internal.write,$=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:F.width}),re.push({key:"Height",value:F.height}),F.colorSpace===B.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===B.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var ce="",W=0,ie=F.transparency.length;W<ie;W++)ce+=F.transparency[W]+" "+F.transparency[W]+" ";re.push({key:"Mask",value:"["+ce+"]"})}F.sMask!==void 0&&re.push({key:"SMask",value:F.objectId+1+" 0 R"});var de=F.filter!==void 0?["/"+F.filter]:void 0;if($({data:F.data,additionalKeyValues:re,alreadyAppliedFilters:de,objectId:F.objectId}),K("endobj"),"sMask"in F&&F.sMask!==void 0){var te="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,_={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:te,data:F.sMask};"filter"in F&&(_.filter=F.filter),Q.call(this,_)}if(F.colorSpace===B.INDEXED){var L=this.internal.newObject();$({data:j(new Uint8Array(F.palette)),objectId:L}),K("endobj")}},i=function(){var Q=this.internal.collections.addImage_images;for(var F in Q)s.call(this,Q[F])},a=function(){var Q,F=this.internal.collections.addImage_images,K=this.internal.write;for(var $ in F)K("/I"+(Q=F[$]).index,Q.objectId,"0","R")},A=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var Q=this.internal.collections.addImage_images;return A.call(this),Q},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(Q){return typeof t["process"+Q.toUpperCase()]=="function"},d=function(Q){return Jt(Q)==="object"&&Q.nodeType===1},f=function(Q,F){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var K=""+Q.getAttribute("src");if(K.indexOf("data:image/")===0)return Ru(unescape(K).split("base64,").pop());var $=t.loadFile(K,!0);if($!==void 0)return $}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var fe;switch(F){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return Ru(Q.toDataURL(fe,1).split("base64,").pop())}},g=function(Q){var F=this.internal.collections.addImage_images;if(F){for(var K in F)if(Q===F[K].alias)return F[K]}},m=function(Q,F,K){return Q||F||(Q=-96,F=-96),Q<0&&(Q=-1*K.width*72/Q/this.internal.scaleFactor),F<0&&(F=-1*K.height*72/F/this.internal.scaleFactor),Q===0&&(Q=F*K.width/K.height),F===0&&(F=Q*K.height/K.width),[Q,F]},w=function(Q,F,K,$,fe,re){var ce=m.call(this,K,$,fe),W=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,de=l.call(this);if(K=ce[0],$=ce[1],de[fe.index]=fe,re){re*=Math.PI/180;var te=Math.cos(re),_=Math.sin(re),L=function(z){return z.toFixed(4)},M=[L(te),L(_),L(-1*_),L(te),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,W(Q),ie(F+$),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([W(K),"0","0",W($),"0","0","cm"].join(" "))):this.internal.write([W(K),"0","0",W($),W(Q),ie(F+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},B=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(Q){var F,K,$=0;if(typeof Q=="string")for(K=Q.length,F=0;F<K;F++)$=($<<5)-$+Q.charCodeAt(F),$|=0;else if(O(Q))for(K=Q.byteLength/2,F=0;F<K;F++)$=($<<5)-$+Q[F],$|=0;return $},C=t.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var F=!0;return Q.length===0&&(F=!1),Q.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&(F=!1),F},S=t.__addimage__.extractImageFromDataUrl=function(Q){var F=(Q=Q||"").split("base64,"),K=null;if(F.length===2){var $=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray($)&&(K={mimeType:$[1],charset:$[2],data:F[1]})}return K},k=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(Q){return k()&&Q instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(Q){return k()&&typeof Uint32Array<"u"&&(Q instanceof Int8Array||Q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(Q){for(var F=Q.length,K=new Uint8Array(F),$=0;$<F;$++)K[$]=Q.charCodeAt($);return K},j=t.__addimage__.arrayBufferToBinaryString=function(Q){for(var F="",K=O(Q)?Q:new Uint8Array(Q),$=0;$<K.length;$+=8192)F+=String.fromCharCode.apply(null,K.subarray($,$+8192));return F};t.addImage=function(){var Q,F,K,$,fe,re,ce,W,ie;if(typeof arguments[1]=="number"?(F=e,K=arguments[1],$=arguments[2],fe=arguments[3],re=arguments[4],ce=arguments[5],W=arguments[6],ie=arguments[7]):(F=arguments[1],K=arguments[2],$=arguments[3],fe=arguments[4],re=arguments[5],ce=arguments[6],W=arguments[7],ie=arguments[8]),Jt(Q=arguments[0])==="object"&&!d(Q)&&"imageData"in Q){var de=Q;Q=de.imageData,F=de.format||F||e,K=de.x||K||0,$=de.y||$||0,fe=de.w||de.width||fe,re=de.h||de.height||re,ce=de.alias||ce,W=de.compression||W,ie=de.rotation||de.angle||ie}var te=this.internal.getFilters();if(W===void 0&&te.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(K)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var _=R.call(this,Q,F,ce,W);return w.call(this,K,$,fe,re,_,ie),this};var R=function(Q,F,K,$){var fe,re,ce;if(typeof Q=="string"&&n(Q)===e){Q=unescape(Q);var W=X(Q,!1);(W!==""||(W=t.loadFile(Q,!0))!==void 0)&&(Q=W)}if(d(Q)&&(Q=f(Q,F)),F=n(Q,F),!u(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ce=K)==null||ce.length===0)&&(K=function(ie){return typeof ie=="string"||O(ie)?y(ie):O(ie.data)?y(ie.data):null}(Q)),(fe=g.call(this,K))||(k()&&(Q instanceof Uint8Array||F==="RGBA"||(re=Q,Q=I(Q))),fe=this["process"+F.toUpperCase()](Q,c.call(this),K,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:x.NONE}($),re)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},X=t.__addimage__.convertBase64ToBinaryString=function(Q,F){var K;F=typeof F!="boolean"||F;var $,fe="";if(typeof Q=="string"){$=(K=S(Q))!==null?K.data:Q;try{fe=Ru($)}catch(re){if(F)throw C($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};t.getImageProperties=function(Q){var F,K,$="";if(d(Q)&&(Q=f(Q)),typeof Q=="string"&&n(Q)===e&&(($=X(Q,!1))===""&&($=t.loadFile(Q)||""),Q=$),K=n(Q),!u(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!k()||Q instanceof Uint8Array||(Q=I(Q)),!(F=this["process"+K.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=K,F}})(dt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};dt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){n=c[f];var g=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(w.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y)+"] ")+"/Contents ("+g(x(n.contents))+")",i+=" /Popup "+B.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+g(x(y))+") >>",w.content=i;var C=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+A(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(i+=" /Open true"),i+=" >>",B.content=i,this.internal.write(w.objId,"0 R",B.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=A(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,a){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:a,type:"link"})},t.textWithLink=function(r,n,s,i){var a,A,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){A=i.maxWidth;var u=this.splitTextToSize(r,A).length;a=Math.ceil(c*u)}else A=l,a=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,A,a,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(dt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},A=t.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&s.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(w){var B=0,x=r,y="",C=0;for(B=0;B<w.length;B+=1)x[w.charCodeAt(B)]!==void 0?(C++,typeof(x=x[w.charCodeAt(B)])=="number"&&(y+=String.fromCharCode(x),x=r,C=0),B===w.length-1&&(x=r,y+=w.charAt(B-(C-1)),B-=C-1,C=0)):(x=r,y+=w.charAt(B-C),B-=C,C=0);return y};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(w,B,x){return a(w)?i(w)===!1?-1:!c(w)||!a(B)&&!a(x)||!a(x)&&A(B)||A(w)&&!a(B)||A(w)&&l(B)||A(w)&&A(B)?0:u(w)&&a(B)&&!A(B)&&a(x)&&c(x)?3:A(w)||!a(x)?1:2:-1},g=function(w){var B=0,x=0,y=0,C="",S="",k="",O=(w=w||"").split("\\s+"),I=[];for(B=0;B<O.length;B+=1){for(I.push(""),x=0;x<O[B].length;x+=1)C=O[B][x],S=O[B][x-1],k=O[B][x+1],a(C)?(y=f(C,S,k),I[B]+=y!==-1?String.fromCharCode(e[C.charCodeAt(0)][y]):C):I[B]+=C;I[B]=d(I[B])}return I.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var w,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(B)){var y=0;for(x=[],y=0;y<B.length;y+=1)Array.isArray(B[y])?x.push([g(B[y][0]),B[y][1],B[y][2]]):x.push([g(B[y])]);w=x}else w=g(B);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",m])}(dt.API),dt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(A){s=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(A){i=A}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(A){a=A}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(dt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(w){m=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,g=0,m=0,w=0,B=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,S){return C.concat(B.splitTextToSize(S,x))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)g<(w=this.getStringUnitWidth(l[y],{font:d})*u)&&(g=w);return g!==0&&(m=l.length),{w:g/=f,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,g&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var g,m,w,B,x=[],y=[],C=[],S={},k={},O=[],I=[],j=(f=f||{}).autoSize||!1,R=f.printHeaders!==!1,X=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,Q=f.margins||Object.assign({width:this.getPageWidth()},e),F=typeof f.padding=="number"?f.padding:3,K=f.headerBackgroundColor||"#c8c8c8",$=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=$,this.setFontSize(X),d==null)y=x=Object.keys(u[0]),C=x.map(function(){return"left"});else if(Array.isArray(d)&&Jt(d[0])==="object")for(x=d.map(function(de){return de.name}),y=d.map(function(de){return de.prompt||de.name||""}),C=d.map(function(de){return de.align||"left"}),g=0;g<d.length;g+=1)k[d[g].name]=d[g].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(y=x=d,C=x.map(function(){return"left"}));if(j||Array.isArray(d)&&typeof d[0]=="string")for(g=0;g<x.length;g+=1){for(S[B=x[g]]=u.map(function(de){return de[B]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=S[B],this.setFont(void 0,"normal"),w=0;w<m.length;w+=1)O.push(this.getTextDimensions(m[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[B]=Math.max.apply(null,O)+F+F,O=[]}if(R){var fe={};for(g=0;g<x.length;g+=1)fe[x[g]]={},fe[x[g]].text=y[g],fe[x[g]].align=C[g];var re=A.call(this,fe,k);I=x.map(function(de){return new i(l,c,k[de],re,fe[de].text,void 0,fe[de].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ce=d.reduce(function(de,te){return de[te.name]=te.align,de},{});for(g=0;g<u.length;g+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:g,data:u[g]},this);var W=A.call(this,u[g],k);for(w=0;w<x.length;w+=1){var ie=u[g][x[w]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:g,col:w,data:ie},this),a.call(this,new i(l,c,k[x[w]],W,ie,g+2,ce[x[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(g){var m=l[g];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*d/f+u+u},this).reduce(function(g,m){return Math.max(g,m)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(dt.API);var XN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ew=JN(YN),ZN=[100,200,300,400,500,600,700,800,900],t8=JN(ZN);function tw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return XN[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof ew[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function Z2(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var r8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},eB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function n8(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},r8,r.genericFontFamilies||{}),i=null,a=null,A=0;A<e.length;++A)if(s[(i=tw(e[A])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){a=t[i.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+tB(i)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var u=ew[l],d=u<=ew.normal?-1:1,f=Z2(c,YN,u,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(i.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=XN[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=t8[l],d=Z2(c,ZN,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+tB(i)+"'.");return a}function rB(t){return t.trimLeft()}function s8(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function i8(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Bf,nB,sB,qm=["times"];(function(t){var e,r,n,s,i,a,A,l,c,u=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new l,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new a,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new a,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=_;Object.defineProperty(this,"pdf",{get:function(){return L}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(me){M=!!me}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(me){z=!!me}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(me){isNaN(me)||(J=me)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(me){isNaN(me)||(ae=me)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(me){var Y;typeof me=="number"?Y=[me,me,me,me]:((Y=new Array(4))[0]=me[0],Y[1]=me.length>=2?me[1]:Y[0],Y[2]=me.length>=3?me[2]:Y[0],Y[3]=me.length>=4?me[3]:Y[1]),c.margin=Y}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(me){le=me}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(me){ne=me}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(me){we=me}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(me){me instanceof u&&(c=me)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(me){c.path=me}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(me){_e=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var Y;Y=f(me),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var Y=f(me);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var je=null;function ke(me,Y){if(je===null){var ct=function(Ke){var Qe=[];return Object.keys(Ke).forEach(function(Re){Ke[Re].forEach(function($e){var Ve=null;switch($e){case"bold":Ve={family:Re,weight:"bold"};break;case"italic":Ve={family:Re,style:"italic"};break;case"bolditalic":Ve={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:Re}}Ve!==null&&(Ve.ref={name:Re,style:$e},Qe.push(Ve))})}),Qe}(me.getFontList());je=function(Ke){for(var Qe={},Re=0;Re<Ke.length;++Re){var $e=tw(Ke[Re]),Ve=$e.family,Ye=$e.stretch,Ne=$e.style,Pe=$e.weight;Qe[Ve]=Qe[Ve]||{},Qe[Ve][Ye]=Qe[Ve][Ye]||{},Qe[Ve][Ye][Ne]=Qe[Ve][Ye][Ne]||{},Qe[Ve][Ye][Ne][Pe]=$e}return Qe}(ct.concat(Y))}return je}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(me){je=null,De=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var Y;if(this.ctx.font=me,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var ct=Y[1],Ke=(Y[2],Y[3]),Qe=Y[4],Re=(Y[5],Y[6]),$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor($e==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var Ve=function(Ee){var qe,be,ot=[],At=Ee.trim();if(At==="")return qm;if(At in eB)return[eB[At]];for(;At!=="";){switch(be=null,qe=(At=rB(At)).charAt(0)){case'"':case"'":be=s8(At.substring(1),qe);break;default:be=i8(At)}if(be===null||(ot.push(be[0]),(At=rB(be[1]))!==""&&At.charAt(0)!==","))return qm;At=At.replace(/^,/,"")}return ot}(Re);if(this.fontFaces){var Ye=n8(ke(this.pdf,this.fontFaces),Ve.map(function(Ee){return{family:Ee,stretch:"normal",weight:Ke,style:ct}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var Ne="";(Ke==="bold"||parseInt(Ke,10)>=700||ct==="bold")&&(Ne="bold"),ct==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Pe="",q={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ee=0;ee<Ve.length;ee++){if(this.pdf.internal.getFont(Ve[ee],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Pe=Ve[ee];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(Ve[ee],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pe=Ve[ee],Ne="bold";else if(this.pdf.internal.getFont(Ve[ee],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pe=Ve[ee],Ne="normal";break}}if(Pe===""){for(var xe=0;xe<Ve.length;xe++)if(q[Ve[xe]]){Pe=q[Ve[xe]];break}}Pe=Pe===""?"Times":Pe,this.pdf.setFont(Pe,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};d.prototype.setLineDash=function(_){this.lineDash=_},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){S.call(this,"fill",!1)},d.prototype.stroke=function(){S.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(_,L){if(isNaN(_)||isNaN(L))throw rr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new a(_,L));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new a(_,L)},d.prototype.closePath=function(){var _=new a(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&Jt(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){_=new a(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(_.x,_.y)},d.prototype.lineTo=function(_,L){if(isNaN(_)||isNaN(L))throw rr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new a(_,L));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new a(M.x,M.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},d.prototype.quadraticCurveTo=function(_,L,M,z){if(isNaN(M)||isNaN(z)||isNaN(_)||isNaN(L))throw rr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new a(M,z)),ae=this.ctx.transform.applyToPoint(new a(_,L));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},d.prototype.bezierCurveTo=function(_,L,M,z,J,ae){if(isNaN(J)||isNaN(ae)||isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw rr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new a(J,ae)),ne=this.ctx.transform.applyToPoint(new a(_,L)),we=this.ctx.transform.applyToPoint(new a(M,z));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:we.x,y2:we.y,x:le.x,y:le.y}),this.ctx.lastPoint=new a(le.x,le.y)},d.prototype.arc=function(_,L,M,z,J,ae){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z)||isNaN(J))throw rr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new a(_,L));_=le.x,L=le.y;var ne=this.ctx.transform.applyToPoint(new a(0,M)),we=this.ctx.transform.applyToPoint(new a(0,0));M=Math.sqrt(Math.pow(ne.x-we.x,2)+Math.pow(ne.y-we.y,2))}Math.abs(J-z)>=2*Math.PI&&(z=0,J=2*Math.PI),this.path.push({type:"arc",x:_,y:L,radius:M,startAngle:z,endAngle:J,counterclockwise:ae})},d.prototype.arcTo=function(_,L,M,z,J){throw new Error("arcTo not implemented.")},d.prototype.rect=function(_,L,M,z){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw rr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,L),this.lineTo(_+M,L),this.lineTo(_+M,L+z),this.lineTo(_,L+z),this.lineTo(_,L),this.lineTo(_+M,L),this.lineTo(_,L)},d.prototype.fillRect=function(_,L,M,z){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw rr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,L,M,z),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},d.prototype.strokeRect=function(_,L,M,z){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw rr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(_,L,M,z),this.stroke())},d.prototype.clearRect=function(_,L,M,z){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z))throw rr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,L,M,z))},d.prototype.save=function(_){_=typeof _!="boolean"||_;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},d.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(L),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(_){var L,M,z,J;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))L=0,M=0,z=0,J=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(ae!==null)L=parseInt(ae[1]),M=parseInt(ae[2]),z=parseInt(ae[3]),J=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)L=parseInt(ae[1]),M=parseInt(ae[2]),z=parseInt(ae[3]),J=parseFloat(ae[4]);else{if(J=1,typeof _=="string"&&_.charAt(0)!=="#"){var le=new VN(_);_=le.ok?le.toHex():"#000000"}_.length===4?(L=_.substring(1,2),L+=L,M=_.substring(2,3),M+=M,z=_.substring(3,4),z+=z):(L=_.substring(1,3),M=_.substring(3,5),z=_.substring(5,7)),L=parseInt(L,16),M=parseInt(M,16),z=parseInt(z,16)}}return{r:L,g:M,b:z,a:J,style:_}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(_,L,M,z){if(isNaN(L)||isNaN(M)||typeof _!="string")throw rr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!g.call(this)){var J=W(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;F.call(this,{text:_,x:L,y:M,scale:ae,angle:J,align:this.textAlign,maxWidth:z})}},d.prototype.strokeText=function(_,L,M,z){if(isNaN(L)||isNaN(M)||typeof _!="string")throw rr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){z=isNaN(z)?void 0:z;var J=W(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;F.call(this,{text:_,x:L,y:M,scale:ae,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:z})}},d.prototype.measureText=function(_){if(typeof _!="string")throw rr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,M=this.pdf.internal.scaleFactor,z=L.internal.getFontSize(),J=L.getStringUnitWidth(_)*z/L.internal.scaleFactor,ae=function(le){var ne=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new ae({width:J*=Math.round(96*M/72*1e4)/1e4})},d.prototype.scale=function(_,L){if(isNaN(_)||isNaN(L))throw rr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new l(_,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.rotate=function(_){if(isNaN(_))throw rr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},d.prototype.translate=function(_,L){if(isNaN(_)||isNaN(L))throw rr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new l(1,0,0,1,_,L);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.transform=function(_,L,M,z,J,ae){if(isNaN(_)||isNaN(L)||isNaN(M)||isNaN(z)||isNaN(J)||isNaN(ae))throw rr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new l(_,L,M,z,J,ae);this.ctx.transform=this.ctx.transform.multiply(le)},d.prototype.setTransform=function(_,L,M,z,J,ae){_=isNaN(_)?1:_,L=isNaN(L)?0:L,M=isNaN(M)?0:M,z=isNaN(z)?1:z,J=isNaN(J)?0:J,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(_,L,M,z,J,ae)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(_,L,M,z,J,ae,le,ne,we){var _e=this.pdf.getImageProperties(_),je=1,ke=1,De=1,me=1;z!==void 0&&ne!==void 0&&(De=ne/z,me=we/J,je=_e.width/z*ne/z,ke=_e.height/J*we/J),ae===void 0&&(ae=L,le=M,L=0,M=0),z!==void 0&&ne===void 0&&(ne=z,we=J),z===void 0&&ne===void 0&&(ne=_e.width,we=_e.height);for(var Y,ct=this.ctx.transform.decompose(),Ke=W(ct.rotate.shx),Qe=new l,Re=(Qe=(Qe=(Qe=Qe.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new A(ae-L*De,le-M*me,z*je,J*ke)),$e=B.call(this,Re),Ve=[],Ye=0;Ye<$e.length;Ye+=1)Ve.indexOf($e[Ye])===-1&&Ve.push($e[Ye]);if(C(Ve),this.autoPaging)for(var Ne=Ve[0],Pe=Ve[Ve.length-1],q=Ne;q<Pe+1;q++){this.pdf.setPage(q);var ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xe=q===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],be=q===1?0:Ee+(q-2)*qe;if(this.ctx.clip_path.length!==0){var ot=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Y,this.posX+this.margin[3],-be+xe+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=ot}var At=JSON.parse(JSON.stringify(Re));At=y([At],this.posX+this.margin[3],-be+xe+this.ctx.prevPageLastElemOffset)[0];var Ut=(q>Ne||q<Pe)&&w.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ee,qe,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",At.x,At.y,At.w,At.h,null,null,Ke),Ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Ke)};var B=function(_,L,M){var z=[];L=L||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":z.push(Math.floor((_.y+J)/M)+1);break;case"arc":z.push(Math.floor((_.y+J-_.radius)/M)+1),z.push(Math.floor((_.y+J+_.radius)/M)+1);break;case"qct":var ae=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);z.push(Math.floor((ae.y+J)/M)+1),z.push(Math.floor((ae.y+ae.h+J)/M)+1);break;case"bct":var le=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);z.push(Math.floor((le.y+J)/M)+1),z.push(Math.floor((le.y+le.h+J)/M)+1);break;case"rect":z.push(Math.floor((_.y+J)/M)+1),z.push(Math.floor((_.y+_.h+J)/M)+1)}for(var ne=0;ne<z.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<z[ne];)x.call(this);return z},x=function(){var _=this.fillStyle,L=this.strokeStyle,M=this.font,z=this.lineCap,J=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=L,this.font=M,this.lineCap=z,this.lineWidth=J,this.lineJoin=ae},y=function(_,L,M){for(var z=0;z<_.length;z++)switch(_[z].type){case"bct":_[z].x2+=L,_[z].y2+=M;case"qct":_[z].x1+=L,_[z].y1+=M;case"mt":case"lt":case"arc":default:_[z].x+=L,_[z].y+=M}return _},C=function(_){return _.sort(function(L,M){return L-M})},S=function(_,L){for(var M,z,J=this.fillStyle,ae=this.strokeStyle,le=this.lineCap,ne=this.lineWidth,we=Math.abs(ne*this.ctx.transform.scaleX),_e=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),De=[],me=0;me<ke.length;me++)if(ke[me].x!==void 0)for(var Y=B.call(this,ke[me]),ct=0;ct<Y.length;ct+=1)De.indexOf(Y[ct])===-1&&De.push(Y[ct]);for(var Ke=0;Ke<De.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<De[Ke];)x.call(this);if(C(De),this.autoPaging)for(var Qe=De[0],Re=De[De.length-1],$e=Qe;$e<Re+1;$e++){this.pdf.setPage($e),this.fillStyle=J,this.strokeStyle=ae,this.lineCap=le,this.lineWidth=we,this.lineJoin=_e;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=$e===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],q=$e===1?0:Ne+($e-2)*Pe;if(this.ctx.clip_path.length!==0){var ee=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(M,this.posX+this.margin[3],-q+Ye+this.ctx.prevPageLastElemOffset),k.call(this,_,!0),this.path=ee}if(z=JSON.parse(JSON.stringify(je)),this.path=y(z,this.posX+this.margin[3],-q+Ye+this.ctx.prevPageLastElemOffset),L===!1||$e===0){var xe=($e>Qe||$e<Re)&&w.call(this);xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Pe,null).clip().discardPath()),k.call(this,_,L),xe&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=we,k.call(this,_,L),this.lineWidth=ne;this.path=je},k=function(_,L){if((_!=="stroke"||L||!m.call(this))&&(_==="stroke"||L||!g.call(this))){for(var M,z,J=[],ae=this.path,le=0;le<ae.length;le++){var ne=ae[le];switch(ne.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ne,deltas:[],abs:[]});break;case"lt":var we=J.length;if(ae[le-1]&&!isNaN(ae[le-1].x)&&(M=[ne.x-ae[le-1].x,ne.y-ae[le-1].y],we>0)){for(;we>=0;we--)if(J[we-1].close!==!0&&J[we-1].begin!==!0){J[we-1].deltas.push(M),J[we-1].abs.push(ne);break}}break;case"bct":M=[ne.x1-ae[le-1].x,ne.y1-ae[le-1].y,ne.x2-ae[le-1].x,ne.y2-ae[le-1].y,ne.x-ae[le-1].x,ne.y-ae[le-1].y],J[J.length-1].deltas.push(M);break;case"qct":var _e=ae[le-1].x+2/3*(ne.x1-ae[le-1].x),je=ae[le-1].y+2/3*(ne.y1-ae[le-1].y),ke=ne.x+2/3*(ne.x1-ne.x),De=ne.y+2/3*(ne.y1-ne.y),me=ne.x,Y=ne.y;M=[_e-ae[le-1].x,je-ae[le-1].y,ke-ae[le-1].x,De-ae[le-1].y,me-ae[le-1].x,Y-ae[le-1].y],J[J.length-1].deltas.push(M);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ne)}}z=L?null:_==="stroke"?"stroke":"fill";for(var ct=!1,Ke=0;Ke<J.length;Ke++)if(J[Ke].arc)for(var Qe=J[Ke].abs,Re=0;Re<Qe.length;Re++){var $e=Qe[Re];$e.type==="arc"?j.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,L,!ct):K.call(this,$e.x,$e.y),ct=!0}else if(J[Ke].close===!0)this.pdf.internal.out("h"),ct=!1;else if(J[Ke].begin!==!0){var Ve=J[Ke].start.x,Ye=J[Ke].start.y;$.call(this,J[Ke].deltas,Ve,Ye),ct=!0}z&&R.call(this,z),L&&X.call(this)}},O=function(_){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-M;case"top":return _+L-M;case"hanging":return _+L-2*M;case"middle":return _+L/2-M;case"ideographic":return _;case"alphabetic":default:return _}},I=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(L,M){this.colorStops.push([L,M])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(_,L,M,z,J,ae,le,ne,we){for(var _e=re.call(this,M,z,J,ae),je=0;je<_e.length;je++){var ke=_e[je];je===0&&(we?Q.call(this,ke.x1+_,ke.y1+L):K.call(this,ke.x1+_,ke.y1+L)),fe.call(this,_,L,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ne?X.call(this):R.call(this,le)},R=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(_,L){this.pdf.internal.out(r(_)+" "+n(L)+" m")},F=function(_){var L;switch(_.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var M=this.pdf.getTextDimensions(_.text),z=O.call(this,_.y),J=I.call(this,z)-M.h,ae=this.ctx.transform.applyToPoint(new a(_.x,z)),le=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var we,_e,je,ke=this.ctx.transform.applyToRectangle(new A(_.x,z,M.w,M.h)),De=ne.applyToRectangle(new A(_.x,J,M.w,M.h)),me=B.call(this,De),Y=[],ct=0;ct<me.length;ct+=1)Y.indexOf(me[ct])===-1&&Y.push(me[ct]);if(C(Y),this.autoPaging)for(var Ke=Y[0],Qe=Y[Y.length-1],Re=Ke;Re<Qe+1;Re++){this.pdf.setPage(Re);var $e=Re===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],Ne=Ye-this.margin[0],Pe=this.pdf.internal.pageSize.width-this.margin[1],q=Pe-this.margin[3],ee=Re===1?0:Ve+(Re-2)*Ne;if(this.ctx.clip_path.length!==0){var xe=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(we,this.posX+this.margin[3],-1*ee+$e),k.call(this,"fill",!0),this.path=xe}var Ee=y([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-ee+$e+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*_.scale),je=this.lineWidth,this.lineWidth=je*_.scale);var qe=this.autoPaging!=="text";if(qe||Ee.y+Ee.h<=Ye){if(qe||Ee.y>=$e&&Ee.x<=Pe){var be=qe?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||Pe-Ee.x)[0],ot=y([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ee+$e+this.ctx.prevPageLastElemOffset)[0],At=qe&&(Re>Ke||Re<Qe)&&w.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],q,Ne,null).clip().discardPath()),this.pdf.text(be,ot.x,ot.y,{angle:_.angle,align:L,renderingMode:_.renderingMode}),At&&this.pdf.restoreGraphicsState()}}else Ee.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-Ee.y);_.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=je)}else _.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*_.scale),je=this.lineWidth,this.lineWidth=je*_.scale),this.pdf.text(_.text,ae.x+this.posX,ae.y+this.posY,{angle:_.angle,align:L,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=je)},K=function(_,L,M,z){M=M||0,z=z||0,this.pdf.internal.out(r(_+M)+" "+n(L+z)+" l")},$=function(_,L,M){return this.pdf.lines(_,L,M,null,null)},fe=function(_,L,M,z,J,ae,le,ne){this.pdf.internal.out([e(s(M+_)),e(i(z+L)),e(s(J+_)),e(i(ae+L)),e(s(le+_)),e(i(ne+L)),"c"].join(" "))},re=function(_,L,M,z){for(var J=2*Math.PI,ae=Math.PI/2;L>M;)L-=J;var le=Math.abs(M-L);le<J&&z&&(le=J-le);for(var ne=[],we=z?-1:1,_e=L;le>1e-5;){var je=_e+we*Math.min(le,ae);ne.push(ce.call(this,_,_e,je)),le-=Math.abs(je-_e),_e=je}return ne},ce=function(_,L,M){var z=(M-L)/2,J=_*Math.cos(z),ae=_*Math.sin(z),le=J,ne=-ae,we=le*le+ne*ne,_e=we+le*J+ne*ae,je=4/3*(Math.sqrt(2*we*_e)-_e)/(le*ae-ne*J),ke=le-je*ne,De=ne+je*le,me=ke,Y=-De,ct=z+L,Ke=Math.cos(ct),Qe=Math.sin(ct);return{x1:_*Math.cos(L),y1:_*Math.sin(L),x2:ke*Ke-De*Qe,y2:ke*Qe+De*Ke,x3:me*Ke-Y*Qe,y3:me*Qe+Y*Ke,x4:_*Math.cos(M),y4:_*Math.sin(M)}},W=function(_){return 180*_/Math.PI},ie=function(_,L,M,z,J,ae){var le=_+.5*(M-_),ne=L+.5*(z-L),we=J+.5*(M-J),_e=ae+.5*(z-ae),je=Math.min(_,J,le,we),ke=Math.max(_,J,le,we),De=Math.min(L,ae,ne,_e),me=Math.max(L,ae,ne,_e);return new A(je,De,ke-je,me-De)},de=function(_,L,M,z,J,ae,le,ne){var we,_e,je,ke,De,me,Y,ct,Ke,Qe,Re,$e,Ve,Ye,Ne=M-_,Pe=z-L,q=J-M,ee=ae-z,xe=le-J,Ee=ne-ae;for(_e=0;_e<41;_e++)Ke=(Y=(je=_+(we=_e/40)*Ne)+we*((De=M+we*q)-je))+we*(De+we*(J+we*xe-De)-Y),Qe=(ct=(ke=L+we*Pe)+we*((me=z+we*ee)-ke))+we*(me+we*(ae+we*Ee-me)-ct),_e==0?(Re=Ke,$e=Qe,Ve=Ke,Ye=Qe):(Re=Math.min(Re,Ke),$e=Math.min($e,Qe),Ve=Math.max(Ve,Ke),Ye=Math.max(Ye,Qe));return new A(Math.round(Re),Math.round($e),Math.round(Ve-Re),Math.round(Ye-$e))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,L,M=(_=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:L}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(dt.API),function(t){var e=function(i){var a,A,l,c,u,d,f,g,m,w;for(A=[],l=0,c=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(w=u%85))/85)-(m=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)%85,A.push(d+33,f+33,g+33,m+33,w+33)):A.push(122);return function(B,x){for(var y=x;y>0;y--)B.pop()}(A,a.length),String.fromCharCode.apply(String,A)+"~>"},r=function(i){var a,A,l,c,u,d=String,f="length",g=255,m="charCodeAt",w="slice",B="replace";for(i[w](-2),i=i[w](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),l=[],c=0,u=(i+=a="uuuuu"[w](i[f]%5||5))[f];u>c;c+=5)A=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(g&A>>24,g&A>>16,g&A>>8,g&A);return function(x,y){for(var C=y;C>0;C--)x.pop()}(l,a[f]),d.fromCharCode.apply(d,l)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var A="",l=0;l<i.length;l+=2)A+=String.fromCharCode("0x"+(i[l]+i[l+1]));return A},s=function(i){for(var a=new Uint8Array(i.length),A=i.length;A--;)a[A]=i.charCodeAt(A);return i=(a=Wv(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,a){var A=0,l=i||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),A=0;A<a.length;A+=1)switch(a[A]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(dt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var A=void 0;try{A=function(l,c,u){var d=new XMLHttpRequest,f=0,g=function(m){var w=m.length,B=[],x=String.fromCharCode;for(f=0;f<w;f+=1)B.push(x(255&m.charCodeAt(f)));return B.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(g(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return g(d.responseText)}(s,i,a)}catch{}return A}(e,r,n)},t.loadImageFile=t.loadFile}(dt.API),function(t){function e(){return(xt.html2canvas?Promise.resolve(xt.html2canvas):Ss(()=>Promise.resolve().then(()=>Vv),void 0)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(xt.DOMPurify?Promise.resolve(xt.DOMPurify):Ss(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var A=Jt(a);return A==="undefined"?"undefined":A==="string"||a instanceof String?"string":A==="number"||a instanceof Number?"number":A==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(a,A){var l=document.createElement(a);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},i=function a(A){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(A)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,A){return a.__proto__=A||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,A){return this.then(function(){switch(A=A||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var g=c[f],m=g.src.find(function(w){return w.format==="truetype"});m&&l.addFont(m.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),A(this.prop.container,d)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,A):this.outputPdf(a,A)},i.prototype.outputPdf=function(a,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,A)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var A=Object.keys(a||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(A)})},i.prototype.get=function(a,A){return this.then(function(){var l=a in i.template.prop?this.prop[a]:this.opt[a];return A?A(l):l})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:A(a.inner.width,a.k),height:A(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,A,l,c){return a!=null&&(this.progress.val=a),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,A,l,c){return this.setProgress(a?this.progress.val+a:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(a,A){var l=this;return this.thenCore(a,A,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(a,A,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),A&&(A=A.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,A);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(a,A){return Promise.prototype.then.call(this,a,A)},i.prototype.thenList=function(a){var A=this;return a.forEach(function(l){A=A.thenCore(l)}),A},i.prototype.catch=function(a){a&&(a=a.bind(this));var A=Promise.prototype.catch.call(this,a);return i.convert(A,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,dt.getPageSize=function(a,A,l){if(Jt(a)==="object"){var c=a;a=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+A}var g,m=0,w=0;if(f.hasOwnProperty(d))m=f[d][1]/u,w=f[d][0]/u;else try{m=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",w>m&&(g=w,w=m,m=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>w&&(g=w,w=m,m=g)}return{width:w,height:m,unit:A,k:u,orientation:a}},t.html=function(a,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(tw):null;var l=new i(A);return A.worker?l:l.from(a).doCallback()}}(dt.API),dt.API.addJS=function(t){return sB=t,this.internal.events.subscribe("postPutResources",function(){Bf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bf!==void 0&&nB!==void 0&&this.internal.out("/Names <</JavaScript "+Bf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],A=n.exec(a);if(A!=null){var l=A[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=r.internal.newObject();u.push(d);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var A=this.count=this.count_r({count:0},a);if(A>0&&this.line("/Count "+A),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(dt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,a,A){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var f,g=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,w={width:0,height:0,numcomponents:1},B=4;B<m;B+=2){if(B+=g,e.indexOf(d.charCodeAt(B+1))!==-1){f=256*d.charCodeAt(B+5)+d.charCodeAt(B+6),w={width:256*d.charCodeAt(B+7)+d.charCodeAt(B+8),height:f,numcomponents:d.charCodeAt(B+9)};break}g=256*d.charCodeAt(B+2)+d.charCodeAt(B+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(dt.API);var fl,Cf,iB,aB,oB,a8=function(){var t,e,r;function n(i){var a,A,l,c,u,d,f,g,m,w,B,x,y,C;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),m=(function(){var S,k;for(k=[],S=0;S<4;++S)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,a-=4),i=(d!=null?d.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(y=0;0<=w?y<w:y>w;0<=w?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(B=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,B.slice(0,f)),this.text[g]=String.fromCharCode.apply(String,B.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,A=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*A,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,A;for(A=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)A.push(this.data[this.pos++]);return A},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,A=new Uint8Array(this.width*this.height*a),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,f,g,m){var w,B,x,y,C,S,k,O,I,j,R,X,Q,F,K,$,fe,re,ce,W,ie,de=Math.ceil((c.width-d)/g),te=Math.ceil((c.height-f)/m),_=c.width==de&&c.height==te;for(F=a*de,X=_?A:new Uint8Array(F*te),S=i.length,Q=0,B=0;Q<te&&l<S;){switch(i[l++]){case 0:for(y=fe=0;fe<F;y=fe+=1)X[B++]=i[l++];break;case 1:for(y=re=0;re<F;y=re+=1)w=i[l++],C=y<a?0:X[B-a],X[B++]=(w+C)%256;break;case 2:for(y=ce=0;ce<F;y=ce+=1)w=i[l++],x=(y-y%a)/a,K=Q&&X[(Q-1)*F+x*a+y%a],X[B++]=(K+w)%256;break;case 3:for(y=W=0;W<F;y=W+=1)w=i[l++],x=(y-y%a)/a,C=y<a?0:X[B-a],K=Q&&X[(Q-1)*F+x*a+y%a],X[B++]=(w+Math.floor((C+K)/2))%256;break;case 4:for(y=ie=0;ie<F;y=ie+=1)w=i[l++],x=(y-y%a)/a,C=y<a?0:X[B-a],Q===0?K=$=0:(K=X[(Q-1)*F+x*a+y%a],$=x&&X[(Q-1)*F+(x-1)*a+y%a]),k=C+K-$,O=Math.abs(k-C),j=Math.abs(k-K),R=Math.abs(k-$),I=O<=j&&O<=R?C:j<=R?K:$,X[B++]=(w+I)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!_){var L=((f+Q*m)*c.width+d)*a,M=Q*F;for(y=0;y<de;y+=1){for(var z=0;z<a;z+=1)A[L++]=X[M++];L+=(g-1)*a}}Q++}}return i=TD(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),A},n.prototype.decodePalette=function(){var i,a,A,l,c,u,d,f,g;for(A=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+A.length),l=0,i=0,a=d=0,f=A.length;d<f;a=d+=3)c[l++]=A[a],c[l++]=A[a+1],c[l++]=A[a+2],c[l++]=(g=u[i++])!=null?g:255;return c},n.prototype.copyToImageData=function(i,a){var A,l,c,u,d,f,g,m,w,B,x;if(l=this.colors,w=null,A=this.hasAlphaChannel,this.palette.length&&(w=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,A=!0),m=(c=i.data||i).length,d=w||a,u=f=0,l===1)for(;u<m;)g=w?4*a[u/4]:f,B=d[g++],c[u++]=B,c[u++]=B,c[u++]=B,c[u++]=A?d[g++]:255,f=g;else for(;u<m;)g=w?4*a[u/4]:f,c[u++]=d[g++],c[u++]=d[g++],c[u++]=d[g++],c[u++]=A?d[g++]:255,f=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(xt)==="[object Window]"){try{e=xt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,A,l,c,u,d,f,g;if(this.animation){for(g=[],A=u=0,d=(f=this.animation.frames).length;u<d;A=++u)a=f[A],l=i.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,g.push(a.image=t(l));return g}},n.prototype.renderFrame=function(i,a){var A,l,c;return A=(l=this.animation.frames)[a],c=l[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),A.blendOp===0&&i.clearRect(A.xOffset,A.yOffset,A.width,A.height),i.drawImage(A.image,A.xOffset,A.yOffset)},n.prototype.animate=function(i){var a,A,l,c,u,d,f=this;return A=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(a=function(){var g,m;if(g=A++%c,m=l[g],f.renderFrame(i,g),c>1&&A/c<u)return f.animation._timeout=setTimeout(a,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,A;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(A=a.createImageData(this.width,this.height),this.copyToImageData(A,this.decodePixels()),a.putImageData(A,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function o8(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<(7&s)+1;t[e++],t[e++];var A=null,l=null;i&&(A=e,l=a,e+=3*a);var c=!0,u=[],d=0,f=null,g=0,m=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],!(1&w)&&(f=null),g=w>>2&7,e++;break;case 254:for(;;){if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var B=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,S=t[e++],k=S>>6&1,O=1<<(7&S)+1,I=A,j=l,R=!1;S>>7&&(R=!0,I=e,j=O,e+=3*O);var X=e;for(e++;;){var Q;if(!((Q=t[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}u.push({x:B,y:x,width:y,height:C,has_local_palette:R,palette_offset:I,palette_size:j,data_offset:X,data_length:e-X,transparent_index:f,interlaced:!!k,delay:d,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(F){if(F<0||F>=u.length)throw new Error("Frame index out of range.");return u[F]},this.decodeAndBlitFrameBGRA=function(F,K){var $=this.frameInfo(F),fe=$.width*$.height,re=new Uint8Array(fe);AB(t,$.data_offset,re,fe);var ce=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var ie=$.width,de=r-ie,te=ie,_=4*($.y*r+$.x),L=4*(($.y+$.height)*r+$.x),M=_,z=4*de;$.interlaced===!0&&(z+=4*r*7);for(var J=8,ae=0,le=re.length;ae<le;++ae){var ne=re[ae];if(te===0&&(te=ie,(M+=z)>=L&&(z=4*de+4*r*(J-1),M=_+(ie+de)*(J<<1),J>>=1)),ne===W)M+=4;else{var we=t[ce+3*ne],_e=t[ce+3*ne+1],je=t[ce+3*ne+2];K[M++]=je,K[M++]=_e,K[M++]=we,K[M++]=255}--te}},this.decodeAndBlitFrameRGBA=function(F,K){var $=this.frameInfo(F),fe=$.width*$.height,re=new Uint8Array(fe);AB(t,$.data_offset,re,fe);var ce=$.palette_offset,W=$.transparent_index;W===null&&(W=256);var ie=$.width,de=r-ie,te=ie,_=4*($.y*r+$.x),L=4*(($.y+$.height)*r+$.x),M=_,z=4*de;$.interlaced===!0&&(z+=4*r*7);for(var J=8,ae=0,le=re.length;ae<le;++ae){var ne=re[ae];if(te===0&&(te=ie,(M+=z)>=L&&(z=4*de+4*r*(J-1),M=_+(ie+de)*(J<<1),J>>=1)),ne===W)M+=4;else{var we=t[ce+3*ne],_e=t[ce+3*ne+1],je=t[ce+3*ne+2];K[M++]=we,K[M++]=_e,K[M++]=je,K[M++]=255}--te}}}function AB(t,e,r,n){for(var s=t[e++],i=1<<s,a=i+1,A=a+1,l=s+1,c=(1<<l)-1,u=0,d=0,f=0,g=t[e++],m=new Int32Array(4096),w=null;;){for(;u<16&&g!==0;)d|=t[e++]<<u,u+=8,g===1?g=t[e++]:--g;if(u<l)break;var B=d&c;if(d>>=l,u-=l,B!==i){if(B===a)break;for(var x=B<A?B:w,y=0,C=x;C>i;)C=m[C]>>8,++y;var S=C;if(f+y+(x!==B?1:0)>n)return void rr.log("Warning, gif stream longer than expected.");r[f++]=S;var k=f+=y;for(x!==B&&(r[f++]=S),C=x;y--;)C=m[C],r[--k]=255&C,C>>=8;w!==null&&A<4096&&(m[A++]=w<<8|S,A>=c+1&&l<12&&(++l,c=c<<1|1)),w=B}else A=a+1,c=(1<<(l=s+1))-1,w=null}return f!==n&&rr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gm(t){var e,r,n,s,i,a=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),g=new Array(64),m=new Array(64),w=[],B=0,x=7,y=new Array(64),C=new Array(64),S=new Array(64),k=new Array(256),O=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(_,L){for(var M=0,z=0,J=new Array,ae=1;ae<=16;ae++){for(var le=1;le<=_[ae];le++)J[L[z]]=[],J[L[z]][0]=M,J[L[z]][1]=ae,z++,M++;M*=2}return J}function ce(_){for(var L=_[0],M=_[1]-1;M>=0;)L&1<<M&&(B|=1<<x),M--,--x<0&&(B==255?(W(255),W(0)):W(B),x=7,B=0)}function W(_){w.push(_)}function ie(_){W(_>>8&255),W(255&_)}function de(_,L,M,z,J){for(var ae,le=J[0],ne=J[240],we=function(Qe,Re){var $e,Ve,Ye,Ne,Pe,q,ee,xe,Ee,qe,be=0;for(Ee=0;Ee<8;++Ee){$e=Qe[be],Ve=Qe[be+1],Ye=Qe[be+2],Ne=Qe[be+3],Pe=Qe[be+4],q=Qe[be+5],ee=Qe[be+6];var ot=$e+(xe=Qe[be+7]),At=$e-xe,Ut=Ve+ee,rt=Ve-ee,Me=Ye+q,Dt=Ye-q,ye=Ne+Pe,Ht=Ne-Pe,mt=ot+ye,vt=ot-ye,Et=Ut+Me,yt=Ut-Me;Qe[be]=mt+Et,Qe[be+4]=mt-Et;var ht=.707106781*(yt+vt);Qe[be+2]=vt+ht,Qe[be+6]=vt-ht;var se=.382683433*((mt=Ht+Dt)-(yt=rt+At)),oe=.5411961*mt+se,Ge=1.306562965*yt+se,We=.707106781*(Et=Dt+rt),lt=At+We,et=At-We;Qe[be+5]=et+oe,Qe[be+3]=et-oe,Qe[be+1]=lt+Ge,Qe[be+7]=lt-Ge,be+=8}for(be=0,Ee=0;Ee<8;++Ee){$e=Qe[be],Ve=Qe[be+8],Ye=Qe[be+16],Ne=Qe[be+24],Pe=Qe[be+32],q=Qe[be+40],ee=Qe[be+48];var bt=$e+(xe=Qe[be+56]),Lt=$e-xe,wt=Ve+ee,pt=Ve-ee,Vt=Ye+q,xr=Ye-q,ki=Ne+Pe,Ls=Ne-Pe,Is=bt+ki,Ps=bt-ki,Ts=wt+Vt,Ai=wt-Vt;Qe[be]=Is+Ts,Qe[be+32]=Is-Ts;var hs=.707106781*(Ai+Ps);Qe[be+16]=Ps+hs,Qe[be+48]=Ps-hs;var li=.382683433*((Is=Ls+xr)-(Ai=pt+Lt)),_o=.5411961*Is+li,NA=1.306562965*Ai+li,SA=.707106781*(Ts=xr+pt),jA=Lt+SA,FA=Lt-SA;Qe[be+40]=FA+_o,Qe[be+24]=FA-_o,Qe[be+8]=jA+NA,Qe[be+56]=jA-NA,be++}for(Ee=0;Ee<64;++Ee)qe=Qe[Ee]*Re[Ee],g[Ee]=qe>0?qe+.5|0:qe-.5|0;return g}(_,L),_e=0;_e<64;++_e)m[I[_e]]=we[_e];var je=m[0]-M;M=m[0],je==0?ce(z[0]):(ce(z[f[ae=32767+je]]),ce(d[ae]));for(var ke=63;ke>0&&m[ke]==0;)ke--;if(ke==0)return ce(le),M;for(var De,me=1;me<=ke;){for(var Y=me;m[me]==0&&me<=ke;)++me;var ct=me-Y;if(ct>=16){De=ct>>4;for(var Ke=1;Ke<=De;++Ke)ce(ne);ct&=15}ae=32767+m[me],ce(J[(ct<<4)+f[ae]]),ce(d[ae]),me++}return ke!=63&&ce(le),M}function te(_){_=Math.min(Math.max(_,1),100),i!=_&&(function(L){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var J=a((M[z]*L+50)/100);J=Math.min(Math.max(J,1),255),A[I[z]]=J}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var ne=a((ae[le]*L+50)/100);ne=Math.min(Math.max(ne,1),255),l[I[le]]=ne}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,je=0;je<8;je++)for(var ke=0;ke<8;ke++)c[_e]=1/(A[I[_e]]*we[je]*we[ke]*8),u[_e]=1/(l[I[_e]]*we[je]*we[ke]*8),_e++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),i=_)}this.encode=function(_,L){L&&te(L),w=new Array,B=0,x=7,ie(65496),ie(65504),ie(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),ie(1),ie(1),W(0),W(0),function(){ie(65499),ie(132),W(0);for(var Ve=0;Ve<64;Ve++)W(A[Ve]);W(1);for(var Ye=0;Ye<64;Ye++)W(l[Ye])}(),function(Ve,Ye){ie(65472),ie(17),W(8),ie(Ye),ie(Ve),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(_.width,_.height),function(){ie(65476),ie(418),W(0);for(var Ve=0;Ve<16;Ve++)W(j[Ve+1]);for(var Ye=0;Ye<=11;Ye++)W(R[Ye]);W(16);for(var Ne=0;Ne<16;Ne++)W(X[Ne+1]);for(var Pe=0;Pe<=161;Pe++)W(Q[Pe]);W(1);for(var q=0;q<16;q++)W(F[q+1]);for(var ee=0;ee<=11;ee++)W(K[ee]);W(17);for(var xe=0;xe<16;xe++)W($[xe+1]);for(var Ee=0;Ee<=161;Ee++)W(fe[Ee])}(),ie(65498),ie(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var M=0,z=0,J=0;B=0,x=7,this.encode.displayName="_encode_";for(var ae,le,ne,we,_e,je,ke,De,me,Y=_.data,ct=_.width,Ke=_.height,Qe=4*ct,Re=0;Re<Ke;){for(ae=0;ae<Qe;){for(_e=Qe*Re+ae,ke=-1,De=0,me=0;me<64;me++)je=_e+(De=me>>3)*Qe+(ke=4*(7&me)),Re+De>=Ke&&(je-=Qe*(Re+1+De-Ke)),ae+ke>=Qe&&(je-=ae+ke-Qe+4),le=Y[je++],ne=Y[je++],we=Y[je++],y[me]=(O[le]+O[ne+256>>0]+O[we+512>>0]>>16)-128,C[me]=(O[le+768>>0]+O[ne+1024>>0]+O[we+1280>>0]>>16)-128,S[me]=(O[le+1280>>0]+O[ne+1536>>0]+O[we+1792>>0]>>16)-128;M=de(y,c,M,e,n),z=de(C,u,z,r,s),J=de(S,u,J,r,s),ae+=32}Re+=8}if(x>=0){var $e=[];$e[1]=x+1,$e[0]=(1<<x+1)-1,ce($e)}return ie(65497),new Uint8Array(w)},t=t||50,function(){for(var _=String.fromCharCode,L=0;L<256;L++)k[L]=_(L)}(),e=re(j,R),r=re(F,K),n=re(X,Q),s=re($,fe),function(){for(var _=1,L=2,M=1;M<=15;M++){for(var z=_;z<L;z++)f[32767+z]=M,d[32767+z]=[],d[32767+z][1]=M,d[32767+z][0]=z;for(var J=-(L-1);J<=-_;J++)f[32767+J]=M,d[32767+J]=[],d[32767+J][1]=M,d[32767+J][0]=L-1+J;_<<=1,L<<=1}}(),function(){for(var _=0;_<256;_++)O[_]=19595*_,O[_+256>>0]=38470*_,O[_+512>>0]=7471*_+32768,O[_+768>>0]=-11059*_,O[_+1024>>0]=-21709*_,O[_+1280>>0]=32768*_+8421375,O[_+1536>>0]=-27439*_,O[_+1792>>0]=-5329*_}(),te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lB(t){function e(j){if(!j)throw Error("assert :P")}function r(j,R,X){for(var Q=0;4>Q;Q++)if(j[R+Q]!=X.charCodeAt(Q))return!0;return!1}function n(j,R,X,Q,F){for(var K=0;K<F;K++)j[R+K]=X[Q+K]}function s(j,R,X,Q){for(var F=0;F<Q;F++)j[R+F]=X}function i(j){return new Int32Array(j)}function a(j,R){for(var X=[],Q=0;Q<j;Q++)X.push(new R);return X}function A(j,R){var X=[];return function Q(F,K,$){for(var fe=$[K],re=0;re<fe&&(F.push($.length>K+1?[]:new R),!($.length<K+1));re++)Q(F[re],K+1,$)}(X,0,j),X}var l=function(){var j=this;function R(h,p){for(var b=1<<p-1>>>0;h&b;)b>>>=1;return b?(h&b-1)+b:h}function X(h,p,b,N,E){e(!(N%b));do h[p+(N-=b)]=E;while(0<N)}function Q(h,p,b,N,E){if(e(2328>=E),512>=E)var P=i(512);else if((P=i(E))==null)return 0;return function(D,H,V,G,ue,Be){var Ce,pe,Ie=H,Se=1<<V,he=i(16),ge=i(16);for(e(ue!=0),e(G!=null),e(D!=null),e(0<V),pe=0;pe<ue;++pe){if(15<G[pe])return 0;++he[G[pe]]}if(he[0]==ue)return 0;for(ge[1]=0,Ce=1;15>Ce;++Ce){if(he[Ce]>1<<Ce)return 0;ge[Ce+1]=ge[Ce]+he[Ce]}for(pe=0;pe<ue;++pe)Ce=G[pe],0<G[pe]&&(Be[ge[Ce]++]=pe);if(ge[15]==1)return(G=new F).g=0,G.value=Be[0],X(D,Ie,1,Se,G),Se;var Ue,Te=-1,Le=Se-1,nt=0,Je=1,ft=1,Xe=1<<V;for(pe=0,Ce=1,ue=2;Ce<=V;++Ce,ue<<=1){if(Je+=ft<<=1,0>(ft-=he[Ce]))return 0;for(;0<he[Ce];--he[Ce])(G=new F).g=Ce,G.value=Be[pe++],X(D,Ie+nt,ue,Xe,G),nt=R(nt,Ce)}for(Ce=V+1,ue=2;15>=Ce;++Ce,ue<<=1){if(Je+=ft<<=1,0>(ft-=he[Ce]))return 0;for(;0<he[Ce];--he[Ce]){if(G=new F,(nt&Le)!=Te){for(Ie+=Xe,Ue=1<<(Te=Ce)-V;15>Te&&!(0>=(Ue-=he[Te]));)++Te,Ue<<=1;Se+=Xe=1<<(Ue=Te-V),D[H+(Te=nt&Le)].g=Ue+V,D[H+Te].value=Ie-H-Te}G.g=Ce-V,G.value=Be[pe++],X(D,Ie+(nt>>V),ue,Xe,G),nt=R(nt,Ce)}}return Je!=2*ge[15]-1?0:Se}(h,p,b,N,E,P)}function F(){this.value=this.g=0}function K(){this.value=this.g=0}function $(){this.G=a(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(rn,K)}function fe(h,p,b,N){e(h!=null),e(p!=null),e(2147483648>N),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=b,h.Jd=p,h.Yc=b+N,h.Zc=4<=N?b+N-4+1:b,ae(h)}function re(h,p){for(var b=0;0<p--;)b|=ne(h,128)<<p;return b}function ce(h,p){var b=re(h,p);return le(h)?-b:b}function W(h,p,b,N){var E,P=0;for(e(h!=null),e(p!=null),e(4294967288>N),h.Sb=N,h.Ra=0,h.u=0,h.h=0,4<N&&(N=4),E=0;E<N;++E)P+=p[b+E]<<8*E;h.Ra=P,h.bb=N,h.oa=p,h.pa=b}function ie(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<VA-8>>>0,++h.bb,h.u-=8;M(h)&&(h.h=1,h.u=0)}function de(h,p){if(e(0<=p),!h.h&&p<=KA){var b=L(h)&RA[p];return h.u+=p,ie(h),b}return h.h=1,h.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(h){return h.Ra>>>(h.u&VA-1)>>>0}function M(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>VA}function z(h,p){h.u=p,h.h=M(h)}function J(h){h.u>=kc&&(e(h.u>=kc),ie(h))}function ae(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function le(h){return re(h,1)}function ne(h,p){var b=h.Ca;0>h.b&&ae(h);var N=h.b,E=b*p>>>8,P=(h.I>>>N>E)+0;for(P?(b-=E,h.I-=E+1<<N>>>0):b=E+1,N=b,E=0;256<=N;)E+=8,N>>=8;return N=7^E+In[N],h.b-=N,h.Ca=(b<<N)-1,P}function we(h,p,b){h[p+0]=b>>24&255,h[p+1]=b>>16&255,h[p+2]=b>>8&255,h[p+3]=b>>0&255}function _e(h,p){return h[p+0]<<0|h[p+1]<<8}function je(h,p){return _e(h,p)|h[p+2]<<16}function ke(h,p){return _e(h,p)|_e(h,p+2)<<16}function De(h,p){var b=1<<p;return e(h!=null),e(0<p),h.X=i(b),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function me(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),n(p.X,0,h.X,0,1<<p.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function ct(h,p,b,N){e(b!=null),e(N!=null);var E=b[0],P=N[0];return E==0&&(E=(h*P+p/2)/p),P==0&&(P=(p*E+h/2)/h),0>=E||0>=P?0:(b[0]=E,N[0]=P,1)}function Ke(h,p){return h+(1<<p)-1>>>p}function Qe(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function Re(h,p){j[p]=function(b,N,E,P,D,H,V){var G;for(G=0;G<D;++G){var ue=j[h](H[V+G-1],E,P+G);H[V+G]=Qe(b[N+G],ue)}}}function $e(){this.ud=this.hd=this.jd=0}function Ve(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function Ye(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ne(h,p){return Ye(h+(h-p+.5>>1))}function Pe(h,p,b){return Math.abs(p-b)-Math.abs(h-b)}function q(h,p,b,N,E,P,D){for(N=P[D-1],b=0;b<E;++b)P[D+b]=N=Qe(h[p+b],N)}function ee(h,p,b,N,E){var P;for(P=0;P<b;++P){var D=h[p+P],H=D>>8&255,V=16711935&(V=(V=16711935&D)+((H<<16)+H));N[E+P]=(4278255360&D)+V>>>0}}function xe(h,p){p.jd=h>>0&255,p.hd=h>>8&255,p.ud=h>>16&255}function Ee(h,p,b,N,E,P){var D;for(D=0;D<N;++D){var H=p[b+D],V=H>>>8,G=H,ue=255&(ue=(ue=H>>>16)+((h.jd<<24>>24)*(V<<24>>24)>>>5));G=255&(G=(G=G+((h.hd<<24>>24)*(V<<24>>24)>>>5))+((h.ud<<24>>24)*(ue<<24>>24)>>>5)),E[P+D]=(4278255360&H)+(ue<<16)+G}}function qe(h,p,b,N,E){j[p]=function(P,D,H,V,G,ue,Be,Ce,pe){for(V=Be;V<Ce;++V)for(Be=0;Be<pe;++Be)G[ue++]=E(H[N(P[D++])])},j[h]=function(P,D,H,V,G,ue,Be){var Ce=8>>P.b,pe=P.Ea,Ie=P.K[0],Se=P.w;if(8>Ce)for(P=(1<<P.b)-1,Se=(1<<Ce)-1;D<H;++D){var he,ge=0;for(he=0;he<pe;++he)he&P||(ge=N(V[G++])),ue[Be++]=E(Ie[ge&Se]),ge>>=Ce}else j["VP8LMapColor"+b](V,G,Ie,Se,ue,Be,D,H,pe)}}function be(h,p,b,N,E){for(b=p+b;p<b;){var P=h[p++];N[E++]=P>>16&255,N[E++]=P>>8&255,N[E++]=P>>0&255}}function ot(h,p,b,N,E){for(b=p+b;p<b;){var P=h[p++];N[E++]=P>>16&255,N[E++]=P>>8&255,N[E++]=P>>0&255,N[E++]=P>>24&255}}function At(h,p,b,N,E){for(b=p+b;p<b;){var P=(D=h[p++])>>16&240|D>>12&15,D=D>>0&240|D>>28&15;N[E++]=P,N[E++]=D}}function Ut(h,p,b,N,E){for(b=p+b;p<b;){var P=(D=h[p++])>>16&248|D>>13&7,D=D>>5&224|D>>3&31;N[E++]=P,N[E++]=D}}function rt(h,p,b,N,E){for(b=p+b;p<b;){var P=h[p++];N[E++]=P>>0&255,N[E++]=P>>8&255,N[E++]=P>>16&255}}function Me(h,p,b,N,E,P){if(P==0)for(b=p+b;p<b;)we(N,((P=h[p++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),E+=32;else n(N,E,h,p,b)}function Dt(h,p){j[p][0]=j[h+"0"],j[p][1]=j[h+"1"],j[p][2]=j[h+"2"],j[p][3]=j[h+"3"],j[p][4]=j[h+"4"],j[p][5]=j[h+"5"],j[p][6]=j[h+"6"],j[p][7]=j[h+"7"],j[p][8]=j[h+"8"],j[p][9]=j[h+"9"],j[p][10]=j[h+"10"],j[p][11]=j[h+"11"],j[p][12]=j[h+"12"],j[p][13]=j[h+"13"],j[p][14]=j[h+"0"],j[p][15]=j[h+"0"]}function ye(h){return h==B0||h==C0||h==mh||h==_0}function Ht(){this.eb=[],this.size=this.A=this.fb=0}function mt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ht,this.f.kb=new mt,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ht(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function se(h,p){var b=h.T,N=p.ba.f.RGBA,E=N.eb,P=N.fb+h.ka*N.A,D=vs[p.ba.S],H=h.y,V=h.O,G=h.f,ue=h.N,Be=h.ea,Ce=h.W,pe=p.cc,Ie=p.dc,Se=p.Mc,he=p.Nc,ge=h.ka,Ue=h.ka+h.T,Te=h.U,Le=Te+1>>1;for(ge==0?D(H,V,null,null,G,ue,Be,Ce,G,ue,Be,Ce,E,P,null,null,Te):(D(p.ec,p.fc,H,V,pe,Ie,Se,he,G,ue,Be,Ce,E,P-N.A,E,P,Te),++b);ge+2<Ue;ge+=2)pe=G,Ie=ue,Se=Be,he=Ce,ue+=h.Rc,Ce+=h.Rc,P+=2*N.A,D(H,(V+=2*h.fa)-h.fa,H,V,pe,Ie,Se,he,G,ue,Be,Ce,E,P-N.A,E,P,Te);return V+=h.fa,h.j+Ue<h.o?(n(p.ec,p.fc,H,V,Te),n(p.cc,p.dc,G,ue,Le),n(p.Mc,p.Nc,Be,Ce,Le),b--):1&Ue||D(H,V,null,null,G,ue,Be,Ce,G,ue,Be,Ce,E,P+N.A,null,null,Te),b}function oe(h,p,b){var N=h.F,E=[h.J];if(N!=null){var P=h.U,D=p.ba.S,H=D==ph||D==mh;p=p.ba.f.RGBA;var V=[0],G=h.ka;V[0]=h.T,h.Kb&&(G==0?--V[0]:(--G,E[0]-=h.width),h.j+h.ka+h.T==h.o&&(V[0]=h.o-h.j-G));var ue=p.eb;G=p.fb+G*p.A,h=sr(N,E[0],h.width,P,V,ue,G+(H?0:3),p.A),e(b==V),h&&ye(D)&&ms(ue,G,H,P,V,p.A)}return 0}function Ge(h){var p=h.ma,b=p.ba.S,N=11>b,E=b==fh||b==gh||b==ph||b==b0||b==12||ye(b);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Ec(p.Oa,h,E?11:12))return 0;if(E&&ye(b)&&Oe(),h.da)alert("todo:use_scaling");else{if(N){if(p.Ib=ht,h.Kb){if(b=h.U+1>>1,p.memory=i(h.U+2*b),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+b,p.Ib=se,Oe()}}else alert("todo:EmitYUV");E&&(p.Jb=oe,N&&ve())}if(N&&!Ky){for(h=0;256>h;++h)pj[h]=89858*(h-128)+vh>>xh,vj[h]=-22014*(h-128)+vh,xj[h]=-45773*(h-128),mj[h]=113618*(h-128)+vh>>xh;for(h=Oc;h<j0;++h)p=76283*(h-16)+vh>>xh,wj[h-Oc]=Xn(p,255),yj[h-Oc]=Xn(p+8>>4,15);Ky=1}return 1}function We(h){var p=h.ma,b=h.U,N=h.T;return e(!(1&h.ka)),0>=b||0>=N?0:(b=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,b),p.Dc+=b,1)}function lt(h){h.ma.memory=null}function et(h,p,b,N){return de(h,8)!=47?0:(p[0]=de(h,14)+1,b[0]=de(h,14)+1,N[0]=de(h,1),de(h,3)!=0?0:!h.h)}function bt(h,p){if(4>h)return h+1;var b=h-2>>1;return(2+(1&h)<<b)+de(p,b)+1}function Lt(h,p){return 120<p?p-120:1<=(b=((b=rj[p-1])>>4)*h+(8-(15&b)))?b:1;var b}function wt(h,p,b){var N=L(b),E=h[p+=255&N].g-8;return 0<E&&(z(b,b.u+8),N=L(b),p+=h[p].value,p+=N&(1<<E)-1),z(b,b.u+h[p].g),h[p].value}function pt(h,p,b){return b.g+=h.g,b.value+=h.value<<p>>>0,e(8>=b.g),h.g}function Vt(h,p,b){var N=h.xc;return e((p=N==0?0:h.vc[h.md*(b>>N)+(p>>N)])<h.Wb),h.Ya[p]}function xr(h,p,b,N){var E=h.ab,P=h.c*p,D=h.C;p=D+p;var H=b,V=N;for(N=h.Ta,b=h.Ua;0<E--;){var G=h.gc[E],ue=D,Be=p,Ce=H,pe=V,Ie=(V=N,H=b,G.Ea);switch(e(ue<Be),e(Be<=G.nc),G.hc){case 2:oh(Ce,pe,(Be-ue)*Ie,V,H);break;case 0:var Se=ue,he=Be,ge=V,Ue=H,Te=(Xe=G).Ea;Se==0&&(w0(Ce,pe,null,null,1,ge,Ue),q(Ce,pe+1,0,0,Te-1,ge,Ue+1),pe+=Te,Ue+=Te,++Se);for(var Le=1<<Xe.b,nt=Le-1,Je=Ke(Te,Xe.b),ft=Xe.K,Xe=Xe.w+(Se>>Xe.b)*Je;Se<he;){var Kt=ft,qt=Xe,Mt=1;for(Qc(Ce,pe,ge,Ue-Te,1,ge,Ue);Mt<Te;){var It=(Mt&~nt)+Le;It>Te&&(It=Te),(0,da[Kt[qt++]>>8&15])(Ce,pe+ +Mt,ge,Ue+Mt-Te,It-Mt,ge,Ue+Mt),Mt=It}pe+=Te,Ue+=Te,++Se&nt||(Xe+=Je)}Be!=G.nc&&n(V,H-Ie,V,H+(Be-ue-1)*Ie,Ie);break;case 1:for(Ie=Ce,he=pe,Te=(Ce=G.Ea)-(Ue=Ce&~(ge=(pe=1<<G.b)-1)),Se=Ke(Ce,G.b),Le=G.K,G=G.w+(ue>>G.b)*Se;ue<Be;){for(nt=Le,Je=G,ft=new $e,Xe=he+Ue,Kt=he+Ce;he<Xe;)xe(nt[Je++],ft),Eo(ft,Ie,he,pe,V,H),he+=pe,H+=pe;he<Kt&&(xe(nt[Je++],ft),Eo(ft,Ie,he,Te,V,H),he+=Te,H+=Te),++ue&ge||(G+=Se)}break;case 3:if(Ce==V&&pe==H&&0<G.b){for(he=V,Ce=Ie=H+(Be-ue)*Ie-(Ue=(Be-ue)*Ke(G.Ea,G.b)),pe=V,ge=H,Se=[],Ue=(Te=Ue)-1;0<=Ue;--Ue)Se[Ue]=pe[ge+Ue];for(Ue=Te-1;0<=Ue;--Ue)he[Ce+Ue]=Se[Ue];fs(G,ue,Be,V,Ie,V,H)}else fs(G,ue,Be,Ce,pe,V,H)}H=N,V=b}V!=b&&n(N,b,H,V,P)}function ki(h,p){var b=h.V,N=h.Ba+h.c*h.C,E=p-h.C;if(e(p<=h.l.o),e(16>=E),0<E){var P=h.l,D=h.Ta,H=h.Ua,V=P.width;if(xr(h,E,b,N),E=H=[H],e((b=h.C)<(N=p)),e(P.v<P.va),N>P.o&&(N=P.o),b<P.j){var G=P.j-b;b=P.j,E[0]+=G*V}if(b>=N?b=0:(E[0]+=4*P.v,P.ka=b-P.j,P.U=P.va-P.v,P.T=N-b,b=1),b){if(H=H[0],11>(b=h.ca).S){var ue=b.f.RGBA,Be=(N=b.S,E=P.U,P=P.T,G=ue.eb,ue.A),Ce=P;for(ue=ue.fb+h.Ma*ue.A;0<Ce--;){var pe=D,Ie=H,Se=E,he=G,ge=ue;switch(N){case hh:Pn(pe,Ie,Se,he,ge);break;case fh:Nn(pe,Ie,Se,he,ge);break;case B0:Nn(pe,Ie,Se,he,ge),ms(he,ge,0,Se,1,0);break;case Ly:Pi(pe,Ie,Se,he,ge);break;case gh:Me(pe,Ie,Se,he,ge,1);break;case C0:Me(pe,Ie,Se,he,ge,1),ms(he,ge,0,Se,1,0);break;case ph:Me(pe,Ie,Se,he,ge,0);break;case mh:Me(pe,Ie,Se,he,ge,0),ms(he,ge,1,Se,1,0);break;case b0:ha(pe,Ie,Se,he,ge);break;case _0:ha(pe,Ie,Se,he,ge),nr(he,ge,Se,1,0);break;case Iy:Ii(pe,Ie,Se,he,ge);break;default:e(0)}H+=V,ue+=Be}h.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=b.height)}}h.C=p,e(h.C<=h.i)}function Ls(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var b=h.Ya[p].G,N=h.Ya[p].H;if(0<b[1][N[1]+0].g||0<b[2][N[2]+0].g||0<b[3][N[3]+0].g)return 0}return 1}function Is(h,p,b,N,E,P){if(h.Z!=0){var D=h.qd,H=h.rd;for(e(ma[h.Z]!=null);p<b;++p)ma[h.Z](D,H,N,E,N,E,P),D=N,H=E,E+=P;h.qd=D,h.rd=H}}function Ps(h,p){var b=h.l.ma,N=b.Z==0||b.Z==1?h.l.j:h.C;if(N=h.C<N?N:h.C,e(p<=h.l.o),p>N){var E=h.l.width,P=b.ca,D=b.tb+E*N,H=h.V,V=h.Ba+h.c*N,G=h.gc;e(h.ab==1),e(G[0].hc==3),Ah(G[0],N,p,H,V,P,D),Is(b,N,p,P,D,E)}h.C=h.Ma=p}function Ts(h,p,b,N,E,P,D){var H=h.$/N,V=h.$%N,G=h.m,ue=h.s,Be=b+h.$,Ce=Be;E=b+N*E;var pe=b+N*P,Ie=280+ue.ua,Se=h.Pb?H:16777216,he=0<ue.ua?ue.Wa:null,ge=ue.wc,Ue=Be<pe?Vt(ue,V,H):null;e(h.C<P),e(pe<=E);var Te=!1;e:for(;;){for(;Te||Be<pe;){var Le=0;if(H>=Se){var nt=Be-b;e((Se=h).Pb),Se.wd=Se.m,Se.xd=nt,0<Se.s.ua&&me(Se.s.Wa,Se.s.vb),Se=H+sj}if(V&ge||(Ue=Vt(ue,V,H)),e(Ue!=null),Ue.Qb&&(p[Be]=Ue.qb,Te=!0),!Te)if(J(G),Ue.jc){Le=G,nt=p;var Je=Be,ft=Ue.pd[L(Le)&rn-1];e(Ue.jc),256>ft.g?(z(Le,Le.u+ft.g),nt[Je]=ft.value,Le=0):(z(Le,Le.u+ft.g-256),e(256<=ft.value),Le=ft.value),Le==0&&(Te=!0)}else Le=wt(Ue.G[0],Ue.H[0],G);if(G.h)break;if(Te||256>Le){if(!Te)if(Ue.nd)p[Be]=(Ue.qb|Le<<8)>>>0;else{if(J(G),Te=wt(Ue.G[1],Ue.H[1],G),J(G),nt=wt(Ue.G[2],Ue.H[2],G),Je=wt(Ue.G[3],Ue.H[3],G),G.h)break;p[Be]=(Je<<24|Te<<16|Le<<8|nt)>>>0}if(Te=!1,++Be,++V>=N&&(V=0,++H,D!=null&&H<=P&&!(H%16)&&D(h,H),he!=null))for(;Ce<Be;)Le=p[Ce++],he.X[(506832829*Le&4294967295)>>>he.Mb]=Le}else if(280>Le){if(Le=bt(Le-256,G),nt=wt(Ue.G[4],Ue.H[4],G),J(G),nt=Lt(N,nt=bt(nt,G)),G.h)break;if(Be-b<nt||E-Be<Le)break e;for(Je=0;Je<Le;++Je)p[Be+Je]=p[Be+Je-nt];for(Be+=Le,V+=Le;V>=N;)V-=N,++H,D!=null&&H<=P&&!(H%16)&&D(h,H);if(e(Be<=E),V&ge&&(Ue=Vt(ue,V,H)),he!=null)for(;Ce<Be;)Le=p[Ce++],he.X[(506832829*Le&4294967295)>>>he.Mb]=Le}else{if(!(Le<Ie))break e;for(Te=Le-280,e(he!=null);Ce<Be;)Le=p[Ce++],he.X[(506832829*Le&4294967295)>>>he.Mb]=Le;Le=Be,e(!(Te>>>(nt=he).Xa)),p[Le]=nt.X[Te],Te=!0}Te||e(G.h==M(G))}if(h.Pb&&G.h&&Be<E)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&me(h.s.vb,h.s.Wa);else{if(G.h)break e;D!=null&&D(h,H>P?P:H),h.a=0,h.$=Be-b}return 1}return h.a=3,0}function Ai(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function hs(){var h=new v0;return h==null?null:(h.a=0,h.xb=Dy,Dt("Predictor","VP8LPredictors"),Dt("Predictor","VP8LPredictors_C"),Dt("PredictorAdd","VP8LPredictorsAdd"),Dt("PredictorAdd","VP8LPredictorsAdd_C"),oh=ee,Eo=Ee,Pn=be,Nn=ot,ha=At,Ii=Ut,Pi=rt,j.VP8LMapColor32b=zA,j.VP8LMapColor8b=lh,h)}function li(h,p,b,N,E){var P=1,D=[h],H=[p],V=N.m,G=N.s,ue=null,Be=0;e:for(;;){if(b)for(;P&&de(V,1);){var Ce=D,pe=H,Ie=N,Se=1,he=Ie.m,ge=Ie.gc[Ie.ab],Ue=de(he,2);if(Ie.Oc&1<<Ue)P=0;else{switch(Ie.Oc|=1<<Ue,ge.hc=Ue,ge.Ea=Ce[0],ge.nc=pe[0],ge.K=[null],++Ie.ab,e(4>=Ie.ab),Ue){case 0:case 1:ge.b=de(he,3)+2,Se=li(Ke(ge.Ea,ge.b),Ke(ge.nc,ge.b),0,Ie,ge.K),ge.K=ge.K[0];break;case 3:var Te,Le=de(he,8)+1,nt=16<Le?0:4<Le?1:2<Le?2:3;if(Ce[0]=Ke(ge.Ea,nt),ge.b=nt,Te=Se=li(Le,1,0,Ie,ge.K)){var Je,ft=Le,Xe=ge,Kt=1<<(8>>Xe.b),qt=i(Kt);if(qt==null)Te=0;else{var Mt=Xe.K[0],It=Xe.w;for(qt[0]=Xe.K[0][0],Je=1;Je<1*ft;++Je)qt[Je]=Qe(Mt[It+Je],qt[Je-1]);for(;Je<4*Kt;++Je)qt[Je]=0;Xe.K[0]=null,Xe.K[0]=qt,Te=1}}Se=Te;break;case 2:break;default:e(0)}P=Se}}if(D=D[0],H=H[0],P&&de(V,1)&&!(P=1<=(Be=de(V,4))&&11>=Be)){N.a=3;break e}var tr;if(tr=P)t:{var Yt,Ft,Ir,Tn=N,Pr=D,Dn=H,Gt=Be,Zn=b,es=Tn.m,Jr=Tn.s,nn=[null],jn=1,ws=0,hi=nj[Gt];r:for(;;){if(Zn&&de(es,1)){var Xr=de(es,3)+2,Hi=Ke(Pr,Xr),Io=Ke(Dn,Xr),JA=Hi*Io;if(!li(Hi,Io,0,Tn,nn))break r;for(nn=nn[0],Jr.xc=Xr,Yt=0;Yt<JA;++Yt){var xa=nn[Yt]>>8&65535;nn[Yt]=xa,xa>=jn&&(jn=xa+1)}}if(es.h)break r;for(Ft=0;5>Ft;++Ft){var wr=Py[Ft];!Ft&&0<Gt&&(wr+=1<<Gt),ws<wr&&(ws=wr)}var F0=a(jn*hi,F),$y=jn,qy=a($y,$);if(qy==null)var yh=null;else e(65536>=$y),yh=qy;var Hc=i(ws);if(yh==null||Hc==null||F0==null){Tn.a=1;break r}var bh=F0;for(Yt=Ir=0;Yt<jn;++Yt){var Rs=yh[Yt],XA=Rs.G,YA=Rs.H,Gy=0,Bh=1,Wy=0;for(Ft=0;5>Ft;++Ft){wr=Py[Ft],XA[Ft]=bh,YA[Ft]=Ir,!Ft&&0<Gt&&(wr+=1<<Gt);s:{var Ch,E0=wr,_h=Tn,Mc=Hc,Cj=bh,_j=Ir,U0=0,va=_h.m,Nj=de(va,1);if(s(Mc,0,0,E0),Nj){var Sj=de(va,1)+1,jj=de(va,1),Jy=de(va,jj==0?1:8);Mc[Jy]=1,Sj==2&&(Mc[Jy=de(va,8)]=1);var Nh=1}else{var Xy=i(19),Yy=de(va,4)+4;if(19<Yy){_h.a=3;var Sh=0;break s}for(Ch=0;Ch<Yy;++Ch)Xy[tj[Ch]]=de(va,3);var k0=void 0,Rc=void 0,Zy=_h,Fj=Xy,jh=E0,e1=Mc,Q0=0,wa=Zy.m,t1=8,r1=a(128,F);n:for(;Q(r1,0,7,Fj,19);){if(de(wa,1)){var Ej=2+2*de(wa,3);if((k0=2+de(wa,Ej))>jh)break n}else k0=jh;for(Rc=0;Rc<jh&&k0--;){J(wa);var n1=r1[0+(127&L(wa))];z(wa,wa.u+n1.g);var ZA=n1.value;if(16>ZA)e1[Rc++]=ZA,ZA!=0&&(t1=ZA);else{var Uj=ZA==16,s1=ZA-16,kj=ZS[s1],i1=de(wa,YS[s1])+kj;if(Rc+i1>jh)break n;for(var Qj=Uj?t1:0;0<i1--;)e1[Rc++]=Qj}}Q0=1;break n}Q0||(Zy.a=3),Nh=Q0}(Nh=Nh&&!va.h)&&(U0=Q(Cj,_j,8,Mc,E0)),Nh&&U0!=0?Sh=U0:(_h.a=3,Sh=0)}if(Sh==0)break r;if(Bh&&ej[Ft]==1&&(Bh=bh[Ir].g==0),Gy+=bh[Ir].g,Ir+=Sh,3>=Ft){var Kc,L0=Hc[0];for(Kc=1;Kc<wr;++Kc)Hc[Kc]>L0&&(L0=Hc[Kc]);Wy+=L0}}if(Rs.nd=Bh,Rs.Qb=0,Bh&&(Rs.qb=(XA[3][YA[3]+0].value<<24|XA[1][YA[1]+0].value<<16|XA[2][YA[2]+0].value)>>>0,Gy==0&&256>XA[0][YA[0]+0].value&&(Rs.Qb=1,Rs.qb+=XA[0][YA[0]+0].value<<8)),Rs.jc=!Rs.Qb&&6>Wy,Rs.jc){var Fh,Mi=Rs;for(Fh=0;Fh<rn;++Fh){var ya=Fh,ba=Mi.pd[ya],Eh=Mi.G[0][Mi.H[0]+ya];256<=Eh.value?(ba.g=Eh.g+256,ba.value=Eh.value):(ba.g=0,ba.value=0,ya>>=pt(Eh,8,ba),ya>>=pt(Mi.G[1][Mi.H[1]+ya],16,ba),ya>>=pt(Mi.G[2][Mi.H[2]+ya],0,ba),pt(Mi.G[3][Mi.H[3]+ya],24,ba))}}}Jr.vc=nn,Jr.Wb=jn,Jr.Ya=yh,Jr.yc=F0,tr=1;break t}tr=0}if(!(P=tr)){N.a=3;break e}if(0<Be){if(G.ua=1<<Be,!De(G.Wa,Be)){N.a=1,P=0;break e}}else G.ua=0;var I0=N,a1=D,Lj=H,P0=I0.s,T0=P0.xc;if(I0.c=a1,I0.i=Lj,P0.md=Ke(a1,T0),P0.wc=T0==0?-1:(1<<T0)-1,b){N.xb=uj;break e}if((ue=i(D*H))==null){N.a=1,P=0;break e}P=(P=Ts(N,ue,0,D,H,H,null))&&!V.h;break e}return P?(E!=null?E[0]=ue:(e(ue==null),e(b)),N.$=0,b||Ai(G)):Ai(G),P}function _o(h,p){var b=h.c*h.i,N=b+p+16*p;return e(h.c<=p),h.V=i(N),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+b+p,1)}function NA(h,p){var b=h.C,N=p-b,E=h.V,P=h.Ba+h.c*b;for(e(p<=h.l.o);0<N;){var D=16<N?16:N,H=h.l.ma,V=h.l.width,G=V*D,ue=H.ca,Be=H.tb+V*b,Ce=h.Ta,pe=h.Ua;xr(h,D,E,P),Nr(Ce,pe,ue,Be,G),Is(H,b,b+D,ue,Be,V),N-=D,E+=D*h.c,b+=D}e(b==p),h.C=h.Ma=p}function SA(){this.ub=this.yd=this.td=this.Rb=0}function jA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function FA(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Md(){this.Yb=function(){var h=[];return function p(b,N,E){for(var P=E[N],D=0;D<P&&(b.push(E.length>N+1?[]:0),!(E.length<N+1));D++)p(b[D],N+1,E)}(h,0,[3,11]),h}()}function Jp(){this.jb=i(3),this.Wc=A([4,8],Md),this.Xc=A([4,17],Md)}function Xp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function EA(){this.ld=this.La=this.dd=this.tc=0}function Rd(){this.Na=this.la=0}function Yp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zp(){this.uc=this.M=this.Nb=0,this.wa=Array(new EA),this.Y=0,this.ya=Array(new fc),this.aa=0,this.l=new UA}function Kd(){this.y=i(16),this.f=i(8),this.ea=i(8)}function e0(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new SA,this.Kc=new jA,this.ed=new Xp,this.Qa=new FA,this.Ic=this.$c=this.Aa=0,this.D=new Zp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,te),this.ia=0,this.pb=a(4,Yp),this.Pa=new Jp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kd),this.Hd=0,this.rb=Array(new Rd),this.sb=0,this.wa=Array(new EA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fc),this.L=this.aa=0,this.gd=A([4,2],EA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function UA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function t0(){var h=new e0;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Dc||(Dc=$d)),h}function Cr(h,p,b){return h.a==0&&(h.a=p,h.sc=b,h.cb=0),0}function Vd(h,p,b){return 3<=b&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function zd(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return Cr(h,2,"null VP8Io passed to VP8GetHeaders()");var b=p.data,N=p.w,E=p.ha;if(4>E)return Cr(h,7,"Truncated header.");var P=b[N+0]|b[N+1]<<8|b[N+2]<<16,D=h.Od;if(D.Rb=!(1&P),D.td=P>>1&7,D.yd=P>>4&1,D.ub=P>>5,3<D.td)return Cr(h,3,"Incorrect keyframe parameters.");if(!D.yd)return Cr(h,4,"Frame not displayable.");N+=3,E-=3;var H=h.Kc;if(D.Rb){if(7>E)return Cr(h,7,"cannot parse picture header");if(!Vd(b,N,E))return Cr(h,3,"Bad code word");H.c=16383&(b[N+4]<<8|b[N+3]),H.Td=b[N+4]>>6,H.i=16383&(b[N+6]<<8|b[N+5]),H.Ud=b[N+6]>>6,N+=7,E-=7,h.za=H.c+15>>4,h.Ub=H.i+15>>4,p.width=H.c,p.height=H.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,s((P=h.Pa).jb,0,255,P.jb.length),e((P=h.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,s(P.Zb,0,0,P.Zb.length),s(P.Lb,0,0,P.Lb)}if(D.ub>E)return Cr(h,7,"bad partition length");fe(P=h.m,b,N,D.ub),N+=D.ub,E-=D.ub,D.Rb&&(H.Ld=le(P),H.Kd=le(P)),H=h.Qa;var V,G=h.Pa;if(e(P!=null),e(H!=null),H.Cb=le(P),H.Cb){if(H.Bb=le(P),le(P)){for(H.Fb=le(P),V=0;4>V;++V)H.Zb[V]=le(P)?ce(P,7):0;for(V=0;4>V;++V)H.Lb[V]=le(P)?ce(P,6):0}if(H.Bb)for(V=0;3>V;++V)G.jb[V]=le(P)?re(P,8):255}else H.Bb=0;if(P.Ka)return Cr(h,3,"cannot parse segment header");if((H=h.ed).zd=le(P),H.Tb=re(P,6),H.wb=re(P,3),H.Pc=le(P),H.Pc&&le(P)){for(G=0;4>G;++G)le(P)&&(H.vd[G]=ce(P,6));for(G=0;4>G;++G)le(P)&&(H.od[G]=ce(P,6))}if(h.L=H.Tb==0?0:H.zd?1:2,P.Ka)return Cr(h,3,"cannot parse filter header");var ue=E;if(E=V=N,N=V+ue,H=ue,h.Xb=(1<<re(h.m,2))-1,ue<3*(G=h.Xb))b=7;else{for(V+=3*G,H-=3*G,ue=0;ue<G;++ue){var Be=b[E+0]|b[E+1]<<8|b[E+2]<<16;Be>H&&(Be=H),fe(h.Jc[+ue],b,V,Be),V+=Be,H-=Be,E+=3}fe(h.Jc[+G],b,V,H),b=V<N?0:5}if(b!=0)return Cr(h,b,"cannot parse partitions");for(b=re(V=h.m,7),E=le(V)?ce(V,4):0,N=le(V)?ce(V,4):0,H=le(V)?ce(V,4):0,G=le(V)?ce(V,4):0,V=le(V)?ce(V,4):0,ue=h.Qa,Be=0;4>Be;++Be){if(ue.Cb){var Ce=ue.Zb[Be];ue.Fb||(Ce+=b)}else{if(0<Be){h.pb[Be]=h.pb[0];continue}Ce=b}var pe=h.pb[Be];pe.Sc[0]=N0[Xn(Ce+E,127)],pe.Sc[1]=S0[Xn(Ce+0,127)],pe.Eb[0]=2*N0[Xn(Ce+N,127)],pe.Eb[1]=101581*S0[Xn(Ce+H,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=N0[Xn(Ce+G,117)],pe.Qc[1]=S0[Xn(Ce+V,127)],pe.lc=Ce+V}if(!D.Rb)return Cr(h,4,"Not a key frame.");for(le(P),D=h.Pa,b=0;4>b;++b){for(E=0;8>E;++E)for(N=0;3>N;++N)for(H=0;11>H;++H)G=ne(P,lj[b][E][N][H])?re(P,8):oj[b][E][N][H],D.Wc[b][E].Yb[N][H]=G;for(E=0;17>E;++E)D.Xc[b][E]=D.Wc[b][cj[E]]}return h.kc=le(P),h.kc&&(h.Bd=re(P,8)),h.cb=1}function $d(h,p,b,N,E,P,D){var H=p[E].Yb[b];for(b=0;16>E;++E){if(!ne(h,H[b+0]))return E;for(;!ne(h,H[b+1]);)if(H=p[++E].Yb[0],b=0,E==16)return 16;var V=p[E+1].Yb;if(ne(h,H[b+2])){var G=h,ue=0;if(ne(G,(Ce=H)[(Be=b)+3]))if(ne(G,Ce[Be+6])){for(H=0,Be=2*(ue=ne(G,Ce[Be+8]))+(Ce=ne(G,Ce[Be+9+ue])),ue=0,Ce=ij[Be];Ce[H];++H)ue+=ue+ne(G,Ce[H]);ue+=3+(8<<Be)}else ne(G,Ce[Be+7])?(ue=7+2*ne(G,165),ue+=ne(G,145)):ue=5+ne(G,159);else ue=ne(G,Ce[Be+4])?3+ne(G,Ce[Be+5]):2;H=V[2]}else ue=1,H=V[1];V=D+aj[E],0>(G=h).b&&ae(G);var Be,Ce=G.b,pe=(Be=G.Ca>>1)-(G.I>>Ce)>>31;--G.b,G.Ca+=pe,G.Ca|=1,G.I-=(Be+1&pe)<<Ce,P[V]=((ue^pe)-pe)*N[(0<E)+0]}return 16}function gc(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,s(h.zc,0,0,h.zc.length),h.ja=0}function r0(h,p){if(h==null)return 0;if(p==null)return Cr(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!zd(h,p))return 0;if(e(h.cb),p.ac==null||p.ac(p)){p.ob&&(h.L=0);var b=wh[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=p.v-b>>4,h.zb=p.j-b>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=p.o+15+b>>4,h.Hb=p.va+15+b>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var N=h.ed;for(b=0;4>b;++b){var E;if(h.Qa.Cb){var P=h.Qa.Lb[b];h.Qa.Fb||(P+=N.Tb)}else P=N.Tb;for(E=0;1>=E;++E){var D=h.gd[b][E],H=P;if(N.Pc&&(H+=N.vd[0],E&&(H+=N.od[0])),0<(H=0>H?0:63<H?63:H)){var V=H;0<N.wb&&(V=4<N.wb?V>>2:V>>1)>9-N.wb&&(V=9-N.wb),1>V&&(V=1),D.dd=V,D.tc=2*H+V,D.ld=40<=H?2:15<=H?1:0}else D.tc=0;D.La=E}}}b=0}else Cr(h,6,"Frame setup failed"),b=h.a;if(b=b==0){if(b){h.$c=0,0<h.Aa||(h.Ic=Bj);e:{b=h.Ic,N=4*(V=h.za);var G=32*V,ue=V+1,Be=0<h.L?V*(0<h.Aa?2:1):0,Ce=(h.Aa==2?2:1)*V;if((D=N+832+(E=3*(16*b+wh[h.L])/2*G)+(P=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=D)b=0;else{if(D>h.Vb){if(h.Vb=0,h.Ec=i(D),h.Fc=0,h.Ec==null){b=Cr(h,1,"no memory during frame initialization.");break e}h.Vb=D}D=h.Ec,H=h.Fc,h.Ac=D,h.Bc=H,H+=N,h.Gd=a(G,Kd),h.Hd=0,h.rb=a(ue+1,Rd),h.sb=1,h.wa=Be?a(Be,EA):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=V),e(!0),h.oc=D,h.pc=H,H+=832,h.ya=a(Ce,fc),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=V),h.R=16*V,h.B=8*V,V=(G=wh[h.L])*h.R,G=G/2*h.B,h.sa=D,h.ta=H+V,h.qa=h.sa,h.ra=h.ta+16*b*h.R+G,h.Ha=h.qa,h.Ia=h.ra+8*b*h.B+G,h.$c=0,H+=E,h.mb=P?D:null,h.nb=P?H:null,e(H+P<=h.Fc+h.Vb),gc(h),s(h.Ac,h.Bc,0,N),b=1}}if(b){if(p.ka=0,p.y=h.sa,p.O=h.ta,p.f=h.qa,p.N=h.ra,p.ea=h.Ha,p.Vd=h.Ia,p.fa=h.R,p.Rc=h.B,p.F=null,p.J=0,!uh){for(b=-255;255>=b;++b)Rr[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)Di[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Tc[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)WA[255+b]=0>b?0:255<b?255:b;uh=1}$A=i0,Ti=n0,Lc=Gd,Sn=s0,gs=Wd,_r=qd,qA=yc,ch=jo,Ic=x0,Uo=bc,ko=m0,fa=TA,Qo=Bc,GA=sh,Lo=nh,ga=ui,Pc=Li,ps=p0,Ms[0]=ci,Ms[1]=a0,Ms[2]=c0,Ms[3]=u0,Ms[4]=Yd,Ms[5]=IA,Ms[6]=Zd,Ms[7]=xc,Ms[8]=h0,Ms[9]=d0,pa[0]=Jd,pa[1]=A0,pa[2]=Qi,pa[3]=QA,pa[4]=cn,pa[5]=l0,pa[6]=Xd,Oi[0]=la,Oi[1]=o0,Oi[2]=f0,Oi[3]=vc,Oi[4]=So,Oi[5]=g0,Oi[6]=wc,b=1}else b=0}b&&(b=function(pe,Ie){for(pe.M=0;pe.M<pe.Va;++pe.M){var Se,he=pe.Jc[pe.M&pe.Xb],ge=pe.m,Ue=pe;for(Se=0;Se<Ue.za;++Se){var Te=ge,Le=Ue,nt=Le.Ac,Je=Le.Bc+4*Se,ft=Le.zc,Xe=Le.ya[Le.aa+Se];if(Le.Qa.Bb?Xe.$b=ne(Te,Le.Pa.jb[0])?2+ne(Te,Le.Pa.jb[2]):ne(Te,Le.Pa.jb[1]):Xe.$b=0,Le.kc&&(Xe.Ad=ne(Te,Le.Bd)),Xe.Za=!ne(Te,145)+0,Xe.Za){var Kt=Xe.Ob,qt=0;for(Le=0;4>Le;++Le){var Mt,It=ft[0+Le];for(Mt=0;4>Mt;++Mt){It=Aj[nt[Je+Mt]][It];for(var tr=Ty[ne(Te,It[0])];0<tr;)tr=Ty[2*tr+ne(Te,It[tr])];It=-tr,nt[Je+Mt]=It}n(Kt,qt,nt,Je,4),qt+=4,ft[0+Le]=It}}else It=ne(Te,156)?ne(Te,128)?1:3:ne(Te,163)?2:0,Xe.Ob[0]=It,s(nt,Je,It,4),s(ft,0,It,4);Xe.Dd=ne(Te,142)?ne(Te,114)?ne(Te,183)?1:3:2:0}if(Ue.m.Ka)return Cr(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Ue=he,Te=(ge=pe).rb[ge.sb-1],nt=ge.rb[ge.sb+ge.ja],Se=ge.ya[ge.aa+ge.ja],Je=ge.kc?Se.Ad:0)Te.la=nt.la=0,Se.Za||(Te.Na=nt.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var Yt,Ft;if(Te=nt,nt=Ue,Je=ge.Pa.Xc,ft=ge.ya[ge.aa+ge.ja],Xe=ge.pb[ft.$b],Le=ft.ad,Kt=0,qt=ge.rb[ge.sb-1],It=Mt=0,s(Le,Kt,0,384),ft.Za)var Ir=0,Tn=Je[3];else{tr=i(16);var Pr=Te.Na+qt.Na;if(Pr=Dc(nt,Je[1],Pr,Xe.Eb,0,tr,0),Te.Na=qt.Na=(0<Pr)+0,1<Pr)$A(tr,0,Le,Kt);else{var Dn=tr[0]+3>>3;for(tr=0;256>tr;tr+=16)Le[Kt+tr]=Dn}Ir=1,Tn=Je[0]}var Gt=15&Te.la,Zn=15&qt.la;for(tr=0;4>tr;++tr){var es=1&Zn;for(Dn=Ft=0;4>Dn;++Dn)Gt=Gt>>1|(es=(Pr=Dc(nt,Tn,Pr=es+(1&Gt),Xe.Sc,Ir,Le,Kt))>Ir)<<7,Ft=Ft<<2|(3<Pr?3:1<Pr?2:Le[Kt+0]!=0),Kt+=16;Gt>>=4,Zn=Zn>>1|es<<7,Mt=(Mt<<8|Ft)>>>0}for(Tn=Gt,Ir=Zn>>4,Yt=0;4>Yt;Yt+=2){for(Ft=0,Gt=Te.la>>4+Yt,Zn=qt.la>>4+Yt,tr=0;2>tr;++tr){for(es=1&Zn,Dn=0;2>Dn;++Dn)Pr=es+(1&Gt),Gt=Gt>>1|(es=0<(Pr=Dc(nt,Je[2],Pr,Xe.Qc,0,Le,Kt)))<<3,Ft=Ft<<2|(3<Pr?3:1<Pr?2:Le[Kt+0]!=0),Kt+=16;Gt>>=2,Zn=Zn>>1|es<<5}It|=Ft<<4*Yt,Tn|=Gt<<4<<Yt,Ir|=(240&Zn)<<Yt}Te.la=Tn,qt.la=Ir,ft.Hc=Mt,ft.Gc=It,ft.ia=43690&It?0:Xe.ia,Je=!(Mt|It)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Se.$b][Se.Za],ge.wa[ge.Y+ge.ja].La|=!Je),Ue.Ka)return Cr(pe,7,"Premature end-of-file encountered.")}if(gc(pe),ge=Ie,Ue=1,Se=(he=pe).D,Te=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Se.M=he.M,Se.uc=Te,Fc(he,Se),Ue=1,Se=(Ft=he.D).Nb,Te=(It=wh[he.L])*he.R,nt=It/2*he.B,tr=16*Se*he.R,Dn=8*Se*he.B,Je=he.sa,ft=he.ta-Te+tr,Xe=he.qa,Le=he.ra-nt+Dn,Kt=he.Ha,qt=he.Ia-nt+Dn,Zn=(Gt=Ft.M)==0,Mt=Gt>=he.Va-1,he.Aa==2&&Fc(he,Ft),Ft.uc)for(es=(Pr=he).D.M,e(Pr.D.uc),Ft=Pr.yb;Ft<Pr.Hb;++Ft){Ir=Ft,Tn=es;var Jr=(nn=(wr=Pr).D).Nb;Yt=wr.R;var nn=nn.wa[nn.Y+Ir],jn=wr.sa,ws=wr.ta+16*Jr*Yt+16*Ir,hi=nn.dd,Xr=nn.tc;if(Xr!=0)if(e(3<=Xr),wr.L==1)0<Ir&&ga(jn,ws,Yt,Xr+4),nn.La&&ps(jn,ws,Yt,Xr),0<Tn&&Lo(jn,ws,Yt,Xr+4),nn.La&&Pc(jn,ws,Yt,Xr);else{var Hi=wr.B,Io=wr.qa,JA=wr.ra+8*Jr*Hi+8*Ir,xa=wr.Ha,wr=wr.Ia+8*Jr*Hi+8*Ir;Jr=nn.ld,0<Ir&&(ch(jn,ws,Yt,Xr+4,hi,Jr),Uo(Io,JA,xa,wr,Hi,Xr+4,hi,Jr)),nn.La&&(fa(jn,ws,Yt,Xr,hi,Jr),GA(Io,JA,xa,wr,Hi,Xr,hi,Jr)),0<Tn&&(qA(jn,ws,Yt,Xr+4,hi,Jr),Ic(Io,JA,xa,wr,Hi,Xr+4,hi,Jr)),nn.La&&(ko(jn,ws,Yt,Xr,hi,Jr),Qo(Io,JA,xa,wr,Hi,Xr,hi,Jr))}}if(he.ia&&alert("todo:DitherRow"),ge.put!=null){if(Ft=16*Gt,Gt=16*(Gt+1),Zn?(ge.y=he.sa,ge.O=he.ta+tr,ge.f=he.qa,ge.N=he.ra+Dn,ge.ea=he.Ha,ge.W=he.Ia+Dn):(Ft-=It,ge.y=Je,ge.O=ft,ge.f=Xe,ge.N=Le,ge.ea=Kt,ge.W=qt),Mt||(Gt-=It),Gt>ge.o&&(Gt=ge.o),ge.F=null,ge.J=null,he.Fa!=null&&0<he.Fa.length&&Ft<Gt&&(ge.J=Sc(he,ge,Ft,Gt-Ft),ge.F=he.mb,ge.F==null&&ge.F.length==0)){Ue=Cr(he,3,"Could not decode alpha data.");break e}Ft<ge.j&&(It=ge.j-Ft,Ft=ge.j,e(!(1&It)),ge.O+=he.R*It,ge.N+=he.B*(It>>1),ge.W+=he.B*(It>>1),ge.F!=null&&(ge.J+=ge.width*It)),Ft<Gt&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Ft-ge.j,ge.U=ge.va-ge.v,ge.T=Gt-Ft,Ue=ge.put(ge))}Se+1!=he.Ic||Mt||(n(he.sa,he.ta-Te,Je,ft+16*he.R,Te),n(he.qa,he.ra-nt,Xe,Le+8*he.B,nt),n(he.Ha,he.Ia-nt,Kt,qt+8*he.B,nt))}if(!Ue)return Cr(pe,6,"Output aborted.")}return 1}(h,p)),p.bc!=null&&p.bc(p),b&=1}return b?(h.cb=0,b):0}function Ds(h,p,b,N,E){E=h[p+b+32*N]+(E>>3),h[p+b+32*N]=-256&E?0>E?0:255:E}function kA(h,p,b,N,E,P){Ds(h,p,0,b,N+E),Ds(h,p,1,b,N+P),Ds(h,p,2,b,N-P),Ds(h,p,3,b,N-E)}function Ln(h){return(20091*h>>16)+h}function pc(h,p,b,N){var E,P=0,D=i(16);for(E=0;4>E;++E){var H=h[p+0]+h[p+8],V=h[p+0]-h[p+8],G=(35468*h[p+4]>>16)-Ln(h[p+12]),ue=Ln(h[p+4])+(35468*h[p+12]>>16);D[P+0]=H+ue,D[P+1]=V+G,D[P+2]=V-G,D[P+3]=H-ue,P+=4,p++}for(E=P=0;4>E;++E)H=(h=D[P+0]+4)+D[P+8],V=h-D[P+8],G=(35468*D[P+4]>>16)-Ln(D[P+12]),Ds(b,N,0,0,H+(ue=Ln(D[P+4])+(35468*D[P+12]>>16))),Ds(b,N,1,0,V+G),Ds(b,N,2,0,V-G),Ds(b,N,3,0,H-ue),P++,N+=32}function qd(h,p,b,N){var E=h[p+0]+4,P=35468*h[p+4]>>16,D=Ln(h[p+4]),H=35468*h[p+1]>>16;kA(b,N,0,E+D,h=Ln(h[p+1]),H),kA(b,N,1,E+P,h,H),kA(b,N,2,E-P,h,H),kA(b,N,3,E-D,h,H)}function n0(h,p,b,N,E){pc(h,p,b,N),E&&pc(h,p+16,b,N+4)}function Gd(h,p,b,N){Ti(h,p+0,b,N,1),Ti(h,p+32,b,N+128,1)}function s0(h,p,b,N){var E;for(h=h[p+0]+4,E=0;4>E;++E)for(p=0;4>p;++p)Ds(b,N,p,E,h)}function Wd(h,p,b,N){h[p+0]&&Sn(h,p+0,b,N),h[p+16]&&Sn(h,p+16,b,N+4),h[p+32]&&Sn(h,p+32,b,N+128),h[p+48]&&Sn(h,p+48,b,N+128+4)}function i0(h,p,b,N){var E,P=i(16);for(E=0;4>E;++E){var D=h[p+0+E]+h[p+12+E],H=h[p+4+E]+h[p+8+E],V=h[p+4+E]-h[p+8+E],G=h[p+0+E]-h[p+12+E];P[0+E]=D+H,P[8+E]=D-H,P[4+E]=G+V,P[12+E]=G-V}for(E=0;4>E;++E)D=(h=P[0+4*E]+3)+P[3+4*E],H=P[1+4*E]+P[2+4*E],V=P[1+4*E]-P[2+4*E],G=h-P[3+4*E],b[N+0]=D+H>>3,b[N+16]=G+V>>3,b[N+32]=D-H>>3,b[N+48]=G-V>>3,N+=64}function mc(h,p,b){var N,E=p-32,P=Yn,D=255-h[E-1];for(N=0;N<b;++N){var H,V=P,G=D+h[p-1];for(H=0;H<b;++H)h[p+H]=V[G+h[E+H]];p+=32}}function a0(h,p){mc(h,p,4)}function o0(h,p){mc(h,p,8)}function A0(h,p){mc(h,p,16)}function Qi(h,p){var b;for(b=0;16>b;++b)n(h,p+32*b,h,p-32,16)}function QA(h,p){var b;for(b=16;0<b;--b)s(h,p,h[p-1],16),p+=32}function LA(h,p,b){var N;for(N=0;16>N;++N)s(p,b+32*N,h,16)}function Jd(h,p){var b,N=16;for(b=0;16>b;++b)N+=h[p-1+32*b]+h[p+b-32];LA(N>>5,h,p)}function cn(h,p){var b,N=8;for(b=0;16>b;++b)N+=h[p-1+32*b];LA(N>>4,h,p)}function l0(h,p){var b,N=8;for(b=0;16>b;++b)N+=h[p+b-32];LA(N>>4,h,p)}function Xd(h,p){LA(128,h,p)}function Ct(h,p,b){return h+2*p+b+2>>2}function c0(h,p){var b,N=p-32;for(N=new Uint8Array([Ct(h[N-1],h[N+0],h[N+1]),Ct(h[N+0],h[N+1],h[N+2]),Ct(h[N+1],h[N+2],h[N+3]),Ct(h[N+2],h[N+3],h[N+4])]),b=0;4>b;++b)n(h,p+32*b,N,0,N.length)}function u0(h,p){var b=h[p-1],N=h[p-1+32],E=h[p-1+64],P=h[p-1+96];we(h,p+0,16843009*Ct(h[p-1-32],b,N)),we(h,p+32,16843009*Ct(b,N,E)),we(h,p+64,16843009*Ct(N,E,P)),we(h,p+96,16843009*Ct(E,P,P))}function ci(h,p){var b,N=4;for(b=0;4>b;++b)N+=h[p+b-32]+h[p-1+32*b];for(N>>=3,b=0;4>b;++b)s(h,p+32*b,N,4)}function Yd(h,p){var b=h[p-1+0],N=h[p-1+32],E=h[p-1+64],P=h[p-1-32],D=h[p+0-32],H=h[p+1-32],V=h[p+2-32],G=h[p+3-32];h[p+0+96]=Ct(N,E,h[p-1+96]),h[p+1+96]=h[p+0+64]=Ct(b,N,E),h[p+2+96]=h[p+1+64]=h[p+0+32]=Ct(P,b,N),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=Ct(D,P,b),h[p+3+64]=h[p+2+32]=h[p+1+0]=Ct(H,D,P),h[p+3+32]=h[p+2+0]=Ct(V,H,D),h[p+3+0]=Ct(G,V,H)}function Zd(h,p){var b=h[p+1-32],N=h[p+2-32],E=h[p+3-32],P=h[p+4-32],D=h[p+5-32],H=h[p+6-32],V=h[p+7-32];h[p+0+0]=Ct(h[p+0-32],b,N),h[p+1+0]=h[p+0+32]=Ct(b,N,E),h[p+2+0]=h[p+1+32]=h[p+0+64]=Ct(N,E,P),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=Ct(E,P,D),h[p+3+32]=h[p+2+64]=h[p+1+96]=Ct(P,D,H),h[p+3+64]=h[p+2+96]=Ct(D,H,V),h[p+3+96]=Ct(H,V,V)}function IA(h,p){var b=h[p-1+0],N=h[p-1+32],E=h[p-1+64],P=h[p-1-32],D=h[p+0-32],H=h[p+1-32],V=h[p+2-32],G=h[p+3-32];h[p+0+0]=h[p+1+64]=P+D+1>>1,h[p+1+0]=h[p+2+64]=D+H+1>>1,h[p+2+0]=h[p+3+64]=H+V+1>>1,h[p+3+0]=V+G+1>>1,h[p+0+96]=Ct(E,N,b),h[p+0+64]=Ct(N,b,P),h[p+0+32]=h[p+1+96]=Ct(b,P,D),h[p+1+32]=h[p+2+96]=Ct(P,D,H),h[p+2+32]=h[p+3+96]=Ct(D,H,V),h[p+3+32]=Ct(H,V,G)}function xc(h,p){var b=h[p+0-32],N=h[p+1-32],E=h[p+2-32],P=h[p+3-32],D=h[p+4-32],H=h[p+5-32],V=h[p+6-32],G=h[p+7-32];h[p+0+0]=b+N+1>>1,h[p+1+0]=h[p+0+64]=N+E+1>>1,h[p+2+0]=h[p+1+64]=E+P+1>>1,h[p+3+0]=h[p+2+64]=P+D+1>>1,h[p+0+32]=Ct(b,N,E),h[p+1+32]=h[p+0+96]=Ct(N,E,P),h[p+2+32]=h[p+1+96]=Ct(E,P,D),h[p+3+32]=h[p+2+96]=Ct(P,D,H),h[p+3+64]=Ct(D,H,V),h[p+3+96]=Ct(H,V,G)}function d0(h,p){var b=h[p-1+0],N=h[p-1+32],E=h[p-1+64],P=h[p-1+96];h[p+0+0]=b+N+1>>1,h[p+2+0]=h[p+0+32]=N+E+1>>1,h[p+2+32]=h[p+0+64]=E+P+1>>1,h[p+1+0]=Ct(b,N,E),h[p+3+0]=h[p+1+32]=Ct(N,E,P),h[p+3+32]=h[p+1+64]=Ct(E,P,P),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=P}function h0(h,p){var b=h[p-1+0],N=h[p-1+32],E=h[p-1+64],P=h[p-1+96],D=h[p-1-32],H=h[p+0-32],V=h[p+1-32],G=h[p+2-32];h[p+0+0]=h[p+2+32]=b+D+1>>1,h[p+0+32]=h[p+2+64]=N+b+1>>1,h[p+0+64]=h[p+2+96]=E+N+1>>1,h[p+0+96]=P+E+1>>1,h[p+3+0]=Ct(H,V,G),h[p+2+0]=Ct(D,H,V),h[p+1+0]=h[p+3+32]=Ct(b,D,H),h[p+1+32]=h[p+3+64]=Ct(N,b,D),h[p+1+64]=h[p+3+96]=Ct(E,N,b),h[p+1+96]=Ct(P,E,N)}function f0(h,p){var b;for(b=0;8>b;++b)n(h,p+32*b,h,p-32,8)}function vc(h,p){var b;for(b=0;8>b;++b)s(h,p,h[p-1],8),p+=32}function No(h,p,b){var N;for(N=0;8>N;++N)s(p,b+32*N,h,8)}function la(h,p){var b,N=8;for(b=0;8>b;++b)N+=h[p+b-32]+h[p-1+32*b];No(N>>4,h,p)}function g0(h,p){var b,N=4;for(b=0;8>b;++b)N+=h[p+b-32];No(N>>3,h,p)}function So(h,p){var b,N=4;for(b=0;8>b;++b)N+=h[p-1+32*b];No(N>>3,h,p)}function wc(h,p){No(128,h,p)}function PA(h,p,b){var N=h[p-b],E=h[p+0],P=3*(E-N)+y0[1020+h[p-2*b]-h[p+b]],D=dh[112+(P+4>>3)];h[p-b]=Yn[255+N+dh[112+(P+3>>3)]],h[p+0]=Yn[255+E-D]}function eh(h,p,b,N){var E=h[p+0],P=h[p+b];return xs[255+h[p-2*b]-h[p-b]]>N||xs[255+P-E]>N}function th(h,p,b,N){return 4*xs[255+h[p-b]-h[p+0]]+xs[255+h[p-2*b]-h[p+b]]<=N}function rh(h,p,b,N,E){var P=h[p-3*b],D=h[p-2*b],H=h[p-b],V=h[p+0],G=h[p+b],ue=h[p+2*b],Be=h[p+3*b];return 4*xs[255+H-V]+xs[255+D-G]>N?0:xs[255+h[p-4*b]-P]<=E&&xs[255+P-D]<=E&&xs[255+D-H]<=E&&xs[255+Be-ue]<=E&&xs[255+ue-G]<=E&&xs[255+G-V]<=E}function nh(h,p,b,N){var E=2*N+1;for(N=0;16>N;++N)th(h,p+N,b,E)&&PA(h,p+N,b)}function ui(h,p,b,N){var E=2*N+1;for(N=0;16>N;++N)th(h,p+N*b,1,E)&&PA(h,p+N*b,1)}function Li(h,p,b,N){var E;for(E=3;0<E;--E)nh(h,p+=4*b,b,N)}function p0(h,p,b,N){var E;for(E=3;0<E;--E)ui(h,p+=4,b,N)}function ca(h,p,b,N,E,P,D,H){for(P=2*P+1;0<E--;){if(rh(h,p,b,P,D))if(eh(h,p,b,H))PA(h,p,b);else{var V=h,G=p,ue=b,Be=V[G-2*ue],Ce=V[G-ue],pe=V[G+0],Ie=V[G+ue],Se=V[G+2*ue],he=27*(Ue=y0[1020+3*(pe-Ce)+y0[1020+Be-Ie]])+63>>7,ge=18*Ue+63>>7,Ue=9*Ue+63>>7;V[G-3*ue]=Yn[255+V[G-3*ue]+Ue],V[G-2*ue]=Yn[255+Be+ge],V[G-ue]=Yn[255+Ce+he],V[G+0]=Yn[255+pe-he],V[G+ue]=Yn[255+Ie-ge],V[G+2*ue]=Yn[255+Se-Ue]}p+=N}}function Os(h,p,b,N,E,P,D,H){for(P=2*P+1;0<E--;){if(rh(h,p,b,P,D))if(eh(h,p,b,H))PA(h,p,b);else{var V=h,G=p,ue=b,Be=V[G-ue],Ce=V[G+0],pe=V[G+ue],Ie=dh[112+((Se=3*(Ce-Be))+4>>3)],Se=dh[112+(Se+3>>3)],he=Ie+1>>1;V[G-2*ue]=Yn[255+V[G-2*ue]+he],V[G-ue]=Yn[255+Be+Se],V[G+0]=Yn[255+Ce-Ie],V[G+ue]=Yn[255+pe-he]}p+=N}}function yc(h,p,b,N,E,P){ca(h,p,b,1,16,N,E,P)}function jo(h,p,b,N,E,P){ca(h,p,1,b,16,N,E,P)}function m0(h,p,b,N,E,P){var D;for(D=3;0<D;--D)Os(h,p+=4*b,b,1,16,N,E,P)}function TA(h,p,b,N,E,P){var D;for(D=3;0<D;--D)Os(h,p+=4,1,b,16,N,E,P)}function x0(h,p,b,N,E,P,D,H){ca(h,p,E,1,8,P,D,H),ca(b,N,E,1,8,P,D,H)}function bc(h,p,b,N,E,P,D,H){ca(h,p,1,E,8,P,D,H),ca(b,N,1,E,8,P,D,H)}function Bc(h,p,b,N,E,P,D,H){Os(h,p+4*E,E,1,8,P,D,H),Os(b,N+4*E,E,1,8,P,D,H)}function sh(h,p,b,N,E,P,D,H){Os(h,p+4,1,E,8,P,D,H),Os(b,N+4,1,E,8,P,D,H)}function DA(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Cc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _c(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ih(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new F}function v0(){this.xb=this.a=0,this.l=new UA,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ih,this.ab=0,this.gc=a(4,_c),this.Oc=0}function OA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new UA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fo(h,p,b,N,E,P,D){for(h=h==null?0:h[p+0],p=0;p<D;++p)E[P+p]=h+b[N+p]&255,h=E[P+p]}function Nc(h,p,b,N,E,P,D){var H;if(h==null)Fo(null,null,b,N,E,P,D);else for(H=0;H<D;++H)E[P+H]=h[p+H]+b[N+H]&255}function ua(h,p,b,N,E,P,D){if(h==null)Fo(null,null,b,N,E,P,D);else{var H,V=h[p+0],G=V,ue=V;for(H=0;H<D;++H)G=ue+(V=h[p+H])-G,ue=b[N+H]+(-256&G?0>G?0:255:G)&255,G=V,E[P+H]=ue}}function Sc(h,p,b,N){var E=p.width,P=p.o;if(e(h!=null&&p!=null),0>b||0>=N||b+N>P)return null;if(!h.Cc){if(h.ga==null){var D;if(h.ga=new OA,(D=h.ga==null)||(D=p.width*p.o,e(h.Gb.length==0),h.Gb=i(D),h.Uc=0,h.Gb==null?D=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,D=1),D=!D),!D){D=h.ga;var H=h.Fa,V=h.P,G=h.qc,ue=h.mb,Be=h.nb,Ce=V+1,pe=G-1,Ie=D.l;if(e(H!=null&&ue!=null&&p!=null),ma[0]=null,ma[1]=Fo,ma[2]=Nc,ma[3]=ua,D.ca=ue,D.tb=Be,D.c=p.width,D.i=p.height,e(0<D.c&&0<D.i),1>=G)p=0;else if(D.$a=H[V+0]>>0&3,D.Z=H[V+0]>>2&3,D.Lc=H[V+0]>>4&3,V=H[V+0]>>6&3,0>D.$a||1<D.$a||4<=D.Z||1<D.Lc||V)p=0;else if(Ie.put=We,Ie.ac=Ge,Ie.bc=lt,Ie.ma=D,Ie.width=p.width,Ie.height=p.height,Ie.Da=p.Da,Ie.v=p.v,Ie.va=p.va,Ie.j=p.j,Ie.o=p.o,D.$a)e:{e(D.$a==1),p=hs();t:for(;;){if(p==null){p=0;break e}if(e(D!=null),D.mc=p,p.c=D.c,p.i=D.i,p.l=D.l,p.l.ma=D,p.l.width=D.c,p.l.height=D.i,p.a=0,W(p.m,H,Ce,pe),!li(D.c,D.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Ls(p.s)?(D.ic=1,H=p.c*p.i,p.Ta=null,p.Ua=0,p.V=i(H),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(D.ic=0,p=_o(p,D.c)),!p))break t;p=1;break e}D.mc=null,p=0}else p=pe>=D.c*D.i;D=!p}if(D)return null;h.ga.Lc!=1?h.Ga=0:N=P-b}e(h.ga!=null),e(b+N<=P);e:{if(p=(H=h.ga).c,P=H.l.o,H.$a==0){if(Ce=h.rc,pe=h.Vc,Ie=h.Fa,V=h.P+1+b*p,G=h.mb,ue=h.nb+b*p,e(V<=h.P+h.qc),H.Z!=0)for(e(ma[H.Z]!=null),D=0;D<N;++D)ma[H.Z](Ce,pe,Ie,V,G,ue,p),Ce=G,pe=ue,ue+=p,V+=p;else for(D=0;D<N;++D)n(G,ue,Ie,V,p),Ce=G,pe=ue,ue+=p,V+=p;h.rc=Ce,h.Vc=pe}else{if(e(H.mc!=null),p=b+N,e((D=H.mc)!=null),e(p<=D.i),D.C>=p)p=1;else if(H.ic||ve(),H.ic){H=D.V,Ce=D.Ba,pe=D.c;var Se=D.i,he=(Ie=1,V=D.$/pe,G=D.$%pe,ue=D.m,Be=D.s,D.$),ge=pe*Se,Ue=pe*p,Te=Be.wc,Le=he<Ue?Vt(Be,G,V):null;e(he<=ge),e(p<=Se),e(Ls(Be));t:for(;;){for(;!ue.h&&he<Ue;){if(G&Te||(Le=Vt(Be,G,V)),e(Le!=null),J(ue),256>(Se=wt(Le.G[0],Le.H[0],ue)))H[Ce+he]=Se,++he,++G>=pe&&(G=0,++V<=p&&!(V%16)&&Ps(D,V));else{if(!(280>Se)){Ie=0;break t}Se=bt(Se-256,ue);var nt,Je=wt(Le.G[4],Le.H[4],ue);if(J(ue),!(he>=(Je=Lt(pe,Je=bt(Je,ue)))&&ge-he>=Se)){Ie=0;break t}for(nt=0;nt<Se;++nt)H[Ce+he+nt]=H[Ce+he+nt-Je];for(he+=Se,G+=Se;G>=pe;)G-=pe,++V<=p&&!(V%16)&&Ps(D,V);he<Ue&&G&Te&&(Le=Vt(Be,G,V))}e(ue.h==M(ue))}Ps(D,V>p?p:V);break t}!Ie||ue.h&&he<ge?(Ie=0,D.a=ue.h?5:3):D.$=he,p=Ie}else p=Ts(D,D.V,D.Ba,D.c,D.i,p,NA);if(!p){N=0;break e}}b+N>=P&&(h.Cc=1),N=1}if(!N)return null;if(h.Cc&&((N=h.ga)!=null&&(N.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+b*E}function v(h,p,b,N,E,P){for(;0<E--;){var D,H=h,V=p+(b?1:0),G=h,ue=p+(b?0:3);for(D=0;D<N;++D){var Be=G[ue+4*D];Be!=255&&(Be*=32897,H[V+4*D+0]=H[V+4*D+0]*Be>>23,H[V+4*D+1]=H[V+4*D+1]*Be>>23,H[V+4*D+2]=H[V+4*D+2]*Be>>23)}p+=P}}function U(h,p,b,N,E){for(;0<N--;){var P;for(P=0;P<b;++P){var D=h[p+2*P+0],H=15&(G=h[p+2*P+1]),V=4369*H,G=(240&G|G>>4)*V>>16;h[p+2*P+0]=(240&D|D>>4)*V>>16&240|(15&D|D<<4)*V>>16>>4&15,h[p+2*P+1]=240&G|H}p+=E}}function Z(h,p,b,N,E,P,D,H){var V,G,ue=255;for(G=0;G<E;++G){for(V=0;V<N;++V){var Be=h[p+V];P[D+4*V]=Be,ue&=Be}p+=b,D+=H}return ue!=255}function Ae(h,p,b,N,E){var P;for(P=0;P<E;++P)b[N+P]=h[p+P]>>8}function ve(){ms=v,nr=U,sr=Z,Nr=Ae}function Fe(h,p,b){j[h]=function(N,E,P,D,H,V,G,ue,Be,Ce,pe,Ie,Se,he,ge,Ue,Te){var Le,nt=Te-1>>1,Je=H[V+0]|G[ue+0]<<16,ft=Be[Ce+0]|pe[Ie+0]<<16;e(N!=null);var Xe=3*Je+ft+131074>>2;for(p(N[E+0],255&Xe,Xe>>16,Se,he),P!=null&&(Xe=3*ft+Je+131074>>2,p(P[D+0],255&Xe,Xe>>16,ge,Ue)),Le=1;Le<=nt;++Le){var Kt=H[V+Le]|G[ue+Le]<<16,qt=Be[Ce+Le]|pe[Ie+Le]<<16,Mt=Je+Kt+ft+qt+524296,It=Mt+2*(Kt+ft)>>3;Xe=It+Je>>1,Je=(Mt=Mt+2*(Je+qt)>>3)+Kt>>1,p(N[E+2*Le-1],255&Xe,Xe>>16,Se,he+(2*Le-1)*b),p(N[E+2*Le-0],255&Je,Je>>16,Se,he+(2*Le-0)*b),P!=null&&(Xe=Mt+ft>>1,Je=It+qt>>1,p(P[D+2*Le-1],255&Xe,Xe>>16,ge,Ue+(2*Le-1)*b),p(P[D+2*Le+0],255&Je,Je>>16,ge,Ue+(2*Le+0)*b)),Je=Kt,ft=qt}1&Te||(Xe=3*Je+ft+131074>>2,p(N[E+Te-1],255&Xe,Xe>>16,Se,he+(Te-1)*b),P!=null&&(Xe=3*ft+Je+131074>>2,p(P[D+Te-1],255&Xe,Xe>>16,ge,Ue+(Te-1)*b)))}}function Oe(){vs[hh]=dj,vs[fh]=Oy,vs[Ly]=hj,vs[gh]=Hy,vs[ph]=My,vs[b0]=Ry,vs[Iy]=fj,vs[B0]=Oy,vs[C0]=Hy,vs[mh]=My,vs[_0]=Ry}function tt(h){return h&-16384?0>h?0:255:h>>gj}function ut(h,p){return tt((19077*h>>8)+(26149*p>>8)-14234)}function jt(h,p,b){return tt((19077*h>>8)-(6419*p>>8)-(13320*b>>8)+8708)}function _t(h,p){return tt((19077*h>>8)+(33050*p>>8)-17685)}function Ot(h,p,b,N,E){N[E+0]=ut(h,b),N[E+1]=jt(h,p,b),N[E+2]=_t(h,p)}function fr(h,p,b,N,E){N[E+0]=_t(h,p),N[E+1]=jt(h,p,b),N[E+2]=ut(h,b)}function vr(h,p,b,N,E){var P=jt(h,p,b);p=P<<3&224|_t(h,p)>>3,N[E+0]=248&ut(h,b)|P>>5,N[E+1]=p}function Lr(h,p,b,N,E){var P=240&_t(h,p)|15;N[E+0]=240&ut(h,b)|jt(h,p,b)>>4,N[E+1]=P}function un(h,p,b,N,E){N[E+0]=255,Ot(h,p,b,N,E+1)}function Wr(h,p,b,N,E){fr(h,p,b,N,E),N[E+3]=255}function Hs(h,p,b,N,E){Ot(h,p,b,N,E),N[E+3]=255}function Xn(h,p){return 0>h?0:h>p?p:h}function di(h,p,b){j[h]=function(N,E,P,D,H,V,G,ue,Be){for(var Ce=ue+(-2&Be)*b;ue!=Ce;)p(N[E+0],P[D+0],H[V+0],G,ue),p(N[E+1],P[D+0],H[V+0],G,ue+b),E+=2,++D,++V,ue+=2*b;1&Be&&p(N[E+0],P[D+0],H[V+0],G,ue)}}function ah(h,p,b){return b==0?h==0?p==0?6:5:p==0?4:0:b}function jc(h,p,b,N,E){switch(h>>>30){case 3:Ti(p,b,N,E,0);break;case 2:_r(p,b,N,E);break;case 1:Sn(p,b,N,E)}}function Fc(h,p){var b,N,E=p.M,P=p.Nb,D=h.oc,H=h.pc+40,V=h.oc,G=h.pc+584,ue=h.oc,Be=h.pc+600;for(b=0;16>b;++b)D[H+32*b-1]=129;for(b=0;8>b;++b)V[G+32*b-1]=129,ue[Be+32*b-1]=129;for(0<E?D[H-1-32]=V[G-1-32]=ue[Be-1-32]=129:(s(D,H-32-1,127,21),s(V,G-32-1,127,9),s(ue,Be-32-1,127,9)),N=0;N<h.za;++N){var Ce=p.ya[p.aa+N];if(0<N){for(b=-1;16>b;++b)n(D,H+32*b-4,D,H+32*b+12,4);for(b=-1;8>b;++b)n(V,G+32*b-4,V,G+32*b+4,4),n(ue,Be+32*b-4,ue,Be+32*b+4,4)}var pe=h.Gd,Ie=h.Hd+N,Se=Ce.ad,he=Ce.Hc;if(0<E&&(n(D,H-32,pe[Ie].y,0,16),n(V,G-32,pe[Ie].f,0,8),n(ue,Be-32,pe[Ie].ea,0,8)),Ce.Za){var ge=D,Ue=H-32+16;for(0<E&&(N>=h.za-1?s(ge,Ue,pe[Ie].y[15],4):n(ge,Ue,pe[Ie+1].y,0,4)),b=0;4>b;b++)ge[Ue+128+b]=ge[Ue+256+b]=ge[Ue+384+b]=ge[Ue+0+b];for(b=0;16>b;++b,he<<=2)ge=D,Ue=H+Vy[b],Ms[Ce.Ob[b]](ge,Ue),jc(he,Se,16*+b,ge,Ue)}else if(ge=ah(N,E,Ce.Ob[0]),pa[ge](D,H),he!=0)for(b=0;16>b;++b,he<<=2)jc(he,Se,16*+b,D,H+Vy[b]);for(b=Ce.Gc,ge=ah(N,E,Ce.Dd),Oi[ge](V,G),Oi[ge](ue,Be),he=Se,ge=V,Ue=G,255&(Ce=b>>0)&&(170&Ce?Lc(he,256,ge,Ue):gs(he,256,ge,Ue)),Ce=ue,he=Be,255&(b>>=8)&&(170&b?Lc(Se,320,Ce,he):gs(Se,320,Ce,he)),E<h.Ub-1&&(n(pe[Ie].y,0,D,H+480,16),n(pe[Ie].f,0,V,G+224,8),n(pe[Ie].ea,0,ue,Be+224,8)),b=8*P*h.B,pe=h.sa,Ie=h.ta+16*N+16*P*h.R,Se=h.qa,Ce=h.ra+8*N+b,he=h.Ha,ge=h.Ia+8*N+b,b=0;16>b;++b)n(pe,Ie+b*h.R,D,H+32*b,16);for(b=0;8>b;++b)n(Se,Ce+b*h.B,V,G+32*b,8),n(he,ge+b*h.B,ue,Be+32*b,8)}}function HA(h,p,b,N,E,P,D,H,V){var G=[0],ue=[0],Be=0,Ce=V!=null?V.kd:0,pe=V??new Cc;if(h==null||12>b)return 7;pe.data=h,pe.w=p,pe.ha=b,p=[p],b=[b],pe.gb=[pe.gb];e:{var Ie=p,Se=b,he=pe.gb;if(e(h!=null),e(Se!=null),e(he!=null),he[0]=0,12<=Se[0]&&!r(h,Ie[0],"RIFF")){if(r(h,Ie[0]+8,"WEBP")){he=3;break e}var ge=ke(h,Ie[0]+4);if(12>ge||4294967286<ge){he=3;break e}if(Ce&&ge>Se[0]-8){he=7;break e}he[0]=ge,Ie[0]+=12,Se[0]-=12}he=0}if(he!=0)return he;for(ge=0<pe.gb[0],b=b[0];;){e:{var Ue=h;Se=p,he=b;var Te=G,Le=ue,nt=Ie=[0];if((Xe=Be=[Be])[0]=0,8>he[0])he=7;else{if(!r(Ue,Se[0],"VP8X")){if(ke(Ue,Se[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var Je=ke(Ue,Se[0]+8),ft=1+je(Ue,Se[0]+12);if(2147483648<=ft*(Ue=1+je(Ue,Se[0]+15))){he=3;break e}nt!=null&&(nt[0]=Je),Te!=null&&(Te[0]=ft),Le!=null&&(Le[0]=Ue),Se[0]+=18,he[0]-=18,Xe[0]=1}he=0}}if(Be=Be[0],Ie=Ie[0],he!=0)return he;if(Se=!!(2&Ie),!ge&&Be)return 3;if(P!=null&&(P[0]=!!(16&Ie)),D!=null&&(D[0]=Se),H!=null&&(H[0]=0),D=G[0],Ie=ue[0],Be&&Se&&V==null){he=0;break}if(4>b){he=7;break}if(ge&&Be||!ge&&!Be&&!r(h,p[0],"ALPH")){b=[b],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Je=h,he=p,ge=b;var Xe=pe.gb;Te=pe.na,Le=pe.P,nt=pe.Sa,ft=22,e(Je!=null),e(ge!=null),Ue=he[0];var Kt=ge[0];for(e(Te!=null),e(nt!=null),Te[0]=null,Le[0]=null,nt[0]=0;;){if(he[0]=Ue,ge[0]=Kt,8>Kt){he=7;break e}var qt=ke(Je,Ue+4);if(4294967286<qt){he=3;break e}var Mt=8+qt+1&-2;if(ft+=Mt,0<Xe&&ft>Xe){he=3;break e}if(!r(Je,Ue,"VP8 ")||!r(Je,Ue,"VP8L")){he=0;break e}if(Kt[0]<Mt){he=7;break e}r(Je,Ue,"ALPH")||(Te[0]=Je,Le[0]=Ue+8,nt[0]=qt),Ue+=Mt,Kt-=Mt}}if(b=b[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],he!=0)break}b=[b],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(Xe=h,he=p,ge=b,Te=pe.gb[0],Le=pe.Ja,nt=pe.xa,Je=he[0],Ue=!r(Xe,Je,"VP8 "),ft=!r(Xe,Je,"VP8L"),e(Xe!=null),e(ge!=null),e(Le!=null),e(nt!=null),8>ge[0])he=7;else{if(Ue||ft){if(Xe=ke(Xe,Je+4),12<=Te&&Xe>Te-12){he=3;break e}if(Ce&&Xe>ge[0]-8){he=7;break e}Le[0]=Xe,he[0]+=8,ge[0]-=8,nt[0]=ft}else nt[0]=5<=ge[0]&&Xe[Je+0]==47&&!(Xe[Je+4]>>5),Le[0]=ge[0];he=0}if(b=b[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],p=p[0],he!=0)break;if(4294967286<pe.Ja)return 3;if(H==null||Se||(H[0]=pe.xa?2:1),D=[D],Ie=[Ie],pe.xa){if(5>b){he=7;break}H=D,Ce=Ie,Se=P,h==null||5>b?h=0:5<=b&&h[p+0]==47&&!(h[p+4]>>5)?(ge=[0],Xe=[0],Te=[0],W(Le=new _,h,p,b),et(Le,ge,Xe,Te)?(H!=null&&(H[0]=ge[0]),Ce!=null&&(Ce[0]=Xe[0]),Se!=null&&(Se[0]=Te[0]),h=1):h=0):h=0}else{if(10>b){he=7;break}H=Ie,h==null||10>b||!Vd(h,p+3,b-3)?h=0:(Ce=h[p+0]|h[p+1]<<8|h[p+2]<<16,Se=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=pe.Ja||!Se||!h?h=0:(D&&(D[0]=Se),H&&(H[0]=h),h=1))}if(!h||(D=D[0],Ie=Ie[0],Be&&(G[0]!=D||ue[0]!=Ie)))return 3;V!=null&&(V[0]=pe,V.offset=p-V.w,e(4294967286>p-V.w),e(V.offset==V.ha-b));break}return he==0||he==7&&Be&&V==null?(P!=null&&(P[0]|=pe.na!=null&&0<pe.na.length),N!=null&&(N[0]=D),E!=null&&(E[0]=Ie),0):he}function Ec(h,p,b){var N=p.width,E=p.height,P=0,D=0,H=N,V=E;if(p.Da=h!=null&&0<h.Da,p.Da&&(H=h.cd,V=h.bd,P=h.v,D=h.j,11>b||(P&=-2,D&=-2),0>P||0>D||0>=H||0>=V||P+H>N||D+V>E))return 0;if(p.v=P,p.j=D,p.va=P+H,p.o=D+V,p.U=H,p.T=V,p.da=h!=null&&0<h.da,p.da){if(!ct(H,V,b=[h.ib],P=[h.hb]))return 0;p.ib=b[0],p.hb=P[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*N/4&&p.hb<3*E/4,p.Kb=0),1}function Uc(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function MA(h,p,b,N){if(N==null||0>=h||0>=p)return 2;if(b!=null){if(b.Da){var E=b.cd,P=b.bd,D=-2&b.v,H=-2&b.j;if(0>D||0>H||0>=E||0>=P||D+E>h||H+P>p)return 2;h=E,p=P}if(b.da){if(!ct(h,p,E=[b.ib],P=[b.hb]))return 2;h=E[0],p=P[0]}}N.width=h,N.height=p;e:{var V=N.width,G=N.height;if(h=N.S,0>=V||0>=G||!(h>=hh&&13>h))h=2;else{if(0>=N.Rd&&N.sd==null){D=P=E=p=0;var ue=(H=V*zy[h])*G;if(11>h||(P=(G+1)/2*(p=(V+1)/2),h==12&&(D=(E=V)*G)),(G=i(ue+2*P+D))==null){h=1;break e}N.sd=G,11>h?((V=N.f.RGBA).eb=G,V.fb=0,V.A=H,V.size=ue):((V=N.f.kb).y=G,V.O=0,V.fa=H,V.Fd=ue,V.f=G,V.N=0+ue,V.Ab=p,V.Cd=P,V.ea=G,V.W=0+ue+P,V.Db=p,V.Ed=P,h==12&&(V.F=G,V.J=0+ue+2*P),V.Tc=D,V.lb=E)}if(p=1,E=N.S,P=N.width,D=N.height,E>=hh&&13>E)if(11>E)h=N.f.RGBA,p&=(H=Math.abs(h.A))*(D-1)+P<=h.size,p&=H>=P*zy[E],p&=h.eb!=null;else{h=N.f.kb,H=(P+1)/2,ue=(D+1)/2,V=Math.abs(h.fa),G=Math.abs(h.Ab);var Be=Math.abs(h.Db),Ce=Math.abs(h.lb),pe=Ce*(D-1)+P;p&=V*(D-1)+P<=h.Fd,p&=G*(ue-1)+H<=h.Cd,p=(p&=Be*(ue-1)+H<=h.Ed)&V>=P&G>=H&Be>=H,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,E==12&&(p&=Ce>=P,p&=pe<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||b!=null&&b.fd&&(h=Uc(N)),h}var rn=64,RA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],KA=24,VA=32,kc=8,In=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(h){return h},j.Predictor2=function(h,p,b){return p[b+0]},j.Predictor3=function(h,p,b){return p[b+1]},j.Predictor4=function(h,p,b){return p[b-1]},j.Predictor5=function(h,p,b){return Ve(Ve(h,p[b+1]),p[b+0])},j.Predictor6=function(h,p,b){return Ve(h,p[b-1])},j.Predictor7=function(h,p,b){return Ve(h,p[b+0])},j.Predictor8=function(h,p,b){return Ve(p[b-1],p[b+0])},j.Predictor9=function(h,p,b){return Ve(p[b+0],p[b+1])},j.Predictor10=function(h,p,b){return Ve(Ve(h,p[b-1]),Ve(p[b+0],p[b+1]))},j.Predictor11=function(h,p,b){var N=p[b+0];return 0>=Pe(N>>24&255,h>>24&255,(p=p[b-1])>>24&255)+Pe(N>>16&255,h>>16&255,p>>16&255)+Pe(N>>8&255,h>>8&255,p>>8&255)+Pe(255&N,255&h,255&p)?N:h},j.Predictor12=function(h,p,b){var N=p[b+0];return(Ye((h>>24&255)+(N>>24&255)-((p=p[b-1])>>24&255))<<24|Ye((h>>16&255)+(N>>16&255)-(p>>16&255))<<16|Ye((h>>8&255)+(N>>8&255)-(p>>8&255))<<8|Ye((255&h)+(255&N)-(255&p)))>>>0},j.Predictor13=function(h,p,b){var N=p[b-1];return(Ne((h=Ve(h,p[b+0]))>>24&255,N>>24&255)<<24|Ne(h>>16&255,N>>16&255)<<16|Ne(h>>8&255,N>>8&255)<<8|Ne(h>>0&255,N>>0&255))>>>0};var w0=j.PredictorAdd0;j.PredictorAdd1=q,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Qc=j.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var oh,fs=j.ColorIndexInverseTransform,zA=j.MapARGB,Ah=j.VP8LColorIndexInverseTransformAlpha,lh=j.MapAlpha,da=j.VP8LPredictorsAdd=[];da.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var Eo,Pn,Nn,ha,Ii,Pi,$A,Ti,_r,Lc,Sn,gs,qA,ch,Ic,Uo,ko,fa,Qo,GA,Lo,ga,Pc,ps,ms,nr,sr,Nr,Rr=i(511),Di=i(2041),Tc=i(225),WA=i(767),uh=0,y0=Di,dh=Tc,Yn=WA,xs=Rr,hh=0,fh=1,Ly=2,gh=3,ph=4,b0=5,Iy=6,B0=7,C0=8,mh=9,_0=10,YS=[2,3,7],ZS=[3,3,11],Py=[280,256,256,256,40],ej=[0,1,1,1,0],tj=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rj=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sj=8,N0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],S0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dc=null,ij=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aj=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ty=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oj=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Aj=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lj=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cj=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],pa=[],Ms=[],Oi=[],uj=1,Dy=2,ma=[],vs=[];Fe("UpsampleRgbLinePair",Ot,3),Fe("UpsampleBgrLinePair",fr,3),Fe("UpsampleRgbaLinePair",Hs,4),Fe("UpsampleBgraLinePair",Wr,4),Fe("UpsampleArgbLinePair",un,4),Fe("UpsampleRgba4444LinePair",Lr,2),Fe("UpsampleRgb565LinePair",vr,2);var dj=j.UpsampleRgbLinePair,hj=j.UpsampleBgrLinePair,Oy=j.UpsampleRgbaLinePair,Hy=j.UpsampleBgraLinePair,My=j.UpsampleArgbLinePair,Ry=j.UpsampleRgba4444LinePair,fj=j.UpsampleRgb565LinePair,xh=16,vh=1<<xh-1,Oc=-227,j0=482,gj=6,Ky=0,pj=i(256),mj=i(256),xj=i(256),vj=i(256),wj=i(j0-Oc),yj=i(j0-Oc);di("YuvToRgbRow",Ot,3),di("YuvToBgrRow",fr,3),di("YuvToRgbaRow",Hs,4),di("YuvToBgraRow",Wr,4),di("YuvToArgbRow",un,4),di("YuvToRgba4444Row",Lr,2),di("YuvToRgb565Row",vr,2);var Vy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wh=[0,2,8],bj=[8,7,6,4,4,2,2,2,1,1,1,1],Bj=1;this.WebPDecodeRGBA=function(h,p,b,N,E){var P=fh,D=new DA,H=new vt;D.ba=H,H.S=P,H.width=[H.width],H.height=[H.height];var V=H.width,G=H.height,ue=new Et;if(ue==null||h==null)var Be=2;else e(ue!=null),Be=HA(h,p,b,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(Be!=0?V=0:(V!=null&&(V[0]=ue.width[0]),G!=null&&(G[0]=ue.height[0]),V=1),V){H.width=H.width[0],H.height=H.height[0],N!=null&&(N[0]=H.width),E!=null&&(E[0]=H.height);e:{if(N=new UA,(E=new Cc).data=h,E.w=p,E.ha=b,E.kd=1,p=[0],e(E!=null),((h=HA(E.data,E.w,E.ha,null,null,null,p,null,E))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(D!=null),N.data=E.data,N.w=E.w+E.offset,N.ha=E.ha-E.offset,N.put=We,N.ac=Ge,N.bc=lt,N.ma=D,E.xa){if((h=hs())==null){D=1;break e}if(function(Ce,pe){var Ie=[0],Se=[0],he=[0];t:for(;;){if(Ce==null)return 0;if(pe==null)return Ce.a=2,0;if(Ce.l=pe,Ce.a=0,W(Ce.m,pe.data,pe.w,pe.ha),!et(Ce.m,Ie,Se,he)){Ce.a=3;break t}if(Ce.xb=Dy,pe.width=Ie[0],pe.height=Se[0],!li(Ie[0],Se[0],1,Ce,null))break t;return 1}return e(Ce.a!=0),0}(h,N)){if(N=(p=MA(N.width,N.height,D.Oa,D.ba))==0){t:{N=h;r:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((b=N.l)!=null),e((E=b.ma)!=null),N.xb!=0){if(N.ca=E.ba,N.tb=E.tb,e(N.ca!=null),!Ec(E.Oa,b,gh)){N.a=2;break r}if(!_o(N,b.width)||b.da)break r;if((b.da||ye(N.ca.S))&&ve(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&ve()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!De(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!Ts(N,N.V,N.Ba,N.c,N.i,b.o,ki))break r;E.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(p=h.a)}else p=h.a}else{if((h=new t0)==null){D=1;break e}if(h.Fa=E.na,h.P=E.P,h.qc=E.Sa,zd(h,N)){if((p=MA(N.width,N.height,D.Oa,D.ba))==0){if(h.Aa=0,b=D.Oa,e((E=h)!=null),b!=null){if(0<(V=0>(V=b.Md)?0:100<V?255:255*V/100)){for(G=ue=0;4>G;++G)12>(Be=E.pb[G]).lc&&(Be.ia=V*bj[0>Be.lc?0:Be.lc]>>3),ue|=Be.ia;ue&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=b.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}r0(h,N)||(p=h.a)}}else p=h.a}p==0&&D.Oa!=null&&D.Oa.fd&&(p=Uc(D.ba))}D=p}P=D!=0?null:11>P?H.f.RGBA.eb:H.f.kb.y}else P=null;return P};var zy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(j,R){for(var X="",Q=0;Q<4;Q++)X+=String.fromCharCode(j[R++]);return X}function u(j,R){return(j[R+0]<<0|j[R+1]<<8|j[R+2]<<16)>>>0}function d(j,R){return(j[R+0]<<0|j[R+1]<<8|j[R+2]<<16|j[R+3]<<24)>>>0}new l;var f=[0],g=[0],m=[],w=new l,B=t,x=function(j,R){var X={},Q=0,F=!1,K=0,$=0;if(X.frames=[],!function(L,M,z,J){for(var ae=0;ae<J;ae++)if(L[M+ae]!=z.charCodeAt(ae))return!0;return!1}(j,R,"RIFF",4)){var fe,re;for(d(j,R+=4),R+=8;R<j.length;){var ce=c(j,R),W=d(j,R+=4);R+=4;var ie=W+(1&W);switch(ce){case"VP8 ":case"VP8L":X.frames[Q]===void 0&&(X.frames[Q]={}),(_=X.frames[Q]).src_off=F?$:R-8,_.src_size=K+W+8,Q++,F&&(F=!1,K=0,$=0);break;case"VP8X":(_=X.header={}).feature_flags=j[R];var de=R+4;_.canvas_width=1+u(j,de),de+=3,_.canvas_height=1+u(j,de),de+=3;break;case"ALPH":F=!0,K=ie+8,$=R-8;break;case"ANIM":(_=X.header).bgcolor=d(j,R),de=R+4,_.loop_count=(fe=j)[(re=de)+0]<<0|fe[re+1]<<8,de+=2;break;case"ANMF":var te,_;(_=X.frames[Q]={}).offset_x=2*u(j,R),R+=3,_.offset_y=2*u(j,R),R+=3,_.width=1+u(j,R),R+=3,_.height=1+u(j,R),R+=3,_.duration=u(j,R),R+=3,te=j[R++],_.dispose=1&te,_.blend=te>>1&1}ce!="ANMF"&&(R+=ie)}return X}}(B,0);x.response=B,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,C=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],g=[y.canvas_width];for(var S=0;S<C.length&&C[S].blend!=0;S++);}var k=C[0],O=w.WebPDecodeRGBA(B,k.src_off,k.src_size,g,f);k.rgba=O,k.imgwidth=g[0],k.imgheight=f[0];for(var I=0;I<g[0]*f[0]*4;I++)m[I]=O[I];return this.width=g,this.height=f,this.data=m,this}(function(t){var e=function(){return typeof Wv=="function"},r=function(f,g,m,w){var B=4,x=a;switch(w){case t.image_compression.FAST:B=1,x=i;break;case t.image_compression.MEDIUM:B=6,x=A;break;case t.image_compression.SLOW:B=9,x=l}f=n(f,g,m,x);var y=Wv(f,{level:B});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(f,g,m,w){for(var B,x,y,C=f.length/g,S=new Uint8Array(f.length+C),k=u(),O=0;O<C;O+=1){if(y=O*g,B=f.subarray(y,y+g),w)S.set(w(B,m,x),y+O);else{for(var I,j=k.length,R=[];I<j;I+=1)R[I]=k[I](B,m,x);var X=d(R.concat());S.set(R[X],y+O)}x=B}return S},s=function(f){var g=Array.apply([],f);return g.unshift(0),g},i=function(f,g){var m,w=[],B=f.length;w[0]=1;for(var x=0;x<B;x+=1)m=f[x-g]||0,w[x+1]=f[x]-m+256&255;return w},a=function(f,g,m){var w,B=[],x=f.length;B[0]=2;for(var y=0;y<x;y+=1)w=m&&m[y]||0,B[y+1]=f[y]-w+256&255;return B},A=function(f,g,m){var w,B,x=[],y=f.length;x[0]=3;for(var C=0;C<y;C+=1)w=f[C-g]||0,B=m&&m[C]||0,x[C+1]=f[C]+256-(w+B>>>1)&255;return x},l=function(f,g,m){var w,B,x,y,C=[],S=f.length;C[0]=4;for(var k=0;k<S;k+=1)w=f[k-g]||0,B=m&&m[k]||0,x=m&&m[k-g]||0,y=c(w,B,x),C[k+1]=f[k]-y+256&255;return C},c=function(f,g,m){if(f===g&&g===m)return f;var w=Math.abs(g-m),B=Math.abs(f-m),x=Math.abs(f+g-m-m);return w<=B&&w<=x?f:B<=x?g:m},u=function(){return[s,i,a,A,l]},d=function(f){var g=f.map(function(m){return m.reduce(function(w,B){return w+Math.abs(B)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(f,g,m,w){var B,x,y,C,S,k,O,I,j,R,X,Q,F,K,$,fe=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new a8(f)).imgData,x=y.bits,B=y.colorSpace,S=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){j=(I=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,X=new Uint8Array(j*y.colors),R=new Uint8Array(j);var ce,W=y.pixelBitlength-y.bits;for(K=0,$=0;K<j;K++){for(F=I[K],ce=0;ce<W;)X[$++]=F>>>ce&255,ce+=y.bits;R[K]=F>>>ce&255}}if(y.bits===16){j=(I=new Uint32Array(y.decodePixels().buffer)).length,X=new Uint8Array(j*(32/y.pixelBitlength)*y.colors),R=new Uint8Array(j*(32/y.pixelBitlength)),Q=y.colors>1,K=0,$=0;for(var ie=0;K<j;)F=I[K++],X[$++]=F>>>0&255,Q&&(X[$++]=F>>>16&255,F=I[K++],X[$++]=F>>>0&255),R[ie++]=F>>>16&255;x=8}w!==t.image_compression.NONE&&e()?(f=r(X,y.width*y.colors,y.colors,w),O=r(R,y.width,1,w)):(f=X,O=R,fe=void 0)}if(y.colorType===3&&(B=this.color_spaces.INDEXED,k=y.palette,y.transparency.indexed)){var de=y.transparency.indexed,te=0;for(K=0,j=de.length;K<j;++K)te+=de[K];if((te/=255)===j-1&&de.indexOf(0)!==-1)C=[de.indexOf(0)];else if(te!==j){for(I=y.decodePixels(),R=new Uint8Array(I.length),K=0,j=I.length;K<j;K++)R[K]=de[I[K]];O=r(R,y.width,1)}}var _=function(L){var M;switch(L){case t.image_compression.FAST:M=11;break;case t.image_compression.MEDIUM:M=13;break;case t.image_compression.SLOW:M=14;break;default:M=12}return M}(w);return fe===this.decode.FLATE_DECODE&&(re="/Predictor "+_+" "),re+="/Colors "+S+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:m,data:f,index:g,filter:fe,decodeParameters:re,transparency:C,palette:k,sMask:O,predictor:_,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:B}}}})(dt.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new o8(e),a=i.width,A=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:A},u=new Gm(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)},t.processGIF87A=t.processGIF89A}(dt.API),zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){rr.log("bit decode error:"+r)}},zs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,A=0;A<8&&8*s+A<this.width;A++){var l=this.palette[i>>7-A&1];this.data[a+4*A]=l.blue,this.data[a+4*A+1]=l.green,this.data[a+4*A+2]=l.red,this.data[a+4*A+3]=255}r!==0&&(this.pos+=4-r)}},zs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,A=i>>4,l=15&i,c=this.palette[A];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},zs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},zs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,A=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=A,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},zs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=A,this.data[u+3]=255}this.pos+=t}},zs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},zs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=a}},zs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new zs(e,!1),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new Gm(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(dt.API),lB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new lB(e),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new Gm(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(dt.API),dt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),A=0,l=0,c=0;c<s;c+=4){var u=n[c],d=n[c+1],f=n[c+2],g=n[c+3];i[A++]=u,i[A++]=d,i[A++]=f,a[l++]=g}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},dt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fl=dt.API,Cf=fl.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),A=e.widths?e.widths:s.metadata.Unicode.widths,l=A.fof?A.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,f=0,g=t.length,m=0,w=A[0]||l,B=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?B.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(f=d&&Jt(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,B.push((A[n]||w)/l+f)),m=n;return B},iB=fl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return fl.processArabic&&(t=fl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Cf.apply(this,arguments).reduce(function(i,a){return i+a},0)},aB=function(t,e,r,n){for(var s=[],i=0,a=t.length,A=0;i!==a&&A+e[i]<r;)A+=e[i],i++;s.push(t.slice(0,i));var l=i;for(A=0;i!==a;)A+e[i]>n&&(s.push(t.slice(l,i)),A=0,l=i),A+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},oB=function(t,e,r){r||(r={});var n,s,i,a,A,l,c,u=[],d=[u],f=r.textIndent||0,g=0,m=0,w=t.split(" "),B=Cf.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),y=[];w.map(function(S){(S=S.split(/\s*\n/)).length>1?y=y.concat(S.map(function(k,O){return(O&&k.length?`
`:"")+k})):y.push(S[0])}),w=y,l=iB.apply(this,[x,r])}for(i=0,a=w.length;i<a;i++){var C=0;if(n=w[i],l&&n[0]==`
`&&(n=n.substr(1),C=1),f+g+(m=(s=Cf.apply(this,[n,r])).reduce(function(S,k){return S+k},0))>e||C){if(m>e){for(A=aB.apply(this,[n,s,e-(f+g),e]),u.push(A.shift()),u=[A.pop()];A.length;)d.push([A.shift()]);m=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(S,k){return S+k},0)}else u=[n];d.push(u),f=m+l,g=B}else u.push(n),f+=g+m,g=B}return c=l?function(S,k){return(k?x:"")+S.join(" ")}:function(S){return S.join(" ")},d.map(c)},fl.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var A,l,c=[];for(A=0,l=n.length;A<l;A++)c=c.concat(oB.apply(this,[n[A],a,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var f,g,m,w,B=["{"];for(var x in d){if(f=d[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=i(x).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof f=="number")f<0?(m=i(f).slice(3),w="-"):(m=i(f).slice(2),w=""),m=w+m.slice(0,-1)+n[m.slice(-1)];else{if(Jt(f)!=="object")throw new Error("Don't know what to do with value type "+Jt(f)+".");m=a(f)}B.push(g+m)}return B.push("}"),B.join("")},A=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,m,w,B={},x=1,y=B,C=[],S="",k="",O=d.length-1,I=1;I<O;I+=1)(w=d[I])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(w):w=="{"?(C.push([y,m]),y={},m=void 0):w=="}"?((g=C.pop())[0][g[1]]=y,m=void 0,y=g[0]):w=="-"?x=-1:m===void 0?r.hasOwnProperty(w)?(S+=r[w],m=parseInt(S,16)*x,x=1,S=""):S+=w:r.hasOwnProperty(w)?(k+=r[w],y[m]=parseInt(k,16)*x,x=1,m=void 0,k=""):k+=w;return B},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var m=c.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(dt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,A){A=/^\x00\x01\x00\x00/.test(A)?e(A):e(Ru(A)),a.metadata=t.API.TTFFont.open(A),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(dt),function(t){function e(){return(xt.canvg?Promise.resolve(xt.canvg):Ss(()=>import("./index.es-DlgdUBkD.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}dt.API.addSvgAsImage=function(r,n,s,i,a,A,l,c){if(isNaN(n)||isNaN(s))throw rr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw rr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(m){return m.fromString(d,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),n,s,i,a,l,c)})}}(),dt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},dt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(a),l=[],c=0,u=0,d=0;function f(m,w){var B,x=!1;for(B=0;B<m.length;B+=1)m[B]===w&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=A.length;for(d=0;d<g;d+=1)r[A[d]].value=r[A[d]].defaultValue,r[A[d]].explicitSet=!1}if(Jt(t)==="object"){for(s in t)if(i=t[s],f(A,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&f(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,w=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?w.push("/"+m+" /"+r[m].value):w.push("/"+m+" "+r[m].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+A.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+A+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(dt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,a){for(var A,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=i.length;d<f;++d){if(A=a.metadata.characterToGlyph(i.charCodeAt(d)),a.metadata.glyIdsUsed.push(A),a.metadata.toUnicode[A]=i.charCodeAt(d),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(a.metadata.widthOfGlyph(A),10)])),A=="0")return u.join("");A=A.toString(16),u.push(c[4-A.length],A)}return u.join("")},n=function(i){var a,A,l,c,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(A=Object.keys(i).sort(function(g,m){return g-m})).length;d<f;d++)a=A[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="Identity-H"){for(var d=A.metadata.Unicode.widths,f=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),g="",m=0;m<f.length;m++)g+=String.fromCharCode(f[m]);var w=c();u({data:g,addLength1:!0,objectId:w}),l("endobj");var B=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:B}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+bl(A.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+bl(A.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+B+" 0 R"),l("/BaseFont /"+bl(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var d=A.metadata.rawData,f="",g=0;g<d.length;g++)f+=String.fromCharCode(d[g]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var w=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var B=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+bl(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var x=0;x<A.metadata.hmtx.widths.length;x++)A.metadata.hmtx.widths[x]=parseInt(A.metadata.hmtx.widths[x]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+bl(A.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,A=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},f=d.pdfEscape,g=d.activeFontKey,m=d.fonts,w=g,B="",x=0,y="",C=m[w].encoding;if(m[w].encoding!=="Identity-H")return{text:A,x:l,y:c,options:u,mutex:d};for(y=A,w=g,Array.isArray(A)&&(y=A[0]),x=0;x<y.length;x+=1)m[w].metadata.hasOwnProperty("cmap")&&(a=m[w].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),a||y[x].charCodeAt(0)<256&&m[w].metadata.hasOwnProperty("Unicode")?B+=y[x]:B+="";var S="";return parseInt(w.slice(1))<14||C==="WinAnsiEncoding"?S=f(B,w).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(S=r(B,m[w])),d.isHex=!0,{text:S,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(i){var a=i.text||"",A=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?A.push([s(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):A.push(s(Object.assign({},l,{text:a[c]})).text);i.text=A}else i.text=s(Object.assign({},l,{text:a})).text}])}(dt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(dt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,a,A,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,C=0;this.__bidiEngine__={};var S=function(Q){var F=Q.charCodeAt(),K=F>>8,$=w[K];return $!==void 0?d[256*$+(255&F)]:K===252||K===253?"AL":x.test(K)?"L":K===8?"R":"N"},k=function(Q){for(var F,K=0;K<Q.length;K++){if((F=S(Q.charAt(K)))==="L")return!1;if(F==="R")return!0}return!1},O=function(Q,F,K,$){var fe,re,ce,W,ie=F[$];switch(ie){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(ie="AN");break;case"AL":y=!0,ie="R";break;case"WS":ie="N";break;case"CS":$<1||$+1>=F.length||(fe=K[$-1])!=="EN"&&fe!=="AN"||(re=F[$+1])!=="EN"&&re!=="AN"?ie="N":y&&(re="AN"),ie=re===fe?re:"N";break;case"ES":ie=(fe=$>0?K[$-1]:"B")==="EN"&&$+1<F.length&&F[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&K[$-1]==="EN"){ie="EN";break}if(y){ie="N";break}for(ce=$+1,W=F.length;ce<W&&F[ce]==="ET";)ce++;ie=ce<W&&F[ce]==="EN"?"EN":"N";break;case"NSM":if(a&&!A){for(W=F.length,ce=$+1;ce<W&&F[ce]==="NSM";)ce++;if(ce<W){var de=Q[$],te=de>=1425&&de<=2303||de===64286;if(fe=F[ce],te&&(fe==="R"||fe==="AL")){ie="R";break}}}ie=$<1||(fe=F[$-1])==="B"?"N":K[$-1];break;case"B":y=!1,s=!0,ie=C;break;case"S":i=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":ie="N"}return ie},I=function(Q,F,K){var $=Q.split("");return K&&j($,K,{hiLevel:C}),$.reverse(),F&&F.reverse(),$.join("")},j=function(Q,F,K){var $,fe,re,ce,W,ie=-1,de=Q.length,te=0,_=[],L=C?g:f,M=[];for(y=!1,s=!1,i=!1,fe=0;fe<de;fe++)M[fe]=S(Q[fe]);for(re=0;re<de;re++){if(W=te,_[re]=O(Q,M,_,re),$=240&(te=L[W][m[_[re]]]),te&=15,F[re]=ce=L[te][5],$>0)if($===16){for(fe=ie;fe<re;fe++)F[fe]=1;ie=-1}else ie=-1;if(L[te][6])ie===-1&&(ie=re);else if(ie>-1){for(fe=ie;fe<re;fe++)F[fe]=ce;ie=-1}M[re]==="B"&&(F[re]=0),K.hiLevel|=ce}i&&function(z,J,ae){for(var le=0;le<ae;le++)if(z[le]==="S"){J[le]=C;for(var ne=le-1;ne>=0&&z[ne]==="WS";ne--)J[ne]=C}}(M,F,de)},R=function(Q,F,K,$,fe){if(!(fe.hiLevel<Q)){if(Q===1&&C===1&&!s)return F.reverse(),void(K&&K.reverse());for(var re,ce,W,ie,de=F.length,te=0;te<de;){if($[te]>=Q){for(W=te+1;W<de&&$[W]>=Q;)W++;for(ie=te,ce=W-1;ie<ce;ie++,ce--)re=F[ie],F[ie]=F[ce],F[ce]=re,K&&(re=K[ie],K[ie]=K[ce],K[ce]=re);te=W}te++}}},X=function(Q,F,K){var $=Q.split(""),fe={hiLevel:C};return K||(K=[]),j($,K,fe),function(re,ce,W){if(W.hiLevel!==0&&u)for(var ie,de=0;de<re.length;de++)ce[de]===1&&(ie=B.indexOf(re[de]))>=0&&(re[de]=B[ie+1])}($,K,fe),R(2,$,F,K,fe),R(1,$,F,K,fe),$.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,F,K){if(function(fe,re){if(re)for(var ce=0;ce<fe.length;ce++)re[ce]=ce;A===void 0&&(A=k(fe)),c===void 0&&(c=k(fe))}(Q,F),a||!l||c)if(a&&l&&A^c)C=A?1:0,Q=I(Q,F,K);else if(!a&&l&&c)C=A?1:0,Q=X(Q,F,K),Q=I(Q,F);else if(!a||A||l||c){if(a&&!l&&A^c)Q=I(Q,F),A?(C=0,Q=X(Q,F,K)):(C=1,Q=X(Q,F,K),Q=I(Q,F));else if(a&&A&&!l&&c)C=1,Q=X(Q,F,K),Q=I(Q,F);else if(!a&&!l&&A^c){var $=u;A?(C=1,Q=X(Q,F,K),C=0,u=!1,Q=X(Q,F,K),u=$):(C=0,Q=X(Q,F,K),Q=I(Q,F),C=1,u=!1,Q=X(Q,F,K),u=$,Q=I(Q,F))}}else C=0,Q=X(Q,F,K);else C=A?1:0,Q=X(Q,F,K);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(a=Q.isInputVisual,l=Q.isOutputVisual,A=Q.isInputRtl,c=Q.isOutputRtl,u=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var A=0;for(a=[],A=0;A<s.length;A+=1)Object.prototype.toString.call(s[A])==="[object Array]"?a.push([r.doBidiReorder(s[A][0]),s[A][1],s[A][2]]):a.push([r.doBidiReorder(s[A])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(dt),dt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new xo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new b8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new A8(this.contents),this.head=new c8(this),this.name=new g8(this),this.cmap=new eS(this),this.toUnicode={},this.hhea=new u8(this),this.maxp=new p8(this),this.hmtx=new m8(this),this.post=new h8(this),this.os2=new d8(this),this.loca=new y8(this),this.glyf=new x8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,A,l,c;for(c=[],a=0,A=(l=this.bbox).length;a<A;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,a,A;for(a=0,i=0,A=(e=""+e).length;0<=A?i<A:i>A;i=0<=A?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var oi,xo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,a,A,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),A=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^A)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*A+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),A8=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,a,A,l,c,u,d,f,g,m,w;for(w in g=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(g)/l),a=Math.floor(d/l),u=16*g-d,(s=new xo).writeInt(this.scalarType),s.writeShort(g),s.writeShort(d),s.writeShort(a),s.writeShort(u),i=16*g,c=s.pos+i,A=null,m=[],r)for(f=r[w],s.writeString(w),s.writeInt(t(f)),s.writeInt(c),s.writeInt(f.length),m=m.concat(f),w==="head"&&(A=c),c+=f.length;c%4;)m.push(0),c++;return s.write(m),n=2981146554-t(s.data),s.pos=A+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,a;for(r=tS.call(r);r.length%4;)r.push(0);for(i=new xo(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),l8={}.hasOwnProperty,Ui=function(t,e){for(var r in e)l8.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};oi=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var c8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new xo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),cB=function(){function t(e,r){var n,s,i,a,A,l,c,u,d,f,g,m,w,B,x,y,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),f=g/2,e.pos+=6,i=function(){var S,k;for(k=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)k.push(e.readUInt16());return k}(),e.pos+=2,w=function(){var S,k;for(k=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)k.push(e.readUInt16());return k}(),c=function(){var S,k;for(k=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)k.push(e.readUInt16());return k}(),u=function(){var S,k;for(k=[],l=S=0;0<=f?S<f:S>f;l=0<=f?++S:--S)k.push(e.readUInt16());return k}(),s=(this.length-e.pos+this.offset)/2,A=function(){var S,k;for(k=[],l=S=0;0<=s?S<s:S>s;l=0<=s?++S:--S)k.push(e.readUInt16());return k}(),l=x=0,C=i.length;x<C;l=++x)for(B=i[l],n=y=m=w[l];m<=B?y<=B:y>=B;n=m<=B?++y:--y)u[l]===0?a=n+c[l]:(a=A[u[l]/2+(n-m)-(f-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=d}return t.encode=function(e,r){var n,s,i,a,A,l,c,u,d,f,g,m,w,B,x,y,C,S,k,O,I,j,R,X,Q,F,K,$,fe,re,ce,W,ie,de,te,_,L,M,z,J,ae,le,ne,we,_e,je;switch($=new xo,a=Object.keys(e).sort(function(ke,De){return ke-De}),r){case"macroman":for(w=0,B=function(){var ke=[];for(m=0;m<256;++m)ke.push(0);return ke}(),y={0:0},i={},fe=0,ie=a.length;fe<ie;fe++)y[ne=e[s=a[fe]]]==null&&(y[ne]=++w),i[s]={old:e[s],new:y[e[s]]},B[s]=y[e[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(B),{charMap:i,subtable:$.data,maxGlyphID:w+1};case"unicode":for(F=[],d=[],C=0,y={},n={},x=c=null,re=0,de=a.length;re<de;re++)y[k=e[s=a[re]]]==null&&(y[k]=++C),n[s]={old:k,new:y[k]},A=y[k]-s,x!=null&&A===c||(x&&d.push(x),F.push(s),c=A),x=s;for(x&&d.push(x),d.push(65535),F.push(65535),X=2*(R=F.length),j=2*Math.pow(Math.log(R)/Math.LN2,2),f=Math.log(j/2)/Math.LN2,I=2*R-j,l=[],O=[],g=[],m=ce=0,te=F.length;ce<te;m=++ce){if(Q=F[m],u=d[m],Q===65535){l.push(0),O.push(0);break}if(Q-(K=n[Q].new)>=32768)for(l.push(0),O.push(2*(g.length+R-m)),s=W=Q;Q<=u?W<=u:W>=u;s=Q<=u?++W:--W)g.push(n[s].new);else l.push(K-Q),O.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*R+2*g.length),$.writeUInt16(0),$.writeUInt16(X),$.writeUInt16(j),$.writeUInt16(f),$.writeUInt16(I),ae=0,_=d.length;ae<_;ae++)s=d[ae],$.writeUInt16(s);for($.writeUInt16(0),le=0,L=F.length;le<L;le++)s=F[le],$.writeUInt16(s);for(we=0,M=l.length;we<M;we++)A=l[we],$.writeUInt16(A);for(_e=0,z=O.length;_e<z;_e++)S=O[_e],$.writeUInt16(S);for(je=0,J=g.length;je<J;je++)w=g[je],$.writeUInt16(w);return{charMap:n,subtable:$.data,maxGlyphID:C+1}}},t}(),eS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new cB(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=cB.encode(r,n),(i=new xo).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),u8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),d8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),h8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var A,l,c;for(c=[],a=A=0,l=this.file.maxp.numGlyphs;0<=l?A<l:A>l;a=0<=l?++A:--A)c.push(r.readUInt32());return c}).call(this)}},e}(),f8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},g8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,a,A,l,c,u,d,f,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},a=d=0,f=s.length;d<f;a=++d)i=s[a],r.pos=i.offset,u=r.readString(i.length),A=new f8(u,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(A);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),p8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),m8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,a,A,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,f,g;for(g=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],g.push(a.advance);return g}).call(this),s=this.widths[this.widths.length-1],c=[],n=A=0;0<=i?A<i:A>i;n=0<=i?++A:--A)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),tS=[].slice,x8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,a,A,l,c,u,d,f;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,A=(l=new xo(n.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=A===-1?new w8(l,u,f,c,d):new v8(l,A,u,f,c,d),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,a,A,l,c;for(A=[],a=[],l=0,c=n.length;l<c;l++)i=r[n[l]],a.push(A.length),i&&(A=A.concat(i.encode(s)));return a.push(A.length),{table:A,offsets:a}},e}(),v8=function(){function t(e,r,n,s,i,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),w8=function(){function t(e,r,n,s,i){var a,A;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;A=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&A;)a.pos+=1&A?4:2,128&A?a.pos+=8:64&A?a.pos+=4:8&A&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new xo(tS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),y8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,oi),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,A=0;A<s.length;++A)if(s[A]=i,a<n.length&&n[a]==A){++a,s[A]=i;var l=this.offsets[A],c=this.offsets[A+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},e}(),b8=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,a,A,l;for(s={},a=0,A=e.length;a<A;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,a,A,l,c,u,d,f,g,m,w,B,x;for(s in n=eS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},x=n.charMap)g[(l=x[s]).old]=l.new;for(m in f=n.maxGlyphID,a)m in g||(g[m]=f++);return u=function(y){var C,S;for(C in S={},y)S[y[C]]=C;return S}(g),d=Object.keys(u).sort(function(y,C){return y-C}),w=function(){var y,C,S;for(S=[],y=0,C=d.length;y<C;y++)A=d[y],S.push(u[A]);return S}(),i=this.font.glyf.encode(a,w,g),c=this.font.loca.encode(i.offsets,w),B={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},t}();dt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var A,l,c;for(c=[],A=0,l=r.length;A<l;A++)n=r[A],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+r},e}();const uB=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:e8,AcroFormAppearance:at,AcroFormButton:zr,AcroFormCheckBox:zu,AcroFormChoiceField:lA,AcroFormComboBox:uA,AcroFormEditBox:Ku,AcroFormListBox:cA,AcroFormPasswordField:$u,AcroFormPushButton:Vu,AcroFormRadioButton:dA,AcroFormTextField:uo,GState:bd,ShadingPattern:Ha,TilingPattern:rA,default:dt,jsPDF:dt},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hd(t){return t+.5|0}const Ga=(t,e,r)=>Math.max(Math.min(t,r),e);function bu(t){return Ga(Hd(t*2.55),0,255)}function ho(t){return Ga(Hd(t*255),0,255)}function Xi(t){return Ga(Hd(t/2.55)/100,0,1)}function dB(t){return Ga(Hd(t*100),0,100)}const ys={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rw=[..."0123456789ABCDEF"],B8=t=>rw[t&15],C8=t=>rw[(t&240)>>4]+rw[t&15],_f=t=>(t&240)>>4===(t&15),_8=t=>_f(t.r)&&_f(t.g)&&_f(t.b)&&_f(t.a);function N8(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ys[t[1]]*17,g:255&ys[t[2]]*17,b:255&ys[t[3]]*17,a:e===5?ys[t[4]]*17:255}:(e===7||e===9)&&(r={r:ys[t[1]]<<4|ys[t[2]],g:ys[t[3]]<<4|ys[t[4]],b:ys[t[5]]<<4|ys[t[6]],a:e===9?ys[t[7]]<<4|ys[t[8]]:255})),r}const S8=(t,e)=>t<255?e(t):"";function j8(t){var e=_8(t)?B8:C8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+S8(t.a,e):void 0}const F8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rS(t,e,r){const n=e*Math.min(r,1-r),s=(i,a=(i+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function E8(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function U8(t,e,r){const n=rS(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function k8(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function by(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),a=Math.min(r,n,s),A=(i+a)/2;let l,c,u;return i!==a&&(u=i-a,c=A>.5?u/(2-i-a):u/(i+a),l=k8(r,n,s,u,i),l=l*60+.5),[l|0,c||0,A]}function By(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(ho)}function Cy(t,e,r){return By(rS,t,e,r)}function Q8(t,e,r){return By(U8,t,e,r)}function L8(t,e,r){return By(E8,t,e,r)}function nS(t){return(t%360+360)%360}function I8(t){const e=F8.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?bu(+e[5]):ho(+e[5]));const s=nS(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=Q8(s,i,a):e[1]==="hsv"?n=L8(s,i,a):n=Cy(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}function P8(t,e){var r=by(t);r[0]=nS(r[0]+e),r=Cy(r),t.r=r[0],t.g=r[1],t.b=r[2]}function T8(t){if(!t)return;const e=by(t),r=e[0],n=dB(e[1]),s=dB(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${Xi(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const hB={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function D8(){const t={},e=Object.keys(fB),r=Object.keys(hB);let n,s,i,a,A;for(n=0;n<e.length;n++){for(a=A=e[n],s=0;s<r.length;s++)i=r[s],A=A.replace(i,hB[i]);i=parseInt(fB[a],16),t[A]=[i>>16&255,i>>8&255,i&255]}return t}let Nf;function O8(t){Nf||(Nf=D8(),Nf.transparent=[0,0,0,0]);const e=Nf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const H8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function M8(t){const e=H8.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?bu(a):Ga(a*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?bu(n):Ga(n,0,255)),s=255&(e[4]?bu(s):Ga(s,0,255)),i=255&(e[6]?bu(i):Ga(i,0,255)),{r:n,g:s,b:i,a:r}}}function R8(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Xi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Wm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,gl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function K8(t,e,r){const n=gl(Xi(t.r)),s=gl(Xi(t.g)),i=gl(Xi(t.b));return{r:ho(Wm(n+r*(gl(Xi(e.r))-n))),g:ho(Wm(s+r*(gl(Xi(e.g))-s))),b:ho(Wm(i+r*(gl(Xi(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Sf(t,e,r){if(t){let n=by(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Cy(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function sS(t,e){return t&&Object.assign(e||{},t)}function gB(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ho(t[3]))):(e=sS(t,{r:0,g:0,b:0,a:1}),e.a=ho(e.a)),e}function V8(t){return t.charAt(0)==="r"?M8(t):I8(t)}class Bd{constructor(e){if(e instanceof Bd)return e;const r=typeof e;let n;r==="object"?n=gB(e):r==="string"&&(n=N8(e)||O8(e)||V8(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=sS(this._rgb);return e&&(e.a=Xi(e.a)),e}set rgb(e){this._rgb=gB(e)}rgbString(){return this._valid?R8(this._rgb):void 0}hexString(){return this._valid?j8(this._rgb):void 0}hslString(){return this._valid?T8(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const a=r===i?.5:r,A=2*a-1,l=n.a-s.a,c=((A*l===-1?A:(A+l)/(1+A*l))+1)/2;i=1-c,n.r=255&c*n.r+i*s.r+.5,n.g=255&c*n.g+i*s.g+.5,n.b=255&c*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=K8(this._rgb,e._rgb,r)),this}clone(){return new Bd(this.rgb)}alpha(e){return this._rgb.a=ho(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Hd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Sf(this._rgb,2,e),this}darken(e){return Sf(this._rgb,2,-e),this}saturate(e){return Sf(this._rgb,1,e),this}desaturate(e){return Sf(this._rgb,1,-e),this}rotate(e){return P8(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function zi(){}const z8=(()=>{let t=0;return()=>t++})();function $t(t){return t==null}function qr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Tt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function _n(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pi(t,e){return _n(t)?t:e}function kt(t,e){return typeof t>"u"?e:t}const $8=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function lr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Wt(t,e,r,n){let s,i,a;if(qr(t))for(i=t.length,s=0;s<i;s++)e.call(r,t[s],s);else if(Tt(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(r,t[a[s]],a[s])}function Jg(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Xg(t){if(qr(t))return t.map(Xg);if(Tt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=Xg(t[r[s]]);return e}return t}function iS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function q8(t,e,r,n){if(!iS(t))return;const s=e[t],i=r[t];Tt(s)&&Tt(i)?Cd(s,i,n):e[t]=Xg(i)}function Cd(t,e,r){const n=qr(e)?e:[e],s=n.length;if(!Tt(t))return t;r=r||{};const i=r.merger||q8;let a;for(let A=0;A<s;++A){if(a=n[A],!Tt(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)i(l[c],t,a,r)}return t}function qu(t,e){return Cd(t,e,{merger:G8})}function G8(t,e,r){if(!iS(t))return;const n=e[t],s=r[t];Tt(n)&&Tt(s)?qu(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Xg(s))}const pB={"":t=>t,x:t=>t.x,y:t=>t.y};function W8(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function J8(t){const e=W8(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function nc(t,e){return(pB[e]||(pB[e]=J8(e)))(t)}function _y(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _d=t=>typeof t<"u",vo=t=>typeof t=="function",mB=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function X8(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Bn=Math.PI,ri=2*Bn,Y8=ri+Bn,Yg=Number.POSITIVE_INFINITY,Z8=Bn/180,Zs=Bn/2,Oo=Bn/4,xB=Bn*2/3,aS=Math.log10,ji=Math.sign;function Gu(t,e,r){return Math.abs(t-e)<r}function vB(t){const e=Math.round(t);t=Gu(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(aS(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function eO(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function tO(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Nd(t){return!tO(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function rO(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function nO(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function nA(t){return t*(Bn/180)}function sO(t){return t*(180/Bn)}function wB(t){if(!_n(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function iO(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Bn&&(i+=ri),{angle:i,distance:s}}function nw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function aO(t,e){return(t-e+Y8)%ri-Bn}function bi(t){return(t%ri+ri)%ri}function oS(t,e,r,n){const s=bi(t),i=bi(e),a=bi(r),A=bi(i-s),l=bi(a-s),c=bi(s-i),u=bi(s-a);return s===i||s===a||n&&i===a||A>l&&c<u}function As(t,e,r){return Math.max(e,Math.min(r,t))}function oO(t){return As(t,-32768,32767)}function Wa(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Ny(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const sA=(t,e,r,n)=>Ny(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),AO=(t,e,r)=>Ny(t,r,n=>t[n][e]>=r);function lO(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const AS=["push","pop","shift","splice","unshift"];function cO(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),AS.forEach(r=>{const n="_onData"+_y(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(A=>{typeof A[n]=="function"&&A[n](...i)}),a}})})}function yB(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(AS.forEach(i=>{delete t[i]}),delete t._chartjs)}function lS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const cS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function uS(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,cS.call(window,()=>{n=!1,t.apply(e,r)}))}}function uO(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const dS=t=>t==="start"?"left":t==="end"?"right":"center",ss=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,dO=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function hO(t,e,r){const n=e.length;let s=0,i=n;if(t._sorted){const{iScale:a,vScale:A,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:f,minDefined:g,maxDefined:m}=a.getUserBounds();if(g){if(s=Math.min(sA(l,u,d).lo,r?n:sA(e,u,a.getPixelForValue(d)).lo),c){const w=l.slice(0,s+1).reverse().findIndex(B=>!$t(B[A.axis]));s-=Math.max(0,w)}s=As(s,0,n-1)}if(m){let w=Math.max(sA(l,a.axis,f,!0).hi+1,r?0:sA(e,u,a.getPixelForValue(f),!0).hi+1);if(c){const B=l.slice(w-1).findIndex(x=>!$t(x[A.axis]));w+=Math.max(0,B)}i=As(w,s,n)-s}else i=n-s}return{start:s,count:i}}function fO(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=s,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const jf=t=>t===0||t===1,bB=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ri/r)),BB=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ri/r)+1,Wu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zs)+1,easeOutSine:t=>Math.sin(t*Zs),easeInOutSine:t=>-.5*(Math.cos(Bn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>jf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>jf(t)?t:bB(t,.075,.3),easeOutElastic:t=>jf(t)?t:BB(t,.075,.3),easeInOutElastic(t){return jf(t)?t:t<.5?.5*bB(t*2,.1125,.45):.5+.5*BB(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Wu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Wu.easeInBounce(t*2)*.5:Wu.easeOutBounce(t*2-1)*.5+.5};function Sy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function CB(t){return Sy(t)?t:new Bd(t)}function Jm(t){return Sy(t)?t:new Bd(t).saturate(.5).darken(.1).hexString()}const gO=["x","y","borderWidth","radius","tension"],pO=["color","borderColor","backgroundColor"];function mO(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:pO},numbers:{type:"number",properties:gO}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xO(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _B=new Map;function vO(t,e){e=e||{};const r=t+JSON.stringify(e);let n=_B.get(r);return n||(n=new Intl.NumberFormat(t,e),_B.set(r,n)),n}function hS(t,e,r){return vO(e,r).format(t)}const wO={values(t){return qr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=yO(t,r)}const a=aS(Math.abs(i)),A=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:A,maximumFractionDigits:A};return Object.assign(l,this.options.ticks.format),hS(t,n,l)}};function yO(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var fS={formatters:wO};function bO(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vA=Object.create(null),sw=Object.create(null);function Ju(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function Xm(t,e,r){return typeof e=="string"?Cd(Ju(t,e),r):Cd(Ju(t,""),e)}class BO{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Jm(s.backgroundColor),this.hoverBorderColor=(n,s)=>Jm(s.borderColor),this.hoverColor=(n,s)=>Jm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Xm(this,e,r)}get(e){return Ju(this,e)}describe(e,r){return Xm(sw,e,r)}override(e,r){return Xm(vA,e,r)}route(e,r,n,s){const i=Ju(this,e),a=Ju(this,n),A="_"+r;Object.defineProperties(i,{[A]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[A],c=a[s];return Tt(l)?Object.assign({},c,l):kt(l,c)},set(l){this[A]=l}}})}apply(e){e.forEach(r=>r(this))}}var Qr=new BO({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mO,xO,bO]);function CO(t){return!t||$t(t.size)||$t(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function NB(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function Ho(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function SB(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function iw(t,e,r,n){gS(t,e,r,n,null)}function gS(t,e,r,n,s){let i,a,A,l,c,u,d,f;const g=e.pointStyle,m=e.rotation,w=e.radius;let B=(m||0)*Z8;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(B),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),g){default:s?t.ellipse(r,n,s/2,w,0,0,ri):t.arc(r,n,w,0,ri),t.closePath();break;case"triangle":u=s?s/2:w,t.moveTo(r+Math.sin(B)*u,n-Math.cos(B)*w),B+=xB,t.lineTo(r+Math.sin(B)*u,n-Math.cos(B)*w),B+=xB,t.lineTo(r+Math.sin(B)*u,n-Math.cos(B)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,a=Math.cos(B+Oo)*l,d=Math.cos(B+Oo)*(s?s/2-c:l),A=Math.sin(B+Oo)*l,f=Math.sin(B+Oo)*(s?s/2-c:l),t.arc(r-d,n-A,c,B-Bn,B-Zs),t.arc(r+f,n-a,c,B-Zs,B),t.arc(r+d,n+A,c,B,B+Zs),t.arc(r-f,n+a,c,B+Zs,B+Bn),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*w,u=s?s/2:l,t.rect(r-u,n-l,2*u,2*l);break}B+=Oo;case"rectRot":d=Math.cos(B)*(s?s/2:w),a=Math.cos(B)*w,A=Math.sin(B)*w,f=Math.sin(B)*(s?s/2:w),t.moveTo(r-d,n-A),t.lineTo(r+f,n-a),t.lineTo(r+d,n+A),t.lineTo(r-f,n+a),t.closePath();break;case"crossRot":B+=Oo;case"cross":d=Math.cos(B)*(s?s/2:w),a=Math.cos(B)*w,A=Math.sin(B)*w,f=Math.sin(B)*(s?s/2:w),t.moveTo(r-d,n-A),t.lineTo(r+d,n+A),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"star":d=Math.cos(B)*(s?s/2:w),a=Math.cos(B)*w,A=Math.sin(B)*w,f=Math.sin(B)*(s?s/2:w),t.moveTo(r-d,n-A),t.lineTo(r+d,n+A),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a),B+=Oo,d=Math.cos(B)*(s?s/2:w),a=Math.cos(B)*w,A=Math.sin(B)*w,f=Math.sin(B)*(s?s/2:w),t.moveTo(r-d,n-A),t.lineTo(r+d,n+A),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"line":a=s?s/2:Math.cos(B)*w,A=Math.sin(B)*w,t.moveTo(r-a,n-A),t.lineTo(r+a,n+A);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(B)*(s?s/2:w),n+Math.sin(B)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Sd(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Kp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Vp(t){t.restore()}function _O(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function NO(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function SO(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$t(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function jO(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),a=e-i.actualBoundingBoxLeft,A=e+i.actualBoundingBoxRight,l=r-i.actualBoundingBoxAscent,c=r+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(A,u),t.stroke()}}function FO(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Zg(t,e,r,n,s,i={}){const a=qr(e)?e:[e],A=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,SO(t,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&FO(t,i.backdrop),A&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),$t(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,r,n,i.maxWidth)),t.fillText(c,r,n,i.maxWidth),jO(t,r,n,c,i),n+=Number(s.lineHeight);t.restore()}function ep(t,e){const{x:r,y:n,w:s,h:i,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*Bn,Bn,!0),t.lineTo(r,n+i-a.bottomLeft),t.arc(r+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,Bn,Zs,!0),t.lineTo(r+s-a.bottomRight,n+i),t.arc(r+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,Zs,0,!0),t.lineTo(r+s,n+a.topRight),t.arc(r+s-a.topRight,n+a.topRight,a.topRight,0,-Zs,!0),t.lineTo(r+a.topLeft,n)}const EO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,UO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kO(t,e){const r=(""+t).match(EO);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const QO=t=>+t||0;function pS(t,e){const r={},n=Tt(e),s=n?Object.keys(e):e,i=Tt(t)?n?a=>kt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)r[a]=QO(i(a));return r}function mS(t){return pS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Vl(t){return pS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function si(t){const e=mS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $n(t,e){t=t||{},e=e||Qr.font;let r=kt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=kt(t.style,e.style);n&&!(""+n).match(UO)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:kt(t.family,e.family),lineHeight:kO(kt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:kt(t.weight,e.weight),string:""};return s.string=CO(s),s}function Ff(t,e,r,n){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function LO(t,e,r){const{min:n,max:s}=t,i=$8(e,(s-n)/2),a=(A,l)=>r&&A===0?0:A+l;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function _A(t,e){return Object.assign(Object.create(t),e)}function jy(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=yS("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:A=>jy([A,...t],e,i,n)};return new Proxy(a,{deleteProperty(A,l){return delete A[l],delete A._keys,delete t[0][l],!0},get(A,l){return vS(A,l,()=>RO(l,e,t,A))},getOwnPropertyDescriptor(A,l){return Reflect.getOwnPropertyDescriptor(A._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(A,l){return FB(A).includes(l)},ownKeys(A){return FB(A)},set(A,l,c){const u=A._storage||(A._storage=s());return A[l]=u[l]=c,delete A._keys,!0}})}function sc(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:xS(t,n),setContext:i=>sc(t,i,r,n),override:i=>sc(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,A){return vS(i,a,()=>PO(i,a,A))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,A){return t[a]=A,delete i[a],!0}})}function xS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:vo(r)?r:()=>r,isIndexable:vo(n)?n:()=>n}}const IO=(t,e)=>t?t+_y(e):e,Fy=(t,e)=>Tt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function vS(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function PO(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=t;let A=n[e];return vo(A)&&a.isScriptable(e)&&(A=TO(e,A,t,r)),qr(A)&&A.length&&(A=DO(e,A,t,a.isIndexable)),Fy(e,A)&&(A=sc(A,s,i&&i[e],a)),A}function TO(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_stack:A}=r;if(A.has(t))throw new Error("Recursion detected: "+Array.from(A).join("->")+"->"+t);A.add(t);let l=e(i,a||n);return A.delete(t),Fy(t,l)&&(l=Ey(s._scopes,s,t,l)),l}function DO(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:A}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Tt(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Ey(c,s,t,u);e.push(sc(d,i,a&&a[t],A))}}return e}function wS(t,e,r){return vo(t)?t(e,r):t}const OO=(t,e)=>t===!0?e:typeof t=="string"?nc(e,t):void 0;function HO(t,e,r,n,s){for(const i of e){const a=OO(r,i);if(a){t.add(a);const A=wS(a._fallback,r,s);if(typeof A<"u"&&A!==r&&A!==n)return A}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function Ey(t,e,r,n){const s=e._rootScopes,i=wS(e._fallback,r,n),a=[...t,...s],A=new Set;A.add(n);let l=jB(A,a,r,i||r,n);return l===null||typeof i<"u"&&i!==r&&(l=jB(A,a,i,l,n),l===null)?!1:jy(Array.from(A),[""],s,i,()=>MO(e,r,n))}function jB(t,e,r,n,s){for(;r;)r=HO(t,e,r,n,s);return r}function MO(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return qr(s)&&Tt(r)?r:s||{}}function RO(t,e,r,n){let s;for(const i of e)if(s=yS(IO(i,t),r),typeof s<"u")return Fy(t,s)?Ey(r,n,t,s):s}function yS(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function FB(t){let e=t._keys;return e||(e=t._keys=KO(t._scopes)),e}function KO(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const VO=Number.EPSILON||1e-14,ic=(t,e)=>e<t.length&&!t[e].skip&&t[e],bS=t=>t==="x"?"y":"x";function zO(t,e,r,n){const s=t.skip?e:t,i=e,a=r.skip?e:r,A=nw(i,s),l=nw(a,i);let c=A/(A+l),u=l/(A+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,f=n*u;return{previous:{x:i.x-d*(a.x-s.x),y:i.y-d*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function $O(t,e,r){const n=t.length;let s,i,a,A,l,c=ic(t,0);for(let u=0;u<n-1;++u)if(l=c,c=ic(t,u+1),!(!l||!c)){if(Gu(e[u],0,VO)){r[u]=r[u+1]=0;continue}s=r[u]/e[u],i=r[u+1]/e[u],A=Math.pow(s,2)+Math.pow(i,2),!(A<=9)&&(a=3/Math.sqrt(A),r[u]=s*a*e[u],r[u+1]=i*a*e[u])}}function qO(t,e,r="x"){const n=bS(r),s=t.length;let i,a,A,l=ic(t,0);for(let c=0;c<s;++c){if(a=A,A=l,l=ic(t,c+1),!A)continue;const u=A[r],d=A[n];a&&(i=(u-a[r])/3,A[`cp1${r}`]=u-i,A[`cp1${n}`]=d-i*e[c]),l&&(i=(l[r]-u)/3,A[`cp2${r}`]=u+i,A[`cp2${n}`]=d+i*e[c])}}function GO(t,e="x"){const r=bS(e),n=t.length,s=Array(n).fill(0),i=Array(n);let a,A,l,c=ic(t,0);for(a=0;a<n;++a)if(A=l,l=c,c=ic(t,a+1),!!l){if(c){const u=c[e]-l[e];s[a]=u!==0?(c[r]-l[r])/u:0}i[a]=A?c?ji(s[a-1])!==ji(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}$O(t,s,i),qO(t,i,e)}function Ef(t,e,r){return Math.max(Math.min(t,r),e)}function WO(t,e){let r,n,s,i,a,A=Sd(t[0],e);for(r=0,n=t.length;r<n;++r)a=i,i=A,A=r<n-1&&Sd(t[r+1],e),i&&(s=t[r],a&&(s.cp1x=Ef(s.cp1x,e.left,e.right),s.cp1y=Ef(s.cp1y,e.top,e.bottom)),A&&(s.cp2x=Ef(s.cp2x,e.left,e.right),s.cp2y=Ef(s.cp2y,e.top,e.bottom)))}function JO(t,e,r,n,s){let i,a,A,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")GO(t,s);else{let c=n?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)A=t[i],l=zO(c,A,t[Math.min(i+1,a-(n?0:1))%a],e.tension),A.cp1x=l.previous.x,A.cp1y=l.previous.y,A.cp2x=l.next.x,A.cp2y=l.next.y,c=A}e.capBezierPoints&&WO(t,r)}function Uy(){return typeof window<"u"&&typeof document<"u"}function ky(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tp(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const zp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function XO(t,e){return zp(t).getPropertyValue(e)}const YO=["top","right","bottom","left"];function hA(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=YO[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const ZO=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function eH(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let a=!1,A,l;if(ZO(s,i,t.target))A=s,l=i;else{const c=e.getBoundingClientRect();A=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:A,y:l,box:a}}function $o(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=zp(r),i=s.boxSizing==="border-box",a=hA(s,"padding"),A=hA(s,"border","width"),{x:l,y:c,box:u}=eH(t,r),d=a.left+(u&&A.left),f=a.top+(u&&A.top);let{width:g,height:m}=e;return i&&(g-=a.width+A.width,m-=a.height+A.height),{x:Math.round((l-d)/g*r.width/n),y:Math.round((c-f)/m*r.height/n)}}function tH(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&ky(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const a=i.getBoundingClientRect(),A=zp(i),l=hA(A,"border","width"),c=hA(A,"padding");e=a.width-c.width-l.width,r=a.height-c.height-l.height,n=tp(A.maxWidth,i,"clientWidth"),s=tp(A.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||Yg,maxHeight:s||Yg}}const Ja=t=>Math.round(t*10)/10;function rH(t,e,r,n){const s=zp(t),i=hA(s,"margin"),a=tp(s.maxWidth,t,"clientWidth")||Yg,A=tp(s.maxHeight,t,"clientHeight")||Yg,l=tH(t,e,r);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=hA(s,"border","width"),g=hA(s,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=Ja(Math.min(c,a,l.maxWidth)),u=Ja(Math.min(u,A,l.maxHeight)),c&&!u&&(u=Ja(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Ja(Math.floor(u*n))),{width:c,height:u}}function EB(t,e,r){const n=e||1,s=Ja(t.height*n),i=Ja(t.width*n);t.height=Ja(t.height),t.width=Ja(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=n,a.height=s,a.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const nH=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Uy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function UB(t,e){const r=XO(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function qo(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function sH(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function iH(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=qo(t,s,r),A=qo(s,i,r),l=qo(i,e,r),c=qo(a,A,r),u=qo(A,l,r);return qo(c,u,r)}const aH=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},oH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function zl(t,e,r){return t?aH(e,r):oH()}function BS(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function CS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function _S(t){return t==="angle"?{between:oS,compare:aO,normalize:bi}:{between:Wa,compare:(e,r)=>e-r,normalize:e=>e}}function kB({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function AH(t,e,r){const{property:n,start:s,end:i}=r,{between:a,normalize:A}=_S(n),l=e.length;let{start:c,end:u,loop:d}=t,f,g;if(d){for(c+=l,u+=l,f=0,g=l;f<g&&a(A(e[c%l][n]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function NS(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,a=e.length,{compare:A,between:l,normalize:c}=_S(n),{start:u,end:d,loop:f,style:g}=AH(t,e,r),m=[];let w=!1,B=null,x,y,C;const S=()=>l(s,C,x)&&A(s,C)!==0,k=()=>A(i,x)===0||l(i,C,x),O=()=>w||S(),I=()=>!w||k();for(let j=u,R=u;j<=d;++j)y=e[j%a],!y.skip&&(x=c(y[n]),x!==C&&(w=l(x,s,i),B===null&&O()&&(B=A(x,s)===0?j:R),B!==null&&I()&&(m.push(kB({start:B,end:j,loop:f,count:a,style:g})),B=null),R=j,C=x));return B!==null&&m.push(kB({start:B,end:d,loop:f,count:a,style:g})),m}function SS(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=NS(n[s],t.points,e);i.length&&r.push(...i)}return r}function lH(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function cH(t,e,r,n){const s=t.length,i=[];let a=e,A=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%s];c.skip||c.stop?A.skip||(n=!1,i.push({start:e%s,end:(l-1)%s,loop:n}),e=a=c.stop?l:null):(a=l,A.skip&&(e=l)),A=c}return a!==null&&i.push({start:e%s,end:a%s,loop:n}),i}function uH(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:a,end:A}=lH(r,s,i,n);if(n===!0)return QB(t,[{start:a,end:A,loop:i}],r,e);const l=A<a?A+s:A,c=!!t._fullLoop&&a===0&&A===s-1;return QB(t,cH(r,a,l,c),r,e)}function QB(t,e,r,n){return!n||!n.setContext||!r?e:dH(t,e,r,n)}function dH(t,e,r,n){const s=t._chart.getContext(),i=LB(t.options),{_datasetIndex:a,options:{spanGaps:A}}=t,l=r.length,c=[];let u=i,d=e[0].start,f=d;function g(m,w,B,x){const y=A?-1:1;if(m!==w){for(m+=l;r[m%l].skip;)m-=y;for(;r[w%l].skip;)w+=y;m%l!==w%l&&(c.push({start:m%l,end:w%l,loop:B,style:x}),u=x,d=w%l)}}for(const m of e){d=A?d:m.start;let w=r[d%l],B;for(f=d+1;f<=m.end;f++){const x=r[f%l];B=LB(n.setContext(_A(s,{type:"segment",p0:w,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),hH(B,u)&&g(d,f-1,m.loop,u),w=x,u=B}d<f-1&&g(d,f-1,m.loop,u)}return c}function LB(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function hH(t,e){if(!e)return!1;const r=[],n=function(s,i){return Sy(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Uf(t,e,r){return t.options.clip?t[r]:e[r]}function fH(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Uf(r,e,"left"),right:Uf(r,e,"right"),top:Uf(n,e,"top"),bottom:Uf(n,e,"bottom")}:e}function jS(t,e){const r=e._clip;if(r.disabled)return!1;const n=fH(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class gH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],a=r.duration;i.forEach(A=>A({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=cS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,A=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),A=!0):(i[a]=i[i.length-1],i.pop());A&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $i=new gH;const IB="transparent",pH={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=CB(t||IB),s=n.valid&&CB(e||IB);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class mH{constructor(e,r,n,s){const i=r[n];s=Ff([e.to,s,i,e.from]);const a=Ff([e.from,i,s]);this._active=!0,this._fn=e.fn||pH[e.type||typeof a],this._easing=Wu[e.easing]||Wu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ff([e.to,r,s,e.from]),this._from=Ff([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,A=this._to;let l;if(this._active=i!==A&&(a||r<n),!this._active){this._target[s]=A,this._notify(!0);return}if(r<0){this._target[s]=i;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,A,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class FS{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Tt(e))return;const r=Object.keys(Qr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Tt(i))return;const a={};for(const A of r)a[A]=i[A];(qr(i.properties)&&i.properties||[s]).forEach(A=>{(A===s||!n.has(A))&&n.set(A,a)})})}_animateOptions(e,r){const n=r.options,s=vH(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&xH(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(r),A=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,r));continue}const u=r[c];let d=i[c];const f=n.get(c);if(d)if(f&&d.active()){d.update(f,u,A);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new mH(f,e,c,u),s.push(d)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return $i.add(this._chart,n),!0}}function xH(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function vH(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function PB(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function wH(t,e,r){if(r===!1)return!1;const n=PB(t,r),s=PB(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function yH(t){let e,r,n,s;return Tt(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function ES(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function TB(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let a,A,l,c;if(e===null)return;let u=!1;for(a=0,A=s.length;a<A;++a){if(l=+s[a],l===r){if(u=!0,n.all)continue;break}c=t.values[l],_n(c)&&(i||e===0||ji(e)===ji(c))&&(e+=c)}return!u&&!n.all?0:e}function bH(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(t),A=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],A[l]={[s]:u,[i]:t[u]};return A}function Ym(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function BH(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function CH(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function _H(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function DB(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function OB(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:a,index:A}=n,l=i.axis,c=a.axis,u=BH(i,a,n),d=e.length;let f;for(let g=0;g<d;++g){const m=e[g],{[l]:w,[c]:B}=m,x=m._stacks||(m._stacks={});f=x[c]=_H(s,u,w),f[A]=B,f._top=DB(f,a,!0,n.type),f._bottom=DB(f,a,!1,n.type);const y=f._visualValues||(f._visualValues={});y[A]=B}}function Zm(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function NH(t,e){return _A(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function SH(t,e,r){return _A(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function iu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const ex=t=>t==="reset"||t==="none",HB=(t,e)=>e?t:Object.assign({},t),jH=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:ES(r,!0),values:null};class $l{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ym(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&iu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(d,f,g,m)=>d==="x"?f:d==="r"?m:g,i=r.xAxisID=kt(n.xAxisID,Zm(e,"x")),a=r.yAxisID=kt(n.yAxisID,Zm(e,"y")),A=r.rAxisID=kt(n.rAxisID,Zm(e,"r")),l=r.indexAxis,c=r.iAxisID=s(l,i,a,A),u=r.vAxisID=s(l,a,i,A);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(A),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&yB(this._data,this),e._stacked&&iu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Tt(r)){const s=this._cachedMeta;this._data=bH(r,s)}else if(n!==r){if(n){yB(n,this);const s=this._cachedMeta;iu(s),s._parsed=[]}r&&Object.isExtensible(r)&&cO(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=Ym(r.vScale,r),r.stack!==n.stack&&(s=!0,iu(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&(OB(this,r._parsed),r._stacked=Ym(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,A=i.axis;let l=e===0&&r===s.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{qr(s[e])?f=this.parseArrayData(n,s,e,r):Tt(s[e])?f=this.parseObjectData(n,s,e,r):f=this.parsePrimitiveData(n,s,e,r);const g=()=>d[A]===null||c&&d[A]<c[A];for(u=0;u<r;++u)n._parsed[u+e]=d=f[u],l&&(g()&&(l=!1),c=d);n._sorted=l}a&&OB(this,f)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:a}=e,A=i.axis,l=a.axis,c=i.getLabels(),u=i===a,d=new Array(s);let f,g,m;for(f=0,g=s;f<g;++f)m=f+n,d[f]={[A]:u||i.parse(c[m],m),[l]:a.parse(r[m],m)};return d}parseArrayData(e,r,n,s){const{xScale:i,yScale:a}=e,A=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+n,d=r[u],A[l]={x:i.parse(d[0],u),y:a.parse(d[1],u)};return A}parseObjectData(e,r,n,s){const{xScale:i,yScale:a}=e,{xAxisKey:A="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+n,g=r[f],c[u]={x:i.parse(nc(g,A),f),y:a.parse(nc(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,a=r[e.axis],A={keys:ES(s,!0),values:r._stacks[e.axis]._visualValues};return TB(A,a,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let a=i===null?NaN:i;const A=s&&n._stacks[r.axis];s&&A&&(s.values=A,a=TB(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,a=s.length,A=this._getOtherScale(e),l=jH(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=CH(A);let f,g;function m(){g=s[f];const w=g[A.axis];return!_n(g[e.axis])||u>w||d<w}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(c,e,g,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=r.length;s<i;++s)a=r[s][e.axis],_n(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=yH(kt(this.options.clip,wH(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,a=[],A=this._drawStart||0,l=this._drawCount||s.length-A,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,A,l),u=A;u<A+l;++u){const d=s[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,i))}for(u=0;u<a.length;++u)a[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=SH(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=NH(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,a=e+"-"+r,A=i[a],l=this.enableOptionSharing&&_d(n);if(A)return HB(A,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(Qr.elements[e]),m=()=>this.getContext(n,s,r),w=c.resolveNamedOptions(f,g,m,d);return w.$shared&&(w.$shared=l,i[a]=Object.freeze(HB(w,l))),w}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${r}`,A=i[a];if(A)return A;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,n,r))}const c=new FS(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||ex(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:a}}updateElement(e,r,n,s){ex(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!ex(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[A,l,c]of this._syncList)this[A](l,c);this._syncList=[];const s=n.length,i=r.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,a=e+r;let A;const l=c=>{for(c.length+=r,A=c.length-1;A>=a;A--)c[A]=c[A-r]};for(l(i),A=e;A<a;++A)i[A]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&iu(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Bt($l,"defaults",{}),Bt($l,"datasetElementType",null),Bt($l,"dataElementType",null);function FH(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(t));t._cache.$bar=lS(n.sort((s,i)=>s-i))}return t._cache.$bar}function EH(t){const e=t.iScale,r=FH(e,t.type);let n=e._length,s,i,a,A;const l=()=>{a===32767||a===-32768||(_d(A)&&(n=Math.min(n,Math.abs(a-A)||n)),A=a)};for(s=0,i=r.length;s<i;++s)a=e.getPixelForValue(r[s]),l();for(A=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return n}function UH(t,e,r,n){const s=r.barThickness;let i,a;return $t(s)?(i=e.min*r.categoryPercentage,a=r.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:e.pixels[t]-i/2}}function kH(t,e,r,n){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,A=t<s.length-1?s[t+1]:null;const l=r.categoryPercentage;a===null&&(a=i-(A===null?e.end-e.start:A-i)),A===null&&(A=i+i-a);const c=i-(i-Math.min(a,A))/2*l;return{chunk:Math.abs(A-a)/2*l/n,ratio:r.barPercentage,start:c}}function QH(t,e,r,n){const s=r.parse(t[0],n),i=r.parse(t[1],n),a=Math.min(s,i),A=Math.max(s,i);let l=a,c=A;Math.abs(a)>Math.abs(A)&&(l=A,c=a),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:A}}function US(t,e,r,n){return qr(t)?QH(t,e,r,n):e[r.axis]=r.parse(t,n),e}function MB(t,e,r,n){const s=t.iScale,i=t.vScale,a=s.getLabels(),A=s===i,l=[];let c,u,d,f;for(c=r,u=r+n;c<u;++c)f=e[c],d={},d[s.axis]=A||s.parse(a[c],c),l.push(US(f,d,i,c));return l}function tx(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function LH(t,e,r){return t!==0?ji(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function IH(t){let e,r,n,s,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:e,top:s,bottom:i}}function PH(t,e,r,n){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:A,reverse:l,top:c,bottom:u}=IH(t);s==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?s=c:(r._bottom||0)===n?s=u:(i[RB(u,a,A,l)]=!0,s=c)),i[RB(s,a,A,l)]=!0,t.borderSkipped=i}function RB(t,e,r,n){return n?(t=TH(t,e,r),t=KB(t,r,e)):t=KB(t,e,r),t}function TH(t,e,r){return t===e?r:t===r?e:t}function KB(t,e,r){return t==="start"?e:t==="end"?r:t}function DH(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class ng extends $l{parsePrimitiveData(e,r,n,s){return MB(e,r,n,s)}parseArrayData(e,r,n,s){return MB(e,r,n,s)}parseObjectData(e,r,n,s){const{iScale:i,vScale:a}=e,{xAxisKey:A="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?A:l,u=a.axis==="x"?A:l,d=[];let f,g,m,w;for(f=n,g=n+s;f<g;++f)w=r[f],m={},m[i.axis]=i.parse(nc(w,c),f),d.push(US(nc(w,u),m,a,f));return d}updateRangeFromParsed(e,r,n,s){super.updateRangeFromParsed(e,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(e),a=i._custom,A=tx(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:A}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:A}}=this,l=A.getBasePixel(),c=A.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,s);for(let g=r;g<r+n;g++){const m=this.getParsed(g),w=i||$t(m[A.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),B=this._calculateBarIndexPixels(g,u),x=(m._stacks||{})[A.axis],y={horizontal:c,base:w.base,enableBorderRadius:!x||tx(m._custom)||a===x._top||a===x._bottom,x:c?w.head:B.center,y:c?B.center:w.head,height:c?B.size:Math.abs(w.size),width:c?Math.abs(w.size):B.size};f&&(y.options=d||this.resolveDataElementOptions(g,e[g].active?"active":s));const C=y.options||e[g].options;PH(y,C,x,a),DH(y,C,u.ratio),this.updateElement(e[g],g,y,s)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,a=[],A=this._cachedMeta.controller.getParsed(r),l=A&&A[n.axis],c=u=>{const d=u._parsed.find(g=>g[n.axis]===l),f=d&&d[u.vScale.axis];if($t(f)||isNaN(f))return!0};for(const u of s)if(!(r!==void 0&&c(u))&&((i===!1||a.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[kt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const s=this._getStacks(e,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,a;for(i=0,a=r.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const A=e.barThickness;return{min:A||EH(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:A?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,A=i||0,l=this.getParsed(e),c=l._custom,u=tx(c);let d=l[r.axis],f=0,g=n?this.applyStack(r,l,n):d,m,w;g!==d&&(f=g-d,g=d),u&&(d=c.barStart,g=c.barEnd-c.barStart,d!==0&&ji(d)!==ji(c.barEnd)&&(f=0),f+=d);const B=!$t(i)&&!u?i:f;let x=r.getPixelForValue(B);if(this.chart.getDataVisibility(e)?m=r.getPixelForValue(f+g):m=x,w=m-x,Math.abs(w)<a){w=LH(w,r,A)*a,d===A&&(x-=w/2);const y=r.getPixelForDecimal(0),C=r.getPixelForDecimal(1),S=Math.min(y,C),k=Math.max(y,C);x=Math.max(Math.min(x,k),S),m=x+w,n&&!u&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(m)-r.getValueForPixel(x))}if(x===r.getPixelForValue(A)){const y=ji(w)*r.getLineWidthForValue(A)/2;x+=y,w-=y}return{size:w,base:x,head:m,center:m+w/2}}_calculateBarIndexPixels(e,r){const n=r.scale,s=this.options,i=s.skipNull,a=kt(s.maxBarThickness,1/0);let A,l;const c=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,d=s.barThickness==="flex"?kH(e,r,s,u*c):UH(e,r,s,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(kt(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;A=d.start+d.chunk*m+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else A=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:A-l/2,head:A+l/2,center:A,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}Bt(ng,"id","bar"),Bt(ng,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Bt(ng,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class sg extends $l{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,a=this.chart._animationsDisabled;let{start:A,count:l}=hO(r,s,a);this._drawStart=A,this._drawCount=l,fO(r)&&(A=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(s,A,l,e)}updateElements(e,r,n,s){const i=s==="reset",{iScale:a,vScale:A,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,s),f=a.axis,g=A.axis,{spanGaps:m,segment:w}=this.options,B=Nd(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||s==="none",y=r+n,C=e.length;let S=r>0&&this.getParsed(r-1);for(let k=0;k<C;++k){const O=e[k],I=x?O:{};if(k<r||k>=y){I.skip=!0;continue}const j=this.getParsed(k),R=$t(j[g]),X=I[f]=a.getPixelForValue(j[f],k),Q=I[g]=i||R?A.getBasePixel():A.getPixelForValue(l?this.applyStack(A,j,l):j[g],k);I.skip=isNaN(X)||isNaN(Q)||R,I.stop=k>0&&Math.abs(j[f]-S[f])>B,w&&(I.parsed=j,I.raw=c.data[k]),d&&(I.options=u||this.resolveDataElementOptions(k,O.active?"active":s)),x||this.updateElement(O,k,I,s),S=j}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Bt(sg,"id","line"),Bt(sg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Bt(sg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Mo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qy{constructor(e){Bt(this,"options");this.options=e||{}}static override(e){Object.assign(Qy.prototype,e)}init(){}formats(){return Mo()}parse(){return Mo()}format(){return Mo()}add(){return Mo()}diff(){return Mo()}startOf(){return Mo()}endOf(){return Mo()}}var OH={_date:Qy};function HH(t,e,r,n){const{controller:s,data:i,_sorted:a}=t,A=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(A&&e===A.axis&&e!=="r"&&a&&i.length){const c=A._reversePixels?AO:sA;if(n){if(s._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(i,e,r-d),g=c(i,e,r+d);return{lo:f.lo,hi:g.hi}}}}else{const u=c(i,e,r);if(l){const{vScale:d}=s._cachedMeta,{_parsed:f}=t,g=f.slice(0,u.lo+1).reverse().findIndex(w=>!$t(w[d.axis]));u.lo-=Math.max(0,g);const m=f.slice(u.hi).findIndex(w=>!$t(w[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:i.length-1}}function $p(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),a=r[e];for(let A=0,l=i.length;A<l;++A){const{index:c,data:u}=i[A],{lo:d,hi:f}=HH(i[A],e,a,s);for(let g=d;g<=f;++g){const m=u[g];m.skip||n(m,c,g)}}}function MH(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,a=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function rx(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||$p(t,r,e,function(A,l,c){!s&&!Sd(A,t.chartArea,0)||A.inRange(e.x,e.y,n)&&i.push({element:A,datasetIndex:l,index:c})},!0),i}function RH(t,e,r,n){let s=[];function i(a,A,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:d}=iO(a,{x:e.x,y:e.y});oS(d,c,u)&&s.push({element:a,datasetIndex:A,index:l})}return $p(t,r,e,i),s}function KH(t,e,r,n,s,i){let a=[];const A=MH(r);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const g=u.inRange(e.x,e.y,s);if(n&&!g)return;const m=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(m))&&!g)return;const B=A(e,m);B<l?(a=[{element:u,datasetIndex:d,index:f}],l=B):B===l&&a.push({element:u,datasetIndex:d,index:f})}return $p(t,r,e,c),a}function nx(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?RH(t,e,r,s):KH(t,e,r,n,s,i)}function VB(t,e,r,n,s){const i=[],a=r==="x"?"inXRange":"inYRange";let A=!1;return $p(t,r,e,(l,c,u)=>{l[a]&&l[a](e[r],s)&&(i.push({element:l,datasetIndex:c,index:u}),A=A||l.inRange(e.x,e.y,s))}),n&&!A?[]:i}var VH={modes:{index(t,e,r,n){const s=$o(e,t),i=r.axis||"x",a=r.includeInvisible||!1,A=r.intersect?rx(t,s,i,n,a):nx(t,s,i,!1,n,a),l=[];return A.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=A[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const s=$o(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;let A=r.intersect?rx(t,s,i,n,a):nx(t,s,i,!1,n,a);if(A.length>0){const l=A[0].datasetIndex,c=t.getDatasetMeta(l).data;A=[];for(let u=0;u<c.length;++u)A.push({element:c[u],datasetIndex:l,index:u})}return A},point(t,e,r,n){const s=$o(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return rx(t,s,i,n,a)},nearest(t,e,r,n){const s=$o(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return nx(t,s,i,r.intersect,n,a)},x(t,e,r,n){const s=$o(e,t);return VB(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=$o(e,t);return VB(t,s,"y",r.intersect,n)}}};const kS=["left","top","right","bottom"];function au(t,e){return t.filter(r=>r.pos===e)}function zB(t,e){return t.filter(r=>kS.indexOf(r.pos)===-1&&r.box.axis===e)}function ou(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function zH(t){const e=[];let r,n,s,i,a,A;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:a,stackWeight:A=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:A});return e}function $H(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!kS.includes(s))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function qH(t,e){const r=$H(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,a,A;for(i=0,a=t.length;i<a;++i){A=t[i];const{fullSize:l}=A.box,c=r[A.stack],u=c&&A.stackWeight/c.weight;A.horizontal?(A.width=u?u*n:l&&e.availableWidth,A.height=s):(A.width=n,A.height=u?u*s:l&&e.availableHeight)}return r}function GH(t){const e=zH(t),r=ou(e.filter(c=>c.box.fullSize),!0),n=ou(au(e,"left"),!0),s=ou(au(e,"right")),i=ou(au(e,"top"),!0),a=ou(au(e,"bottom")),A=zB(e,"x"),l=zB(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(l).concat(a).concat(A),chartArea:au(e,"chartArea"),vertical:n.concat(s).concat(l),horizontal:i.concat(a).concat(A)}}function $B(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function QS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function WH(t,e,r,n){const{pos:s,box:i}=r,a=t.maxPadding;if(!Tt(s)){r.size&&(t[s]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?i.height:i.width),r.size=d.size/d.count,t[s]+=r.size}i.getPadding&&QS(a,i.getPadding());const A=Math.max(0,e.outerWidth-$B(a,t,"left","right")),l=Math.max(0,e.outerHeight-$B(a,t,"top","bottom")),c=A!==t.w,u=l!==t.h;return t.w=A,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function JH(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function XH(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],r[a])}),i}return n(t?["left","right"]:["top","bottom"])}function Bu(t,e,r,n){const s=[];let i,a,A,l,c,u;for(i=0,a=t.length,c=0;i<a;++i){A=t[i],l=A.box,l.update(A.width||e.w,A.height||e.h,XH(A.horizontal,e));const{same:d,other:f}=WH(e,r,A,n);c|=d&&s.length,u=u||f,l.fullSize||s.push(A)}return c&&Bu(s,e,r,n)||u}function kf(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function qB(t,e,r,n){const s=r.padding;let{x:i,y:a}=e;for(const A of t){const l=A.box,c=n[A.stack]||{placed:0,weight:1},u=A.stackWeight/c.weight||1;if(A.horizontal){const d=e.w*u,f=c.size||l.height;_d(c.start)&&(a=c.start),l.fullSize?kf(l,s.left,a,r.outerWidth-s.right-s.left,f):kf(l,e.left+c.placed,a,d,f),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,f=c.size||l.width;_d(c.start)&&(i=c.start),l.fullSize?kf(l,i,s.top,f,r.outerHeight-s.bottom-s.top):kf(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=a}var Xa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=si(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(r-s.height,0),A=GH(t.boxes),l=A.vertical,c=A.horizontal;Wt(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const u=l.reduce((w,B)=>B.box.options&&B.box.options.display===!1?w:w+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},s);QS(f,si(n));const g=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),m=qH(l.concat(c),d);Bu(A.fullSize,g,d,m),Bu(l,g,d,m),Bu(c,g,d,m)&&Bu(l,g,d,m),JH(g),qB(A.leftAndTop,g,d,m),g.x+=g.w,g.y+=g.h,qB(A.rightAndBottom,g,d,m),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Wt(A.chartArea,w=>{const B=w.box;Object.assign(B,t.chartArea),B.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class LS{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class YH extends LS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ig="$chartjs",ZH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},GB=t=>t===null||t==="";function eM(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[ig]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",GB(s)){const i=UB(t,"width");i!==void 0&&(t.width=i)}if(GB(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=UB(t,"height");i!==void 0&&(t.height=i)}return t}const IS=nH?{passive:!0}:!1;function tM(t,e,r){t&&t.addEventListener(e,r,IS)}function rM(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,IS)}function nM(t,e){const r=ZH[t.type]||t.type,{x:n,y:s}=$o(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function rp(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function sM(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const A of i)a=a||rp(A.addedNodes,n),a=a&&!rp(A.removedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function iM(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const A of i)a=a||rp(A.removedNodes,n),a=a&&!rp(A.addedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const jd=new Map;let WB=0;function PS(){const t=window.devicePixelRatio;t!==WB&&(WB=t,jd.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function aM(t,e){jd.size||window.addEventListener("resize",PS),jd.set(t,e)}function oM(t){jd.delete(t),jd.size||window.removeEventListener("resize",PS)}function AM(t,e,r){const n=t.canvas,s=n&&ky(n);if(!s)return;const i=uS((A,l)=>{const c=s.clientWidth;r(A,l),c<s.clientWidth&&r()},window),a=new ResizeObserver(A=>{const l=A[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return a.observe(s),aM(t,i),a}function sx(t,e,r){r&&r.disconnect(),e==="resize"&&oM(t)}function lM(t,e,r){const n=t.canvas,s=uS(i=>{t.ctx!==null&&r(nM(i,t))},t);return tM(n,e,s),s}class cM extends LS{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(eM(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[ig])return!1;const n=r[ig].initial;["height","width"].forEach(i=>{const a=n[i];$t(a)?r.removeAttribute(i):r.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[ig],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:sM,detach:iM,resize:AM}[r]||lM;s[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:sx,detach:sx,resize:sx}[r]||rM)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return rH(e,r,n,s)}isAttached(e){const r=e&&ky(e);return!!(r&&r.isConnected)}}function uM(t){return!Uy()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?YH:cM}class oa{constructor(){Bt(this,"x");Bt(this,"y");Bt(this,"active",!1);Bt(this,"options");Bt(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Nd(this.x)&&Nd(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}}Bt(oa,"defaults",{}),Bt(oa,"defaultRoutes");function dM(t,e){const r=t.options.ticks,n=hM(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?gM(e):[],a=i.length,A=i[0],l=i[a-1],c=[];if(a>s)return pM(e,c,i,a/s),c;const u=fM(i,e,s);if(a>0){let d,f;const g=a>1?Math.round((l-A)/(a-1)):null;for(Qf(e,c,u,$t(g)?0:A-g,A),d=0,f=a-1;d<f;d++)Qf(e,c,u,i[d],i[d+1]);return Qf(e,c,u,l,$t(g)?e.length:l+g),c}return Qf(e,c,u),c}function hM(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function fM(t,e,r){const n=mM(t),s=e.length/r;if(!n)return Math.max(s,1);const i=eO(n);for(let a=0,A=i.length-1;a<A;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function gM(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function pM(t,e,r,n){let s=0,i=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=r[s*n])}function Qf(t,e,r,n,s){const i=kt(n,0),a=Math.min(kt(s,t.length),t.length);let A=0,l,c,u;for(r=Math.ceil(r),s&&(l=s-n,r=l/Math.floor(l/r)),u=i;u<0;)A++,u=Math.round(i+A*r);for(c=Math.max(i,0);c<a;c++)c===u&&(e.push(t[c]),A++,u=Math.round(i+A*r))}function mM(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const xM=t=>t==="left"?"right":t==="right"?"left":t,JB=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,XB=(t,e)=>Math.min(e||t,t);function YB(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function vM(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,a=t._endPixel,A=1e-6;let l=t.getPixelForTick(s),c;if(!(r&&(n===1?c=Math.max(l-i,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-A||l>a+A)))return l}function wM(t,e){Wt(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function Au(t){return t.drawTicks?t.tickLength:0}function ZB(t,e){if(!t.display)return 0;const r=$n(t.font,e),n=si(t.padding);return(qr(t.text)?t.text.length:1)*r.lineHeight+n.height}function yM(t,e){return _A(t,{scale:e,type:"scale"})}function bM(t,e,r){return _A(t,{tick:r,index:e,type:"tick"})}function BM(t,e,r){let n=dS(t);return(r&&e!=="right"||!r&&e==="right")&&(n=xM(n)),n}function CM(t,e,r,n){const{top:s,left:i,bottom:a,right:A,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,g,m;const w=a-s,B=A-i;if(t.isHorizontal()){if(g=ss(n,i,A),Tt(r)){const x=Object.keys(r)[0],y=r[x];m=u[x].getPixelForValue(y)+w-e}else r==="center"?m=(c.bottom+c.top)/2+w-e:m=JB(t,r,e);f=A-i}else{if(Tt(r)){const x=Object.keys(r)[0],y=r[x];g=u[x].getPixelForValue(y)-B+e}else r==="center"?g=(c.left+c.right)/2-B+e:g=JB(t,r,e);m=ss(n,a,s),d=r==="left"?-Zs:Zs}return{titleX:g,titleY:m,maxWidth:f,rotation:d}}class hc extends oa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=pi(e,Number.POSITIVE_INFINITY),r=pi(r,Number.NEGATIVE_INFINITY),n=pi(n,Number.POSITIVE_INFINITY),s=pi(s,Number.NEGATIVE_INFINITY),{min:pi(e,n),max:pi(r,s),minDefined:_n(e),maxDefined:_n(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:r,max:n};const A=this.getMatchingVisibleMetas();for(let l=0,c=A.length;l<c;++l)a=A[l].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),i||(n=Math.max(n,a.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:pi(r,pi(n,r)),max:pi(n,pi(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,A=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LO(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=A<this.ticks.length;this._convertTicksToLabels(l?YB(this.ticks,A):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=dM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lr(this.options.afterUpdate,[this])}beforeSetDimensions(){lr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),lr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=lr(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){lr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=XB(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let a=s,A,l,c;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,g=As(this.chart.width-d,0,this.maxWidth);A=e.offset?this.maxWidth/n:g/(n-1),d+6>A&&(A=g/(n-(e.offset?.5:1)),l=this.maxHeight-Au(e.grid)-r.padding-ZB(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),a=sO(Math.min(Math.asin(As((u.highest.height+6)/A,-1,1)),Math.asin(As(l/c,-1,1))-Math.asin(As(f/c,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){lr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),A=this.isHorizontal();if(a){const l=ZB(s,r.options.font);if(A?(e.width=this.maxWidth,e.height=Au(i)+l):(e.height=this.maxHeight,e.width=Au(i)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),g=n.padding*2,m=nA(this.labelRotation),w=Math.cos(m),B=Math.sin(m);if(A){const x=n.mirror?0:B*d.width+w*f.height;e.height=Math.min(this.maxHeight,e.height+x+g)}else{const x=n.mirror?0:w*d.width+B*f.height;e.width=Math.min(this.maxWidth,e.width+x+g)}this._calculatePadding(c,u,B,w)}}this._handleMargins(),A?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:a},position:A}=this.options,l=this.labelRotation!==0,c=A!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=s*e.width,g=n*r.height):(f=n*e.height,g=s*r.width):i==="start"?g=r.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,g=r.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-d+a)*this.width/(this.width-d),0)}else{let u=r.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=r.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)$t(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=YB(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,a=[],A=[],l=Math.floor(r/XB(r,n));let c=0,u=0,d,f,g,m,w,B,x,y,C,S,k;for(d=0;d<r;d+=l){if(m=e[d].label,w=this._resolveTickFontOptions(d),s.font=B=w.string,x=i[B]=i[B]||{data:{},gc:[]},y=w.lineHeight,C=S=0,!$t(m)&&!qr(m))C=NB(s,x.data,x.gc,C,m),S=y;else if(qr(m))for(f=0,g=m.length;f<g;++f)k=m[f],!$t(k)&&!qr(k)&&(C=NB(s,x.data,x.gc,C,k),S+=y);a.push(C),A.push(S),c=Math.max(C,c),u=Math.max(S,u)}wM(i,r);const O=a.indexOf(c),I=A.indexOf(u),j=R=>({width:a[R]||0,height:A[R]||0});return{first:j(0),last:j(r-1),widest:j(O),highest:j(I),widths:a,heights:A}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return oO(this._alignToPixels?Ho(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=bM(this.getContext(),e,n))}return this.$context||(this.$context=yM(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=nA(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,A=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*n>A*s?A/n:l/s:l*s<A*n?l/n:A/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:A}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Au(i),g=[],m=A.setContext(this.getContext()),w=m.display?m.width:0,B=w/2,x=function(re){return Ho(n,re,w)};let y,C,S,k,O,I,j,R,X,Q,F,K;if(a==="top")y=x(this.bottom),I=this.bottom-f,R=y-B,Q=x(e.top)+B,K=e.bottom;else if(a==="bottom")y=x(this.top),Q=e.top,K=x(e.bottom)-B,I=y+B,R=this.top+f;else if(a==="left")y=x(this.right),O=this.right-f,j=y-B,X=x(e.left)+B,F=e.right;else if(a==="right")y=x(this.left),X=e.left,F=x(e.right)-B,O=y+B,j=this.left+f;else if(r==="x"){if(a==="center")y=x((e.top+e.bottom)/2+.5);else if(Tt(a)){const re=Object.keys(a)[0],ce=a[re];y=x(this.chart.scales[re].getPixelForValue(ce))}Q=e.top,K=e.bottom,I=y+B,R=I+f}else if(r==="y"){if(a==="center")y=x((e.left+e.right)/2);else if(Tt(a)){const re=Object.keys(a)[0],ce=a[re];y=x(this.chart.scales[re].getPixelForValue(ce))}O=y-B,j=O-f,X=e.left,F=e.right}const $=kt(s.ticks.maxTicksLimit,d),fe=Math.max(1,Math.ceil(d/$));for(C=0;C<d;C+=fe){const re=this.getContext(C),ce=i.setContext(re),W=A.setContext(re),ie=ce.lineWidth,de=ce.color,te=W.dash||[],_=W.dashOffset,L=ce.tickWidth,M=ce.tickColor,z=ce.tickBorderDash||[],J=ce.tickBorderDashOffset;S=vM(this,C,l),S!==void 0&&(k=Ho(n,S,ie),c?O=j=X=F=k:I=R=Q=K=k,g.push({tx1:O,ty1:I,tx2:j,ty2:R,x1:X,y1:Q,x2:F,y2:K,width:ie,color:de,borderDash:te,borderDashOffset:_,tickWidth:L,tickColor:M,tickBorderDash:z,tickBorderDashOffset:J}))}return this._ticksLength=d,this._borderValue=y,g}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),A=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=Au(n.grid),g=f+u,m=d?-u:g,w=-nA(this.labelRotation),B=[];let x,y,C,S,k,O,I,j,R,X,Q,F,K="middle";if(s==="top")O=this.bottom-m,I=this._getXAxisLabelAlignment();else if(s==="bottom")O=this.top+m,I=this._getXAxisLabelAlignment();else if(s==="left"){const fe=this._getYAxisLabelAlignment(f);I=fe.textAlign,k=fe.x}else if(s==="right"){const fe=this._getYAxisLabelAlignment(f);I=fe.textAlign,k=fe.x}else if(r==="x"){if(s==="center")O=(e.top+e.bottom)/2+g;else if(Tt(s)){const fe=Object.keys(s)[0],re=s[fe];O=this.chart.scales[fe].getPixelForValue(re)+g}I=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")k=(e.left+e.right)/2-g;else if(Tt(s)){const fe=Object.keys(s)[0],re=s[fe];k=this.chart.scales[fe].getPixelForValue(re)}I=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const $=this._getLabelSizes();for(x=0,y=A.length;x<y;++x){C=A[x],S=C.label;const fe=i.setContext(this.getContext(x));j=this.getPixelForTick(x)+i.labelOffset,R=this._resolveTickFontOptions(x),X=R.lineHeight,Q=qr(S)?S.length:1;const re=Q/2,ce=fe.color,W=fe.textStrokeColor,ie=fe.textStrokeWidth;let de=I;a?(k=j,I==="inner"&&(x===y-1?de=this.options.reverse?"left":"right":x===0?de=this.options.reverse?"right":"left":de="center"),s==="top"?c==="near"||w!==0?F=-Q*X+X/2:c==="center"?F=-$.highest.height/2-re*X+X:F=-$.highest.height+X/2:c==="near"||w!==0?F=X/2:c==="center"?F=$.highest.height/2-re*X:F=$.highest.height-Q*X,d&&(F*=-1),w!==0&&!fe.showLabelBackdrop&&(k+=X/2*Math.sin(w))):(O=j,F=(1-Q)*X/2);let te;if(fe.showLabelBackdrop){const _=si(fe.backdropPadding),L=$.heights[x],M=$.widths[x];let z=F-_.top,J=0-_.left;switch(K){case"middle":z-=L/2;break;case"bottom":z-=L;break}switch(I){case"center":J-=M/2;break;case"right":J-=M;break;case"inner":x===y-1?J-=M:x>0&&(J-=M/2);break}te={left:J,top:z,width:M+_.width,height:L+_.height,color:fe.backdropColor}}B.push({label:S,font:R,textOffset:F,options:{rotation:w,color:ce,strokeColor:W,strokeWidth:ie,textAlign:de,textBaseline:K,translation:[k,O],backdrop:te}})}return B}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-nA(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),A=e+i,l=a.widest.width;let c,u;return r==="left"?s?(u=this.right+i,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-A,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?s?(u=this.left+i,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+A,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const A=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(i=0,a=s.length;i<a;++i){const l=s[i];r.drawOnChartArea&&A({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&A({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const A=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Ho(e,this.left,a)-a/2,u=Ho(e,this.right,A)+A/2,d=f=l):(d=Ho(e,this.top,a)-a/2,f=Ho(e,this.bottom,A)+A/2,c=u=l),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Kp(n,s);const i=this.getLabelItems(e);for(const a of i){const A=a.options,l=a.font,c=a.label,u=a.textOffset;Zg(n,c,0,u,l,A)}s&&Vp(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=$n(n.font),a=si(n.padding),A=n.align;let l=i.lineHeight/2;r==="bottom"||r==="center"||Tt(r)?(l+=a.bottom,qr(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=CM(this,l,r,A);Zg(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:f,textAlign:BM(A,r,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=kt(e.grid&&e.grid.z,-1),s=kt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==hc.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=r.length;i<a;++i){const A=r[i];A[n]===this.id&&(!e||A.type===e)&&s.push(A)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return $n(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Lf{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;SM(r)&&(n=this.register(r));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,_M(e,a,n),this.override&&Qr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in Qr[s]&&(delete Qr[s][n],this.override&&delete vA[n])}}function _M(t,e,r){const n=Cd(Object.create(null),[r?Qr.get(r):{},Qr.get(e),t.defaults]);Qr.set(e,n),t.defaultRoutes&&NM(e,t.defaultRoutes),t.descriptors&&Qr.describe(e,t.descriptors)}function NM(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),a=e[r].split("."),A=a.pop(),l=a.join(".");Qr.route(i,s,l,A)})}function SM(t){return"id"in t&&"defaults"in t}class jM{constructor(){this.controllers=new Lf($l,"datasets",!0),this.elements=new Lf(oa,"elements"),this.plugins=new Lf(Object,"plugins"),this.scales=new Lf(hc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Wt(s,a=>{const A=n||this._getRegistryForType(a);this._exec(e,A,a)})})}_exec(e,r,n){const s=_y(e);lr(n["before"+s],[],n),r[e](n),lr(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var yi=new jM;class FM{constructor(){this._init=void 0}notify(e,r,n,s){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,n,s){s=s||{};for(const i of e){const a=i.plugin,A=a[n],l=[r,s,i.options];if(lr(A,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=kt(n.options&&n.options.plugins,{}),i=EM(n);return s===!1&&!r?[]:kM(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(A=>!a.some(l=>A.plugin.id===l.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function EM(t){const e={},r=[],n=Object.keys(yi.plugins.items);for(let i=0;i<n.length;i++)r.push(yi.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function UM(t,e){return!e&&t===!1?null:t===!0?{}:t}function kM(t,{plugins:e,localIds:r},n,s){const i=[],a=t.getContext();for(const A of e){const l=A.id,c=UM(n[l],s);c!==null&&i.push({plugin:A,options:QM(t.config,{plugin:A,local:r[l]},c,a)})}return i}function QM(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(n,i);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function aw(t,e){const r=Qr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function LM(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function IM(t,e){return t===e?"_index_":"_value_"}function e5(t){if(t==="x"||t==="y"||t==="r")return t}function PM(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ow(t,...e){if(e5(t))return t;for(const r of e){const n=r.axis||PM(r.position)||t.length>1&&e5(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function t5(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function TM(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return t5(t,"x",r[0])||t5(t,"y",r[0])}return{}}function DM(t,e){const r=vA[t.type]||{scales:{}},n=e.scales||{},s=aw(t.type,e),i=Object.create(null);return Object.keys(n).forEach(a=>{const A=n[a];if(!Tt(A))return console.error(`Invalid scale configuration for scale: ${a}`);if(A._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=ow(a,A,TM(a,t),Qr.scales[A.type]),c=IM(l,s),u=r.scales||{};i[a]=qu(Object.create(null),[{axis:l},A,u[l],u[c]])}),t.data.datasets.forEach(a=>{const A=a.type||t.type,l=a.indexAxis||aw(A,e),u=(vA[A]||{}).scales||{};Object.keys(u).forEach(d=>{const f=LM(d,l),g=a[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),qu(i[g],[{axis:f},n[g],u[d]])})}),Object.keys(i).forEach(a=>{const A=i[a];qu(A,[Qr.scales[A.type],Qr.scale])}),i}function TS(t){const e=t.options||(t.options={});e.plugins=kt(e.plugins,{}),e.scales=DM(t,e)}function DS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function OM(t){return t=t||{},t.data=DS(t.data),TS(t),t}const r5=new Map,OS=new Set;function If(t,e){let r=r5.get(t);return r||(r=e(),r5.set(t,r),OS.add(r)),r}const lu=(t,e,r)=>{const n=nc(e,r);n!==void 0&&t.add(n)};class HM{constructor(e){this._config=OM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),TS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return If(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return If(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return If(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return If(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,a=this._cachedScopes(e,n),A=a.get(r);if(A)return A;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(d=>lu(l,e,d))),u.forEach(d=>lu(l,s,d)),u.forEach(d=>lu(l,vA[i]||{},d)),u.forEach(d=>lu(l,Qr,d)),u.forEach(d=>lu(l,sw,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),OS.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,vA[r]||{},Qr.datasets[r]||{},{type:r},Qr,sw]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:A}=n5(this._resolverCache,e,s);let l=a;if(RM(a,r)){i.$shared=!1,n=vo(n)?n():n;const c=this.createResolver(e,n,A);l=sc(a,n,c)}for(const c of r)i[c]=l[c];return i}createResolver(e,r,n=[""],s){const{resolver:i}=n5(this._resolverCache,e,n);return Tt(r)?sc(i,r,void 0,s):i}}function n5(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:jy(e,r),subPrefixes:r.filter(A=>!A.toLowerCase().includes("hover"))},n.set(s,i)),i}const MM=t=>Tt(t)&&Object.getOwnPropertyNames(t).some(e=>vo(t[e]));function RM(t,e){const{isScriptable:r,isIndexable:n}=xS(t);for(const s of e){const i=r(s),a=n(s),A=(a||i)&&t[s];if(i&&(vo(A)||MM(A))||a&&qr(A))return!0}return!1}var KM="4.5.1";const VM=["top","bottom","left","right","chartArea"];function s5(t,e){return t==="top"||t==="bottom"||VM.indexOf(t)===-1&&e==="x"}function i5(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function a5(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),lr(r&&r.onComplete,[t],e)}function zM(t){const e=t.chart,r=e.options.animation;lr(r&&r.onProgress,[t],e)}function HS(t){return Uy()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ag={},o5=t=>{const e=HS(t);return Object.values(ag).filter(r=>r.canvas===e).pop()};function $M(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const a=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=a)}}}function qM(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var Ea;let qp=(Ea=class{static register(...e){yi.add(...e),A5()}static unregister(...e){yi.remove(...e),A5()}constructor(e,r){const n=this.config=new HM(r),s=HS(e),i=o5(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||uM(s)),this.platform.updateConfig(n);const A=this.platform.acquireContext(s,a.aspectRatio),l=A&&A.canvas,c=l&&l.height,u=l&&l.width;if(this.id=z8(),this.ctx=A,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new FM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uO(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],ag[this.id]=this,!A||!l){console.error("Failed to create chart: can't acquire context from the given item");return}$i.listen(this,"complete",a5),$i.listen(this,"progress",zM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return $t(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():EB(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return SB(this.canvas,this.ctx),this}stop(){return $i.stop(this),this}resize(e,r){$i.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,i),A=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,EB(this,A,!0)&&(this.notifyPlugins("resize",{size:a}),lr(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Wt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((a,A)=>(a[A]=!1,a),{});let i=[];r&&(i=i.concat(Object.keys(r).map(a=>{const A=r[a],l=ow(a,A),c=l==="r",u=l==="x";return{options:A,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Wt(i,a=>{const A=a.options,l=A.id,c=ow(l,A),u=kt(A.type,a.dtype);(A.position===void 0||s5(A.position,c)!==s5(a.dposition))&&(A.position=a.dposition),s[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const f=yi.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(A,e)}),Wt(s,(a,A)=>{a||delete n[A]}),Wt(n,a=>{Xa.configure(this,a,a.options),Xa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(i5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let a=this.getDatasetMeta(n);const A=i.type||this.config.type;if(a.type&&a.type!==A&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=A,a.indexAxis=i.indexAxis||aw(A,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=yi.getController(A),{datasetElementType:c,dataElementType:u}=Qr.datasets[A];Object.assign(l,{dataElementType:yi.getElement(u),datasetElementType:c&&yi.getElement(c)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Wt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||Wt(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(i5("z","_idx"));const{_active:A,_lastEvent:l}=this;l?this._eventHandler(l,!0):A.length&&this._updateHoverStyles(A,A,!0),this.render()}_updateScales(){Wt(this.scales,e=>{Xa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!mB(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const a=n==="_removeElements"?-i:i;$M(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(a=>a[0]===i).map((a,A)=>A+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!mB(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xa.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Wt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,vo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($i.has(this)?this.attached&&!$i.running(this)&&$i.start(this):(this.draw(),a5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const a=r[s];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=jS(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&Kp(r,s),e.controller.draw(),s&&Vp(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Sd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=VH.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=_A(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);_d(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(A=>A.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),$i.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),SB(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete ag[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),e[i]=a},s=(i,a,A)=>{i.offsetX=a,i.offsetY=A,this._eventHandler(i)};Wt(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const A=()=>{s("attach",A),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",A)},r.isAttached(this.canvas)?A():a()}unbindEvents(){Wt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Wt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,a,A,l;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),A=0,l=e.length;A<l;++A){a=e[A];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:a})=>{const A=this.getDatasetMeta(i);if(!A)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:A.data[a],index:a}});!Jg(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=i(r,e),A=n?e:i(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),A.length&&s.mode&&this.updateHoverStyle(A,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,a=r,A=this._getActiveElements(e,s,n,a),l=X8(e),c=qM(e,this._lastEvent,n,l);n&&(this._lastEvent=null,lr(i.onHover,[e,A,this],this),l&&lr(i.onClick,[e,A,this],this));const u=!Jg(A,s);return(u||r)&&(this._active=A,this._updateHoverStyles(A,s,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Bt(Ea,"defaults",Qr),Bt(Ea,"instances",ag),Bt(Ea,"overrides",vA),Bt(Ea,"registry",yi),Bt(Ea,"version",KM),Bt(Ea,"getChart",o5),Ea);function A5(){return Wt(qp.instances,t=>t._plugins.invalidate())}function MS(t,e,r=e){t.lineCap=kt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(kt(r.borderDash,e.borderDash)),t.lineDashOffset=kt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=kt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=kt(r.borderWidth,e.borderWidth),t.strokeStyle=kt(r.borderColor,e.borderColor)}function GM(t,e,r){t.lineTo(r.x,r.y)}function WM(t){return t.stepped?_O:t.tension||t.cubicInterpolationMode==="monotone"?NO:GM}function RS(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:a,end:A}=e,l=Math.max(s,a),c=Math.min(i,A),u=s<a&&i<a||s>A&&i>A;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function JM(t,e,r,n){const{points:s,options:i}=e,{count:a,start:A,loop:l,ilen:c}=RS(s,r,n),u=WM(i);let{move:d=!0,reverse:f}=n||{},g,m,w;for(g=0;g<=c;++g)m=s[(A+(f?c-g:g))%a],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,w,m,f,i.stepped),w=m);return l&&(m=s[(A+(f?c:0))%a],u(t,w,m,f,i.stepped)),!!l}function XM(t,e,r,n){const s=e.points,{count:i,start:a,ilen:A}=RS(s,r,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,f,g,m,w,B,x;const y=S=>(a+(c?A-S:S))%i,C=()=>{w!==B&&(t.lineTo(u,B),t.lineTo(u,w),t.lineTo(u,x))};for(l&&(g=s[y(0)],t.moveTo(g.x,g.y)),f=0;f<=A;++f){if(g=s[y(f)],g.skip)continue;const S=g.x,k=g.y,O=S|0;O===m?(k<w?w=k:k>B&&(B=k),u=(d*u+S)/++d):(C(),t.lineTo(S,k),m=O,d=0,w=B=k),x=k}C()}function Aw(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?XM:JM}function YM(t){return t.stepped?sH:t.tension||t.cubicInterpolationMode==="monotone"?iH:qo}function ZM(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),MS(t,e.options),t.stroke(s)}function e7(t,e,r,n){const{segments:s,options:i}=e,a=Aw(e);for(const A of s)MS(t,i,A.style),t.beginPath(),a(t,e,A,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const t7=typeof Path2D=="function";function r7(t,e,r,n){t7&&!e.options.segment?ZM(t,e,r,n):e7(t,e,r,n)}class Ya extends oa{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;JO(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uH(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,a=SS(this,{property:r,start:s,end:s});if(!a.length)return;const A=[],l=YM(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:f}=a[c],g=i[d],m=i[f];if(g===m){A.push(g);continue}const w=Math.abs((s-g[r])/(m[r]-g[r])),B=l(g,m,w,n.stepped);B[r]=e[r],A.push(B)}return A.length===1?A[0]:A}pathSegment(e,r,n){return Aw(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=Aw(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const A of s)a&=i(e,this,A,{start:r,end:r+n-1});return!!a}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),r7(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Bt(Ya,"id","line"),Bt(Ya,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Bt(Ya,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Bt(Ya,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function l5(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class og extends oa{constructor(r){super();Bt(this,"parsed");Bt(this,"skip");Bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:a,y:A}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(n-A,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return l5(this,r,"x",n)}inYRange(r,n){return l5(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!Sd(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,iw(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Bt(og,"id","point"),Bt(og,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Bt(og,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function KS(t,e){const{x:r,y:n,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let A,l,c,u,d;return t.horizontal?(d=a/2,A=Math.min(r,s),l=Math.max(r,s),c=n-d,u=n+d):(d=i/2,A=r-d,l=r+d,c=Math.min(n,s),u=Math.max(n,s)),{left:A,top:c,right:l,bottom:u}}function Za(t,e,r,n){return t?0:As(e,r,n)}function n7(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=mS(n);return{t:Za(s.top,i.top,0,r),r:Za(s.right,i.right,0,e),b:Za(s.bottom,i.bottom,0,r),l:Za(s.left,i.left,0,e)}}function s7(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Vl(s),a=Math.min(e,r),A=t.borderSkipped,l=n||Tt(s);return{topLeft:Za(!l||A.top||A.left,i.topLeft,0,a),topRight:Za(!l||A.top||A.right,i.topRight,0,a),bottomLeft:Za(!l||A.bottom||A.left,i.bottomLeft,0,a),bottomRight:Za(!l||A.bottom||A.right,i.bottomRight,0,a)}}function i7(t){const e=KS(t),r=e.right-e.left,n=e.bottom-e.top,s=n7(t,r/2,n/2),i=s7(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function ix(t,e,r,n){const s=e===null,i=r===null,A=t&&!(s&&i)&&KS(t,n);return A&&(s||Wa(e,A.left,A.right))&&(i||Wa(r,A.top,A.bottom))}function a7(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function o7(t,e){t.rect(e.x,e.y,e.w,e.h)}function ax(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class Ag extends oa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=i7(this),A=a7(a.radius)?ep:o7;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),A(e,ax(a,r,i)),e.clip(),A(e,ax(i,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),A(e,ax(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return ix(this,e,r,n)}inXRange(e,r){return ix(this,e,null,r)}inYRange(e,r){return ix(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Bt(Ag,"id","bar"),Bt(Ag,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Bt(Ag,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function A7(t,e,r){const n=t.segments,s=t.points,i=e.points,a=[];for(const A of n){let{start:l,end:c}=A;c=Gp(l,c,s);const u=lw(r,s[l],s[c],A.loop);if(!e.segments){a.push({source:A,target:u,start:s[l],end:s[c]});continue}const d=SS(e,u);for(const f of d){const g=lw(r,i[f.start],i[f.end],f.loop),m=NS(A,s,g);for(const w of m)a.push({source:w,target:f,start:{[r]:c5(u,g,"start",Math.max)},end:{[r]:c5(u,g,"end",Math.min)}})}}return a}function lw(t,e,r,n){if(n)return;let s=e[t],i=r[t];return t==="angle"&&(s=bi(s),i=bi(i)),{property:t,start:s,end:i}}function l7(t,e){const{x:r=null,y:n=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:A})=>{A=Gp(a,A,s);const l=s[a],c=s[A];n!==null?(i.push({x:l.x,y:n}),i.push({x:c.x,y:n})):r!==null&&(i.push({x:r,y:l.y}),i.push({x:r,y:c.y}))}),i}function Gp(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function c5(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function VS(t,e){let r=[],n=!1;return qr(t)?(n=!0,r=t):r=l7(t,e),r.length?new Ya({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function u5(t){return t&&t.fill!==!1}function c7(t,e,r){let s=t[e].fill;const i=[e];let a;if(!r)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!_n(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function u7(t,e,r){const n=g7(t);if(Tt(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return _n(s)&&Math.floor(s)===s?d7(n[0],e,s,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function d7(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function h7(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Tt(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function f7(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Tt(t)?n=t.value:n=e.getBaseValue(),n}function g7(t){const e=t.options,r=e.fill;let n=kt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function p7(t){const{scale:e,index:r,line:n}=t,s=[],i=n.segments,a=n.points,A=m7(e,r);A.push(VS({x:null,y:e.bottom},n));for(let l=0;l<i.length;l++){const c=i[l];for(let u=c.start;u<=c.end;u++)x7(s,a[u],A)}return new Ya({points:s,options:{}})}function m7(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const i=n[s];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function x7(t,e,r){const n=[];for(let s=0;s<r.length;s++){const i=r[s],{first:a,last:A,point:l}=v7(i,e,"x");if(!(!l||a&&A)){if(a)n.unshift(l);else if(t.push(l),!A)break}}t.push(...n)}function v7(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const s=n[r],i=t.segments,a=t.points;let A=!1,l=!1;for(let c=0;c<i.length;c++){const u=i[c],d=a[u.start][r],f=a[u.end][r];if(Wa(s,d,f)){A=s===d,l=s===f;break}}return{first:A,last:l,point:n}}class zS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:s,y:i,radius:a}=this;return r=r||{start:0,end:ri},e.arc(s,i,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:s}=this,i=e.angle;return{x:r+Math.cos(i)*s,y:n+Math.sin(i)*s,angle:i}}}function w7(t){const{chart:e,fill:r,line:n}=t;if(_n(r))return y7(e,r);if(r==="stack")return p7(t);if(r==="shape")return!0;const s=b7(t);return s instanceof zS?s:VS(s,n)}function y7(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function b7(t){return(t.scale||{}).getPointPositionForValue?C7(t):B7(t)}function B7(t){const{scale:e={},fill:r}=t,n=h7(r,e);if(_n(n)){const s=e.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function C7(t){const{scale:e,fill:r}=t,n=e.options,s=e.getLabels().length,i=n.reverse?e.max:e.min,a=f7(r,e,i),A=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,i);return new zS({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<s;++l)A.push(e.getPointPositionForValue(l,a));return A}function ox(t,e,r){const n=w7(e),{chart:s,index:i,line:a,scale:A,axis:l}=e,c=a.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:g=d}=u||{},m=s.getDatasetMeta(i),w=jS(s,m);n&&a.points.length&&(Kp(t,r),_7(t,{line:a,target:n,above:f,below:g,area:r,scale:A,axis:l,clip:w}),Vp(t))}function _7(t,e){const{line:r,target:n,above:s,below:i,area:a,scale:A,clip:l}=e,c=r._loop?"angle":e.axis;t.save();let u=i;i!==s&&(c==="x"?(d5(t,n,a.top),Ax(t,{line:r,target:n,color:s,scale:A,property:c,clip:l}),t.restore(),t.save(),d5(t,n,a.bottom)):c==="y"&&(h5(t,n,a.left),Ax(t,{line:r,target:n,color:i,scale:A,property:c,clip:l}),t.restore(),t.save(),h5(t,n,a.right),u=s)),Ax(t,{line:r,target:n,color:u,scale:A,property:c,clip:l}),t.restore()}function d5(t,e,r){const{segments:n,points:s}=e;let i=!0,a=!1;t.beginPath();for(const A of n){const{start:l,end:c}=A,u=s[l],d=s[Gp(l,c,s)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,A,{move:a}),a?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function h5(t,e,r){const{segments:n,points:s}=e;let i=!0,a=!1;t.beginPath();for(const A of n){const{start:l,end:c}=A,u=s[l],d=s[Gp(l,c,s)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,A,{move:a}),a?t.closePath():t.lineTo(r,d.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function Ax(t,e){const{line:r,target:n,property:s,color:i,scale:a,clip:A}=e,l=A7(r,n,s);for(const{source:c,target:u,start:d,end:f}of l){const{style:{backgroundColor:g=i}={}}=c,m=n!==!0;t.save(),t.fillStyle=g,N7(t,a,A,m&&lw(s,d,f)),t.beginPath();const w=!!r.pathSegment(t,c);let B;if(m){w?t.closePath():f5(t,n,f,s);const x=!!n.pathSegment(t,u,{move:w,reverse:!0});B=w&&x,B||f5(t,n,d,s)}t.closePath(),t.fill(B?"evenodd":"nonzero"),t.restore()}}function N7(t,e,r,n){const s=e.chart.chartArea,{property:i,start:a,end:A}=n||{};if(i==="x"||i==="y"){let l,c,u,d;i==="x"?(l=a,c=s.top,u=A,d=s.bottom):(l=s.left,c=a,u=s.right,d=A),t.beginPath(),r&&(l=Math.max(l,r.left),u=Math.min(u,r.right),c=Math.max(c,r.top),d=Math.min(d,r.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function f5(t,e,r,n){const s=e.interpolate(r,n);s&&t.lineTo(s.x,s.y)}var S7={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,s=[];let i,a,A,l;for(a=0;a<n;++a)i=t.getDatasetMeta(a),A=i.dataset,l=null,A&&A.options&&A instanceof Ya&&(l={visible:t.isDatasetVisible(a),index:a,fill:u7(A,a,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:A}),i.$filler=l,s.push(l);for(a=0;a<n;++a)l=s[a],!(!l||l.fill===!1)&&(l.fill=c7(s,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const A=s[a].$filler;A&&(A.line.updateControlPoints(i,A.axis),n&&A.fill&&ox(t.ctx,A,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const i=n[s].$filler;u5(i)&&ox(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!u5(n)||r.drawTime!=="beforeDatasetDraw"||ox(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const g5=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},j7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class p5 extends oa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=lr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=$n(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:A,itemHeight:l}=g5(n,i);let c,u;r.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,i,A,l)+10):(u=this.maxHeight,c=this._fitCols(a,s,A,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:A}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+A;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((m,w)=>{const B=n+r/2+i.measureText(m.text).width;(w===0||c[c.length-1]+B+2*A>a)&&(d+=u,c[c.length-(w>0?0:1)]=0,g+=u,f++),l[w]={left:0,top:g,row:f,width:B,height:s},c[c.length-1]+=B+A}),d}_fitCols(e,r,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:A}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=A,f=0,g=0,m=0,w=0;return this.legendItems.forEach((B,x)=>{const{itemWidth:y,itemHeight:C}=F7(n,r,i,B,s);x>0&&g+C+2*A>u&&(d+=f+A,c.push({width:f,height:g}),m+=f+A,w++,f=g=0),l[x]={left:m,top:g,col:w,width:y,height:C},f=Math.max(f,y),g+=C+A}),d+=f,c.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,a=zl(i,this.left,this.width);if(this.isHorizontal()){let A=0,l=ss(n,this.left+s,this.right-this.lineWidths[A]);for(const c of r)A!==c.row&&(A=c.row,l=ss(n,this.left+s,this.right-this.lineWidths[A])),c.top+=this.top+e+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let A=0,l=ss(n,this.top+e+s,this.bottom-this.columnSizes[A].height);for(const c of r)c.col!==A&&(A=c.col,l=ss(n,this.top+e+s,this.bottom-this.columnSizes[A].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Kp(e,this),this._draw(),Vp(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:a}=e,A=Qr.color,l=zl(e.rtl,this.left,this.width),c=$n(a.font),{padding:u}=a,d=c.size,f=d/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:w,itemHeight:B}=g5(a,d),x=function(O,I,j){if(isNaN(m)||m<=0||isNaN(w)||w<0)return;s.save();const R=kt(j.lineWidth,1);if(s.fillStyle=kt(j.fillStyle,A),s.lineCap=kt(j.lineCap,"butt"),s.lineDashOffset=kt(j.lineDashOffset,0),s.lineJoin=kt(j.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=kt(j.strokeStyle,A),s.setLineDash(kt(j.lineDash,[])),a.usePointStyle){const X={radius:w*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:R},Q=l.xPlus(O,m/2),F=I+f;gS(s,X,Q,F,a.pointStyleWidth&&m)}else{const X=I+Math.max((d-w)/2,0),Q=l.leftForLtr(O,m),F=Vl(j.borderRadius);s.beginPath(),Object.values(F).some(K=>K!==0)?ep(s,{x:Q,y:X,w:m,h:w,radius:F}):s.rect(Q,X,m,w),s.fill(),R!==0&&s.stroke()}s.restore()},y=function(O,I,j){Zg(s,j.text,O,I+B/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?g={x:ss(i,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:g={x:this.left+u,y:ss(i,this.top+S+u,this.bottom-r[0].height),line:0},BS(this.ctx,e.textDirection);const k=B+u;this.legendItems.forEach((O,I)=>{s.strokeStyle=O.fontColor,s.fillStyle=O.fontColor;const j=s.measureText(O.text).width,R=l.textAlign(O.textAlign||(O.textAlign=a.textAlign)),X=m+f+j;let Q=g.x,F=g.y;l.setWidth(this.width),C?I>0&&Q+X+u>this.right&&(F=g.y+=k,g.line++,Q=g.x=ss(i,this.left+u,this.right-n[g.line])):I>0&&F+k>this.bottom&&(Q=g.x=Q+r[g.line].width+u,g.line++,F=g.y=ss(i,this.top+S+u,this.bottom-r[g.line].height));const K=l.x(Q);if(x(K,F,O),Q=dO(R,Q+m+f,C?Q+X:this.right,e.rtl),y(l.x(Q),F,O),C)g.x+=X+u;else if(typeof O.text!="string"){const $=c.lineHeight;g.y+=$S(O,$)+u}else g.y+=k}),CS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=$n(r.font),s=si(r.padding);if(!r.display)return;const i=zl(e.rtl,this.left,this.width),a=this.ctx,A=r.position,l=n.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=ss(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((w,B)=>Math.max(w,B.height),0);u=c+ss(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const g=ss(A,d,d+f);a.textAlign=i.textAlign(dS(A)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,Zg(a,r.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,r=$n(e.font),n=si(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(Wa(e,this.left,this.right)&&Wa(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Wa(e,s.left,s.left+s.width)&&Wa(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!k7(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=j7(s,n);s&&!i&&lr(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&lr(r.onHover,[e,n,this],this)}else n&&lr(r.onClick,[e,n,this],this)}}function F7(t,e,r,n,s){const i=E7(n,t,e,r),a=U7(s,n,e.lineHeight);return{itemWidth:i,itemHeight:a}}function E7(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+r.size/2+n.measureText(s).width}function U7(t,e,r){let n=t;return typeof e.text!="string"&&(n=$S(e,r)),n}function $S(t,e){const r=t.text?t.text.length:0;return e*r}function k7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Q7={id:"legend",_element:p5,start(t,e,r){const n=t.legend=new p5({ctx:t.ctx,options:r,chart:t});Xa.configure(t,n,r),Xa.addBox(t,n)},stop(t){Xa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Xa.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:A}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=si(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(A||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Cu={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const A=t[e].element;if(A&&A.hasValue()){const l=A.tooltipPosition();n.add(l.x),s+=l.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((A,l)=>A+l)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,a,A;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=nw(e,c);u<s&&(s=u,A=l)}}if(A){const l=A.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function xi(t,e){return e&&(qr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function qi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function L7(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:a,value:A}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:A,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function m5(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:a,boxHeight:A}=e,l=$n(e.bodyFont),c=$n(e.titleFont),u=$n(e.footerFont),d=i.length,f=s.length,g=n.length,m=si(e.padding);let w=m.height,B=0,x=n.reduce((S,k)=>S+k.before.length+k.lines.length+k.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(w+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(A,l.lineHeight):l.lineHeight;w+=g*S+(x-g)*l.lineHeight+(x-1)*e.bodySpacing}f&&(w+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const C=function(S){B=Math.max(B,r.measureText(S).width+y)};return r.save(),r.font=c.string,Wt(t.title,C),r.font=l.string,Wt(t.beforeBody.concat(t.afterBody),C),y=e.displayColors?a+2+e.boxPadding:0,Wt(n,S=>{Wt(S.before,C),Wt(S.lines,C),Wt(S.after,C)}),y=0,r.font=u.string,Wt(t.footer,C),r.restore(),B+=m.width,{width:B,height:w}}function I7(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function P7(t,e,r,n){const{x:s,width:i}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function T7(t,e,r,n){const{x:s,width:i}=r,{width:a,chartArea:{left:A,right:l}}=t;let c="center";return n==="center"?c=s<=(A+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),P7(c,t,e,r)&&(c="center"),c}function x5(t,e,r){const n=r.yAlign||e.yAlign||I7(t,r);return{xAlign:r.xAlign||e.xAlign||T7(t,e,r,n),yAlign:n}}function D7(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function O7(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function v5(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:A,yAlign:l}=r,c=s+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=Vl(a);let m=D7(e,A);const w=O7(e,l,c);return l==="center"?A==="left"?m+=c:A==="right"&&(m-=c):A==="left"?m-=Math.max(u,f)+s:A==="right"&&(m+=Math.max(d,g)+s),{x:As(m,0,n.width-e.width),y:As(w,0,n.height-e.height)}}function Pf(t,e,r){const n=si(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function w5(t){return xi([],qi(t))}function H7(t,e,r){return _A(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function y5(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const qS={beforeTitle:zi,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:zi,beforeBody:zi,beforeLabel:zi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return $t(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:zi,afterBody:zi,beforeFooter:zi,footer:zi,afterFooter:zi};function Hn(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?qS[e].call(r,n):s}class cw extends oa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new FS(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=H7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=Hn(n,"beforeTitle",this,e),i=Hn(n,"title",this,e),a=Hn(n,"afterTitle",this,e);let A=[];return A=xi(A,qi(s)),A=xi(A,qi(i)),A=xi(A,qi(a)),A}getBeforeBody(e,r){return w5(Hn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return Wt(e,i=>{const a={before:[],lines:[],after:[]},A=y5(n,i);xi(a.before,qi(Hn(A,"beforeLabel",this,i))),xi(a.lines,Hn(A,"label",this,i)),xi(a.after,qi(Hn(A,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,r){return w5(Hn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=Hn(n,"beforeFooter",this,e),i=Hn(n,"footer",this,e),a=Hn(n,"afterFooter",this,e);let A=[];return A=xi(A,qi(s)),A=xi(A,qi(i)),A=xi(A,qi(a)),A}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],a=[];let A=[],l,c;for(l=0,c=r.length;l<c;++l)A.push(L7(this.chart,r[l]));return e.filter&&(A=A.filter((u,d,f)=>e.filter(u,d,f,n))),e.itemSort&&(A=A.sort((u,d)=>e.itemSort(u,d,n))),Wt(A,u=>{const d=y5(e.callbacks,u);s.push(Hn(d,"labelColor",this,u)),i.push(Hn(d,"labelPointStyle",this,u)),a.push(Hn(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=A,A}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const A=Cu[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=m5(this,n),c=Object.assign({},A,l),u=x5(this.chart,n,c),d=v5(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:A.x,caretY:A.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:A}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Vl(A),{x:f,y:g}=e,{width:m,height:w}=r;let B,x,y,C,S,k;return i==="center"?(S=g+w/2,s==="left"?(B=f,x=B-a,C=S+a,k=S-a):(B=f+m,x=B+a,C=S-a,k=S+a),y=B):(s==="left"?x=f+Math.max(l,u)+a:s==="right"?x=f+m-Math.max(c,d)-a:x=this.caretX,i==="top"?(C=g,S=C-a,B=x-a,y=x+a):(C=g+w,S=C+a,B=x+a,y=x-a),k=C),{x1:B,x2:x,x3:y,y1:C,y2:S,y3:k}}drawTitle(e,r,n){const s=this.title,i=s.length;let a,A,l;if(i){const c=zl(n.rtl,this.x,this.width);for(e.x=Pf(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=$n(n.titleFont),A=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<i;++l)r.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+A,l+1===i&&(e.y+=n.titleMarginBottom-A)}}_drawColorBox(e,r,n,s,i){const a=this.labelColors[n],A=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=i,u=$n(i.bodyFont),d=Pf(this,"left",i),f=s.x(d),g=l<u.lineHeight?(u.lineHeight-l)/2:0,m=r.y+g;if(i.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:1},B=s.leftForLtr(f,c)+c/2,x=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,iw(e,w,B,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,iw(e,w,B,x)}else{e.lineWidth=Tt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=s.leftForLtr(f,c),B=s.leftForLtr(s.xPlus(f,1),c-2),x=Vl(a.borderRadius);Object.values(x).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,ep(e,{x:w,y:m,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ep(e,{x:B,y:m+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,m,c,l),e.strokeRect(w,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(B,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:A,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=$n(n.bodyFont);let f=d.lineHeight,g=0;const m=zl(n.rtl,this.x,this.width),w=function(j){r.fillText(j,m.x(e.x+g),e.y+f/2),e.y+=f+i},B=m.textAlign(a);let x,y,C,S,k,O,I;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=Pf(this,B,n),r.fillStyle=n.bodyColor,Wt(this.beforeBody,w),g=A&&B!=="right"?a==="center"?c/2+u:c+2+u:0,S=0,O=s.length;S<O;++S){for(x=s[S],y=this.labelTextColors[S],r.fillStyle=y,Wt(x.before,w),C=x.lines,A&&C.length&&(this._drawColorBox(r,e,S,m,n),f=Math.max(d.lineHeight,l)),k=0,I=C.length;k<I;++k)w(C[k]),f=d.lineHeight;Wt(x.after,w)}g=0,f=d.lineHeight,Wt(this.afterBody,w),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let a,A;if(i){const l=zl(n.rtl,this.x,this.width);for(e.x=Pf(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=$n(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,A=0;A<i;++A)r.fillText(s[A],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:a}=this,{x:A,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:m}=Vl(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(A+d,l),a==="top"&&this.drawCaret(e,r,n,s),r.lineTo(A+c-f,l),r.quadraticCurveTo(A+c,l,A+c,l+f),a==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(A+c,l+u-m),r.quadraticCurveTo(A+c,l+u,A+c-m,l+u),a==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(A+g,l+u),r.quadraticCurveTo(A,l+u,A,l+u-g),a==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(A,l+d),r.quadraticCurveTo(A,l,A+d,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=Cu[e.position].call(this,this._active,this._eventPosition);if(!a)return;const A=this._size=m5(this,e),l=Object.assign({},a,this._size),c=x5(r,e,l),u=v5(e,l,c,r);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=A.width,this.height=A.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=si(r.padding),A=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&A&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),BS(e,r.textDirection),i.y+=a.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),CS(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:A,index:l})=>{const c=this.chart.getDatasetMeta(A);if(!c)throw new Error("Cannot find a dataset at index "+A);return{datasetIndex:A,element:c.data[l],index:l}}),i=!Jg(n,s),a=this._positionChanged(s,r);(i||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,r,n),A=this._positionChanged(a,e),l=r||!Jg(a,i)||A;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(A=>this.chart.data.datasets[A.datasetIndex]&&this.chart.getDatasetMeta(A.datasetIndex).controller.getParsed(A.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,a=Cu[i.position].call(this,e,r);return a!==!1&&(n!==a.x||s!==a.y)}}Bt(cw,"positioners",Cu);var M7={id:"tooltip",_element:cw,positioners:Cu,afterInit(t,e,r){r&&(t.tooltip=new cw({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const R7=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function K7(t,e,r,n){const s=t.indexOf(e);if(s===-1)return R7(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const V7=(t,e)=>t===null?null:As(Math.round(t),0,e);function b5(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class uw extends hc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if($t(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:K7(n,e,kt(r,e),this._addedLabels),V7(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return b5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Bt(uw,"id","category"),Bt(uw,"defaults",{ticks:{callback:b5}});function z7(t,e){const r=[],{bounds:s,step:i,min:a,max:A,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,g=i||1,m=u-1,{min:w,max:B}=e,x=!$t(a),y=!$t(A),C=!$t(c),S=(B-w)/(d+1);let k=vB((B-w)/m/g)*g,O,I,j,R;if(k<1e-14&&!x&&!y)return[{value:w},{value:B}];R=Math.ceil(B/k)-Math.floor(w/k),R>m&&(k=vB(R*k/m/g)*g),$t(l)||(O=Math.pow(10,l),k=Math.ceil(k*O)/O),s==="ticks"?(I=Math.floor(w/k)*k,j=Math.ceil(B/k)*k):(I=w,j=B),x&&y&&i&&rO((A-a)/i,k/1e3)?(R=Math.round(Math.min((A-a)/k,u)),k=(A-a)/R,I=a,j=A):C?(I=x?a:I,j=y?A:j,R=c-1,k=(j-I)/R):(R=(j-I)/k,Gu(R,Math.round(R),k/1e3)?R=Math.round(R):R=Math.ceil(R));const X=Math.max(wB(k),wB(I));O=Math.pow(10,$t(l)?X:l),I=Math.round(I*O)/O,j=Math.round(j*O)/O;let Q=0;for(x&&(f&&I!==a?(r.push({value:a}),I<a&&Q++,Gu(Math.round((I+Q*k)*O)/O,a,B5(a,S,t))&&Q++):I<a&&Q++);Q<R;++Q){const F=Math.round((I+Q*k)*O)/O;if(y&&F>A)break;r.push({value:F})}return y&&f&&j!==A?r.length&&Gu(r[r.length-1].value,A,B5(A,S,t))?r[r.length-1].value=A:r.push({value:A}):(!y||j===A)&&r.push({value:j}),r}function B5(t,e,{horizontal:r,minRotation:n}){const s=nA(n),i=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class $7 extends hc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return $t(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=r?s:l,A=l=>i=n?i:l;if(e){const l=ji(s),c=ji(i);l<0&&c<0?A(0):l>0&&c>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);A(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,a=z7(s,i);return e.bounds==="ticks"&&nO(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return hS(e,this.chart.options.locale,this.options.ticks.format)}}class dw extends $7{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=_n(e)?e:0,this.max=_n(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=nA(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Bt(dw,"id","linear"),Bt(dw,"defaults",{ticks:{callback:fS.formatters.numeric}});const Wp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(Wp);function C5(t,e){return t-e}function _5(t,e){if($t(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),_n(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(Nd(i)||i===!0)?r.startOf(a,"isoWeek",i):r.startOf(a,s)),+a)}function N5(t,e,r,n){const s=Vn.length;for(let i=Vn.indexOf(t);i<s-1;++i){const a=Wp[Vn[i]],A=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(A*a.size))<=n)return Vn[i]}return Vn[s-1]}function q7(t,e,r,n,s){for(let i=Vn.length-1;i>=Vn.indexOf(r);i--){const a=Vn[i];if(Wp[a].common&&t._adapter.diff(s,n,a)>=e-1)return a}return Vn[r?Vn.indexOf(r):0]}function G7(t){for(let e=Vn.indexOf(t)+1,r=Vn.length;e<r;++e)if(Wp[Vn[e]].common)return Vn[e]}function S5(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=Ny(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function W7(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),a=e[e.length-1].value;let A,l;for(A=i;A<=a;A=+s.add(A,1,n))l=r[A],l>=0&&(e[l].major=!0);return e}function j5(t,e,r){const n=[],s={},i=e.length;let a,A;for(a=0;a<i;++a)A=e[a],s[A]=a,n.push({value:A,major:!1});return i===0||!r?n:W7(t,n,s,r)}class np extends hc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new OH._date(e.adapters.date);s.init(r),qu(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:_5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:A}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!A&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!A)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=_n(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=_n(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,A=lO(s,i,a);return this._unit=r.unit||(n.autoSkip?N5(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):q7(this,A.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:G7(this._unit),this.initOffsets(s),e.reverse&&A.reverse(),j5(this,A,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=As(r,0,a),n=As(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||N5(i.minUnit,r,n,this._getLabelCapacity(r)),A=kt(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,c=Nd(l)||l===!0,u={};let d=r,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(n,r,a)>1e5*A)throw new Error(r+" and "+n+" are too far apart with stepSize of "+A+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<n;f=+e.add(f,A,a),g++)S5(u,f,m);return(f===n||s.bounds==="ticks"||g===1)&&S5(u,f,m),Object.keys(u).sort(C5).map(w=>+w)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,a=r||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,s){const i=this.options,a=i.ticks.callback;if(a)return lr(a,[e,r,n],this);const A=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&A[l],d=c&&A[c],f=n[r],g=c&&d&&f&&f.major;return this._adapter.format(e,s||(g?d:u))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=nA(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),a=Math.sin(s),A=this._resolveTickFontOptions(0).size;return{w:n*i+A*a,h:n*a+A*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,j5(this,[e],this._majorUnit),s),a=this._getLabelSize(i),A=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return A>0?A:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(_5(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lS(e.sort(C5))}}Bt(np,"id","time"),Bt(np,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Tf(t,e,r){let n=0,s=t.length-1,i,a,A,l;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=sA(t,"pos",e)),{pos:i,time:A}=t[n],{pos:a,time:l}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=sA(t,"time",e)),{time:i,pos:A}=t[n],{time:a,pos:l}=t[s]);const c=a-i;return c?A+(l-A)*(e-i)/c:A}class hw extends np{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Tf(r,this.min),this._tableRange=Tf(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let a,A,l,c,u;for(a=0,A=e.length;a<A;++a)c=e[a],c>=r&&c<=n&&s.push(c);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,A=s.length;a<A;++a)u=s[a+1],l=s[a-1],c=s[a],Math.round((u+l)/2)!==c&&i.push({time:c,pos:a/(A-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Tf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Tf(this._table,n*this._tableRange+this._minPos,!0)}}Bt(hw,"id","timeseries"),Bt(hw,"defaults",np.defaults);const GS="label";function F5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function J7(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function WS(t,e){t.labels=e}function JS(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GS;const n=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function X7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GS;const r={labels:[],datasets:[]};return WS(r,t.labels),JS(r,t.datasets,e),r}function Y7(t,e){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:A,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,g=T.useRef(null),m=T.useRef(null),w=()=>{g.current&&(m.current=new qp(g.current,{type:a,data:X7(A,i),options:l&&{...l},plugins:c}),F5(e,m.current))},B=()=>{F5(e,null),m.current&&(m.current.destroy(),m.current=null)};return T.useEffect(()=>{!s&&m.current&&l&&J7(m.current,l)},[s,l]),T.useEffect(()=>{!s&&m.current&&WS(m.current.config.data,A.labels)},[s,A.labels]),T.useEffect(()=>{!s&&m.current&&A.datasets&&JS(m.current.config.data,A.datasets,i)},[s,A.datasets]),T.useEffect(()=>{m.current&&(s?(B(),setTimeout(w)):m.current.update(d))},[s,l,A.labels,A.datasets,d]),T.useEffect(()=>{m.current&&(B(),setTimeout(w))},[a]),T.useEffect(()=>(w(),()=>B()),[]),ip.createElement("canvas",{ref:g,role:"img",height:r,width:n,...f},u)}const Z7=T.forwardRef(Y7);function XS(t,e){return qp.register(e),T.forwardRef((r,n)=>ip.createElement(Z7,{...r,ref:n,type:t}))}const eR=XS("line",sg),tR=XS("bar",ng);qp.register(uw,dw,og,Ya,Ag,M7,Q7,S7,hw);function rR(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${e}-${r}`}function nR(t){const[e,r]=t.split("-").map(Number),n=new Date(e,r-1,1),s=new Date(e,r,0),i=a=>a.toISOString().slice(0,10);return{start:i(n),end:i(s)}}function sR(t){return Math.floor(t.getMonth()/3)+1}function iR(){const[t,e]=T.useState("monthly"),[r,n]=T.useState(()=>rR(new Date)),[s,i]=T.useState(new Date().getFullYear()),[a,A]=T.useState((sR(new Date)-1)*3+1),[l,c]=T.useState([]),[u,d]=T.useState(!0),[f,g]=T.useState(null),[m,w]=T.useState(0),[B,x]=T.useState([]),[y,C]=T.useState("56"),[S,k]=T.useState(!1),[O,I]=T.useState(""),j=T.useRef(null),R=async()=>{k(!0),I("");try{const _=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!_.ok)throw new Error("Failed to fetch exchange rate");const L=await _.json();if(L.rates&&L.rates.PHP)C(String(L.rates.PHP));else throw new Error("PHP rate not found in response")}catch(_){console.error("Error fetching exchange rate:",_),I("Failed to fetch current rate")}finally{k(!1)}};T.useEffect(()=>{R()},[]),T.useEffect(()=>{let _=!1;return(async()=>{d(!0),g(null);let M="",z="";if(t==="monthly"){const we=nR(r);M=we.start,z=we.end}else if(t==="quarterly"){const we=a-1,_e=new Date(s,we,1),je=new Date(s,we+3,0);M=_e.toISOString().slice(0,10),z=je.toISOString().slice(0,10)}else{const we=new Date(s,0,1),_e=new Date(s,12,0);M=we.toISOString().slice(0,10),z=_e.toISOString().slice(0,10)}const{data:J,error:ae}=await He.from("transactions").select("*").gte("date",M).lte("date",z).order("date",{ascending:!0});if(_)return;ae?g(ae.message):c(J??[]);const{data:le,error:ne}=await He.from("savings").select("*").gte("date",M).lte("date",z).order("date",{ascending:!0});if(!_)if(ne)console.warn("Savings load error:",ne.message),w(0),x([]);else{const we=(le??[]).reduce((_e,je)=>_e+(je.amount??0),0);w(we),x(le??[])}d(!1)})(),()=>{_=!0}},[t,r,s,a]);const{labels:X,creditData:Q,debitData:F,remaining:K,totals:$}=T.useMemo(()=>{const _={},L={},M=(_e,je)=>{je.type==="in"?_[_e]=(_[_e]??0)+je.amount:L[_e]=(L[_e]??0)+je.amount};t==="monthly"?l.forEach(_e=>M(_e.date,_e)):t==="quarterly"?l.forEach(_e=>{const je=new Date(_e.date+"T00:00:00"),ke=`${je.getFullYear()}-${String(je.getMonth()+1).padStart(2,"0")}`;M(ke,_e)}):l.forEach(_e=>{const je=new Date(_e.date+"T00:00:00"),ke=`${je.getFullYear()}-${String(je.getMonth()+1).padStart(2,"0")}`;M(ke,_e)});const z=Array.from(new Set([...Object.keys(_),...Object.keys(L)])).sort(),J=z.map(_e=>_[_e]??0),ae=z.map(_e=>L[_e]??0),le=J.reduce((_e,je)=>_e+je,0),ne=ae.reduce((_e,je)=>_e+je,0),we=le-ne;return{labels:z,creditData:J,debitData:ae,remaining:we,totals:{credit:le,debit:ne}}},[l,t]),fe=T.useMemo(()=>{const _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(t==="monthly"){const[L,M]=r.split("-").map(Number);return`${_[M-1]} ${L}`}if(t==="quarterly"){const L=a-1;return`${[_[L],_[L+1],_[L+2]].join(", ")} ${s}`}return`JanDec ${s}`},[t,r,a,s]),re=_=>` ${_.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,ce=_=>`$ ${_.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,W=_=>{const L=Number(y);return!L||isNaN(L)||L<=0?0:_/L},ie=async()=>{if(!j.current)return;const _=j.current;document.body.classList.add("pdf-mode");try{const L=await Op(_,{scale:2,useCORS:!0,backgroundColor:"#ffffff",letterRendering:!0}),M=L.toDataURL("image/png"),z=new dt({orientation:"p",unit:"pt",format:"a4"}),J=z.internal.pageSize.getWidth(),ae=z.internal.pageSize.getHeight(),le=J-40,ne=L.height*le/L.width;let we=20;if(ne<=ae-40)z.addImage(M,"PNG",20,we,le,ne);else{let je=0;const ke=L.width*(ae-40)/le;for(;je<L.height;){const De=document.createElement("canvas");De.width=L.width,De.height=Math.min(ke,L.height-je);const me=De.getContext("2d");me&&me.drawImage(L,0,je,L.width,De.height,0,0,L.width,De.height);const Y=De.toDataURL("image/png");z.addImage(Y,"PNG",20,20,le,De.height*le/L.width),je+=De.height,je<L.height&&z.addPage()}}const _e=`financial-report-${fe.replace(/\s+/g,"-").toLowerCase()}-${Date.now()}.pdf`;z.save(_e)}catch(L){console.error("Error generating PDF:",L),alert("Error generating PDF. Please try again.")}finally{document.body.classList.remove("pdf-mode")}},de={labels:X,datasets:[{label:"Credit (In)",data:Q,backgroundColor:"rgba(16, 185, 129, 0.6)",borderRadius:6},{label:"Debit (Out + Expense)",data:F,backgroundColor:"rgba(244, 63, 94, 0.6)",borderRadius:6}]},te={labels:X,datasets:[{label:"Remaining (Cumulative)",data:X.map((_,L)=>Q.slice(0,L+1).reduce((M,z)=>M+z,0)-F.slice(0,L+1).reduce((M,z)=>M+z,0)),borderColor:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.2)",fill:!0,tension:.3}]};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Reports"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Visualize cash flow over time and summarize by period."})]}),o.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-slate-600",title:"PHP per 1 USD",children:"USD Rate"}),o.jsx("input",{type:"number",step:"0.0001",min:"0",value:y,onChange:_=>C(_.target.value),className:"w-24 rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"56.00",disabled:S}),o.jsx("button",{onClick:R,disabled:S,className:"rounded-md bg-blue-600 px-2 py-1.5 text-xs font-medium text-white shadow hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed",title:"Refresh current rate",children:S?"...":""})]}),O&&o.jsx("span",{className:"text-xs text-red-600",children:O}),o.jsxs("div",{className:"inline-flex overflow-hidden rounded-md border border-slate-200 bg-white shadow-sm",children:[o.jsx("button",{className:`px-3 py-2 text-sm ${t==="monthly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("monthly"),children:"Monthly"}),o.jsx("button",{className:`px-3 py-2 text-sm ${t==="quarterly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("quarterly"),children:"Quarterly"}),o.jsx("button",{className:`px-3 py-2 text-sm ${t==="yearly"?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-50"}`,onClick:()=>e("yearly"),children:"Yearly"})]}),t==="monthly"&&o.jsx("input",{type:"month",value:r,onChange:_=>n(_.target.value),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t!=="monthly"&&o.jsxs(o.Fragment,{children:[o.jsx("select",{value:s,onChange:_=>i(Number(_.target.value)),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:Array.from({length:10}).map((_,L)=>{const M=new Date().getFullYear()-L;return o.jsx("option",{value:M,children:M},M)})}),t==="quarterly"&&o.jsxs("select",{value:a,onChange:_=>A(Number(_.target.value)),className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:1,children:"Start: Jan"}),o.jsx("option",{value:2,children:"Start: Feb"}),o.jsx("option",{value:3,children:"Start: Mar"}),o.jsx("option",{value:4,children:"Start: Apr"}),o.jsx("option",{value:5,children:"Start: May"}),o.jsx("option",{value:6,children:"Start: Jun"}),o.jsx("option",{value:7,children:"Start: Jul"}),o.jsx("option",{value:8,children:"Start: Aug"}),o.jsx("option",{value:9,children:"Start: Sep"}),o.jsx("option",{value:10,children:"Start: Oct"}),o.jsx("option",{value:11,children:"Start: Nov"}),o.jsx("option",{value:12,children:"Start: Dec"})]})]}),o.jsx("button",{onClick:ie,className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",children:"Export PDF"})]})]}),o.jsxs("div",{ref:j,className:"space-y-6 bg-white p-6 rounded-xl",children:[o.jsxs("div",{className:"mb-6 text-center border-b border-slate-200 pb-4 print:block hidden",children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Financial Report"}),o.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Period: ",fe]}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Generated: ",new Date().toLocaleDateString(),"  Exchange Rate: 1 USD = ",Number(y||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})," PHP"]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-2 text-sm font-medium text-slate-700",children:"Credit vs Debit"}),u?o.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):f?o.jsx("div",{className:"text-sm text-rose-600",children:f}):X.length===0?o.jsx("div",{className:"text-sm text-slate-500",children:"No data."}):o.jsx(tR,{data:de,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-2 text-sm font-medium text-slate-700",children:"Remaining (Cumulative)"}),u?o.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):f?o.jsx("div",{className:"text-sm text-rose-600",children:f}):X.length===0?o.jsx("div",{className:"text-sm text-slate-500",children:"No data."}):o.jsx(eR,{data:te,options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[o.jsxs("div",{className:"rounded-xl border border-emerald-100 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Total Credit"}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re($.credit)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ce(W($.credit))})]}),o.jsxs("div",{className:"rounded-xl border border-rose-100 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Total Debit"}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re($.debit)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ce(W($.debit))})]}),o.jsxs("div",{className:`rounded-xl border ${K>=0?"border-emerald-200":"border-rose-200"} bg-white p-4 shadow-sm`,children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Remaining"}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re(K)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ce(W(K))})]}),o.jsxs("div",{className:"rounded-xl border border-indigo-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Savings (Selected Period)"}),o.jsxs("div",{className:"text-[11px] text-slate-500",children:["Months: ",fe]}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re(m)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ce(W(m))})]}),o.jsxs("div",{className:`rounded-xl border ${K-m>=0?"border-emerald-300":"border-rose-300"} bg-white p-4 shadow-sm sm:col-span-2`,children:[o.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Remaining After Savings"}),o.jsx("div",{className:"mt-1 text-2xl font-semibold text-slate-900",children:re(K-m)}),o.jsx("div",{className:"text-sm text-slate-600 mt-1",children:ce(W(K-m))})]})]}),!u&&!f&&l.length>0&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Transaction Breakdown"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Type"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Category"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (PHP)"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (USD)"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Note"})]})}),o.jsx("tbody",{children:l.map(_=>o.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[o.jsx("td",{className:"px-3 py-2 text-slate-900",children:_.date}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${_.type==="in"?"bg-green-100 text-green-800":_.type==="out"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:_.type==="in"?"Credit":_.type==="out"?"Debit":"Expense"})}),o.jsx("td",{className:"px-3 py-2 text-slate-700",children:_.category||"-"}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:re(_.amount)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:ce(W(_.amount))}),o.jsx("td",{className:"px-3 py-2 text-slate-600 max-w-xs truncate",children:_.note||"-"})]},_.id))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 border-slate-300 bg-slate-100 font-medium",children:[o.jsx("td",{colSpan:3,className:"px-3 py-2 text-slate-900",children:"Total"}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:re(l.reduce((_,L)=>_+(L.type==="in"?L.amount:-L.amount),0))}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:ce(W(l.reduce((_,L)=>_+(L.type==="in"?L.amount:-L.amount),0)))}),o.jsx("td",{className:"px-3 py-2"})]})})]})})]}),!u&&!f&&B.length>0&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Savings Breakdown"}),o.jsxs("div",{className:"text-sm text-slate-600",children:["Period: ",fe,"  ",B.length," entries"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:re(m)}),o.jsx("div",{className:"text-sm text-slate-600",children:ce(W(m))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-indigo-50",children:[o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Description"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-700",children:"Account"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (PHP)"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-700",children:"Amount (USD)"})]})}),o.jsx("tbody",{children:B.map((_,L)=>o.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[o.jsx("td",{className:"px-3 py-2 text-slate-900",children:_.date}),o.jsx("td",{className:"px-3 py-2 text-slate-700",children:_.description||"-"}),o.jsx("td",{className:"px-3 py-2 text-slate-600",children:_.account||"-"}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:re(_.amount)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:ce(W(_.amount))})]},_.id||L))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 border-indigo-300 bg-indigo-100 font-medium",children:[o.jsx("td",{colSpan:3,className:"px-3 py-2 text-slate-900",children:"Total Savings"}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-900",children:re(m)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono text-slate-600",children:ce(W(m))})]})})]})}),B.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("div",{className:"mb-3 text-base font-semibold text-slate-900",children:"Savings by Account"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(B.reduce((_,L)=>{const M=L.account||"Unspecified";return _[M]=(_[M]||0)+L.amount,_},{})).sort(([,_],[,L])=>L-_).map(([_,L])=>o.jsxs("div",{className:"rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[o.jsx("div",{className:"text-sm font-medium text-slate-700",children:_}),o.jsx("div",{className:"text-lg font-bold text-indigo-600",children:re(L)}),o.jsx("div",{className:"text-xs text-slate-600",children:ce(W(L))}),o.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[(L/m*100).toFixed(1),"% of total"]})]},_))})]})]})]})]})}const ts=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,lx=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},E5=T.forwardRef(({employee:t,payslip:e},r)=>{const n=(e.sss??0)+(e.pagibig??0)+(e.philhealth??0)+(e.tax??0)+(e.cash_advance??0)+(e.loan_deductions??0)+(e.other_deductions??0),s=(e.bonuses??0)+(e.allowances??0);return o.jsxs("div",{ref:r,className:"mx-auto w-full max-w-2xl rounded-xl border border-slate-200 bg-white p-8 text-slate-800",children:[o.jsx("div",{className:"mb-6 flex items-start justify-between border-b-2 border-slate-900 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"h-16 w-16 object-contain"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Avensetech Software Development Services"}),o.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"}),o.jsx("p",{className:"text-xs text-slate-600",children:"(032) 234-1362  09297246296"})]})]})}),o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"PAYSLIP"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Date Issued: ",lx(e.date_issued)]})]}),o.jsxs("div",{className:"rounded-lg bg-slate-50 p-4 text-right",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Employee"}),o.jsx("div",{className:"mt-1 text-base font-bold text-slate-900",children:t.name}),t.position&&o.jsx("div",{className:"text-sm text-slate-600",children:t.position})]})]}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border border-slate-300 bg-slate-50 p-4",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Pay Period"}),o.jsxs("div",{className:"mt-1 text-sm font-medium text-slate-900",children:[lx(e.period_start)," to ",lx(e.period_end)]})]}),o.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-blue-600",children:"Gross Salary"}),o.jsx("div",{className:"mt-1 text-xl font-bold text-blue-900",children:ts(e.gross_salary)})]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border border-emerald-100 p-4",children:[o.jsx("div",{className:"mb-2 text-sm font-medium text-emerald-700",children:"Additions"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Bonuses:"})," ",o.jsx("span",{className:"float-right",children:ts(e.bonuses)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Allowances:"})," ",o.jsx("span",{className:"float-right",children:ts(e.allowances)})]}),o.jsxs("div",{className:"mt-2 border-t pt-2 text-sm",children:[o.jsx("span",{className:"text-slate-600",children:"Total Additions"})," ",o.jsx("span",{className:"float-right font-medium",children:ts(s)})]})]}),o.jsxs("div",{className:"rounded-lg border border-rose-100 p-4",children:[o.jsx("div",{className:"mb-2 text-sm font-medium text-rose-700",children:"Deductions"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"SSS:"})," ",o.jsx("span",{className:"float-right",children:ts(e.sss)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Pag-IBIG:"})," ",o.jsx("span",{className:"float-right",children:ts(e.pagibig)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"PhilHealth:"})," ",o.jsx("span",{className:"float-right",children:ts(e.philhealth)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Tax:"})," ",o.jsx("span",{className:"float-right",children:ts(e.tax)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Cash Advance:"})," ",o.jsx("span",{className:"float-right",children:ts(e.cash_advance)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Loan Deductions:"})," ",o.jsx("span",{className:"float-right",children:ts(e.loan_deductions)})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Other:"})," ",o.jsx("span",{className:"float-right",children:ts(e.other_deductions)})]}),o.jsxs("div",{className:"mt-2 border-t pt-2 text-sm",children:[o.jsx("span",{className:"text-slate-600",children:"Total Deductions"})," ",o.jsx("span",{className:"float-right font-medium",children:ts(n)})]})]})]}),o.jsx("div",{className:"mt-6 rounded-lg border-2 border-emerald-600 bg-emerald-50 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-lg font-bold text-emerald-900",children:"NET SALARY"}),o.jsx("span",{className:"text-3xl font-bold text-emerald-700",children:ts(e.net_salary)})]})}),e.notes&&o.jsxs("div",{className:"mt-6 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Notes"}),o.jsx("div",{className:"mt-2 text-sm text-slate-700",children:e.notes})]}),o.jsx("div",{className:"mt-8 border-t border-slate-200 pt-4 text-center",children:o.jsx("p",{className:"text-xs text-slate-500",children:"This is a computer-generated payslip and does not require a signature."})})]})}),Sa=()=>new Date().toISOString().slice(0,10),ja=t=>{if(!t)return"";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},Tr=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;function aR(){const[t,e]=T.useState("list"),[r,n]=T.useState([]),[s,i]=T.useState([]),[a,A]=T.useState([]),[l,c]=T.useState(!0),[u,d]=T.useState(null),[f,g]=T.useState(""),[m,w]=T.useState(""),[B,x]=T.useState(""),[y,C]=T.useState(null),[S,k]=T.useState(null),[O,I]=T.useState(!1),[j,R]=T.useState(Sa()),[X,Q]=T.useState(Sa()),[F,K]=T.useState([]),[$,fe]=T.useState(!1),[re,ce]=T.useState(null),[W,ie]=T.useState(null),[de,te]=T.useState(!1),_=T.useRef(null),L=T.useRef(null),M=T.useMemo(()=>{const q=new Map;return s.forEach(ee=>{const xe=`${ee.period_start}_${ee.period_end}`;q.has(xe)||q.set(xe,[]),q.get(xe).push(ee)}),Array.from(q.entries()).map(([ee,xe])=>{const[Ee,qe]=ee.split("_"),be=xe.reduce((rt,Me)=>rt+Me.gross_salary,0),ot=xe.reduce((rt,Me)=>rt+Me.net_salary,0),At=xe.reduce((rt,Me)=>{const Dt=(Me.sss??0)+(Me.pagibig??0)+(Me.philhealth??0)+(Me.tax??0)+(Me.cash_advance??0)+(Me.loan_deductions??0)+(Me.other_deductions??0);return rt+Dt},0),Ut=xe.reduce((rt,Me)=>{const Dt=(Me.bonuses??0)+(Me.allowances??0);return rt+Dt},0);return{periodStart:Ee,periodEnd:qe,payslips:xe,employeeCount:xe.length,totalGross:be,totalAdditions:Ut,totalDeductions:At,totalNet:ot}}).sort((ee,xe)=>new Date(xe.periodStart).getTime()-new Date(ee.periodStart).getTime())},[s]),z=async()=>{var q;c(!0),d(null);try{const[ee,xe,Ee]=await Promise.all([He.from("employees").select("*").order("created_at",{ascending:!1}),He.from("payslips").select("*").order("created_at",{ascending:!1}),He.from("loans").select("*").eq("status","active").order("created_at",{ascending:!1})]);ee.error&&d(ee.error.message),xe.error&&d(qe=>qe??xe.error.message),Ee.error&&d(qe=>qe??Ee.error.message),n(ee.data??[]),i(xe.data??[]),A(Ee.data??[]),console.log("Refreshed payslips with transaction_ids:",(q=xe.data)==null?void 0:q.map(qe=>({id:qe.id,transaction_id:qe.transaction_id,employee_id:qe.employee_id})))}catch(ee){console.error("Refresh error:",ee),d("Failed to refresh data")}finally{c(!1)}};T.useEffect(()=>{z()},[]);const J=T.useMemo(()=>S&&r.find(q=>q.id===S.employee_id)||null,[S,r]),ae=T.useMemo(()=>{if(!S)return{additions:0,deductions:0,net:0};const q=S,ee=(q.bonuses??0)+(q.allowances??0),xe=(q.sss??0)+(q.pagibig??0)+(q.philhealth??0)+(q.tax??0)+(q.cash_advance??0)+(q.loan_deductions??0)+(q.other_deductions??0),Ee=q.gross_salary+ee-xe;return{additions:ee,deductions:xe,net:Ee}},[S]),le=(q,ee)=>a.filter(xe=>xe.employee_id===q&&xe.status==="active"&&new Date(xe.start_deduction_date)<=new Date(ee)),ne=(q,ee)=>le(q,ee).reduce((Ee,qe)=>Ee+qe.bimonthly_deduction,0),we=async(q,ee,xe,Ee)=>{if(Ee<=0)return;const qe=le(ee,xe);for(const be of qe){const ot=Math.min(be.bimonthly_deduction,be.remaining_balance);if(ot<=0)continue;const At=be.remaining_balance,Ut=At-ot,rt=Ut<=0?"completed":"active";try{const{error:Me}=await He.from("loan_payments").insert({loan_id:be.id,payslip_id:q,payment_date:xe,amount:ot,balance_before:At,balance_after:Ut,payment_type:"payroll_deduction",notes:`Automatic payroll deduction for payslip ${q}`});if(Me){console.error("Error creating loan payment:",Me);continue}const{error:Dt}=await He.from("loans").update({remaining_balance:Ut,status:rt,end_date:rt==="completed"?xe:null}).eq("id",be.id);Dt&&console.error("Error updating loan balance:",Dt)}catch(Me){console.error("Error processing loan payment:",Me)}}},_e=()=>{var Ee,qe;const q=Number(((Ee=r[0])==null?void 0:Ee.base_salary)??0),ee=((qe=r[0])==null?void 0:qe.id)??"",xe=ne(ee,Sa());return{id:crypto.randomUUID(),created_at:new Date().toISOString(),employee_id:ee,period_start:Sa(),period_end:Sa(),date_issued:Sa(),gross_salary:q/2,sss:0,pagibig:0,philhealth:0,tax:0,cash_advance:0,loan_deductions:xe,bonuses:0,allowances:0,other_deductions:0,notes:"",net_salary:0,transaction_id:null}},je=(q,ee,xe)=>{const Ee=new Date(q),qe=new Date(ee),be=Ee.getDate(),ot=qe.getDate(),At=be===1&&ot===15,Ut=be===16&&ot>=28&&ot<=31;return At||Ut?xe/2:xe},ke=q=>{if(q)k(q);else{const ee=_e(),xe=s.find(Ee=>Ee.employee_id===ee.employee_id);xe&&(ee.sss=xe.sss,ee.pagibig=xe.pagibig,ee.philhealth=xe.philhealth,ee.tax=xe.tax,ee.bonuses=xe.bonuses,ee.allowances=xe.allowances),ee.loan_deductions=ne(ee.employee_id,ee.date_issued),k(ee)}e("edit")},De=async q=>{if(s.find(xe=>xe.id===q),!confirm("Delete this payslip?"))return;const{error:ee}=await He.from("payslips").delete().eq("id",q);if(ee)return alert(ee.message);await z()},me=async()=>{if(!S)return;const q={...S},ee=(q.bonuses??0)+(q.allowances??0),xe=(q.sss??0)+(q.pagibig??0)+(q.philhealth??0)+(q.tax??0)+(q.cash_advance??0)+(q.loan_deductions??0)+(q.other_deductions??0);q.net_salary=q.gross_salary+ee-xe;const{error:Ee}=await He.from("payslips").upsert(q,{onConflict:"id"});if(Ee)return alert(Ee.message);q.loan_deductions&&q.loan_deductions>0&&await we(q.id,q.employee_id,q.date_issued,q.loan_deductions);const qe=`Payroll: ${(J==null?void 0:J.name)??q.employee_id} (${q.period_start} to ${q.period_end})`;if(q.transaction_id){const{error:be}=await He.from("transactions").update({amount:q.gross_salary,type:"expense",category:"Payroll",note:qe}).eq("id",q.transaction_id);if(be)return alert(be.message)}else{const{data:be,error:ot}=await He.from("transactions").insert({date:q.date_issued,type:"expense",amount:q.gross_salary,category:"Payroll",note:qe}).select("id").single();if(ot)return alert(ot.message);q.transaction_id=(be==null?void 0:be.id)??null;const{error:At}=await He.from("payslips").update({transaction_id:q.transaction_id}).eq("id",q.id);if(At)return alert(At.message)}k(null),e("list"),await z()},Y=async()=>{if(!S||!L.current)return;const q=L.current,[ee,xe]=await Promise.all([Ss(()=>Promise.resolve().then(()=>uB),void 0),Ss(()=>Promise.resolve().then(()=>Vv),void 0)]),Ee=ee.default,qe=xe.default,be=await qe(q,{scale:2,backgroundColor:"#ffffff"}),ot=be.toDataURL("image/png"),At=new Ee({orientation:"p",unit:"pt",format:"a4"}),Ut=At.internal.pageSize.getWidth(),rt=At.internal.pageSize.getHeight(),Me=Ut-40,Dt=be.height*Me/be.width;At.addImage(ot,"PNG",20,20,Me,Math.min(Dt,rt-40)),At.save(`payslip_${(J==null?void 0:J.name)??"employee"}_${S.date_issued}.pdf`)},ct=async()=>{if(!W||!_.current)return;const q=_.current,ee=r.find(Ht=>Ht.id===W.employee_id),[xe,Ee]=await Promise.all([Ss(()=>Promise.resolve().then(()=>uB),void 0),Ss(()=>Promise.resolve().then(()=>Vv),void 0)]),qe=xe.default,be=Ee.default,ot=await be(q,{scale:2,backgroundColor:"#ffffff"}),At=ot.toDataURL("image/png"),Ut=new qe({orientation:"p",unit:"pt",format:"a4"}),rt=Ut.internal.pageSize.getWidth(),Me=Ut.internal.pageSize.getHeight(),Dt=rt-40,ye=ot.height*Dt/ot.width;Ut.addImage(At,"PNG",20,20,Dt,Math.min(ye,Me-40)),Ut.save(`payslip_${(ee==null?void 0:ee.name)??"employee"}_${W.date_issued}.pdf`)},Ke=async()=>{const q={name:f.trim(),position:m.trim()||null,base_salary:B?Number(B):null};if(!q.name)return alert("Employee name is required");if(y){const{error:ee}=await He.from("employees").update(q).eq("id",y);if(ee)return alert(ee.message)}else{const{error:ee}=await He.from("employees").insert(q);if(ee)return alert(ee.message)}g(""),w(""),x(""),C(null),await z()},Qe=q=>{C(q.id),g(q.name),w(q.position??""),x(q.base_salary!=null?String(q.base_salary):"")},Re=async q=>{if(!confirm("Delete this employee?"))return;const{error:ee}=await He.from("employees").delete().eq("id",q);if(ee)return alert(ee.message);await z()},$e=async()=>{if(F.length===0){alert("Please select at least one employee");return}try{const q=F.map(be=>{const ot=r.find(Dt=>Dt.id===be),At=(ot==null?void 0:ot.base_salary)??0,Ut=je(j,X,At),rt=ne(be,Sa()),Me=s.find(Dt=>Dt.employee_id===be);return{id:crypto.randomUUID(),created_at:new Date().toISOString(),employee_id:be,period_start:j,period_end:X,date_issued:Sa(),gross_salary:Ut,sss:(Me==null?void 0:Me.sss)??0,pagibig:(Me==null?void 0:Me.pagibig)??0,philhealth:(Me==null?void 0:Me.philhealth)??0,tax:(Me==null?void 0:Me.tax)??0,cash_advance:0,loan_deductions:rt,bonuses:(Me==null?void 0:Me.bonuses)??0,allowances:(Me==null?void 0:Me.allowances)??0,other_deductions:0,notes:"",net_salary:Ut+((Me==null?void 0:Me.bonuses)??0)+((Me==null?void 0:Me.allowances)??0)-(((Me==null?void 0:Me.sss)??0)+((Me==null?void 0:Me.pagibig)??0)+((Me==null?void 0:Me.philhealth)??0)+((Me==null?void 0:Me.tax)??0)+rt),transaction_id:null}}),ee=q.map(be=>{const ot=r.find(Ut=>Ut.id===be.employee_id),At=`Payroll: ${(ot==null?void 0:ot.name)??be.employee_id} (${be.period_start} to ${be.period_end})`;return{date:be.date_issued,type:"expense",amount:be.gross_salary,category:"Payroll",note:At}});console.log("Creating expense transactions:",ee);const{data:xe,error:Ee}=await He.from("transactions").insert(ee).select("id");if(Ee){console.error("Transaction error:",Ee),alert(`Error creating expense transactions: ${Ee.message}`);return}if(console.log("Created transactions:",xe),xe&&xe.length===q.length)q.forEach((be,ot)=>{be.transaction_id=xe[ot].id,console.log(`Setting payslip ${be.id} transaction_id to:`,xe[ot].id)});else{console.error("Transaction data length mismatch:",xe==null?void 0:xe.length,"vs",q.length),alert("Error: Transaction creation count mismatch");return}console.log("Payslips with transaction IDs:",q.map(be=>({id:be.id,transaction_id:be.transaction_id})));const{error:qe}=await He.from("payslips").insert(q);if(qe){console.error("Payslip error:",qe),alert(`Error creating payslips: ${qe.message}`);return}console.log("Successfully created payslips with transaction links");for(const be of q)be.loan_deductions&&be.loan_deductions>0&&await we(be.id,be.employee_id,be.date_issued,be.loan_deductions);I(!1),K([]),setTimeout(async()=>{await z()},500),alert(`${q.length} payslips generated successfully with linked expense transactions and loan deductions!`)}catch(q){console.error("Bulk generation error:",q),alert(`Error during bulk generation: ${q}`)}},Ve=q=>{K(ee=>ee.includes(q)?ee.filter(xe=>xe!==q):[...ee,q])},Ye=()=>{F.length===r.length?K([]):K(r.map(q=>q.id))},Ne=T.useMemo(()=>re?s.filter(q=>q.employee_id===re):[],[re,s]),Pe=T.useMemo(()=>{const q=r.find(Ee=>Ee.id===re);if(!q)return null;const ee=Ne,xe=ee.reduce((Ee,qe)=>Ee+qe.net_salary,0);return{employee:q,payslips:ee,totalPaid:xe}},[re,r,Ne]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Payroll"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Create and edit payslips. Processing will log an expense automatically."})]}),o.jsx("div",{className:"flex gap-2",children:t==="list"?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",onClick:()=>ke(),children:"New Payslip"}),o.jsx("button",{className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-purple-700",onClick:()=>I(!0),children:"Bulk Generate"}),o.jsx("button",{className:"rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-gray-700",onClick:z,children:"Refresh"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"rounded-md bg-slate-100 px-3 py-2 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>{e("list"),k(null)},children:"Back"}),o.jsx("button",{className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",onClick:me,children:"Process & Save"}),o.jsx("button",{className:"rounded-md bg-slate-800 px-4 py-2 text-sm font-medium text-white shadow hover:bg-black",onClick:Y,children:"Download PDF"})]})})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-3 flex items-center justify-between",children:o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Employees"})}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[o.jsx("input",{className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Name",value:f,onChange:q=>g(q.target.value)}),o.jsx("input",{className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Position",value:m,onChange:q=>w(q.target.value)}),o.jsx("input",{type:"number",step:"0.01",className:"rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Base Salary",value:B,onChange:q=>x(q.target.value)}),o.jsx("div",{children:o.jsxs("button",{onClick:Ke,className:"w-full rounded-md bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-700",children:[y?"Update":"Add"," Employee"]})})]}),o.jsx("div",{className:"mt-4 overflow-hidden rounded-lg border border-slate-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[o.jsx("thead",{className:"bg-slate-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Name"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Position"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Base Salary"}),o.jsx("th",{className:"px-3 py-2"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[r.map(q=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-sm text-slate-800",children:q.name}),o.jsx("td",{className:"px-3 py-2 text-sm text-slate-700",children:q.position??""}),o.jsx("td",{className:"px-3 py-2 text-right text-sm text-slate-900",children:q.base_salary!=null?Tr(q.base_salary):""}),o.jsxs("td",{className:"px-3 py-2 text-right",children:[o.jsx("button",{className:"rounded-md bg-blue-50 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100",onClick:()=>{ce(q.id),fe(!0)},children:"History"}),o.jsx("button",{className:"ml-2 rounded-md bg-slate-100 px-3 py-1 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>Qe(q),children:"Edit"}),o.jsx("button",{className:"ml-2 rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",onClick:()=>Re(q.id),children:"Delete"})]})]},q.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-sm text-slate-500",children:"No employees yet."})})]})]})})]}),t==="list"&&M.length>0&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Payroll Period Summaries"}),o.jsxs("span",{className:"text-sm text-slate-600",children:[M.length," periods"]})]}),o.jsx("div",{className:"space-y-4",children:M.map((q,ee)=>o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-slate-900",children:["Period: ",ja(q.periodStart)," to ",ja(q.periodEnd)]}),o.jsxs("p",{className:"text-sm text-slate-600",children:[q.employeeCount," employees"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-lg font-bold text-slate-900",children:Tr(q.totalNet)}),o.jsx("p",{className:"text-sm text-slate-600",children:"Total Net Pay"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-slate-900",children:Tr(q.totalGross)}),o.jsx("p",{className:"text-slate-600",children:"Gross Salary"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-green-700",children:Tr(q.totalAdditions)}),o.jsx("p",{className:"text-slate-600",children:"Additions"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-red-700",children:Tr(q.totalDeductions)}),o.jsx("p",{className:"text-slate-600",children:"Deductions"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-blue-700",children:Tr(q.totalNet)}),o.jsx("p",{className:"text-slate-600",children:"Net Pay"})]})]}),o.jsxs("details",{className:"mt-3",children:[o.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-slate-700 hover:text-slate-900",children:["View Employee Breakdown (",q.employeeCount," employees)"]}),o.jsx("div",{className:"mt-2 overflow-hidden rounded border border-slate-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[o.jsx("thead",{className:"bg-slate-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Employee"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Gross"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Additions"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Deductions"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Net"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:q.payslips.map(xe=>{const Ee=r.find(ot=>ot.id===xe.employee_id),qe=(xe.bonuses??0)+(xe.allowances??0),be=(xe.sss??0)+(xe.pagibig??0)+(xe.philhealth??0)+(xe.tax??0)+(xe.cash_advance??0)+(xe.loan_deductions??0)+(xe.other_deductions??0);return o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-3 py-2 text-slate-800",children:(Ee==null?void 0:Ee.name)??xe.employee_id}),o.jsx("td",{className:"px-3 py-2 text-right text-slate-900",children:Tr(xe.gross_salary)}),o.jsx("td",{className:"px-3 py-2 text-right text-green-700",children:Tr(qe)}),o.jsx("td",{className:"px-3 py-2 text-right text-red-700",children:Tr(be)}),o.jsx("td",{className:"px-3 py-2 text-right font-medium text-slate-900",children:Tr(xe.net_salary)}),o.jsxs("td",{className:"px-3 py-2 text-center",children:[o.jsx("button",{className:"rounded-md bg-blue-50 px-2 py-1 text-xs text-blue-700 hover:bg-blue-100 mr-1",onClick:()=>{ie(xe),te(!0)},children:"View"}),o.jsx("button",{className:"rounded-md bg-slate-100 px-2 py-1 text-xs text-slate-700 hover:bg-slate-200",onClick:()=>ke(xe),children:"Edit"})]})]},xe.id)})})]})})]})]},`${q.periodStart}_${q.periodEnd}`))})]}),t==="list"&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-3 flex items-center justify-between",children:o.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"All Payslips"})}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[o.jsx("thead",{className:"bg-slate-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Employee"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Period"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Issued"}),o.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Net"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wider text-slate-600",children:"Linked Expense"}),o.jsx("th",{className:"px-3 py-2"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[s.map(q=>{const ee=r.find(xe=>xe.id===q.employee_id);return o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-sm text-slate-800",children:(ee==null?void 0:ee.name)??q.employee_id}),o.jsxs("td",{className:"px-3 py-2 text-sm text-slate-700",children:[ja(q.period_start)," to ",ja(q.period_end)]}),o.jsx("td",{className:"px-3 py-2 text-sm text-slate-700",children:ja(q.date_issued)}),o.jsx("td",{className:"px-3 py-2 text-right text-sm text-slate-900",children:Tr(q.net_salary)}),o.jsx("td",{className:"px-3 py-2 text-sm",children:q.transaction_id?o.jsx("span",{className:"rounded bg-emerald-50 px-2 py-1 text-emerald-700",children:"Linked"}):o.jsx("span",{className:"rounded bg-slate-50 px-2 py-1 text-slate-600",children:"Not Linked"})}),o.jsxs("td",{className:"px-3 py-2 text-right",children:[o.jsx("button",{className:"rounded-md bg-blue-50 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100",onClick:()=>{ie(q),te(!0)},children:"View"}),o.jsx("button",{className:"ml-2 rounded-md bg-slate-100 px-3 py-1 text-sm text-slate-700 hover:bg-slate-200",onClick:()=>ke(q),children:"Edit"}),o.jsx("button",{className:"ml-2 rounded-md bg-rose-50 px-3 py-1 text-sm text-rose-700 hover:bg-rose-100",onClick:()=>De(q.id),children:"Delete"})]})]},q.id)}),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-sm text-slate-500",children:"No payslips yet."})})]})]})})]}),t==="edit"&&S&&o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-3 text-base font-semibold text-slate-900",children:"Payslip Details"}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsxs("label",{className:"text-sm text-slate-600",children:["Employee",o.jsx("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.employee_id,onChange:q=>{const ee=q.target.value,xe=r.find(ot=>ot.id===ee),Ee=(xe==null?void 0:xe.base_salary)??0,qe=je(S.period_start,S.period_end,Ee),be=s.find(ot=>ot.employee_id===ee);k({...S,employee_id:ee,gross_salary:qe,sss:(be==null?void 0:be.sss)??0,pagibig:(be==null?void 0:be.pagibig)??0,philhealth:(be==null?void 0:be.philhealth)??0,tax:(be==null?void 0:be.tax)??0,bonuses:(be==null?void 0:be.bonuses)??0,allowances:(be==null?void 0:be.allowances)??0,cash_advance:0,loan_deductions:ne(ee,S.date_issued),other_deductions:0})},children:r.map(q=>o.jsx("option",{value:q.id,children:q.name},q.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-slate-600",children:["Period Start",o.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.period_start,onChange:q=>{const ee=q.target.value,xe=r.find(be=>be.id===S.employee_id),Ee=(xe==null?void 0:xe.base_salary)??0,qe=je(ee,S.period_end,Ee);k({...S,period_start:ee,gross_salary:qe})}})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Period End",o.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.period_end,onChange:q=>{const ee=q.target.value,xe=r.find(be=>be.id===S.employee_id),Ee=(xe==null?void 0:xe.base_salary)??0,qe=je(S.period_start,ee,Ee);k({...S,period_end:ee,gross_salary:qe})}})]})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Date Issued",o.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.date_issued,onChange:q=>k({...S,date_issued:q.target.value})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Gross Salary",o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",value:S.gross_salary,onChange:q=>k({...S,gross_salary:Number(q.target.value)})}),o.jsx("div",{className:"mt-1 text-xs text-slate-500",children:(()=>{const q=r.find(Ee=>Ee.id===S.employee_id),ee=(q==null?void 0:q.base_salary)??0;return S.gross_salary===ee/2?"(Half-month salary)":ee>0&&S.gross_salary===ee?"(Full-month salary)":""})()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-slate-600",children:["Bonuses",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.bonuses??0,onChange:q=>k({...S,bonuses:Number(q.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Allowances",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.allowances??0,onChange:q=>k({...S,allowances:Number(q.target.value)})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-slate-600",children:["SSS",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.sss??0,onChange:q=>k({...S,sss:Number(q.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Pag-IBIG",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.pagibig??0,onChange:q=>k({...S,pagibig:Number(q.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["PhilHealth",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.philhealth??0,onChange:q=>k({...S,philhealth:Number(q.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Tax",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.tax??0,onChange:q=>k({...S,tax:Number(q.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Cash Advance",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.cash_advance??0,onChange:q=>k({...S,cash_advance:Number(q.target.value)})})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Loan Deductions",o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.loan_deductions??0,onChange:q=>k({...S,loan_deductions:Number(q.target.value)})}),o.jsx("div",{className:"mt-1 text-xs text-slate-500",children:(()=>{const q=le(S.employee_id,S.date_issued);return q.length>0?`${q.length} active loan(s)`:"No active loans"})()})]})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Other Deductions",o.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.other_deductions??0,onChange:q=>k({...S,other_deductions:Number(q.target.value)})})]})]}),o.jsxs("label",{className:"text-sm text-slate-600",children:["Notes",o.jsx("input",{type:"text",className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm",value:S.notes??"",onChange:q=>k({...S,notes:q.target.value})})]}),o.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-3 rounded-lg border border-slate-200 p-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Additions"}),o.jsx("div",{className:"text-slate-900 font-medium",children:Tr(ae.additions)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Deductions"}),o.jsx("div",{className:"text-slate-900 font-medium",children:Tr(ae.deductions)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Net Salary"}),o.jsx("div",{className:"text-slate-900 font-semibold",children:Tr(ae.net)})]})]})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("div",{className:"mb-3 text-sm font-medium text-slate-700",children:"Preview"}),o.jsx("div",{ref:L,children:J&&o.jsx(E5,{employee:J,payslip:{...S,net_salary:ae.net}})})]})})]}),O&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Bulk Generate Payslips"}),o.jsx("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Period Start"}),o.jsx("input",{type:"date",value:j,onChange:q=>R(q.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Period End"}),o.jsx("input",{type:"date",value:X,onChange:q=>Q(q.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Employees"}),o.jsx("button",{onClick:Ye,className:"text-sm text-blue-600 hover:text-blue-800",children:F.length===r.length?"Deselect All":"Select All"})]}),o.jsxs("div",{className:"max-h-64 space-y-2 overflow-y-auto rounded-lg border border-gray-200 p-3",children:[r.map(q=>o.jsxs("label",{className:"flex items-center gap-3 rounded p-2 hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:F.includes(q.id),onChange:()=>Ve(q.id),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-900",children:q.name}),o.jsxs("div",{className:"text-sm text-gray-500",children:[q.position,"  ",Tr(q.base_salary)]})]})]},q.id)),r.length===0&&o.jsx("p",{className:"text-center text-sm text-gray-500",children:"No employees available"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>I(!1),className:"rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300",children:"Cancel"}),o.jsxs("button",{onClick:$e,className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:["Generate ",F.length," Payslip",F.length!==1?"s":""]})]})]})}),$&&Pe&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"max-h-[80vh] w-full max-w-3xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Salary History"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[Pe.employee.name,"  ",Pe.employee.position]})]}),o.jsx("button",{onClick:()=>{fe(!1),ce(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-4 rounded-lg bg-blue-50 p-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Base Salary"}),o.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:Tr(Pe.employee.base_salary)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Total Payslips"}),o.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:Pe.payslips.length})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Total Paid"}),o.jsx("div",{className:"mt-1 text-lg font-bold text-blue-900",children:Tr(Pe.totalPaid)})]})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-600",children:"Period"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-600",children:"Issued"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Gross"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Deductions"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-600",children:"Net"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Pe.payslips.map(q=>{const ee=(q.sss??0)+(q.pagibig??0)+(q.philhealth??0)+(q.tax??0)+(q.cash_advance??0)+(q.loan_deductions??0)+(q.other_deductions??0);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[ja(q.period_start)," to ",ja(q.period_end)]}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:ja(q.date_issued)}),o.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:Tr(q.gross_salary)}),o.jsx("td",{className:"px-4 py-3 text-right text-sm text-red-600",children:Tr(ee)}),o.jsx("td",{className:"px-4 py-3 text-right text-sm font-bold text-green-600",children:Tr(q.net_salary)})]},q.id)}),Pe.payslips.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No payslips found"})})]})]})})]})}),de&&W&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"max-h-[90vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Payslip Details"}),o.jsx("button",{onClick:()=>{te(!1),ie(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsx("div",{ref:_,className:"rounded-lg border border-gray-200 bg-white p-4",children:o.jsx(E5,{employee:r.find(q=>q.id===W.employee_id),payslip:W})}),o.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>{te(!1),ie(null)},className:"rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300",children:"Close"}),o.jsx("button",{onClick:ct,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Download PDF"})]})]})}),l&&o.jsx("div",{className:"text-sm text-slate-600",children:"Loading..."}),u&&o.jsx("div",{className:"text-sm text-rose-600",children:u})]})}function oR(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(new Date().toISOString().slice(0,10)),[l,c]=T.useState(""),[u,d]=T.useState(""),[f,g]=T.useState(""),[m,w]=T.useState("select"),B=Array.from(new Set(t.map(F=>typeof F.account=="string"?F.account:"").filter(F=>F&&F.trim()!==""))),x=async()=>{n(!0),i(null);const{data:F,error:K}=await He.from("savings").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});K?i(K.message):e(F??[]),n(!1)};T.useEffect(()=>{x()},[]);const y=t.reduce((F,K)=>F+(K.amount??0),0),C=async F=>{if(F.preventDefault(),!u||Number(u)<=0)return alert("Enter a positive amount");const{data:K,error:$}=await He.from("savings").insert([{date:a,description:l||null,amount:Number(u),account:f||null}]).select();if($)return alert($.message);c(""),d(""),g(""),w("select"),await x()},S=async F=>{if(!confirm("Delete this saving entry?"))return;const{error:K}=await He.from("savings").delete().eq("id",F);if(K)return alert(K.message);await x()},[k,O]=T.useState(null),[I,j]=T.useState({date:"",description:"",amount:"",account:"",accountMode:"select"}),R=F=>{O(F.id),j({date:F.date,description:F.description??"",amount:F.amount,account:F.account??"",accountMode:"select"})},X=()=>{O(null),j({date:"",description:"",amount:"",account:"",accountMode:"select"})},Q=async()=>{if(!I.amount||Number(I.amount)<=0)return alert("Enter a positive amount");const{error:F}=await He.from("savings").update({date:I.date,description:I.description||null,amount:Number(I.amount),account:I.account||null}).eq("id",k);if(F)return alert(F.message);X(),await x()};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Savings"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Record amounts saved and track totals."})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-500",children:"Total saved"}),o.jsxs("div",{className:"mt-1 text-2xl font-semibold",children:[" ",y.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),o.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 gap-3 sm:grid-cols-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Date"}),o.jsx("input",{type:"date",value:a,onChange:F=>A(F.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Description"}),o.jsx("input",{type:"text",value:l,onChange:F=>c(F.target.value),className:"mt-1 w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Amount"}),o.jsx("input",{type:"number",step:"0.01",value:u,onChange:F=>d(F.target.value===""?"":Number(F.target.value)),className:"mt-1 w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-600",children:"Account"}),m==="select"?o.jsxs("select",{value:f,onChange:F=>{F.target.value==="__new__"?(w("new"),g("")):g(F.target.value)},className:"mt-1 w-full rounded border px-3 py-2",size:Math.min(5,B.length+2),style:{maxHeight:"120px",overflowY:"auto"},children:[o.jsx("option",{value:"",children:"Select account..."}),B.map(F=>o.jsx("option",{value:F,children:F},F)),o.jsx("option",{value:"__new__",children:"Add new account..."})]}):o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"text",value:f,onChange:F=>g(F.target.value),className:"mt-1 w-full rounded border px-3 py-2",placeholder:"Enter new account name"}),o.jsx("button",{type:"button",className:"mt-1 rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>w("select"),children:"Cancel"})]})]}),o.jsx("div",{className:"sm:col-span-4",children:o.jsx("button",{className:"mt-2 rounded bg-blue-600 px-4 py-2 text-white",children:"Save"})})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Description"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Account"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-600",children:"Loading..."})}),s&&!r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-red-600",children:s})}),!r&&!s&&t.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No savings recorded."})}),!r&&!s&&t.map(F=>o.jsx("tr",{children:k===F.id?o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("input",{type:"date",value:I.date,onChange:K=>j($=>({...$,date:K.target.value})),className:"w-full rounded border px-2 py-1"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("input",{type:"text",value:I.description,onChange:K=>j($=>({...$,description:K.target.value})),className:"w-full rounded border px-2 py-1"})}),o.jsx("td",{className:"px-4 py-2 text-right text-sm",children:o.jsx("input",{type:"number",step:"0.01",value:I.amount,onChange:K=>j($=>({...$,amount:K.target.value===""?"":Number(K.target.value)})),className:"w-full rounded border px-2 py-1 text-right"})}),o.jsx("td",{className:"px-4 py-2 text-sm",children:I.accountMode==="select"?o.jsxs("select",{value:I.account,onChange:K=>{K.target.value==="__new__"?j($=>({...$,accountMode:"new",account:""})):j($=>({...$,account:K.target.value}))},className:"w-full rounded border px-2 py-1",size:Math.min(5,B.length+2),style:{maxHeight:"120px",overflowY:"auto"},children:[o.jsx("option",{value:"",children:"Select account..."}),B.map(K=>o.jsx("option",{value:K,children:K},K)),o.jsx("option",{value:"__new__",children:"Add new account..."})]}):o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"text",value:I.account,onChange:K=>j($=>({...$,account:K.target.value})),className:"w-full rounded border px-2 py-1",placeholder:"Enter new account name"}),o.jsx("button",{type:"button",className:"rounded bg-gray-200 px-2 py-1 text-xs",onClick:()=>j(K=>({...K,accountMode:"select"})),children:"Cancel"})]})}),o.jsxs("td",{className:"px-4 py-2 text-sm flex gap-2",children:[o.jsx("button",{type:"button",className:"rounded bg-blue-600 px-2 py-1 text-white",onClick:Q,children:"Save"}),o.jsx("button",{type:"button",className:"rounded bg-gray-400 px-2 py-1 text-white",onClick:X,children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:F.date}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:F.description??""}),o.jsxs("td",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:[""," ",F.amount.toLocaleString(void 0,{maximumFractionDigits:2})]}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:F.account??""}),o.jsxs("td",{className:"px-4 py-2 text-sm flex gap-2",children:[o.jsx("button",{type:"button",className:"rounded bg-yellow-500 px-2 py-1 text-white",onClick:()=>R(F),children:"Edit"}),o.jsx("button",{onClick:()=>S(F.id),className:"rounded bg-red-600 px-2 py-1 text-white",children:"Delete"})]})]})},F.id))]})]})})]})}async function AR(){try{const{data:{session:t}}=await He.auth.getSession();if(!(t!=null&&t.user))return{success:!1,message:"Please log in to migrate your data",migrated:{items:0,groups:0,history:0}};const e=t.user.id;let r={items:0,groups:0,history:0};const{data:n}=await He.from("request_fund_items").select("id").eq("user_id",e).limit(1);if(n&&n.length>0)return{success:!1,message:"Data already exists in database. Migration not needed.",migrated:{items:0,groups:0,history:0}};const s=localStorage.getItem("request-funds-items");if(s)try{const A=JSON.parse(s);if(Array.isArray(A)&&A.length>0){const l=A.map(u=>({id:u.id,user_id:e,description:u.description,amount:Number(u.amount)||0,request_type:u.requestType,monthly_amount:Number(u.monthlyAmount)||0,half_month_amount:Number(u.halfMonthAmount)||0,remarks:u.remarks||"",status:u.status,group_id:null,history_id:null})),{error:c}=await He.from("request_fund_items").insert(l);if(c)throw c;r.items=A.length}}catch(A){console.error("Error migrating items:",A)}const i=localStorage.getItem("request-funds-groups");if(i)try{const A=JSON.parse(i);if(Array.isArray(A)&&A.length>0){for(const l of A){const{error:c}=await He.from("request_fund_groups").insert({id:l.id,user_id:e,name:l.name,created_at:l.createdAt});if(c)throw c;if(l.items&&l.items.length>0){const u=l.items.map(f=>({id:crypto.randomUUID(),user_id:e,description:f.description,amount:Number(f.amount)||0,request_type:f.requestType,monthly_amount:Number(f.monthlyAmount)||0,half_month_amount:Number(f.halfMonthAmount)||0,remarks:f.remarks||"",status:f.status,group_id:l.id,history_id:null})),{error:d}=await He.from("request_fund_items").insert(u);if(d)throw d}}r.groups=A.length}}catch(A){console.error("Error migrating groups:",A)}const a=localStorage.getItem("request-funds-history");if(a)try{const A=JSON.parse(a);if(Array.isArray(A)&&A.length>0){for(const l of A){const{error:c}=await He.from("request_fund_history").insert({id:l.id,user_id:e,period:l.period,period_label:l.periodLabel,total_monthly:l.totalMonthly,total_half_month:l.totalHalfMonth,total_one_time:l.totalOneTime,total_amount:l.totalAmount,usd_rate:l.usdRate,notes:l.notes||null,created_at:l.createdAt});if(c)throw c;if(l.items&&l.items.length>0){const u=l.items.map(f=>({id:crypto.randomUUID(),user_id:e,description:f.description,amount:Number(f.amount)||0,request_type:f.requestType,monthly_amount:Number(f.monthlyAmount)||0,half_month_amount:Number(f.halfMonthAmount)||0,remarks:f.remarks||"",status:f.status,group_id:null,history_id:l.id})),{error:d}=await He.from("request_fund_items").insert(u);if(d)throw d}}r.history=A.length}}catch(A){console.error("Error migrating history:",A)}return(r.items>0||r.groups>0||r.history>0)&&(localStorage.removeItem("request-funds-items"),localStorage.removeItem("request-funds-groups"),localStorage.removeItem("request-funds-history")),{success:!0,message:`Successfully migrated ${r.items} items, ${r.groups} groups, and ${r.history} history records to the database.`,migrated:r}}catch(t){return console.error("Migration error:",t),{success:!1,message:`Migration failed: ${t instanceof Error?t.message:"Unknown error"}`,migrated:{items:0,groups:0,history:0}}}}function lR(){const t=localStorage.getItem("request-funds-items"),e=localStorage.getItem("request-funds-groups"),r=localStorage.getItem("request-funds-history");return!!(t||e||r)}function cR(){const[t,e]=T.useState([]),[r,n]=T.useState(""),[s,i]=T.useState(""),[a,A]=T.useState("whole_month"),[l,c]=T.useState(""),[u,d]=T.useState("N/A"),[f,g]=T.useState("56"),[m,w]=T.useState(!1),[B,x]=T.useState(""),[y,C]=T.useState(new Set),[S,k]=T.useState([]),[O,I]=T.useState([]),[j,R]=T.useState(""),[X,Q]=T.useState(!1),[F,K]=T.useState(null),[$,fe]=T.useState(!1),[re,ce]=T.useState(null),[W,ie]=T.useState(!1),[de,te]=T.useState(""),[_,L]=T.useState(""),[M,z]=T.useState(!0),[J,ae]=T.useState(!1),[le,ne]=T.useState(!1),[we,_e]=T.useState(!1),je=T.useRef(null),ke=async()=>{const{data:{session:se}}=await He.auth.getSession();return(se==null?void 0:se.user)||null},De=async()=>{w(!0),x("");try{const se=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!se.ok)throw new Error("Failed to fetch exchange rate");const oe=await se.json();if(oe.rates&&oe.rates.PHP)g(String(oe.rates.PHP));else throw new Error("PHP rate not found in response")}catch(se){console.error("Error fetching exchange rate:",se),x("Failed to fetch current rate")}finally{w(!1)}},me=async()=>{try{const se=await ke();if(!se){console.error("No authenticated user"),z(!1);return}const{data:oe,error:Ge}=await He.from("request_fund_items").select("*").eq("user_id",se.id).is("history_id",null).order("created_at",{ascending:!0});if(Ge)console.error("Error loading items:",Ge);else{const Lt=(oe||[]).map(wt=>({id:wt.id,description:wt.description,amount:wt.amount,requestType:wt.request_type,monthlyAmount:wt.monthly_amount,halfMonthAmount:wt.half_month_amount,remarks:wt.remarks||"",status:wt.status,groupId:wt.group_id}));e(Lt)}const{data:We,error:lt}=await He.from("request_fund_groups").select(`
          *,
          request_fund_items(*)
        `).eq("user_id",se.id).order("created_at",{ascending:!1});if(lt)console.error("Error loading groups:",lt);else{const Lt=(We||[]).map(wt=>({id:wt.id,name:wt.name,createdAt:wt.created_at,items:(wt.request_fund_items||[]).map(pt=>({id:pt.id,description:pt.description,amount:pt.amount,requestType:pt.request_type,monthlyAmount:pt.monthly_amount,halfMonthAmount:pt.half_month_amount,remarks:pt.remarks||"",status:pt.status,groupId:pt.group_id}))}));k(Lt)}const{data:et,error:bt}=await He.from("request_fund_history").select(`
          *,
          request_fund_items(*)
        `).eq("user_id",se.id).order("created_at",{ascending:!1});if(bt)console.error("Error loading history:",bt);else{const Lt=(et||[]).map(wt=>({id:wt.id,period:wt.period,periodLabel:wt.period_label,createdAt:wt.created_at,totalMonthly:wt.total_monthly,totalHalfMonth:wt.total_half_month,totalOneTime:wt.total_one_time,totalAmount:wt.total_amount,usdRate:wt.usd_rate,notes:wt.notes,items:(wt.request_fund_items||[]).map(pt=>({id:pt.id,description:pt.description,amount:pt.amount,requestType:pt.request_type,monthlyAmount:pt.monthly_amount,halfMonthAmount:pt.half_month_amount,remarks:pt.remarks||"",status:pt.status,groupId:pt.group_id}))}));I(Lt)}}catch(se){console.error("Error loading data:",se)}finally{z(!1)}},Y=async()=>{_e(!0);try{const se=await AR();se.success?(alert(se.message),ne(!1),await me()):(alert(se.message),se.message.includes("already exists")&&(ne(!1),await me()))}catch(se){console.error("Migration error:",se),alert("Migration failed. Please try again.")}finally{_e(!1)}},ct=()=>{ne(!1),me()},Ke=async se=>{try{const oe=await ke();if(!oe)return;if(await He.from("request_fund_items").delete().eq("user_id",oe.id).is("history_id",null),se.length>0){const Ge=se.map(lt=>({id:lt.id,user_id:oe.id,description:lt.description,amount:Number(lt.amount)||0,request_type:lt.requestType,monthly_amount:Number(lt.monthlyAmount)||0,half_month_amount:Number(lt.halfMonthAmount)||0,remarks:lt.remarks,status:lt.status,group_id:lt.groupId||null,history_id:null})),{error:We}=await He.from("request_fund_items").insert(Ge);if(We)throw console.error("Error saving items:",We),We}}catch(oe){throw console.error("Error in saveCurrentItems:",oe),oe}};T.useEffect(()=>{De(),lR()?ne(!0):me()},[]);const Qe=async()=>{if(!r.trim())return alert("Enter a description");let se=0,oe=0,Ge=0;if(a==="whole_month"?(se=s?Number(s):0,oe=se/2,Ge=se):a==="half_month"?(oe=s?Number(s):0,se=oe*2,Ge=oe):(Ge=s?Number(s):0,se=0,oe=0),isNaN(Ge)||Ge<=0)return alert("Enter a valid amount");const We={id:crypto.randomUUID(),description:r.trim(),amount:Ge,requestType:a,monthlyAmount:se,halfMonthAmount:oe,remarks:l.trim(),status:u},lt=[...t,We];e(lt);try{await Ke(lt)}catch(et){console.error("Failed to save item:",et),alert("Failed to save item. Please try again.");return}n(""),i(""),c(""),d("N/A")},Re=async se=>{const oe=t.filter(Ge=>Ge.id!==se);e(oe),C(Ge=>{const We=new Set(Ge);return We.delete(se),We});try{await Ke(oe)}catch(Ge){console.error("Failed to remove item:",Ge),alert("Failed to remove item. Please try again.")}},$e=se=>{C(oe=>{const Ge=new Set(oe);return Ge.has(se)?Ge.delete(se):Ge.add(se),Ge})},Ve=()=>{if(y.size===0)return alert("Please select at least one item to save as a group");Q(!0)},Ye=async()=>{if(!j.trim())return alert("Please enter a group name");ae(!0);try{const se=await ke();if(!se){alert("Please log in to save groups");return}const oe=t.filter(bt=>y.has(bt.id)),Ge=crypto.randomUUID(),{error:We}=await He.from("request_fund_groups").insert({id:Ge,user_id:se.id,name:j.trim()});if(We)throw We;const lt=oe.map(bt=>({id:crypto.randomUUID(),user_id:se.id,description:bt.description,amount:Number(bt.amount)||0,request_type:bt.requestType,monthly_amount:Number(bt.monthlyAmount)||0,half_month_amount:Number(bt.halfMonthAmount)||0,remarks:bt.remarks,status:bt.status,group_id:Ge,history_id:null})),{error:et}=await He.from("request_fund_items").insert(lt);if(et)throw et;await me(),R(""),Q(!1),C(new Set),alert("Group saved successfully!")}catch(se){console.error("Error saving group:",se),alert("Failed to save group. Please try again.")}finally{ae(!1)}},Ne=async se=>{if(confirm("Are you sure you want to delete this group?"))try{const{error:oe}=await He.from("request_fund_groups").delete().eq("id",se);if(oe)throw oe;k(Ge=>Ge.filter(We=>We.id!==se)),alert("Group deleted successfully!")}catch(oe){console.error("Error deleting group:",oe),alert("Failed to delete group. Please try again.")}},Pe=se=>{K(se)},q=()=>{K(null)},ee=()=>{if(t.length===0)return alert("No items to save to history");const se=new Date,oe=`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`;te(oe),L(""),ie(!0)},xe=async()=>{if(!de.trim())return alert("Please enter a period");ae(!0);try{const se=await ke();if(!se){alert("Please log in to save history");return}const{data:oe}=await He.from("request_fund_history").select("id").eq("user_id",se.id).eq("period",de.trim()).single();if(oe){if(!confirm("A record for this period already exists. Do you want to overwrite it?")){ae(!1);return}await He.from("request_fund_history").delete().eq("id",oe.id)}const[Ge,We]=de.split("-"),et=`${["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(We)-1]} ${Ge}`,bt=crypto.randomUUID(),{error:Lt}=await He.from("request_fund_history").insert({id:bt,user_id:se.id,period:de.trim(),period_label:et,total_monthly:mt.monthly,total_half_month:mt.half,total_one_time:mt.oneTime,total_amount:mt.overall,usd_rate:Number(f)||56,notes:_.trim()||null});if(Lt)throw Lt;const wt=t.map(Vt=>({id:crypto.randomUUID(),user_id:se.id,description:Vt.description,amount:Number(Vt.amount)||0,request_type:Vt.requestType,monthly_amount:Number(Vt.monthlyAmount)||0,half_month_amount:Number(Vt.halfMonthAmount)||0,remarks:Vt.remarks,status:Vt.status,group_id:null,history_id:bt})),{error:pt}=await He.from("request_fund_items").insert(wt);if(pt)throw pt;await me(),ie(!1),te(""),L(""),alert("Successfully saved to history!")}catch(se){console.error("Error saving history:",se),alert("Failed to save to history. Please try again.")}finally{ae(!1)}},Ee=async se=>{if(confirm("Are you sure you want to delete this history record?"))try{const{error:oe}=await He.from("request_fund_history").delete().eq("id",se);if(oe)throw oe;I(Ge=>Ge.filter(We=>We.id!==se)),alert("History deleted successfully!")}catch(oe){console.error("Error deleting history:",oe),alert("Failed to delete history. Please try again.")}},qe=se=>{ce(se),fe(!0)},be=()=>{ce(null),fe(!1)},ot=async se=>{if(t.length>0&&!confirm("This will replace your current items. Continue?"))return;const oe=se.items.map(Ge=>({...Ge,id:crypto.randomUUID()}));e(oe),g(String(se.usdRate));try{await Ke(oe),be(),alert("Items loaded from history!")}catch(Ge){console.error("Failed to load from history:",Ge),alert("Failed to load items. Please try again.")}},[At,Ut]=T.useState(null),[rt,Me]=T.useState({description:"",amount:"",requestType:"whole_month",remarks:"",status:"N/A"}),Dt=se=>{Ut(se.id),Me({description:se.description,amount:String(Number(se.amount)||0),requestType:se.requestType,remarks:se.remarks,status:se.status})},ye=()=>{Ut(null),Me({description:"",amount:"",requestType:"whole_month",remarks:"",status:"N/A"})},Ht=async()=>{if(!At)return;if(!rt.description.trim())return alert("Enter a description");const se=rt.amount?Number(rt.amount):0;if(isNaN(se)||se<=0)return alert("Enter a valid amount");let oe=0,Ge=0;rt.requestType==="whole_month"?(oe=se,Ge=se/2):rt.requestType==="half_month"?(Ge=se,oe=se*2):(oe=0,Ge=0);const We=t.map(lt=>lt.id===At?{...lt,description:rt.description.trim(),amount:se,requestType:rt.requestType,monthlyAmount:oe,halfMonthAmount:Ge,remarks:rt.remarks.trim(),status:rt.status}:lt);e(We);try{await Ke(We),ye()}catch(lt){console.error("Failed to save edit:",lt),alert("Failed to save changes. Please try again.")}},mt=T.useMemo(()=>{const se=t.reduce((We,lt)=>We+(Number(lt.monthlyAmount)||0),0),oe=t.reduce((We,lt)=>We+(Number(lt.halfMonthAmount)||0),0),Ge=t.reduce((We,lt)=>lt.requestType==="one_time"?We+(Number(lt.amount)||0):We,0);return{monthly:se,half:oe,oneTime:Ge,overall:se+oe+Ge}},[t]),vt=se=>` ${se.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Et=se=>`$ ${se.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,yt=se=>{const oe=Number(f);return!oe||isNaN(oe)||oe<=0?0:se/oe},ht=async()=>{if(!je.current)return;const se=je.current;document.body.classList.add("pdf-mode");const oe=await Op(se,{scale:4,useCORS:!0,backgroundColor:"#ffffff"}),Ge=oe.toDataURL("image/png"),We=new dt({orientation:"p",unit:"pt",format:"a4"}),lt=We.internal.pageSize.getWidth(),et=We.internal.pageSize.getHeight(),bt=lt-40,Lt=oe.height*bt/oe.width;let wt=20;if(Lt<=et-40)We.addImage(Ge,"PNG",20,wt,bt,Lt);else{let pt=0;const Vt=oe.width*(et-40)/bt;for(;pt<oe.height;){const xr=document.createElement("canvas");xr.width=oe.width,xr.height=Math.min(Vt,oe.height-pt);const ki=xr.getContext("2d");ki&&ki.drawImage(oe,0,pt,oe.width,xr.height,0,0,oe.width,xr.height);const Ls=xr.toDataURL("image/png");We.addImage(Ls,"PNG",20,20,bt,xr.height*bt/oe.width),pt+=xr.height,pt<oe.height&&We.addPage()}}We.save(`request-funds-${Date.now()}.pdf`),document.body.classList.remove("pdf-mode")};return M?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-600",children:"Loading request funds data..."})]})}):le?o.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:o.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-2",children:"Data Migration Required"}),o.jsx("p",{className:"text-amber-800 mb-4",children:"We found existing request funds data stored locally on this device. To enable cross-device sync, we need to migrate this data to the cloud database. This will allow you to access your request funds history from any device."}),o.jsxs("div",{className:"bg-amber-100 rounded-lg p-3 mb-4",children:[o.jsx("p",{className:"text-sm text-amber-800",children:o.jsx("strong",{children:"What will be migrated:"})}),o.jsxs("ul",{className:"text-sm text-amber-700 mt-1 ml-4 list-disc",children:[o.jsx("li",{children:"Current request items"}),o.jsx("li",{children:"Saved groups and templates"}),o.jsx("li",{children:"Historical request records"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:Y,disabled:we,className:"rounded-md bg-amber-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-amber-700 disabled:bg-slate-400 disabled:cursor-not-allowed",children:we?"Migrating...":"Migrate Data"}),o.jsx("button",{onClick:ct,disabled:we,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white shadow hover:bg-slate-600 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Skip (Start Fresh)"})]}),o.jsx("p",{className:"text-xs text-amber-600 mt-2",children:"Note: If you skip migration, your existing local data will remain on this device but won't sync to other devices."})]})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-end justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Request Funds"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Prepare a request with monthly and half-month items, remarks, and status. Data syncs across all your devices."}),y.size>0&&o.jsx("div",{className:"mt-2",children:o.jsx("button",{onClick:Ve,disabled:J,className:"rounded-md bg-purple-600 px-4 py-1.5 text-sm font-medium text-white shadow hover:bg-purple-700 disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?"Saving...":`Save ${y.size} Selected as Group`})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-slate-600",title:"PHP per 1 USD",children:"USD Rate (PHP  USD)"}),o.jsx("input",{type:"number",step:"0.0001",min:"0",value:f,onChange:se=>g(se.target.value),className:"w-28 rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"56.00",disabled:m}),o.jsx("button",{onClick:De,disabled:m,className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white shadow hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed",title:"Refresh current rate",children:m?"...":""}),B&&o.jsx("span",{className:"text-xs text-red-600",children:B})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:ee,disabled:J,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700 disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?"Saving...":"Save to History"}),o.jsx("button",{onClick:()=>fe(!0),className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-purple-700",children:"View History"}),o.jsx("button",{onClick:ht,className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700",children:"Save as PDF"})]})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Description"}),o.jsx("input",{type:"text",value:r,onChange:se=>n(se.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g. Utilities, Internet, Supplies"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Request Type"}),o.jsxs("select",{value:a,onChange:se=>A(se.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"whole_month",children:"Whole Month"}),o.jsx("option",{value:"half_month",children:"Half Month"}),o.jsx("option",{value:"one_time",children:"One-time"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600",children:a==="whole_month"?"Monthly Amount":a==="half_month"?"Half-Month Amount":"Amount"}),o.jsx("input",{type:"number",step:"0.01",value:s,onChange:se=>i(se.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Status"}),o.jsxs("select",{value:u,onChange:se=>d(se.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"N/A",children:"N/A"}),o.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),o.jsx("option",{value:"Fully Paid",children:"Fully Paid"})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-600",children:"Remarks"}),o.jsx("input",{type:"text",value:l,onChange:se=>c(se.target.value),className:"mt-1 w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Optional notes"})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{onClick:Qe,disabled:J,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?"Adding...":"Add Item"})})]}),o.jsxs("div",{ref:je,className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm text-[13px] leading-6",children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Request Funds Summary"}),o.jsxs("div",{className:"text-xs text-slate-500",children:["Generated: ",new Date().toLocaleString()]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-slate-500",children:"Exchange Rate (Today)"}),o.jsxs("div",{className:"text-sm font-medium text-slate-700",children:["1 USD ="," ",Number(f||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})," ","PHP"]})]})]}),t.length===0?o.jsx("div",{className:"text-sm text-slate-500",children:"No items added."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[o.jsx("th",{className:"p-2 print:hidden w-10",children:o.jsx("input",{type:"checkbox",checked:t.length>0&&y.size===t.length,onChange:se=>{se.target.checked?C(new Set(t.map(oe=>oe.id))):C(new Set)},className:"rounded border-slate-300"})}),o.jsx("th",{className:"p-2",children:"Description"}),o.jsx("th",{className:"p-2",children:"Type"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),o.jsx("th",{className:"p-2",children:"Status"}),o.jsx("th",{className:"p-2",children:"Remarks"}),o.jsx("th",{className:"p-2 print:hidden",children:"Actions"})]})}),o.jsx("tbody",{children:t.map(se=>{if(At===se.id){const We=rt.amount?Number(rt.amount):0;let lt=0,et=0;return rt.requestType==="whole_month"?(lt=We,et=We/2):rt.requestType==="half_month"&&(et=We,lt=We*2),o.jsxs("tr",{className:"border-b border-slate-100 bg-yellow-50",children:[o.jsx("td",{className:"p-2 print:hidden",children:o.jsx("input",{type:"checkbox",checked:y.has(se.id),onChange:()=>$e(se.id),className:"rounded border-slate-300"})}),o.jsx("td",{className:"p-2 text-slate-900",children:o.jsx("input",{type:"text",value:rt.description,onChange:bt=>Me(Lt=>({...Lt,description:bt.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("td",{className:"p-2",children:o.jsxs("select",{value:rt.requestType,onChange:bt=>Me(Lt=>({...Lt,requestType:bt.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"whole_month",children:"Whole Month"}),o.jsx("option",{value:"half_month",children:"Half Month"}),o.jsx("option",{value:"one_time",children:"One-time"})]})}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:o.jsx("input",{type:"number",step:"0.01",value:rt.amount,onChange:bt=>Me(Lt=>({...Lt,amount:bt.target.value})),className:"w-full rounded-md border-slate-300 text-right font-normal shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(We))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(lt)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(lt))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(et)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(et))}),o.jsx("td",{className:"p-2",children:o.jsxs("select",{value:rt.status,onChange:bt=>Me(Lt=>({...Lt,status:bt.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"N/A",children:"N/A"}),o.jsx("option",{value:"Partially Paid",children:"Partially Paid"}),o.jsx("option",{value:"Fully Paid",children:"Fully Paid"})]})}),o.jsx("td",{className:"p-2",children:o.jsx("input",{type:"text",value:rt.remarks,onChange:bt=>Me(Lt=>({...Lt,remarks:bt.target.value})),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})}),o.jsxs("td",{className:"p-2 space-x-2 whitespace-nowrap print:hidden",children:[o.jsx("button",{onClick:Ht,disabled:J,className:"rounded-md bg-emerald-600 px-3 py-1 text-xs font-medium text-white hover:bg-emerald-700 disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?"...":"Save"}),o.jsx("button",{onClick:ye,className:"rounded-md bg-slate-500 px-3 py-1 text-xs font-medium text-white hover:bg-slate-600",children:"Cancel"})]})]},se.id)}const Ge=We=>{switch(We){case"whole_month":return"Whole Month";case"half_month":return"Half Month";case"one_time":return"One-time";default:return We}};return o.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[o.jsx("td",{className:"p-2 print:hidden",children:o.jsx("input",{type:"checkbox",checked:y.has(se.id),onChange:()=>$e(se.id),className:"rounded border-slate-300"})}),o.jsx("td",{className:"p-2 text-slate-900",children:se.description}),o.jsx("td",{className:"p-2 text-slate-900",children:o.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${se.requestType==="whole_month"?"bg-blue-100 text-blue-800":se.requestType==="half_month"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:Ge(se.requestType)})}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(Number(se.amount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(Number(se.amount)||0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(Number(se.monthlyAmount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(Number(se.monthlyAmount)||0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(Number(se.halfMonthAmount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(Number(se.halfMonthAmount)||0))}),o.jsx("td",{className:"p-2",children:se.status}),o.jsx("td",{className:"p-2",children:se.remarks||""}),o.jsxs("td",{className:"p-2 space-x-2 whitespace-nowrap print:hidden",children:[o.jsx("button",{onClick:()=>Dt(se),className:"rounded-md bg-blue-600 px-3 py-1 text-xs font-medium text-white hover:bg-blue-700",children:"Edit"}),o.jsx("button",{onClick:()=>Re(se.id),className:"rounded-md bg-rose-600 px-3 py-1 text-xs font-medium text-white hover:bg-rose-700",children:"Remove"})]})]},se.id)})}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"font-medium bg-slate-100",children:[o.jsx("td",{className:"p-2 print:hidden"}),o.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),o.jsx("td",{className:"p-2"}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(mt.oneTime)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(yt(mt.oneTime))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(mt.monthly)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(yt(mt.monthly))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(mt.half)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(yt(mt.half))}),o.jsx("td",{className:"p-2",colSpan:2})]})})]})})]}),S.length>0&&o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Saved Groups"}),o.jsx("div",{className:"space-y-2",children:S.map(se=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 p-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-slate-900",children:se.name}),o.jsxs("div",{className:"text-xs text-slate-500",children:[se.items.length," items  Created"," ",new Date(se.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>Pe(se),className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700",children:"Show Items"}),o.jsx("button",{onClick:()=>Ne(se.id),className:"rounded-md bg-rose-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-rose-700",children:"Delete"})]})]},se.id))})]}),X&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[o.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Save Selected Items as Group"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Group Name"}),o.jsx("input",{type:"text",value:j,onChange:se=>R(se.target.value),onKeyDown:se=>{se.key==="Enter"&&Ye()},className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g., Monthly Expenses Oct 2025",autoFocus:!0,disabled:J})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>{Q(!1),R("")},disabled:J,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Cancel"}),o.jsx("button",{onClick:Ye,disabled:J,className:"rounded-md bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700 disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?"Saving...":"Save Group"})]})]})}),F&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-5xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:F.name}),o.jsxs("p",{className:"text-sm text-slate-500",children:[F.items.length," items  Created"," ",new Date(F.createdAt).toLocaleDateString()]})]}),o.jsx("button",{onClick:q,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[o.jsx("th",{className:"p-2",children:"Description"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Total"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Total (USD)"}),o.jsx("th",{className:"p-2",children:"Status"}),o.jsx("th",{className:"p-2",children:"Remarks"})]})}),o.jsx("tbody",{children:F.items.map(se=>{const oe=Number(se.monthlyAmount)||0,Ge=Number(se.halfMonthAmount)||0,We=oe+Ge;return o.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[o.jsx("td",{className:"p-2 text-slate-900",children:se.description}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(oe)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(oe))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(Ge)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(Ge))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(We)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et(yt(We))}),o.jsx("td",{className:"p-2",children:se.status}),o.jsx("td",{className:"p-2",children:se.remarks||""})]},se.id)})}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"font-medium bg-slate-100",children:[o.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(F.items.reduce((se,oe)=>se+(Number(oe.monthlyAmount)||0),0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(yt(F.items.reduce((se,oe)=>se+(Number(oe.monthlyAmount)||0),0)))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(F.items.reduce((se,oe)=>se+(Number(oe.halfMonthAmount)||0),0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(yt(F.items.reduce((se,oe)=>se+(Number(oe.halfMonthAmount)||0),0)))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(F.items.reduce((se,oe)=>se+(Number(oe.monthlyAmount)||0)+(Number(oe.halfMonthAmount)||0),0))}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(yt(F.items.reduce((se,oe)=>se+(Number(oe.monthlyAmount)||0)+(Number(oe.halfMonthAmount)||0),0)))}),o.jsx("td",{className:"p-2",colSpan:2})]})})]})})]})}),W&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[o.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Save Current Request to History"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Period (YYYY-MM)"}),o.jsx("input",{type:"month",value:de,onChange:se=>te(se.target.value),className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",autoFocus:!0,disabled:J})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm text-slate-600 mb-2",children:"Notes (Optional)"}),o.jsx("textarea",{value:_,onChange:se=>L(se.target.value),rows:3,className:"w-full rounded-md border-slate-300 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes about this request period...",disabled:J})]}),o.jsx("div",{className:"mb-4 rounded-lg bg-blue-50 p-3",children:o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Summary:"}),o.jsxs("div",{className:"mt-1 text-xs",children:[" ",t.length," items  Monthly: ",vt(mt.monthly)," Half-Month: ",vt(mt.half)," One-time: ",vt(mt.oneTime)," Total: ",vt(mt.overall)]})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>{ie(!1),te(""),L("")},disabled:J,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Cancel"}),o.jsx("button",{onClick:xe,disabled:J,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?"Saving...":"Save to History"})]})]})}),$&&!re&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-4xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Fund Request History"}),o.jsx("button",{onClick:()=>fe(!1),className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]}),O.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-slate-500 mb-2",children:"No history records found"}),o.jsx("div",{className:"text-sm text-slate-400",children:"Save your current request to create the first history record"})]}):o.jsx("div",{className:"space-y-3",children:O.sort((se,oe)=>new Date(oe.createdAt).getTime()-new Date(se.createdAt).getTime()).map(se=>o.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-slate-900",children:se.periodLabel}),o.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:[se.items.length," items  Created ",new Date(se.createdAt).toLocaleDateString()]}),se.notes&&o.jsxs("div",{className:"text-sm text-slate-500 mt-1 italic",children:['"',se.notes,'"']}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Monthly"}),o.jsx("div",{className:"font-medium text-slate-900",children:vt(se.totalMonthly)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Half-Month"}),o.jsx("div",{className:"font-medium text-slate-900",children:vt(se.totalHalfMonth)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"One-time"}),o.jsx("div",{className:"font-medium text-slate-900",children:vt(se.totalOneTime)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-500",children:"Total"}),o.jsx("div",{className:"font-semibold text-slate-900",children:vt(se.totalAmount)})]})]})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx("button",{onClick:()=>qe(se),className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700",children:"View Details"}),o.jsx("button",{onClick:()=>ot(se),className:"rounded-md bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700",children:"Load Items"}),o.jsx("button",{onClick:()=>Ee(se.id),className:"rounded-md bg-rose-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-rose-700",children:"Delete"})]})]})},se.id))})]})}),re&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-6xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:[re.periodLabel," - Fund Request Details"]}),o.jsxs("p",{className:"text-sm text-slate-500",children:[re.items.length," items  Created ",new Date(re.createdAt).toLocaleDateString(),re.notes&&`  ${re.notes}`]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>ot(re),className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Load Items"}),o.jsx("button",{onClick:be,className:"rounded-md bg-slate-500 px-4 py-2 text-sm font-medium text-white hover:bg-slate-600",children:"Close"})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-slate-50 rounded-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-slate-500",children:"Monthly Total"}),o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:vt(re.totalMonthly)}),o.jsx("div",{className:"text-xs text-slate-600",children:Et(re.totalMonthly/re.usdRate)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-slate-500",children:"Half-Month Total"}),o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:vt(re.totalHalfMonth)}),o.jsx("div",{className:"text-xs text-slate-600",children:Et(re.totalHalfMonth/re.usdRate)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-slate-500",children:"One-time Total"}),o.jsx("div",{className:"text-lg font-semibold text-slate-900",children:vt(re.totalOneTime)}),o.jsx("div",{className:"text-xs text-slate-600",children:Et(re.totalOneTime/re.usdRate)})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-slate-500",children:"Grand Total"}),o.jsx("div",{className:"text-xl font-bold text-slate-900",children:vt(re.totalAmount)}),o.jsx("div",{className:"text-xs text-slate-600",children:Et(re.totalAmount/re.usdRate)})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full table-fixed text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50 text-slate-700",children:[o.jsx("th",{className:"p-2",children:"Description"}),o.jsx("th",{className:"p-2",children:"Type"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Amount (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Monthly (USD)"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half-Month"}),o.jsx("th",{className:"p-2 text-right text-slate-900",children:"Half (USD)"}),o.jsx("th",{className:"p-2",children:"Status"}),o.jsx("th",{className:"p-2",children:"Remarks"})]})}),o.jsx("tbody",{children:re.items.map(se=>{const oe=Ge=>{switch(Ge){case"whole_month":return"Whole Month";case"half_month":return"Half Month";case"one_time":return"One-time";default:return Ge}};return o.jsxs("tr",{className:"border-b border-slate-100 odd:bg-white even:bg-slate-50",children:[o.jsx("td",{className:"p-2 text-slate-900",children:se.description}),o.jsx("td",{className:"p-2 text-slate-900",children:o.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${se.requestType==="whole_month"?"bg-blue-100 text-blue-800":se.requestType==="half_month"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:oe(se.requestType)})}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(Number(se.amount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et((Number(se.amount)||0)/re.usdRate)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(Number(se.monthlyAmount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et((Number(se.monthlyAmount)||0)/re.usdRate)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:vt(Number(se.halfMonthAmount)||0)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums text-slate-900",children:Et((Number(se.halfMonthAmount)||0)/re.usdRate)}),o.jsx("td",{className:"p-2",children:se.status}),o.jsx("td",{className:"p-2",children:se.remarks||""})]},se.id)})}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"font-medium bg-slate-100",children:[o.jsx("td",{className:"p-2 text-slate-900",children:"Totals"}),o.jsx("td",{className:"p-2"}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(re.totalOneTime)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(re.totalOneTime/re.usdRate)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(re.totalMonthly)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(re.totalMonthly/re.usdRate)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:vt(re.totalHalfMonth)}),o.jsx("td",{className:"p-2 text-right font-mono tabular-nums",children:Et(re.totalHalfMonth/re.usdRate)}),o.jsx("td",{className:"p-2",colSpan:2})]})})]})})]})})]})}function uR(){const[t,e]=T.useState(""),[r,n]=T.useState(new Date().toISOString().split("T")[0]),[s,i]=T.useState(""),[a,A]=T.useState(""),[l,c]=T.useState(""),[u,d]=T.useState(""),[f,g]=T.useState([{id:"1",description:"",amount:0}]),[m,w]=T.useState(""),[B,x]=T.useState("Payment due within 30 days"),[y,C]=T.useState([]),[S,k]=T.useState([]),[O,I]=T.useState(!1),[j,R]=T.useState(!1),[X,Q]=T.useState(""),[F,K]=T.useState(null);T.useEffect(()=>{const ne=localStorage.getItem("savedClients"),we=localStorage.getItem("savedDescriptions");ne&&C(JSON.parse(ne)),we&&k(JSON.parse(we))},[]);const $=()=>{if(!a.trim()){alert("Please enter a client name");return}const ne={name:a,email:l,address:u},we=[...y,ne];C(we),localStorage.setItem("savedClients",JSON.stringify(we)),alert("Client saved successfully!")},fe=ne=>{A(ne.name),c(ne.email),d(ne.address),I(!1)},re=ne=>{if(confirm("Delete this client?")){const we=y.filter((_e,je)=>je!==ne);C(we),localStorage.setItem("savedClients",JSON.stringify(we))}},ce=()=>{if(!X.trim()){alert("Please enter a description");return}const ne={id:Date.now().toString(),text:X},we=[...S,ne];k(we),localStorage.setItem("savedDescriptions",JSON.stringify(we)),Q(""),alert("Description saved successfully!")},W=ne=>{F&&_(F,"description",ne.text),R(!1),K(null)},ie=ne=>{if(confirm("Delete this description?")){const we=S.filter(_e=>_e.id!==ne);k(we),localStorage.setItem("savedDescriptions",JSON.stringify(we))}},de=()=>{const ne=(Math.max(...f.map(we=>parseInt(we.id)),0)+1).toString();g([...f,{id:ne,description:"",amount:0}])},te=ne=>{f.length>1&&g(f.filter(we=>we.id!==ne))},_=(ne,we,_e)=>{g(f.map(je=>je.id===ne?{...je,[we]:_e}:je))},L=f.reduce((ne,we)=>ne+we.amount,0),M=0,z=L+M,J=()=>{const ne={id:Date.now().toString(),invoiceNumber:t,invoiceDate:r,dueDate:s,clientName:a,clientEmail:l,clientAddress:u,items:f,notes:m,terms:B,subtotal:L,tax:M,total:z,createdAt:new Date().toISOString()},we=localStorage.getItem("savedInvoices"),_e=we?JSON.parse(we):[];_e.push(ne),localStorage.setItem("savedInvoices",JSON.stringify(_e))},ae=async()=>{const ne=document.getElementById("invoice-content");if(!ne){alert("Invoice content not found");return}try{const we=ne.cloneNode(!0);we.querySelectorAll(".print\\:hidden").forEach(Ve=>Ve.remove()),we.querySelectorAll(".print\\:block").forEach(Ve=>{Ve.style.display="block"}),we.style.position="absolute",we.style.left="-9999px",document.body.appendChild(we);const ke=await Op(we,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",windowWidth:1200});document.body.removeChild(we);const De=ke.toDataURL("image/png"),me=new dt({orientation:"portrait",unit:"mm",format:"a4"}),Y=210,ct=297,Ke=ke.height*Y/ke.width;let Qe=Ke,Re=0;for(me.addImage(De,"PNG",0,Re,Y,Ke),Qe-=ct;Qe>0;)Re=Qe-Ke,me.addPage(),me.addImage(De,"PNG",0,Re,Y,Ke),Qe-=ct;const $e=t?`Invoice-${t}.pdf`:`Invoice-${new Date().toISOString().split("T")[0]}.pdf`;me.save($e),J(),alert("Invoice saved successfully!")}catch(we){console.error("Error generating PDF:",we),alert("Failed to generate PDF. Please try again.")}},le=()=>{e(""),n(new Date().toISOString().split("T")[0]),i(""),A(""),c(""),d(""),g([{id:"1",description:"",amount:0}]),w(""),x("Payment due within 30 days")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between print:hidden",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice Maker"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>I(!0),className:"rounded bg-emerald-500 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-600",children:" Saved Clients"}),o.jsx("button",{onClick:()=>R(!0),className:"rounded bg-purple-500 px-4 py-2 text-sm font-medium text-white hover:bg-purple-600",children:" Saved Descriptions"}),o.jsx("button",{onClick:le,className:"rounded bg-gray-500 px-4 py-2 text-sm font-medium text-white hover:bg-gray-600",children:"Reset"}),o.jsx("button",{onClick:ae,className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Save as PDF"})]})]}),O&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:hidden",children:o.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Saved Clients"}),o.jsx("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:[o.jsx("h4",{className:"mb-2 font-semibold text-blue-900",children:"Save Current Client"}),o.jsx("p",{className:"mb-3 text-sm text-blue-700",children:"Fill in the client details in the invoice form, then click save."}),o.jsx("button",{onClick:$,className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:" Save Current Client"})]}),o.jsx("div",{className:"space-y-3",children:y.length===0?o.jsx("p",{className:"text-center text-sm text-gray-500",children:"No saved clients yet"}):y.map((ne,we)=>o.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:ne.name}),o.jsx("div",{className:"text-sm text-gray-600",children:ne.email}),o.jsx("div",{className:"text-sm text-gray-500",children:ne.address})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>fe(ne),className:"rounded bg-emerald-500 px-3 py-1 text-sm text-white hover:bg-emerald-600",children:"Load"}),o.jsx("button",{onClick:()=>re(we),className:"rounded bg-red-500 px-3 py-1 text-sm text-white hover:bg-red-600",children:"Delete"})]})]},we))})]})}),j&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:hidden",children:o.jsxs("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Saved Descriptions"}),o.jsx("button",{onClick:()=>{R(!1),K(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-6 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsx("h4",{className:"mb-2 font-semibold text-purple-900",children:"Add New Description"}),o.jsx("textarea",{value:X,onChange:ne=>Q(ne.target.value),placeholder:"Enter a description template (e.g., 'Website Development - Full Stack Application')",rows:3,className:"mb-3 w-full rounded border border-purple-300 px-3 py-2 text-sm"}),o.jsx("button",{onClick:ce,className:"rounded bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:" Save Description"})]}),o.jsx("div",{className:"space-y-3",children:S.length===0?o.jsx("p",{className:"text-center text-sm text-gray-500",children:"No saved descriptions yet"}):S.map(ne=>o.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50",children:[o.jsx("div",{className:"flex-1 text-sm text-gray-700",children:ne.text}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>W(ne),className:"rounded bg-purple-500 px-3 py-1 text-sm text-white hover:bg-purple-600",children:"Use"}),o.jsx("button",{onClick:()=>ie(ne.id),className:"rounded bg-red-500 px-3 py-1 text-sm text-white hover:bg-red-600",children:"Delete"})]})]},ne.id))})]})}),o.jsxs("div",{id:"invoice-content",className:"rounded-lg border border-gray-200 bg-white shadow-lg",style:{maxWidth:"210mm",margin:"0 auto"},children:[o.jsx("div",{className:"border-b-4 border-blue-600 bg-white p-10",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"h-24 w-24 rounded object-contain shadow-sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"}),o.jsx("p",{className:"text-sm text-gray-600",children:"(032) 234-1362  09297246296"})]})]}),o.jsx("div",{children:o.jsx("h2",{className:"text-right text-4xl font-bold text-blue-600",children:"INVOICE"})})]})}),o.jsxs("div",{className:"bg-gray-50 p-10",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"mb-3 text-xs font-bold uppercase tracking-wider text-gray-500",children:"Bill To:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:a,onChange:ne=>A(ne.target.value),placeholder:"Client Name",className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm font-semibold focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("p",{className:"hidden text-sm font-semibold text-gray-900 print:block",children:a||"Client Name"}),o.jsx("textarea",{value:u,onChange:ne=>d(ne.target.value),placeholder:"Client Address",rows:3,className:"w-full resize-none rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:u||"Client Address"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[o.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Invoice #:"}),o.jsx("input",{type:"text",value:t,onChange:ne=>e(ne.target.value),placeholder:"INV-001",className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm font-semibold focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("span",{className:"hidden print:block"}),o.jsx("p",{className:"hidden text-right text-sm font-semibold text-gray-900 print:block",children:t||"INV-001"})]}),o.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[o.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Date:"}),o.jsx("input",{type:"date",value:r,onChange:ne=>n(ne.target.value),className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("span",{className:"hidden print:block"}),o.jsx("p",{className:"hidden text-right text-sm text-gray-900 print:block",children:r})]}),o.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-3",children:[o.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"Due Date:"}),o.jsx("input",{type:"date",value:s,onChange:ne=>i(ne.target.value),className:"rounded border border-gray-300 bg-white px-3 py-2 text-right text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("span",{className:"hidden print:block"}),o.jsx("p",{className:"hidden text-right text-sm text-gray-900 print:block",children:s||"N/A"})]})]})]}),o.jsxs("div",{className:"p-10",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-gray-800",children:[o.jsx("th",{className:"py-3 text-left text-xs font-bold uppercase tracking-wider text-gray-700",children:"Description"}),o.jsx("th",{className:"w-40 py-3 text-right text-xs font-bold uppercase tracking-wider text-gray-700",children:"Amount"}),o.jsx("th",{className:"w-10 print:hidden"})]})}),o.jsx("tbody",{children:f.map(ne=>o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsxs("td",{className:"py-3",children:[o.jsxs("div",{className:"flex gap-2 print:hidden",children:[o.jsx("input",{type:"text",value:ne.description,onChange:we=>_(ne.id,"description",we.target.value),placeholder:"Item description",className:"flex-1 rounded border border-gray-300 bg-white px-2 py-1 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),o.jsx("button",{type:"button",onClick:()=>{K(ne.id),R(!0)},className:"rounded bg-purple-100 px-2 text-xs text-purple-700 hover:bg-purple-200",title:"Load saved description",children:""})]}),o.jsx("p",{className:"hidden py-1 text-sm text-gray-900 print:block",children:ne.description||"Item description"})]}),o.jsxs("td",{className:"py-3 text-right",children:[o.jsx("input",{type:"number",value:ne.amount,onChange:we=>_(ne.id,"amount",parseFloat(we.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:"w-full rounded border border-gray-300 bg-white px-2 py-1 text-right text-sm font-medium focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsxs("p",{className:"hidden py-1 text-sm font-medium text-gray-900 print:block",children:["$",ne.amount.toFixed(2)]})]}),o.jsx("td",{className:"py-3 text-center print:hidden",children:o.jsx("button",{onClick:()=>te(ne.id),className:"text-red-600 hover:text-red-800",disabled:f.length===1,children:""})})]},ne.id))})]}),o.jsx("button",{onClick:de,className:"mt-3 text-sm text-blue-600 hover:text-blue-800 print:hidden",children:"+ Add Item"})]}),o.jsxs("div",{className:"bg-gray-50 p-10",children:[o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"w-64 space-y-2",children:[o.jsxs("div",{className:"flex justify-between border-b border-gray-200 py-2 text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["$",L.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between border-b border-gray-200 py-2 text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Tax (0%):"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["$",M.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between border-t-2 border-gray-800 py-3",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),o.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",z.toFixed(2)]})]})]})}),o.jsxs("div",{className:"space-y-4 border-t border-gray-200 p-10",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-bold uppercase text-gray-500",children:"Notes"}),o.jsx("textarea",{value:m,onChange:ne=>w(ne.target.value),placeholder:"Additional notes or special instructions",rows:2,className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:m||"No additional notes"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-bold uppercase text-gray-500",children:"Terms & Conditions"}),o.jsx("textarea",{value:B,onChange:ne=>x(ne.target.value),rows:2,className:"w-full rounded border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 print:hidden"}),o.jsx("p",{className:"hidden whitespace-pre-line text-sm text-gray-700 print:block",children:B})]})]}),o.jsxs("div",{className:"border-t border-gray-200 bg-gray-100 p-6 text-center",children:[o.jsx("p",{className:"text-xs text-gray-600",children:"Thank you for your business!"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Avensetech Software Development Services  OITC2 - 806, Oakridge Business Park, Banilad, Mandaue City, Cebu"})]})]})]})]})]})}function dR(){const[t,e]=T.useState([]),[r,n]=T.useState(""),s=e4();T.useEffect(()=>{i()},[]);const i=()=>{const l=localStorage.getItem("savedInvoices");if(l){const c=JSON.parse(l);e(c.sort((u,d)=>new Date(d.createdAt).getTime()-new Date(u.createdAt).getTime()))}},a=l=>{if(confirm("Delete this invoice?")){const c=t.filter(u=>u.id!==l);e(c),localStorage.setItem("savedInvoices",JSON.stringify(c))}},A=t.filter(l=>l.invoiceNumber.toLowerCase().includes(r.toLowerCase())||l.clientName.toLowerCase().includes(r.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice History"}),o.jsx("p",{className:"text-sm text-gray-600",children:"View and manage previously created invoices"})]}),o.jsx("button",{onClick:()=>s("/invoice"),className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"+ Create New Invoice"})]}),o.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:o.jsx("input",{type:"text",value:r,onChange:l=>n(l.target.value),placeholder:"Search by invoice number or client name...",className:"w-full rounded-md border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:ring-blue-500"})}),A.length===0?o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-12 text-center shadow-sm",children:[o.jsx("p",{className:"text-gray-500",children:r?"No invoices found matching your search":"No invoices saved yet"}),!r&&o.jsx("button",{onClick:()=>s("/invoice"),className:"mt-4 rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Create Your First Invoice"})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:A.map(l=>o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:l.invoiceNumber||"No Number"}),o.jsx("p",{className:"text-sm text-gray-600",children:l.clientName||"No Client"})]}),o.jsxs("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800",children:["$",l.total.toFixed(2)]})]}),o.jsxs("div",{className:"mb-4 space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Date:"}),o.jsx("span",{className:"font-medium text-gray-900",children:l.invoiceDate})]}),l.dueDate&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Due:"}),o.jsx("span",{className:"font-medium text-gray-900",children:l.dueDate})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Items:"}),o.jsx("span",{className:"font-medium text-gray-900",children:l.items.length})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("div",{className:"mb-3 max-h-20 overflow-y-auto text-xs text-gray-600",children:l.items.map((c,u)=>o.jsxs("div",{className:"truncate",children:[" ",c.description||"No description"]},u))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(`/invoice?load=${l.id}`),className:"flex-1 rounded bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 hover:bg-blue-100",children:"View/Edit"}),o.jsx("button",{onClick:()=>a(l.id),className:"rounded bg-red-50 px-3 py-2 text-sm font-medium text-red-700 hover:bg-red-100",children:"Delete"})]})]}),o.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:["Created: ",new Date(l.createdAt).toLocaleDateString()]})]},l.id))})]})}const cx=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`};function hR(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(""),[l,c]=T.useState(!1),[u,d]=T.useState(null),[f,g]=T.useState("basic"),[m,w]=T.useState(null),[B,x]=T.useState(!1),[y,C]=T.useState(""),[S,k]=T.useState(""),[O,I]=T.useState(""),[j,R]=T.useState(""),[X,Q]=T.useState(""),[F,K]=T.useState(""),[$,fe]=T.useState(""),[re,ce]=T.useState(""),[W,ie]=T.useState(""),[de,te]=T.useState(""),[_,L]=T.useState(""),[M,z]=T.useState(""),[J,ae]=T.useState("active"),[le,ne]=T.useState(""),[we,_e]=T.useState(""),[je,ke]=T.useState("probationary"),[De,me]=T.useState(""),[Y,ct]=T.useState(""),[Ke,Qe]=T.useState(""),[Re,$e]=T.useState(""),[Ve,Ye]=T.useState(""),[Ne,Pe]=T.useState(""),[q,ee]=T.useState(""),[xe,Ee]=T.useState(""),[qe,be]=T.useState(""),[ot,At]=T.useState(""),[Ut,rt]=T.useState(""),[Me,Dt]=T.useState("");T.useEffect(()=>{ye()},[]);const ye=async()=>{n(!0),i(null);const{data:oe,error:Ge}=await He.from("employees").select("*").order("created_at",{ascending:!1});Ge?i(Ge.message):e(oe??[]),n(!1)},Ht=oe=>{var Ge;if(oe){d(oe);const We=oe.name.split(" ");We.length>=3?(C(We[0]),k(We.slice(1,-1).join(" ")),I(We[We.length-1])):We.length===2?(C(We[0]),k(""),I(We[1])):(C(oe.name),k(""),I("")),R(oe.position||""),Q(((Ge=oe.base_salary)==null?void 0:Ge.toString())||""),K(oe.employee_number||""),fe(oe.email||""),ce(oe.phone||""),ie(oe.address||""),te(oe.birthdate||""),L(oe.date_hired||""),z(oe.department||""),ae(oe.status||"active"),ne(oe.gender||""),_e(oe.marital_status||""),ke(oe.employment_status||"probationary"),me(oe.regularization_date||""),ct(oe.emergency_contact_name||""),Qe(oe.emergency_contact_phone||""),$e(oe.emergency_contact_relationship||""),Ye(oe.sss_number||""),Pe(oe.philhealth_number||""),ee(oe.pagibig_number||""),Ee(oe.tin_number||""),be(oe.bank_name||""),At(oe.bank_account_number||""),rt(oe.bank_account_name||""),Dt(oe.bank_branch||"")}else mt();c(!0)},mt=()=>{d(null),C(""),k(""),I(""),R(""),Q(""),K(""),fe(""),ce(""),ie(""),te(""),L(""),z(""),ae("active"),ne(""),_e(""),ke("probationary"),me(""),ct(""),Qe(""),$e(""),Ye(""),Pe(""),ee(""),Ee(""),be(""),At(""),rt(""),Dt("")},vt=async()=>{if(!y.trim()||!O.trim()){alert("First name and last name are required");return}const oe=[y.trim(),S.trim(),O.trim()].filter(lt=>lt).join(" ");let Ge=F.trim();if(!u&&!Ge){const{data:lt}=await He.from("employees").select("employee_number").not("employee_number","is",null).order("created_at",{ascending:!1}),et=(lt==null?void 0:lt.map(Lt=>{var pt;const wt=(pt=Lt.employee_number)==null?void 0:pt.match(/EMP-(\d+)/);return wt?parseInt(wt[1]):0}).filter(Lt=>Lt>0))||[],bt=et.length>0?Math.max(...et)+1:1;Ge=`EMP-${String(bt).padStart(4,"0")}`}const We={name:oe,position:j.trim()||null,base_salary:X?Number(X):null,employee_number:Ge||null,email:$.trim()||null,phone:re.trim()||null,address:W.trim()||null,birthdate:de||null,date_hired:_||null,department:M.trim()||null,status:J,gender:le||null,marital_status:we||null,employment_status:je,regularization_date:De||null,emergency_contact_name:Y.trim()||null,emergency_contact_phone:Ke.trim()||null,emergency_contact_relationship:Re.trim()||null,sss_number:Ve.trim()||null,philhealth_number:Ne.trim()||null,pagibig_number:q.trim()||null,tin_number:xe.trim()||null,bank_name:qe.trim()||null,bank_account_number:ot.trim()||null,bank_account_name:Ut.trim()||null,bank_branch:Me.trim()||null};if(!u)je==="probationary"?(We.sick_leave_balance=2,We.vacation_leave_balance=2):(We.sick_leave_balance=6,We.vacation_leave_balance=6),We.birthday_leave_balance=1;else if(u.employment_status==="probationary"&&je==="regular"){const lt=new Date().getFullYear();(De?new Date(De):new Date).getFullYear()===lt?(We.sick_leave_balance=(u.sick_leave_balance??2)+6,We.vacation_leave_balance=(u.vacation_leave_balance??2)+6):(We.sick_leave_balance=6,We.vacation_leave_balance=6)}if(u){const{error:lt}=await He.from("employees").update(We).eq("id",u.id);if(lt){alert(lt.message);return}}else{const{error:lt}=await He.from("employees").insert(We);if(lt){alert(lt.message);return}}c(!1),mt(),await ye()},Et=async oe=>{if(!confirm("Are you sure you want to delete this employee? This will also delete all associated payslips."))return;const{error:Ge}=await He.from("employees").delete().eq("id",oe);if(Ge){alert(Ge.message);return}await ye()},yt=t.filter(oe=>oe.name.toLowerCase().includes(a.toLowerCase())||oe.position&&oe.position.toLowerCase().includes(a.toLowerCase())),ht=yt.length,se=yt.reduce((oe,Ge)=>oe+(Ge.base_salary||0),0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"HRIS - Employee Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage employee information and records"})]}),o.jsx("button",{onClick:()=>Ht(),className:"btn-primary",children:"+ Add Employee"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsx("div",{className:"card-hover rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Employees"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:ht})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Payroll"}),o.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-900",children:["",se.toLocaleString()]})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Avg. Salary"}),o.jsxs("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:["",ht>0?Math.round(se/ht).toLocaleString():0]})]}),o.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:o.jsx("input",{type:"text",value:a,onChange:oe=>A(oe.target.value),placeholder:"Search employees by name or position...",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Position"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Base Salary"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:o.jsx("div",{className:"loading-shimmer mx-auto h-8 w-48 rounded"})})}),s&&!r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-red-600",children:s})}),!r&&!s&&yt.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:a?"No employees found matching your search":"No employees yet. Add your first employee!"})}),!r&&!s&&yt.map(oe=>o.jsxs("tr",{className:"table-row-hover",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold",children:oe.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"ml-4",children:o.jsx("button",{onClick:()=>{w(oe),x(!0)},className:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline",children:oe.name})})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:oe.position||"-"}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:oe.base_salary?`${oe.base_salary.toLocaleString()}`:"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:"badge-success",children:"Active"})}),o.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[o.jsx("button",{onClick:()=>Ht(oe),className:"mr-3 text-blue-600 hover:text-blue-800",children:"Edit"}),o.jsx("button",{onClick:()=>Et(oe.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},oe.id))]})]})})}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"max-h-[90vh] w-full max-w-4xl overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-white px-6 pt-6",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u?"Edit Employee":"Add New Employee"}),o.jsx("button",{onClick:()=>{c(!1),mt(),g("basic")},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g("basic"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="basic"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Basic Info"}),o.jsx("button",{onClick:()=>g("contact"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="contact"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Contact & Emergency"}),o.jsx("button",{onClick:()=>g("government"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="government"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Government IDs"}),o.jsx("button",{onClick:()=>g("banking"),className:`rounded-t-lg px-4 py-2 text-sm font-medium transition-colors ${f==="banking"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Banking Details"})]})]}),o.jsxs("div",{className:"p-6",children:[f==="basic"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"First Name *"}),o.jsx("input",{type:"text",value:y,onChange:oe=>C(oe.target.value),placeholder:"John",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Middle Name"}),o.jsx("input",{type:"text",value:S,onChange:oe=>k(oe.target.value),placeholder:"Michael",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Last Name *"}),o.jsx("input",{type:"text",value:O,onChange:oe=>I(oe.target.value),placeholder:"Doe",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:["Employee Number ",!u&&o.jsx("span",{className:"text-xs text-gray-500",children:"(Auto-generated)"})]}),o.jsx("input",{type:"text",value:F,onChange:oe=>K(oe.target.value),placeholder:u?"EMP-0001":"Will be auto-generated",readOnly:!u,className:`w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${u?"":"bg-gray-100 cursor-not-allowed"}`})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Position"}),o.jsx("input",{type:"text",value:j,onChange:oe=>R(oe.target.value),placeholder:"Software Developer",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Department"}),o.jsx("input",{type:"text",value:M,onChange:oe=>z(oe.target.value),placeholder:"Engineering",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Status"}),o.jsxs("select",{value:J,onChange:oe=>ae(oe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Gender"}),o.jsxs("select",{value:le,onChange:oe=>ne(oe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Marital Status"}),o.jsxs("select",{value:we,onChange:oe=>_e(oe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Marital Status"}),o.jsx("option",{value:"single",children:"Single"}),o.jsx("option",{value:"married",children:"Married"}),o.jsx("option",{value:"divorced",children:"Divorced"}),o.jsx("option",{value:"widowed",children:"Widowed"})]})]})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Base Salary"}),o.jsx("input",{type:"number",value:X,onChange:oe=>Q(oe.target.value),placeholder:"25000",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Birthdate"}),o.jsx("input",{type:"date",value:de,onChange:oe=>te(oe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Date Hired"}),o.jsx("input",{type:"date",value:_,onChange:oe=>L(oe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Employment Status"}),o.jsxs("select",{value:je,onChange:oe=>ke(oe.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"probationary",children:"Probationary (2 SL, 2 VL)"}),o.jsx("option",{value:"regular",children:"Regular (6 SL, 6 VL)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Regularization Date"}),o.jsx("input",{type:"date",value:De,onChange:oe=>me(oe.target.value),disabled:je==="probationary",className:`w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 ${je==="probationary"?"bg-gray-100 cursor-not-allowed":""}`})]})]})]}),f==="contact"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Contact Information"}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("input",{type:"email",value:$,onChange:oe=>fe(oe.target.value),placeholder:"john@example.com",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Phone"}),o.jsx("input",{type:"tel",value:re,onChange:oe=>ce(oe.target.value),placeholder:"09123456789",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Address"}),o.jsx("textarea",{value:W,onChange:oe=>ie(oe.target.value),placeholder:"Complete address",rows:3,className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsx("h4",{className:"mt-6 text-lg font-semibold text-gray-900",children:"Emergency Contact"}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Contact Name"}),o.jsx("input",{type:"text",value:Y,onChange:oe=>ct(oe.target.value),placeholder:"Jane Doe",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Contact Phone"}),o.jsx("input",{type:"tel",value:Ke,onChange:oe=>Qe(oe.target.value),placeholder:"09987654321",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Relationship"}),o.jsx("input",{type:"text",value:Re,onChange:oe=>$e(oe.target.value),placeholder:"Spouse, Parent, Sibling, etc.",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),f==="government"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"SSS Number"}),o.jsx("input",{type:"text",value:Ve,onChange:oe=>Ye(oe.target.value),placeholder:"XX-XXXXXXX-X",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"PhilHealth Number"}),o.jsx("input",{type:"text",value:Ne,onChange:oe=>Pe(oe.target.value),placeholder:"XX-XXXXXXXXX-X",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Pag-IBIG Number"}),o.jsx("input",{type:"text",value:q,onChange:oe=>ee(oe.target.value),placeholder:"XXXX-XXXX-XXXX",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"TIN Number"}),o.jsx("input",{type:"text",value:xe,onChange:oe=>Ee(oe.target.value),placeholder:"XXX-XXX-XXX-XXX",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"mt-4 rounded-lg bg-blue-50 p-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," Government ID numbers are confidential. Ensure proper data security and compliance with privacy regulations."]})})]}),f==="banking"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Bank Name"}),o.jsx("input",{type:"text",value:qe,onChange:oe=>be(oe.target.value),placeholder:"e.g., BDO, BPI, Metrobank",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Account Number"}),o.jsx("input",{type:"text",value:ot,onChange:oe=>At(oe.target.value),placeholder:"Bank account number",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Account Name"}),o.jsx("input",{type:"text",value:Ut,onChange:oe=>rt(oe.target.value),placeholder:"Name on bank account",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Bank Branch"}),o.jsx("input",{type:"text",value:Me,onChange:oe=>Dt(oe.target.value),placeholder:"e.g., Cebu Business Park",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"mt-4 rounded-lg bg-green-50 p-4",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Note:"})," Banking details are used for salary deposits. Ensure accuracy to avoid payment delays."]})})]})]}),o.jsx("div",{className:"sticky bottom-0 border-t border-gray-200 bg-gray-50 px-6 py-4",children:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{c(!1),mt(),g("basic")},className:"btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:vt,className:"btn-primary",children:u?"Update Employee":"Add Employee"})]})})]})}),B&&m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"max-h-[90vh] w-full max-w-4xl overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsx("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white text-2xl font-bold text-blue-600",children:m.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-white",children:m.name}),o.jsx("p",{className:"text-blue-100",children:m.position||"No position assigned"})]})]}),o.jsx("button",{onClick:()=>{x(!1),w(null)},className:"text-white hover:text-blue-100",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-blue-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Basic Information"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Employee Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.employee_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Department"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.department||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Base Salary"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.base_salary?`${m.base_salary.toLocaleString()}`:"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Status"}),o.jsx("p",{className:"mt-1",children:o.jsx("span",{className:m.status==="active"?"badge-success":"badge-error",children:m.status||"Active"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Gender"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.gender?m.gender.charAt(0).toUpperCase()+m.gender.slice(1):"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Marital Status"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.marital_status?m.marital_status.charAt(0).toUpperCase()+m.marital_status.slice(1):"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Employment Status"}),o.jsx("p",{className:"mt-1",children:o.jsx("span",{className:m.employment_status==="regular"?"badge-success":"badge-warning",children:m.employment_status==="regular"?"Regular":"Probationary"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Birthdate"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:cx(m.birthdate)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Date Hired"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:cx(m.date_hired)})]}),m.employment_status==="regular"&&m.regularization_date&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Regularization Date"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:cx(m.regularization_date)})]})]})]}),o.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-green-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Information"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Email"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.email||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Phone"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.phone||"-"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Address"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.address||"-"})]})]})]}),o.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-orange-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Emergency Contact"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Contact Name"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_name||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Contact Phone"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_phone||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Relationship"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.emergency_contact_relationship||"-"})]})]})]}),o.jsxs("div",{className:"mb-6 rounded-xl border border-gray-200 bg-gradient-to-br from-purple-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),"Government IDs"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"SSS Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.sss_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"PhilHealth Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.philhealth_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Pag-IBIG Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.pagibig_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"TIN Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.tin_number||"-"})]})]})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-green-50 to-white p-6",children:[o.jsxs("h4",{className:"mb-4 flex items-center text-lg font-bold text-gray-900",children:[o.jsx("svg",{className:"mr-2 h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Banking Details"]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Bank Name"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_name||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Account Number"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_account_number||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Account Name"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_account_name||"-"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Bank Branch"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:m.bank_branch||"-"})]})]})]})]}),o.jsx("div",{className:"sticky bottom-0 border-t border-gray-200 bg-gray-50 px-6 py-4",children:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{x(!1),w(null)},className:"btn-secondary",children:"Close"}),o.jsx("button",{onClick:()=>{x(!1),Ht(m),w(null)},className:"btn-primary",children:"Edit Employee"})]})})]})})]})}const Df=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},U5=(t,e)=>{const r=new Date(t),n=new Date(e),s=Math.abs(n.getTime()-r.getTime());return Math.ceil(s/(1e3*60*60*24))+1};function fR(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(null),[l,c]=T.useState(!1),[u,d]=T.useState("all"),[f,g]=T.useState("all"),[m,w]=T.useState(""),[B,x]=T.useState("sick"),[y,C]=T.useState(""),[S,k]=T.useState(""),[O,I]=T.useState("");T.useEffect(()=>{j()},[]);const j=async()=>{i(!0),A(null);const[te,_]=await Promise.all([He.from("employees").select("*").order("name",{ascending:!0}),He.from("leave_requests").select("*").order("created_at",{ascending:!1})]);te.error&&A(te.error.message),_.error&&A(_.error.message),e(te.data??[]),n(_.data??[]),i(!1)},R=()=>{var te;w(((te=t[0])==null?void 0:te.id)??""),x("sick"),C(""),k(""),I("")},X=async()=>{if(!m||!y||!S){alert("Please fill in all required fields");return}const te=U5(y,S),_=t.find(z=>z.id===m);if(B==="sick"&&((_==null?void 0:_.sick_leave_balance)??0)<te&&!confirm(`Insufficient sick leave balance. Employee has ${(_==null?void 0:_.sick_leave_balance)??0} days remaining. Continue anyway?`)||B==="vacation"&&((_==null?void 0:_.vacation_leave_balance)??0)<te&&!confirm(`Insufficient vacation leave balance. Employee has ${(_==null?void 0:_.vacation_leave_balance)??0} days remaining. Continue anyway?`)||B==="birthday"&&((_==null?void 0:_.birthday_leave_balance)??0)<te&&!confirm(`Insufficient birthday leave balance. Employee has ${(_==null?void 0:_.birthday_leave_balance)??0} days remaining. Continue anyway?`))return;const L={employee_id:m,leave_type:B,start_date:y,end_date:S,days_count:te,reason:O.trim()||null,status:"pending"},{error:M}=await He.from("leave_requests").insert(L);if(M){alert(M.message);return}c(!1),R(),await j()},Q=async te=>{const _=t.find(le=>le.id===te.employee_id);if(!_)return;let L=_.sick_leave_balance??2,M=_.vacation_leave_balance??2,z=_.birthday_leave_balance??1;te.leave_type==="sick"?L-=te.days_count:te.leave_type==="vacation"?M-=te.days_count:te.leave_type==="birthday"&&(z-=te.days_count);const{error:J}=await He.from("employees").update({sick_leave_balance:L,vacation_leave_balance:M,birthday_leave_balance:z}).eq("id",te.employee_id);if(J){alert(J.message);return}const{error:ae}=await He.from("leave_requests").update({status:"approved",approved_at:new Date().toISOString(),approved_by:"Admin"}).eq("id",te.id);if(ae){alert(ae.message);return}await j()},F=async te=>{const{error:_}=await He.from("leave_requests").update({status:"rejected"}).eq("id",te);if(_){alert(_.message);return}await j()},K=async te=>{if(!confirm("Delete this leave request?"))return;const _=r.find(M=>M.id===te);if(!_)return;if(_.status==="approved"){const M=t.find(z=>z.id===_.employee_id);if(M){let z=M.sick_leave_balance??2,J=M.vacation_leave_balance??2,ae=M.birthday_leave_balance??1;_.leave_type==="sick"?z+=_.days_count:_.leave_type==="vacation"?J+=_.days_count:_.leave_type==="birthday"&&(ae+=_.days_count);const{error:le}=await He.from("employees").update({sick_leave_balance:z,vacation_leave_balance:J,birthday_leave_balance:ae}).eq("id",_.employee_id);if(le){alert(`Error restoring leave balance: ${le.message}`);return}}}const{error:L}=await He.from("leave_requests").delete().eq("id",te);if(L){alert(L.message);return}await j()},$=r.filter(te=>!(u!=="all"&&te.status!==u||f!=="all"&&te.employee_id!==f)),fe=async()=>{if(confirm("Recalculate all employee leave balances? This will reset all balances to default and then subtract approved leaves.")){console.log("Starting balance recalculation...");for(const te of t){const _=te.employment_status==="regular";let L=_?6:2,M=_?6:2,z=1;console.log(`${te.name} - Initial balances: Sick: ${L}, Vacation: ${M}, Birthday: ${z}`);const J=r.filter(le=>le.employee_id===te.id&&le.status==="approved");console.log(`${te.name} - Found ${J.length} approved leaves:`,J.map(le=>`${le.leave_type}: ${le.days_count} days`));for(const le of J)le.leave_type==="sick"?(L-=le.days_count,console.log(`${te.name} - Subtracting ${le.days_count} sick days, new balance: ${L}`)):le.leave_type==="vacation"?(M-=le.days_count,console.log(`${te.name} - Subtracting ${le.days_count} vacation days, new balance: ${M}`)):le.leave_type==="birthday"&&(z-=le.days_count,console.log(`${te.name} - Subtracting ${le.days_count} birthday days, new balance: ${z}`));console.log(`${te.name} - Final balances: Sick: ${L}, Vacation: ${M}, Birthday: ${z}`);const{error:ae}=await He.from("employees").update({sick_leave_balance:L,vacation_leave_balance:M,birthday_leave_balance:z}).eq("id",te.id);if(ae){console.error(`Error updating balances for ${te.name}:`,ae),alert(`Error updating balances for ${te.name}: ${ae.message}`);return}}await j(),alert("All leave balances have been recalculated successfully!")}},re=async te=>{const _=t.find(me=>me.id===te);if(!_)return;const L=r.filter(me=>me.employee_id===_.id&&me.status==="approved"),M=_.employment_status==="regular",z=M?6:2,J=M?6:2,ae=1,le=L.filter(me=>me.leave_type==="sick").reduce((me,Y)=>me+Y.days_count,0),ne=L.filter(me=>me.leave_type==="vacation").reduce((me,Y)=>me+Y.days_count,0),we=L.filter(me=>me.leave_type==="birthday").reduce((me,Y)=>me+Y.days_count,0),_e=z-le,je=J-ne,ke=ae-we;if(!confirm(`Fix ${_.name}'s leave balances?

Current: Sick: ${_.sick_leave_balance}, Vacation: ${_.vacation_leave_balance}, Birthday: ${_.birthday_leave_balance}
Correct: Sick: ${_e}, Vacation: ${je}, Birthday: ${ke}`))return;const{error:De}=await He.from("employees").update({sick_leave_balance:_e,vacation_leave_balance:je,birthday_leave_balance:ke}).eq("id",te);if(De){alert(`Error fixing balances: ${De.message}`);return}await j(),alert(`${_.name}'s leave balances have been corrected!`)},ce=te=>{const _=r.filter(De=>De.employee_id===te.id&&De.status==="approved"),L=te.employment_status==="regular",M=L?6:2,z=L?6:2,J=1,ae=_.filter(De=>De.leave_type==="sick").reduce((De,me)=>De+me.days_count,0),le=_.filter(De=>De.leave_type==="vacation").reduce((De,me)=>De+me.days_count,0),ne=_.filter(De=>De.leave_type==="birthday").reduce((De,me)=>De+me.days_count,0),we=M-ae,_e=z-le,je=J-ne,ke=`
${te.name} Leave Balance Breakdown:

Employment Status: ${te.employment_status} (${L?"Regular":"Probationary"})

SICK LEAVE:
- Default: ${M} days
- Used (Approved): ${ae} days
- Should be: ${we} days
- Currently showing: ${te.sick_leave_balance??"N/A"} days

VACATION LEAVE:
- Default: ${z} days  
- Used (Approved): ${le} days
- Should be: ${_e} days
- Currently showing: ${te.vacation_leave_balance??"N/A"} days

BIRTHDAY LEAVE:
- Default: ${J} day
- Used (Approved): ${ne} days
- Should be: ${je} days
- Currently showing: ${te.birthday_leave_balance??"N/A"} days

Approved Leaves:
${_.map(De=>`- ${De.leave_type}: ${De.days_count} days (${Df(De.start_date)} to ${Df(De.end_date)})`).join(`
`)||"None"}
    `;alert(ke)},W=async te=>{const _=t.find(le=>le.id===te);if(!_||!confirm(`Reset leave balances for ${_.name}? This will set balances to default values based on employment status.`))return;const L=_.employment_status==="regular",M=L?6:2,z=L?6:2,J=1,{error:ae}=await He.from("employees").update({sick_leave_balance:M,vacation_leave_balance:z,birthday_leave_balance:J}).eq("id",te);if(ae){alert(`Error resetting balances: ${ae.message}`);return}await j()},ie=r.filter(te=>te.status==="pending").length,de=r.filter(te=>te.status==="approved").length;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Track sick leave and vacation requests"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:async()=>{if(confirm("Fix all employee leave balances? This will correct any calculation errors."))for(const te of t)await re(te.id)},className:"btn-success",children:"Fix All Balances"}),o.jsx("button",{onClick:fe,className:"btn-secondary",children:"Recalculate All"}),o.jsx("button",{onClick:()=>{R(),c(!0)},className:"btn-primary",children:"+ New Leave Request"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx("div",{className:"card-hover rounded-xl border border-yellow-200 bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pending"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-yellow-900",children:ie})]}),o.jsx("div",{className:"rounded-full bg-yellow-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Approved"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:de})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Requests"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:r.length})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Employees"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:t.length})]}),o.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Filter by Status"}),o.jsxs("select",{value:u,onChange:te=>d(te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Filter by Employee"}),o.jsxs("select",{value:f,onChange:te=>g(te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Employees"}),t.map(te=>o.jsx("option",{value:te.id,children:te.name},te.id))]})]})]})}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Employee"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Leave Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Period"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Days"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[s&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-500",children:o.jsx("div",{className:"loading-shimmer mx-auto h-8 w-48 rounded"})})}),a&&!s&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-red-600",children:a})}),!s&&!a&&$.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No leave requests found"})}),!s&&!a&&$.map(te=>{const _=t.find(L=>L.id===te.employee_id);return o.jsxs("tr",{className:"table-row-hover",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:(_==null?void 0:_.name)??"Unknown"}),o.jsx("div",{className:"text-xs text-gray-500",children:(_==null?void 0:_.position)??""})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${te.leave_type==="sick"?"bg-red-100 text-red-800":te.leave_type==="vacation"?"bg-blue-100 text-blue-800":te.leave_type==="birthday"?"bg-pink-100 text-pink-800":te.leave_type==="emergency"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:te.leave_type.charAt(0).toUpperCase()+te.leave_type.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:[Df(te.start_date)," to ",Df(te.end_date)]}),o.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:te.days_count}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:te.reason||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${te.status==="pending"?"bg-yellow-100 text-yellow-800":te.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.status.charAt(0).toUpperCase()+te.status.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:[te.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Q(te),className:"mr-2 text-green-600 hover:text-green-800",children:"Approve"}),o.jsx("button",{onClick:()=>F(te.id),className:"mr-2 text-red-600 hover:text-red-800",children:"Reject"})]}),o.jsx("button",{onClick:()=>K(te.id),className:"text-gray-600 hover:text-gray-800",children:"Delete"})]})]},te.id)})]})]})})}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-lg",children:[o.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-900",children:"Employee Leave Balances"}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(te=>o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-gray-900",children:te.name}),o.jsx("div",{className:"flex items-center gap-1",children:o.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${te.employment_status==="regular"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:te.employment_status==="regular"?"Regular":"Probationary"})})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Sick Leave:"}),o.jsxs("span",{className:"font-medium text-red-600",children:[te.sick_leave_balance??2," days"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Vacation Leave:"}),o.jsxs("span",{className:"font-medium text-blue-600",children:[te.vacation_leave_balance??2," days"]})]}),o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-gray-600",children:"Birthday Leave:"}),o.jsxs("span",{className:"font-medium text-pink-600",children:[te.birthday_leave_balance??1," day"]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>ce(te),className:"rounded bg-gray-600 px-2 py-1 text-xs text-white hover:bg-gray-700 flex-1",title:"Show calculation breakdown",children:"Check"}),o.jsx("button",{onClick:()=>re(te.id),className:"rounded bg-green-600 px-2 py-1 text-xs text-white hover:bg-green-700 flex-1",title:"Fix balance calculation",children:"Fix"}),o.jsx("button",{onClick:()=>W(te.id),className:"rounded bg-blue-600 px-2 py-1 text-xs text-white hover:bg-blue-700 flex-1",title:"Reset to default balances",children:"Reset"})]})]},te.id))})]}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"New Leave Request"}),o.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Employee *"}),o.jsxs("select",{value:m,onChange:te=>w(te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Employee"}),t.map(te=>o.jsx("option",{value:te.id,children:te.name},te.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Leave Type *"}),o.jsxs("select",{value:B,onChange:te=>x(te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"sick",children:"Sick Leave"}),o.jsx("option",{value:"vacation",children:"Vacation Leave"}),o.jsx("option",{value:"birthday",children:"Birthday Leave"}),o.jsx("option",{value:"emergency",children:"Emergency Leave"}),o.jsx("option",{value:"unpaid",children:"Unpaid Leave"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Start Date *"}),o.jsx("input",{type:"date",value:y,onChange:te=>C(te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"End Date *"}),o.jsx("input",{type:"date",value:S,onChange:te=>k(te.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),y&&S&&o.jsxs("div",{className:"rounded-lg bg-blue-50 p-3 text-sm text-blue-800",children:["Total days: ",o.jsx("strong",{children:U5(y,S)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Reason"}),o.jsx("textarea",{value:O,onChange:te=>I(te.target.value),rows:3,placeholder:"Optional reason for leave",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:X,className:"btn-primary",children:"Submit Request"})]})]})})]})}function gR(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState(!0),[a,A]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[f,g]=T.useState(null),[m,w]=T.useState(null),[B,x]=T.useState(""),[y,C]=T.useState("all"),[S,k]=T.useState("all"),[O,I]=T.useState(""),[j,R]=T.useState(""),[X,Q]=T.useState(""),[F,K]=T.useState(""),[$,fe]=T.useState(""),[re,ce]=T.useState(""),[W,ie]=T.useState(""),[de,te]=T.useState(0),[_,L]=T.useState(""),[M,z]=T.useState(""),[J,ae]=T.useState(""),[le,ne]=T.useState(""),[we,_e]=T.useState("active"),[je,ke]=T.useState("good"),[De,me]=T.useState(""),[Y,ct]=T.useState("maintenance"),[Ke,Qe]=T.useState(""),[Re,$e]=T.useState(""),[Ve,Ye]=T.useState(0),[Ne,Pe]=T.useState("");T.useEffect(()=>{q()},[]);const q=async()=>{i(!0);const{data:ye,error:Ht}=await He.from("inventory").select("*").order("created_at",{ascending:!1});Ht||e(ye||[]),i(!1)},ee=async ye=>{const{data:Ht}=await He.from("inventory_history").select("*").eq("inventory_id",ye).order("action_date",{ascending:!1});n(Ht||[])},xe=ye=>{if(!ye)return"N/A";const Ht=new Date(ye);return isNaN(Ht.getTime())?"N/A":`${String(Ht.getMonth()+1).padStart(2,"0")}-${String(Ht.getDate()).padStart(2,"0")}-${Ht.getFullYear()}`},Ee=ye=>{switch(ye){case"active":return o.jsx("span",{className:"badge-success",children:"Active"});case"under_repair":return o.jsx("span",{className:"badge-warning",children:"Under Repair"});case"disposed":case"lost":return o.jsx("span",{className:"badge-danger",children:ye});default:return o.jsx("span",{className:"badge-info",children:ye})}};if(s)return o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("div",{className:"loading-shimmer h-12 w-48 rounded"})});const qe=t.filter(ye=>{var Et,yt,ht;const Ht=ye.item_description.toLowerCase().includes(B.toLowerCase())||((Et=ye.asset_tag)==null?void 0:Et.toLowerCase().includes(B.toLowerCase()))||((yt=ye.brand)==null?void 0:yt.toLowerCase().includes(B.toLowerCase()))||((ht=ye.model)==null?void 0:ht.toLowerCase().includes(B.toLowerCase())),mt=y==="all"||ye.category===y,vt=S==="all"||ye.status===S;return Ht&&mt&&vt}),be=[...new Set(t.map(ye=>ye.category))],ot=()=>{I(""),R(""),Q(""),K(""),fe(""),ce(""),ie(""),te(0),L(""),z(""),ae(""),ne(""),_e("active"),ke("good"),me(""),g(null)},At=async ye=>{ye.preventDefault();const Ht={asset_tag:O||null,item_description:j,category:X,brand:F||null,model:$||null,serial_number:re||null,purchase_date:W||null,purchase_price:de||null,supplier:_||null,warranty_expiry:M||null,assigned_to:J||null,location:le||null,status:we,condition:je||null,notes:De||null};if(f){const{error:mt}=await He.from("inventory").update(Ht).eq("id",f.id);mt||(q(),A(!1),ot())}else{const{error:mt}=await He.from("inventory").insert([Ht]);mt||(q(),A(!1),ot())}},Ut=ye=>{g(ye),I(ye.asset_tag||""),R(ye.item_description),Q(ye.category),K(ye.brand||""),fe(ye.model||""),ce(ye.serial_number||""),ie(ye.purchase_date||""),te(ye.purchase_price||0),L(ye.supplier||""),z(ye.warranty_expiry||""),ae(ye.assigned_to||""),ne(ye.location||""),_e(ye.status),ke(ye.condition||"good"),me(ye.notes||""),A(!0)},rt=async ye=>{if(confirm("Are you sure you want to delete this item?")){const{error:Ht}=await He.from("inventory").delete().eq("id",ye);Ht||q()}},Me=ye=>{w(ye),ee(ye.id),d(!0)},Dt=async ye=>{if(ye.preventDefault(),!m)return;const Ht={inventory_id:m.id,action_type:Y,description:Ke,performed_by:Re||null,action_date:new Date().toISOString(),cost:Ve||null,notes:Ne||null},{error:mt}=await He.from("inventory_history").insert([Ht]);mt||(ee(m.id),Qe(""),$e(""),Ye(0),Pe(""),c(!1))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),o.jsx("button",{onClick:()=>{ot(),A(!0)},className:"btn-primary",children:"Add New Item"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Search items...",value:B,onChange:ye=>x(ye.target.value),className:"input-field"}),o.jsxs("select",{value:y,onChange:ye=>C(ye.target.value),className:"input-field",children:[o.jsx("option",{value:"all",children:"All Categories"}),be.map(ye=>o.jsx("option",{value:ye,children:ye},ye))]}),o.jsxs("select",{value:S,onChange:ye=>k(ye.target.value),className:"input-field",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"under_repair",children:"Under Repair"}),o.jsx("option",{value:"disposed",children:"Disposed"}),o.jsx("option",{value:"lost",children:"Lost"})]}),o.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:["Total Items: ",qe.length]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:qe.map(ye=>o.jsxs("div",{className:"glass rounded-xl p-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:ye.item_description}),ye.asset_tag&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Tag: ",ye.asset_tag]})]}),Ee(ye.status)]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Category:"})," ",ye.category]}),ye.brand&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Brand:"})," ",ye.brand]}),ye.model&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Model:"})," ",ye.model]}),ye.assigned_to&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",ye.assigned_to]}),ye.location&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Location:"})," ",ye.location]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx("button",{onClick:()=>Me(ye),className:"btn-secondary text-xs flex-1",children:"Details"}),o.jsx("button",{onClick:()=>Ut(ye),className:"btn-primary text-xs flex-1",children:"Edit"}),o.jsx("button",{onClick:()=>rt(ye.id),className:"btn-danger text-xs flex-1",children:"Delete"})]})]},ye.id))}),qe.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"No inventory items found."})}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl p-6",children:[o.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:f?"Edit Item":"Add New Item"}),o.jsxs("form",{onSubmit:At,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Tag"}),o.jsx("input",{type:"text",value:O,onChange:ye=>I(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),o.jsx("input",{type:"text",value:j,onChange:ye=>R(ye.target.value),className:"input-field",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),o.jsx("input",{type:"text",value:X,onChange:ye=>Q(ye.target.value),className:"input-field",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),o.jsx("input",{type:"text",value:F,onChange:ye=>K(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),o.jsx("input",{type:"text",value:$,onChange:ye=>fe(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),o.jsx("input",{type:"text",value:re,onChange:ye=>ce(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),o.jsx("input",{type:"date",value:W,onChange:ye=>ie(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Price"}),o.jsx("input",{type:"number",step:"0.01",value:de,onChange:ye=>te(Number(ye.target.value)),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),o.jsx("input",{type:"text",value:_,onChange:ye=>L(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warranty Expiry"}),o.jsx("input",{type:"date",value:M,onChange:ye=>z(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),o.jsx("input",{type:"text",value:J,onChange:ye=>ae(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:le,onChange:ye=>ne(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:we,onChange:ye=>_e(ye.target.value),className:"input-field",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"under_repair",children:"Under Repair"}),o.jsx("option",{value:"disposed",children:"Disposed"}),o.jsx("option",{value:"lost",children:"Lost"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),o.jsxs("select",{value:je,onChange:ye=>ke(ye.target.value),className:"input-field",children:[o.jsx("option",{value:"excellent",children:"Excellent"}),o.jsx("option",{value:"good",children:"Good"}),o.jsx("option",{value:"fair",children:"Fair"}),o.jsx("option",{value:"poor",children:"Poor"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:De,onChange:ye=>me(ye.target.value),className:"input-field",rows:3})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{A(!1),ot()},className:"btn-secondary flex-1",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary flex-1",children:f?"Update Item":"Add Item"})]})]})]})}),u&&m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl p-6",children:[o.jsxs("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:["Asset Details: ",m.item_description]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Asset Tag:"})," ",o.jsx("strong",{children:m.asset_tag||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Category:"})," ",o.jsx("strong",{children:m.category})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Brand:"})," ",o.jsx("strong",{children:m.brand||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Model:"})," ",o.jsx("strong",{children:m.model||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Serial Number:"})," ",o.jsx("strong",{children:m.serial_number||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Purchase Date:"})," ",o.jsx("strong",{children:xe(m.purchase_date)})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Purchase Price:"})," ",o.jsx("strong",{children:m.purchase_price?`${m.purchase_price.toLocaleString()}`:"N/A"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Supplier:"})," ",o.jsx("strong",{children:m.supplier||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Warranty Expiry:"})," ",o.jsx("strong",{children:xe(m.warranty_expiry)})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Assigned To:"})," ",o.jsx("strong",{children:m.assigned_to||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Location:"})," ",o.jsx("strong",{children:m.location||"N/A"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Status:"})," ",Ee(m.status)]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Condition:"})," ",o.jsx("strong",{children:m.condition||"N/A"})]}),m.notes&&o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600",children:"Notes:"})," ",o.jsx("strong",{children:m.notes})]})]})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"History"}),o.jsx("button",{onClick:()=>c(!0),className:"btn-primary text-sm",children:"Add History"})]}),o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[r.map(ye=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:ye.action_type.replace("_"," ").toUpperCase()}),o.jsx("p",{className:"text-sm text-gray-600",children:ye.description}),ye.performed_by&&o.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",ye.performed_by]})]}),o.jsxs("div",{className:"text-right text-xs text-gray-500",children:[o.jsx("p",{children:xe(ye.action_date)}),ye.cost&&o.jsxs("p",{children:["",ye.cost.toLocaleString()]})]})]}),ye.notes&&o.jsx("p",{className:"text-xs text-gray-600 mt-2",children:ye.notes})]},ye.id)),r.length===0&&o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No history records found."})]})]}),o.jsx("div",{className:"mt-6 flex gap-3",children:o.jsx("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"Close"})})]})}),l&&m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"glass w-full max-w-md rounded-2xl p-6",children:[o.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Add History Record"}),o.jsxs("form",{onSubmit:Dt,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Type"}),o.jsxs("select",{value:Y,onChange:ye=>ct(ye.target.value),className:"input-field",children:[o.jsx("option",{value:"maintenance",children:"Maintenance"}),o.jsx("option",{value:"repair",children:"Repair"}),o.jsx("option",{value:"transfer",children:"Transfer"}),o.jsx("option",{value:"status_change",children:"Status Change"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),o.jsx("input",{type:"text",value:Ke,onChange:ye=>Qe(ye.target.value),className:"input-field",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Performed By"}),o.jsx("input",{type:"text",value:Re,onChange:ye=>$e(ye.target.value),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost"}),o.jsx("input",{type:"number",step:"0.01",value:Ve,onChange:ye=>Ye(Number(ye.target.value)),className:"input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:Ne,onChange:ye=>Pe(ye.target.value),className:"input-field",rows:3})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary flex-1",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Add Record"})]})]})]})})]})}const Of=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},Yr=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;function pR(){var Ye;const[t,e]=T.useState([]),[r,n]=T.useState([]),[s,i]=T.useState([]),[a,A]=T.useState(!0),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,g]=T.useState(null),[m,w]=T.useState(null),[B,x]=T.useState(!1),[y,C]=T.useState(!1),[S,k]=T.useState(""),[O,I]=T.useState("cash_advance"),[j,R]=T.useState(""),[X,Q]=T.useState("0"),[F,K]=T.useState(""),[$,fe]=T.useState(new Date().toISOString().split("T")[0]),[re,ce]=T.useState(new Date().toISOString().split("T")[0]),[W,ie]=T.useState(""),[de,te]=T.useState(""),[_,L]=T.useState(""),[M,z]=T.useState(new Date().toISOString().split("T")[0]),[J,ae]=T.useState("");T.useEffect(()=>{le()},[]);const le=async()=>{A(!0),c(null);try{const[Ne,Pe,q]=await Promise.all([He.from("loans").select("*").order("created_at",{ascending:!1}),He.from("employees").select("*").order("name"),He.from("loan_payments").select("*").order("payment_date",{ascending:!1})]);if(Ne.error)throw Ne.error;if(Pe.error)throw Pe.error;if(q.error)throw q.error;e(Ne.data??[]),n(Pe.data??[]),i(q.data??[])}catch(Ne){c(Ne.message)}finally{A(!1)}},ne=Ne=>{Ne?(g(Ne),k(Ne.employee_id),I(Ne.loan_type),R(Ne.principal_amount.toString()),Q(Ne.interest_rate.toString()),K(Ne.bimonthly_deduction.toString()),fe(Ne.loan_date),ce(Ne.start_deduction_date),ie(Ne.purpose||""),te(Ne.notes||"")):we(),d(!0)},we=()=>{g(null),k(""),I("cash_advance"),R(""),Q("0"),K(""),fe(new Date().toISOString().split("T")[0]),ce(new Date().toISOString().split("T")[0]),ie(""),te("")},_e=()=>{const Ne=Number(j)||0,Pe=Number(X)||0,q=Number(F)||0;if(Ne<=0||q<=0)return Ne;const xe=Math.ceil(Ne/q)/24,Ee=Ne*Pe*xe/100;return Ne+Ee},je=async()=>{if(!S||!j||!F){alert("Please fill in all required fields");return}const Ne=Number(j),Pe=Number(F),q=Number(X)||0,ee=_e();if(Ne<=0||Pe<=0){alert("Principal amount and bi-monthly deduction must be greater than 0");return}const xe={employee_id:S,loan_type:O,principal_amount:Ne,interest_rate:q,total_amount:ee,bimonthly_deduction:Pe,remaining_balance:f?f.remaining_balance:ee,loan_date:$,start_deduction_date:re,purpose:W.trim()||null,notes:de.trim()||null,status:f?f.status:"active",approved_by:"System",approved_at:new Date().toISOString()};try{if(f){const{error:Ee}=await He.from("loans").update(xe).eq("id",f.id);if(Ee)throw Ee}else{const{error:Ee}=await He.from("loans").insert(xe);if(Ee)throw Ee}d(!1),we(),await le()}catch(Ee){alert(Ee.message)}},ke=async()=>{if(!m||!_||!M){alert("Please fill in all payment fields");return}const Ne=Number(_);if(Ne<=0||Ne>m.remaining_balance){alert("Payment amount must be greater than 0 and not exceed remaining balance");return}const Pe=m.remaining_balance,q=Pe-Ne;try{const{error:ee}=await He.from("loan_payments").insert({loan_id:m.id,payment_date:M,amount:Ne,balance_before:Pe,balance_after:q,payment_type:"manual_payment",notes:J.trim()||null});if(ee)throw ee;const xe=q<=0?"completed":"active",{error:Ee}=await He.from("loans").update({remaining_balance:q,status:xe,end_date:xe==="completed"?M:null}).eq("id",m.id);if(Ee)throw Ee;x(!1),L(""),z(new Date().toISOString().split("T")[0]),ae(""),await le();const qe={...m,remaining_balance:q,status:xe};w(qe)}catch(ee){alert(ee.message)}},De=async Ne=>{if(confirm("Are you sure you want to delete this loan? This will also delete all payment records."))try{const{error:Pe}=await He.from("loans").delete().eq("id",Ne);if(Pe)throw Pe;await le()}catch(Pe){alert(Pe.message)}},me=Ne=>r.find(Pe=>Pe.id===Ne),Y=Ne=>s.filter(Pe=>Pe.loan_id===Ne),ct=Ne=>({cash_advance:"Cash Advance",emergency_loan:"Emergency Loan",salary_loan:"Salary Loan",equipment_loan:"Equipment Loan",other:"Other"})[Ne]||Ne,Ke=Ne=>({active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[Ne]||"bg-gray-100 text-gray-800",Qe=t.filter(Ne=>Ne.status==="active"),Re=Qe.reduce((Ne,Pe)=>Ne+Pe.remaining_balance,0),$e=t.reduce((Ne,Pe)=>Ne+Pe.total_amount,0),Ve=$e-t.reduce((Ne,Pe)=>Ne+Pe.remaining_balance,0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Loans Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage employee loans and automatic payroll deductions"})]}),o.jsx("button",{onClick:()=>ne(),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"+ New Loan"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Active Loans"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:Qe.length})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Outstanding Balance"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:Yr(Re)})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Total Loaned"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:Yr($e)})]}),o.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-indigo-200 bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Total Paid"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-indigo-900",children:Yr(Ve)})]}),o.jsx("div",{className:"rounded-full bg-indigo-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Loans"}),a?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading loans..."})]}):l?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-red-600",children:l})}):t.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No loans found. Create your first loan!"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Employee"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Total Amount"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Bi-monthly Deduction"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Remaining"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(Ne=>{const Pe=me(Ne.employee_id),q=(Ne.total_amount-Ne.remaining_balance)/Ne.total_amount*100;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold",children:Pe==null?void 0:Pe.name.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:Pe==null?void 0:Pe.name}),o.jsx("div",{className:"text-sm text-gray-500",children:Pe==null?void 0:Pe.position})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold text-gray-800",children:ct(Ne.loan_type)})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:Yr(Ne.total_amount)}),o.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900",children:Yr(Ne.bimonthly_deduction)}),o.jsxs("td",{className:"px-6 py-4 text-right",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:Yr(Ne.remaining_balance)}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${q}%`}})}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[q.toFixed(1),"% paid"]})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${Ke(Ne.status)}`,children:Ne.status.charAt(0).toUpperCase()+Ne.status.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 text-center text-sm",children:[o.jsx("button",{onClick:()=>{w(Ne),C(!0)},className:"mr-3 text-blue-600 hover:text-blue-800",children:"View"}),o.jsx("button",{onClick:()=>ne(Ne),className:"mr-3 text-indigo-600 hover:text-indigo-800",children:"Edit"}),o.jsx("button",{onClick:()=>De(Ne.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},Ne.id)})})]})})]})}),u&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:f?"Edit Loan":"Create New Loan"}),o.jsx("button",{onClick:()=>{d(!1),we()},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee *"}),o.jsxs("select",{value:S,onChange:Ne=>k(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Employee"}),r.map(Ne=>o.jsxs("option",{value:Ne.id,children:[Ne.name," - ",Ne.position]},Ne.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Type *"}),o.jsxs("select",{value:O,onChange:Ne=>I(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"cash_advance",children:"Cash Advance"}),o.jsx("option",{value:"emergency_loan",children:"Emergency Loan"}),o.jsx("option",{value:"salary_loan",children:"Salary Loan"}),o.jsx("option",{value:"equipment_loan",children:"Equipment Loan"}),o.jsx("option",{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Principal Amount *"}),o.jsx("input",{type:"number",step:"0.01",value:j,onChange:Ne=>R(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interest Rate (% per year)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:X,onChange:Ne=>Q(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bi-monthly Deduction *"}),o.jsx("input",{type:"number",step:"0.01",value:F,onChange:Ne=>K(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]})]}),j&&F&&o.jsx("div",{className:"rounded-lg bg-blue-50 p-4",children:o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Calculation Preview:"}),o.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:["Principal: ",Yr(Number(j))]}),o.jsxs("div",{children:["Total Amount: ",Yr(_e())]}),o.jsxs("div",{children:["Bi-monthly Payment: ",Yr(Number(F))]}),o.jsxs("div",{children:["Estimated Payments: ",Math.ceil(Number(j)/Number(F))]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Date *"}),o.jsx("input",{type:"date",value:$,onChange:Ne=>fe(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Deduction Date *"}),o.jsx("input",{type:"date",value:re,onChange:Ne=>ce(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose"}),o.jsx("input",{type:"text",value:W,onChange:Ne=>ie(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Purpose of the loan"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:de,onChange:Ne=>te(Ne.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{d(!1),we()},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),o.jsx("button",{onClick:je,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:f?"Update Loan":"Create Loan"})]})]})}),y&&m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-4xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Loan Details"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[(Ye=me(m.employee_id))==null?void 0:Ye.name," - ",ct(m.loan_type)]})]}),o.jsxs("div",{className:"flex gap-2",children:[m.status==="active"&&o.jsx("button",{onClick:()=>x(!0),className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Add Payment"}),o.jsx("button",{onClick:()=>{C(!1),w(null)},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[o.jsx("div",{className:"text-sm text-blue-600",children:"Total Amount"}),o.jsx("div",{className:"text-xl font-bold text-blue-900",children:Yr(m.total_amount)})]}),o.jsxs("div",{className:"rounded-lg bg-green-50 p-4",children:[o.jsx("div",{className:"text-sm text-green-600",children:"Remaining"}),o.jsx("div",{className:"text-xl font-bold text-green-900",children:Yr(m.remaining_balance)})]}),o.jsxs("div",{className:"rounded-lg bg-purple-50 p-4",children:[o.jsx("div",{className:"text-sm text-purple-600",children:"Bi-monthly Deduction"}),o.jsx("div",{className:"text-xl font-bold text-purple-900",children:Yr(m.bimonthly_deduction)})]}),o.jsxs("div",{className:"rounded-lg bg-indigo-50 p-4",children:[o.jsx("div",{className:"text-sm text-indigo-600",children:"Progress"}),o.jsxs("div",{className:"text-xl font-bold text-indigo-900",children:[((m.total_amount-m.remaining_balance)/m.total_amount*100).toFixed(1),"%"]})]})]}),o.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 p-4",children:[o.jsx("h4",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Loan Information"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Principal Amount:"}),o.jsx("div",{className:"font-medium",children:Yr(m.principal_amount)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Interest Rate:"}),o.jsxs("div",{className:"font-medium",children:[m.interest_rate,"% per year"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Loan Date:"}),o.jsx("div",{className:"font-medium",children:Of(m.loan_date)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Start Deduction:"}),o.jsx("div",{className:"font-medium",children:Of(m.start_deduction_date)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("div",{className:"font-medium",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${Ke(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})})]}),m.end_date&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"End Date:"}),o.jsx("div",{className:"font-medium",children:Of(m.end_date)})]}),m.purpose&&o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("span",{className:"text-gray-500",children:"Purpose:"}),o.jsx("div",{className:"font-medium",children:m.purpose})]}),m.notes&&o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("span",{className:"text-gray-500",children:"Notes:"}),o.jsx("div",{className:"font-medium",children:m.notes})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[o.jsx("h4",{className:"mb-3 text-lg font-semibold text-gray-900",children:"Payment History"}),(()=>{const Ne=Y(m.id);return Ne.length===0?o.jsx("p",{className:"text-gray-500",children:"No payments recorded yet."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Amount"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Balance Before"}),o.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Balance After"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Type"}),o.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Notes"})]})}),o.jsx("tbody",{children:Ne.map(Pe=>o.jsxs("tr",{className:"border-b border-gray-100",children:[o.jsx("td",{className:"px-3 py-2",children:Of(Pe.payment_date)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono",children:Yr(Pe.amount)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono",children:Yr(Pe.balance_before)}),o.jsx("td",{className:"px-3 py-2 text-right font-mono",children:Yr(Pe.balance_after)}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${Pe.payment_type==="payroll_deduction"?"bg-blue-100 text-blue-800":Pe.payment_type==="manual_payment"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Pe.payment_type.replace("_"," ").replace(/\b\w/g,q=>q.toUpperCase())})}),o.jsx("td",{className:"px-3 py-2",children:Pe.notes||"-"})]},Pe.id))})]})})})()]})]})}),B&&m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Add Manual Payment"}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"mb-4 rounded-lg bg-gray-50 p-3",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Current Balance"}),o.jsx("div",{className:"text-xl font-bold text-gray-900",children:Yr(m.remaining_balance)})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),o.jsx("input",{type:"number",step:"0.01",max:m.remaining_balance,value:_,onChange:Ne=>L(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),o.jsx("input",{type:"date",value:M,onChange:Ne=>z(Ne.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:J,onChange:Ne=>ae(Ne.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Payment notes"})]}),_&&o.jsx("div",{className:"rounded-lg bg-blue-50 p-3",children:o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"After Payment:"}),o.jsxs("div",{className:"mt-1",children:["New Balance: ",Yr(m.remaining_balance-Number(_))]})]})})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>x(!1),className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),o.jsx("button",{onClick:ke,className:"rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Add Payment"})]})]})})]})}const ux=t=>{if(!t)return"-";const e=new Date(t),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=e.getFullYear();return`${r}-${n}-${s}`},pl=t=>`$ ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Fa=t=>` ${(t??0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,k5=()=>new Date().toISOString().slice(0,10);function mR(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(!1),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,g]=T.useState(null),[m,w]=T.useState(56),[B,x]=T.useState(k5()),[y,C]=T.useState(""),[S,k]=T.useState(""),[O,I]=T.useState(""),[j,R]=T.useState(""),[X,Q]=T.useState("bank_transfer"),[F,K]=T.useState(""),[$,fe]=T.useState(""),[re,ce]=T.useState(""),[W,ie]=T.useState(""),[de,te]=T.useState("confirmed"),[_,L]=T.useState("all"),[M,z]=T.useState("all"),[J,ae]=T.useState(""),[le,ne]=T.useState("");T.useEffect(()=>{_e(),we()},[]);const we=async()=>{try{const xe=await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json();xe.rates&&xe.rates.PHP&&w(xe.rates.PHP)}catch(ee){console.error("Failed to fetch exchange rate:",ee)}},_e=async()=>{n(!0),i(null);try{const{data:ee,error:xe}=await He.from("money_received").select("*").order("date_received",{ascending:!1});if(xe)throw xe;e(ee??[])}catch(ee){i(ee.message)}finally{n(!1)}},je=ee=>{ee?(c(ee),x(ee.date_received),C(ee.amount_usd.toString()),k(ee.exchange_rate.toString()),I(ee.sender_name),R(ee.sender_contact||""),Q(ee.payment_method),K(ee.reference_number||""),fe(ee.purpose),ce(ee.category||""),ie(ee.notes||""),te(ee.status)):ke(),A(!0)},ke=()=>{c(null),x(k5()),C(""),k(m.toString()),I(""),R(""),Q("bank_transfer"),K(""),fe(""),ce(""),ie(""),te("confirmed")},De=async()=>{if(!B||!y||!O||!$){alert("Please fill in all required fields");return}const ee=Number(y),xe=Number(S)||m;if(ee<=0){alert("Amount must be greater than 0");return}if(xe<=0){alert("Exchange rate must be greater than 0");return}const Ee=ee*xe,qe={date_received:B,amount_usd:ee,exchange_rate:xe,amount_php:Ee,sender_name:O.trim(),sender_contact:j.trim()||null,payment_method:X,reference_number:F.trim()||null,purpose:$.trim(),category:re.trim()||null,notes:W.trim()||null,status:de};try{if(l){const{error:be}=await He.from("money_received").update(qe).eq("id",l.id);if(be)throw be}else{const{error:be}=await He.from("money_received").insert(qe);if(be)throw be}A(!1),ke(),await _e()}catch(be){alert(be.message)}},me=async ee=>{if(confirm("Are you sure you want to delete this record?"))try{const{error:xe}=await He.from("money_received").delete().eq("id",ee);if(xe)throw xe;await _e()}catch(xe){alert(xe.message)}},Y=ee=>({bank_transfer:"Bank Transfer",cash:"Cash",check:"Check",gcash:"GCash",paymaya:"PayMaya",paypal:"PayPal",other:"Other"})[ee]||ee,ct=ee=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cleared:"bg-blue-100 text-blue-800"})[ee]||"bg-gray-100 text-gray-800",Ke=t.filter(ee=>!(_!=="all"&&ee.status!==_||M!=="all"&&ee.payment_method!==M||J&&ee.date_received<J||le&&ee.date_received>le)),Qe=Ke.reduce((ee,xe)=>ee+xe.amount_usd,0),Re=Ke.reduce((ee,xe)=>ee+xe.amount_php,0),$e=Ke.filter(ee=>ee.status==="pending").reduce((ee,xe)=>ee+xe.amount_usd,0),Ve=Ke.filter(ee=>ee.status==="pending").reduce((ee,xe)=>ee+xe.amount_php,0),Ye=Ke.filter(ee=>ee.status==="confirmed").reduce((ee,xe)=>ee+xe.amount_usd,0),Ne=Ke.filter(ee=>ee.status==="confirmed").reduce((ee,xe)=>ee+xe.amount_php,0),Pe=Ke.filter(ee=>ee.status==="cleared").reduce((ee,xe)=>ee+xe.amount_usd,0),q=Ke.filter(ee=>ee.status==="cleared").reduce((ee,xe)=>ee+xe.amount_php,0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Money Received"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Track all incoming payments and transfers"})]}),o.jsx("button",{onClick:()=>je(),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:"+ Add Record"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Received"}),o.jsx("p",{className:"mt-1 text-2xl font-bold text-blue-900",children:pl(Qe)}),o.jsx("p",{className:"text-lg font-semibold text-blue-700",children:Fa(Re)})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-yellow-200 bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pending"}),o.jsx("p",{className:"mt-1 text-2xl font-bold text-yellow-900",children:pl($e)}),o.jsx("p",{className:"text-lg font-semibold text-yellow-700",children:Fa(Ve)})]}),o.jsx("div",{className:"rounded-full bg-yellow-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Confirmed"}),o.jsx("p",{className:"mt-1 text-2xl font-bold text-green-900",children:pl(Ye)}),o.jsx("p",{className:"text-lg font-semibold text-green-700",children:Fa(Ne)})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"rounded-xl border border-indigo-200 bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Cleared"}),o.jsx("p",{className:"mt-1 text-2xl font-bold text-indigo-900",children:pl(Pe)}),o.jsx("p",{className:"text-lg font-semibold text-indigo-700",children:Fa(q)})]}),o.jsx("div",{className:"rounded-full bg-indigo-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:_,onChange:ee=>L(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cleared",children:"Cleared"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),o.jsxs("select",{value:M,onChange:ee=>z(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Methods"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"check",children:"Check"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"paymaya",children:"PayMaya"}),o.jsx("option",{value:"paypal",children:"PayPal"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),o.jsx("input",{type:"date",value:J,onChange:ee=>ae(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),o.jsx("input",{type:"date",value:le,onChange:ee=>ne(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"mt-4 flex gap-2",children:o.jsx("button",{onClick:()=>{L("all"),z("all"),ae(""),ne("")},className:"rounded-md bg-gray-200 px-3 py-1 text-sm text-gray-700 hover:bg-gray-300",children:"Clear Filters"})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Money Received Records (",Ke.length,")"]}),r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading records..."})]}):s?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-red-600",children:s})}):Ke.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No records found. Add your first money received record!"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount (USD)"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Amount (PHP)"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Sender"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Method"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Purpose"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:Ke.map(ee=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:ux(ee.date_received)}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:pl(ee.amount_usd)}),o.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:[Fa(ee.amount_php),o.jsxs("div",{className:"text-xs text-gray-500",children:["Rate: ",ee.exchange_rate.toFixed(2)]})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.sender_name}),ee.sender_contact&&o.jsx("div",{className:"text-sm text-gray-500",children:ee.sender_contact})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold text-gray-800",children:Y(ee.payment_method)}),ee.reference_number&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ref: ",ee.reference_number]})]}),o.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[o.jsx("div",{className:"max-w-xs truncate",children:ee.purpose}),ee.category&&o.jsx("div",{className:"text-xs text-gray-500",children:ee.category})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ct(ee.status)}`,children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 text-center text-sm",children:[o.jsx("button",{onClick:()=>{g(ee),d(!0)},className:"mr-3 text-blue-600 hover:text-blue-800",children:"View"}),o.jsx("button",{onClick:()=>je(ee),className:"mr-3 text-indigo-600 hover:text-indigo-800",children:"Edit"}),o.jsx("button",{onClick:()=>me(ee.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},ee.id))})]})})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:l?"Edit Record":"Add Money Received"}),o.jsx("button",{onClick:()=>{A(!1),ke()},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Received *"}),o.jsx("input",{type:"date",value:B,onChange:ee=>x(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (USD) *"}),o.jsx("input",{type:"number",step:"0.01",value:y,onChange:ee=>C(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exchange Rate (USD to PHP)"}),o.jsx("input",{type:"number",step:"0.01",value:S,onChange:ee=>k(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:m.toString()}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Current rate: ",m.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (PHP)"}),o.jsx("div",{className:"w-full rounded-md border-gray-300 bg-gray-50 px-3 py-2 text-sm text-gray-900",children:Fa(y&&(S||m)?Number(y)*(Number(S)||m):0)}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Calculated automatically"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Name *"}),o.jsx("input",{type:"text",value:O,onChange:ee=>I(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Person or company name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Contact"}),o.jsx("input",{type:"text",value:j,onChange:ee=>R(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Phone, email, or other contact"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),o.jsxs("select",{value:X,onChange:ee=>Q(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"check",children:"Check"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"paymaya",children:"PayMaya"}),o.jsx("option",{value:"paypal",children:"PayPal"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),o.jsx("input",{type:"text",value:F,onChange:ee=>K(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Transaction reference"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose *"}),o.jsx("input",{type:"text",value:$,onChange:ee=>fe(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"What is this payment for?",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsx("input",{type:"text",value:re,onChange:ee=>ce(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g., Client Payment, Loan, Investment"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),o.jsxs("select",{value:de,onChange:ee=>te(ee.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"cleared",children:"Cleared"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("textarea",{value:W,onChange:ee=>ie(ee.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes or details"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{A(!1),ke()},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Cancel"}),o.jsx("button",{onClick:De,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:l?"Update Record":"Add Record"})]})]})}),u&&f&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Money Received Details"}),o.jsx("button",{onClick:()=>{d(!1),g(null)},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Date Received:"}),o.jsx("div",{className:"font-medium",children:ux(f.date_received)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Exchange Rate:"}),o.jsxs("div",{className:"font-medium",children:[f.exchange_rate.toFixed(2)," PHP per USD"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Amount (USD):"}),o.jsx("div",{className:"font-medium text-lg",children:pl(f.amount_usd)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Amount (PHP):"}),o.jsx("div",{className:"font-medium text-lg",children:Fa(f.amount_php)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Sender:"}),o.jsx("div",{className:"font-medium",children:f.sender_name}),f.sender_contact&&o.jsx("div",{className:"text-sm text-gray-600",children:f.sender_contact})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method:"}),o.jsx("div",{className:"font-medium",children:Y(f.payment_method)}),f.reference_number&&o.jsxs("div",{className:"text-sm text-gray-600",children:["Ref: ",f.reference_number]})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Purpose:"}),o.jsx("div",{className:"font-medium",children:f.purpose})]}),f.category&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Category:"}),o.jsx("div",{className:"font-medium",children:f.category})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),o.jsx("div",{children:o.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${ct(f.status)}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})})]}),f.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Notes:"}),o.jsx("div",{className:"font-medium",children:f.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",ux(f.created_at)]})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:()=>{d(!1),g(null)},className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-400",children:"Close"})})]})})]})}function xR({onLogin:t}){const[e,r]=T.useState(""),[n,s]=T.useState(""),[i,a]=T.useState(!1),[A,l]=T.useState(null),c=async u=>{u.preventDefault(),a(!0),l(null);try{const{data:d,error:f}=await He.auth.signInWithPassword({email:e.trim(),password:n});if(f)throw f;d.user&&t()}catch(d){l(d.message||"Failed to login")}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"glass animate-fadeIn rounded-2xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("img",{src:"/avensetech-logo.jpg",alt:"Avensetech Logo",className:"mx-auto h-24 w-24 rounded-xl object-contain shadow-lg"}),o.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Avensetech Accounting"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[A&&o.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4",children:o.jsx("p",{className:"text-sm text-red-800",children:A})}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Email Address"}),o.jsx("input",{type:"email",value:e,onChange:u=>r(u.target.value),placeholder:"jade.c@avense-tech.com",required:!0,className:"w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Password"}),o.jsx("input",{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"Enter your password",required:!0,className:"w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsx("button",{type:"submit",disabled:i,className:`w-full rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-3 font-medium text-white shadow-lg transition-all hover:from-blue-700 hover:to-blue-800 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Signing in...":"Sign In"})]}),o.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:o.jsx("p",{children:"Secure access for authorized personnel only"})})]})})})}function vR(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(!1),[l,c]=T.useState(null),[u,d]=T.useState(""),[f,g]=T.useState(""),[m,w]=T.useState(""),[B,x]=T.useState("user");T.useEffect(()=>{C(),y()},[]);const y=async()=>{const{data:{user:j}}=await He.auth.getUser();if(!j)return;const{data:R}=await He.from("users").select("role").eq("id",j.id).single();(R==null?void 0:R.role)!=="super_admin"&&i("Access denied. Super admin privileges required.")},C=async()=>{n(!0),i(null);const{data:j,error:R}=await He.from("users").select("*").order("created_at",{ascending:!1});R?i(R.message):e(j??[]),n(!1)},S=async()=>{if(!u||!f||!m){alert("Please fill in all fields");return}try{const{data:j,error:R}=await He.auth.admin.createUser({email:u.trim(),password:f,email_confirm:!0,user_metadata:{full_name:m.trim(),role:B}});if(R)throw R;alert("User created successfully!"),A(!1),I(),await C()}catch(j){alert(j.message||"Failed to create user")}},k=async j=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:R}=await He.auth.admin.deleteUser(j);if(R)throw R;alert("User deleted successfully!"),await C()}catch(R){alert(R.message||"Failed to delete user")}},O=async(j,R)=>{try{const{error:X}=await He.from("users").update({role:R}).eq("id",j);if(X)throw X;alert("User role updated successfully!"),await C()}catch(X){alert(X.message||"Failed to update user role")}},I=()=>{d(""),g(""),w(""),x("user")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage system users and permissions"})]}),o.jsx("button",{onClick:()=>A(!0),className:"btn-primary",children:"+ Add User"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsx("div",{className:"card-hover rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Users"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-900",children:t.length})]}),o.jsx("div",{className:"rounded-full bg-blue-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Admins"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-900",children:t.filter(j=>j.role==="admin"||j.role==="super_admin").length})]}),o.jsx("div",{className:"rounded-full bg-purple-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})}),o.jsx("div",{className:"card-hover rounded-xl border border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Regular Users"}),o.jsx("p",{className:"mt-2 text-3xl font-bold text-green-900",children:t.filter(j=>j.role==="user").length})]}),o.jsx("div",{className:"rounded-full bg-green-200 p-3",children:o.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})})]}),o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-600",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:o.jsx("div",{className:"loading-shimmer mx-auto h-8 w-48 rounded"})})}),s&&!r&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-red-600",children:s})}),!r&&!s&&t.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No users found"})}),!r&&!s&&t.map(j=>{var R;return o.jsxs("tr",{className:"table-row-hover",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 text-blue-600 font-semibold",children:((R=j.full_name)==null?void 0:R.charAt(0).toUpperCase())||j.email.charAt(0).toUpperCase()}),o.jsx("div",{className:"ml-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.full_name||"No name"})})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:j.email}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("select",{value:j.role,onChange:X=>O(j.id,X.target.value),disabled:j.role==="super_admin",className:`rounded-full px-3 py-1 text-xs font-medium ${j.role==="super_admin"?"bg-red-100 text-red-800 cursor-not-allowed":j.role==="admin"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:[o.jsx("option",{value:"super_admin",disabled:!0,children:"Super Admin"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"user",children:"User"})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:new Date(j.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 text-right text-sm",children:j.role!=="super_admin"&&o.jsx("button",{onClick:()=>k(j.id),className:"text-red-600 hover:text-red-800",children:"Delete"})})]},j.id)})]})]})})}),a&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New User"}),o.jsx("button",{onClick:()=>{A(!1),I()},className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Full Name *"}),o.jsx("input",{type:"text",value:m,onChange:j=>w(j.target.value),placeholder:"John Doe",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Email *"}),o.jsx("input",{type:"email",value:u,onChange:j=>d(j.target.value),placeholder:"user@avense-tech.com",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Password *"}),o.jsx("input",{type:"password",value:f,onChange:j=>g(j.target.value),placeholder:"Minimum 6 characters",className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Role *"}),o.jsxs("select",{value:B,onChange:j=>x(j.target.value),className:"w-full rounded-lg border-gray-300 px-4 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"user",children:"User (Read-only)"}),o.jsx("option",{value:"admin",children:"Admin (Full access)"})]})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{A(!1),I()},className:"btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:S,className:"btn-primary",children:"Create User"})]})]})})]})}function wR(){const[t,e]=T.useState(!1),[r,n]=T.useState(!0),[s,i]=T.useState(null),[a,A]=T.useState(!1);T.useEffect(()=>{l()},[]);const l=async()=>{const{data:{session:u}}=await He.auth.getSession();if(e(!!u),u){const{data:d}=await He.from("users").select("role").eq("id",u.user.id).single();i((d==null?void 0:d.role)||null)}n(!1)},c=async()=>{await He.auth.signOut(),e(!1),i(null)};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"loading-shimmer h-12 w-48 rounded"})}):t?o.jsx(lU,{children:o.jsx("div",{className:"min-h-screen p-2 sm:p-4",children:o.jsxs("div",{className:"mx-auto max-w-6xl",children:[o.jsxs("header",{className:"glass animate-fadeIn mb-4 sm:mb-6 rounded-2xl p-4 sm:p-6 shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("img",{src:"/logo.jpg",alt:"Avensetech logo",className:"h-16 w-16 sm:h-24 sm:w-24 lg:h-40 lg:w-40 rounded-xl object-contain shadow-lg"}),o.jsxs("div",{children:[o.jsx("h1",{className:"gradient-text text-sm sm:text-lg lg:text-2xl font-bold",children:"Avensetech Software Development Services"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Accounting Tracker  Track cash in, cash out, expenses, and monthly summaries."}),o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Role: ",s||"Loading..."]})]})]}),o.jsx("button",{onClick:()=>A(!a),className:"lg:hidden rounded-lg bg-white p-2 shadow-md",children:o.jsx("svg",{className:"h-6 w-6 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a?o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[o.jsx(Kb,{}),o.jsxs("nav",{className:"flex flex-wrap gap-2 text-sm",children:[o.jsx(Zt,{to:"/",end:!0,className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Home"}),o.jsx(Zt,{to:"/monthly",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Monthly"}),o.jsx(Zt,{to:"/reports",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Reports"}),o.jsx(Zt,{to:"/savings",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Savings"}),o.jsx(Zt,{to:"/payroll",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Payroll"}),o.jsx(Zt,{to:"/hris",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"HRIS"}),o.jsx(Zt,{to:"/leave",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Leave"}),o.jsx(Zt,{to:"/inventory",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Inventory"}),o.jsx(Zt,{to:"/loans",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Loans"}),o.jsx(Zt,{to:"/money-received",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Money Received"}),o.jsx(Zt,{to:"/request-funds",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Request Funds"}),o.jsx(Zt,{to:"/invoice",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Invoice"}),o.jsx(Zt,{to:"/invoice-history",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"History"}),s==="super_admin"&&o.jsx(Zt,{to:"/users",className:({isActive:u})=>`rounded-lg px-4 py-2 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Users"}),o.jsx("button",{onClick:c,className:"rounded-lg bg-red-600 px-4 py-2 font-medium text-white shadow-sm transition-all hover:bg-red-700 hover:shadow-md",children:"Logout"})]})]})]}),a&&o.jsxs("nav",{className:"lg:hidden mt-4 flex flex-col gap-2 text-sm animate-slideIn",children:[o.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white px-4 py-3 shadow-sm",children:[o.jsx("span",{className:"font-medium text-blue-700",children:"Notifications"}),o.jsx(Kb,{})]}),o.jsx(Zt,{to:"/",end:!0,onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Home"}),o.jsx(Zt,{to:"/monthly",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Monthly"}),o.jsx(Zt,{to:"/reports",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Reports"}),o.jsx(Zt,{to:"/savings",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Savings"}),o.jsx(Zt,{to:"/payroll",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Payroll"}),o.jsx(Zt,{to:"/hris",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"HRIS"}),o.jsx(Zt,{to:"/leave",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Leave"}),o.jsx(Zt,{to:"/inventory",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Inventory"}),o.jsx(Zt,{to:"/loans",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Loans"}),o.jsx(Zt,{to:"/money-received",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Money Received"}),o.jsx(Zt,{to:"/request-funds",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Request Funds"}),o.jsx(Zt,{to:"/invoice",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Invoice"}),o.jsx(Zt,{to:"/invoice-history",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"History"}),s==="super_admin"&&o.jsx(Zt,{to:"/users",onClick:()=>A(!1),className:({isActive:u})=>`rounded-lg px-4 py-3 font-medium transition-all ${u?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-white text-blue-700 shadow-sm hover:shadow-md"}`,children:"Users"}),o.jsx("button",{onClick:()=>{c(),A(!1)},className:"rounded-lg bg-red-600 px-4 py-3 font-medium text-white shadow-sm transition-all hover:bg-red-700 hover:shadow-md text-left",children:"Logout"})]})]}),o.jsx("main",{className:"glass animate-scaleIn rounded-2xl p-4 sm:p-6 shadow-xl",children:o.jsxs(tU,{children:[o.jsx(xn,{path:"/",element:o.jsx(Vb,{})}),o.jsx(xn,{path:"/monthly",element:o.jsx(eL,{})}),o.jsx(xn,{path:"/reports",element:o.jsx(iR,{})}),o.jsx(xn,{path:"/savings",element:o.jsx(oR,{})}),o.jsx(xn,{path:"/payroll",element:o.jsx(aR,{})}),o.jsx(xn,{path:"/hris",element:o.jsx(hR,{})}),o.jsx(xn,{path:"/leave",element:o.jsx(fR,{})}),o.jsx(xn,{path:"/inventory",element:o.jsx(gR,{})}),o.jsx(xn,{path:"/loans",element:o.jsx(pR,{})}),o.jsx(xn,{path:"/money-received",element:o.jsx(mR,{})}),o.jsx(xn,{path:"/request-funds",element:o.jsx(cR,{})}),o.jsx(xn,{path:"/invoice",element:o.jsx(uR,{})}),o.jsx(xn,{path:"/invoice-history",element:o.jsx(dR,{})}),s==="super_admin"&&o.jsx(xn,{path:"/users",element:o.jsx(vR,{})}),o.jsx(xn,{path:"*",element:o.jsx(Vb,{})})]})}),o.jsx("footer",{className:"mt-4 sm:mt-6 text-center text-xs text-white opacity-80",children:"Built with React, Vite, Tailwind, and Supabase."})]})})}):o.jsx(xR,{onLogin:l})}dx.createRoot(document.getElementById("root")).render(o.jsx(ip.StrictMode,{children:o.jsx(wR,{})}));export{Jt as _,Us as c,Dj as g};
